(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zp={exports:{}},Ru={};var Gx;function iN(){if(Gx)return Ru;Gx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ru.Fragment=e,Ru.jsx=n,Ru.jsxs=n,Ru}var Kx;function sN(){return Kx||(Kx=1,Zp.exports=iN()),Zp.exports}var y=sN(),Jp={exports:{}},Ae={};var $x;function rN(){if($x)return Ae;$x=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function z(U,ne,ue){this.props=U,this.context=ne,this.refs=M,this.updater=ue||N}z.prototype.isReactComponent={},z.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function q(){}q.prototype=z.prototype;function B(U,ne,ue){this.props=U,this.context=ne,this.refs=M,this.updater=ue||N}var ae=B.prototype=new q;ae.constructor=B,D(ae,z.prototype),ae.isPureReactComponent=!0;var se=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(U,ne,ue){var de=ue.ref;return{$$typeof:t,type:U,key:ne,ref:de!==void 0?de:null,props:ue}}function P(U,ne){return k(U.type,ne,U.props)}function j(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ne[ue]})}var V=/\/+/g;function we(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):ne.toString(36)}function _e(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,ne,ue,de,Ee){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(De){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case t:case e:Fe=!0;break;case v:return Fe=U._init,W(Fe(U._payload),ne,ue,de,Ee)}}if(Fe)return Ee=Ee(U),Fe=de===""?"."+we(U,0):de,se(Ee)?(ue="",Fe!=null&&(ue=Fe.replace(V,"$&/")+"/"),W(Ee,ne,ue,"",function(Yr){return Yr})):Ee!=null&&(j(Ee)&&(Ee=P(Ee,ue+(Ee.key==null||U&&U.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+Fe)),ne.push(Ee)),1;Fe=0;var Ut=de===""?".":de+":";if(se(U))for(var ot=0;ot<U.length;ot++)de=U[ot],De=Ut+we(de,ot),Fe+=W(de,ne,ue,De,Ee);else if(ot=S(U),typeof ot=="function")for(U=ot.call(U),ot=0;!(de=U.next()).done;)de=de.value,De=Ut+we(de,ot++),Fe+=W(de,ne,ue,De,Ee);else if(De==="object"){if(typeof U.then=="function")return W(_e(U),ne,ue,de,Ee);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function re(U,ne,ue){if(U==null)return U;var de=[],Ee=0;return W(U,de,"","",function(De){return ne.call(ue,De,Ee++)}),de}function he(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Ie=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Oe={map:re,forEach:function(U,ne,ue){re(U,function(){ne.apply(this,arguments)},ue)},count:function(U){var ne=0;return re(U,function(){ne++}),ne},toArray:function(U){return re(U,function(ne){return ne})||[]},only:function(U){if(!j(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ae.Activity=b,Ae.Children=Oe,Ae.Component=z,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=B,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Ae.cache=function(U){return function(){return U.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(U,ne,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var de=D({},U.props),Ee=U.key;if(ne!=null)for(De in ne.key!==void 0&&(Ee=""+ne.key),ne)!R.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=ue;else if(1<De){for(var Fe=Array(De),Ut=0;Ut<De;Ut++)Fe[Ut]=arguments[Ut+2];de.children=Fe}return k(U.type,Ee,de)},Ae.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ae.createElement=function(U,ne,ue){var de,Ee={},De=null;if(ne!=null)for(de in ne.key!==void 0&&(De=""+ne.key),ne)R.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var Fe=arguments.length-2;if(Fe===1)Ee.children=ue;else if(1<Fe){for(var Ut=Array(Fe),ot=0;ot<Fe;ot++)Ut[ot]=arguments[ot+2];Ee.children=Ut}if(U&&U.defaultProps)for(de in Fe=U.defaultProps,Fe)Ee[de]===void 0&&(Ee[de]=Fe[de]);return k(U,De,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(U){return{$$typeof:f,render:U}},Ae.isValidElement=j,Ae.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:he}},Ae.memo=function(U,ne){return{$$typeof:p,type:U,compare:ne===void 0?null:ne}},Ae.startTransition=function(U){var ne=I.T,ue={};I.T=ue;try{var de=U(),Ee=I.S;Ee!==null&&Ee(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(oe,Ie)}catch(De){Ie(De)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),I.T=ne}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(U){return I.H.use(U)},Ae.useActionState=function(U,ne,ue){return I.H.useActionState(U,ne,ue)},Ae.useCallback=function(U,ne){return I.H.useCallback(U,ne)},Ae.useContext=function(U){return I.H.useContext(U)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(U,ne){return I.H.useDeferredValue(U,ne)},Ae.useEffect=function(U,ne){return I.H.useEffect(U,ne)},Ae.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(U,ne,ue){return I.H.useImperativeHandle(U,ne,ue)},Ae.useInsertionEffect=function(U,ne){return I.H.useInsertionEffect(U,ne)},Ae.useLayoutEffect=function(U,ne){return I.H.useLayoutEffect(U,ne)},Ae.useMemo=function(U,ne){return I.H.useMemo(U,ne)},Ae.useOptimistic=function(U,ne){return I.H.useOptimistic(U,ne)},Ae.useReducer=function(U,ne,ue){return I.H.useReducer(U,ne,ue)},Ae.useRef=function(U){return I.H.useRef(U)},Ae.useState=function(U){return I.H.useState(U)},Ae.useSyncExternalStore=function(U,ne,ue){return I.H.useSyncExternalStore(U,ne,ue)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.1",Ae}var Yx;function Py(){return Yx||(Yx=1,Jp.exports=rN()),Jp.exports}var C=Py();const aN=ow(C);var eg={exports:{}},Cu={},tg={exports:{}},ng={};var Qx;function oN(){return Qx||(Qx=1,(function(t){function e(W,re){var he=W.length;W.push(re);e:for(;0<he;){var Ie=he-1>>>1,Oe=W[Ie];if(0<a(Oe,re))W[Ie]=re,W[he]=Oe,he=Ie;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var re=W[0],he=W.pop();if(he!==re){W[0]=he;e:for(var Ie=0,Oe=W.length,U=Oe>>>1;Ie<U;){var ne=2*(Ie+1)-1,ue=W[ne],de=ne+1,Ee=W[de];if(0>a(ue,he))de<Oe&&0>a(Ee,ue)?(W[Ie]=Ee,W[de]=he,Ie=de):(W[Ie]=ue,W[ne]=he,Ie=ne);else if(de<Oe&&0>a(Ee,he))W[Ie]=Ee,W[de]=he,Ie=de;else break e}}return re}function a(W,re){var he=W.sortIndex-re.sortIndex;return he!==0?he:W.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,b=null,x=3,S=!1,N=!1,D=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=W)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(p)}}function se(W){if(D=!1,ae(W),!N)if(n(m)!==null)N=!0,oe||(oe=!0,F());else{var re=n(p);re!==null&&_e(se,re.startTime-W)}}var oe=!1,I=-1,R=5,k=-1;function P(){return M?!0:!(t.unstable_now()-k<R)}function j(){if(M=!1,oe){var W=t.unstable_now();k=W;var re=!0;try{e:{N=!1,D&&(D=!1,q(I),I=-1),S=!0;var he=x;try{t:{for(ae(W),b=n(m);b!==null&&!(b.expirationTime>W&&P());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,x=b.priorityLevel;var Oe=Ie(b.expirationTime<=W);if(W=t.unstable_now(),typeof Oe=="function"){b.callback=Oe,ae(W),re=!0;break t}b===n(m)&&s(m),ae(W)}else s(m);b=n(m)}if(b!==null)re=!0;else{var U=n(p);U!==null&&_e(se,U.startTime-W),re=!1}}break e}finally{b=null,x=he,S=!1}re=void 0}}finally{re?F():oe=!1}}}var F;if(typeof B=="function")F=function(){B(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,we=V.port2;V.port1.onmessage=j,F=function(){we.postMessage(null)}}else F=function(){z(j,0)};function _e(W,re){I=z(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var he=x;x=re;try{return W()}finally{x=he}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=x;x=W;try{return re()}finally{x=he}},t.unstable_scheduleCallback=function(W,re,he){var Ie=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ie+he:Ie):he=Ie,W){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=he+Oe,W={id:v++,callback:re,priorityLevel:W,startTime:he,expirationTime:Oe,sortIndex:-1},he>Ie?(W.sortIndex=he,e(p,W),n(m)===null&&W===n(p)&&(D?(q(I),I=-1):D=!0,_e(se,he-Ie))):(W.sortIndex=Oe,e(m,W),N||S||(N=!0,oe||(oe=!0,F()))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var re=x;return function(){var he=x;x=re;try{return W.apply(this,arguments)}finally{x=he}}}})(ng)),ng}var Xx;function lN(){return Xx||(Xx=1,tg.exports=oN()),tg.exports}var ig={exports:{}},rn={};var Wx;function uN(){if(Wx)return rn;Wx=1;var t=Py();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},rn.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.1",rn}var Zx;function cN(){if(Zx)return ig.exports;Zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=uN(),ig.exports}var Jx;function hN(){if(Jx)return Cu;Jx=1;var t=lN(),e=Py(),n=cN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,u=g;break}if(w===u){T=!0,u=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=d;break}if(w===u){T=!0,u=g,o=d;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case se:return"Suspense";case oe:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case B:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:we(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return we(i(r))}catch{}}return null}var _e=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ie=[],Oe=-1;function U(i){return{current:i}}function ne(i){0>Oe||(i.current=Ie[Oe],Ie[Oe]=null,Oe--)}function ue(i,r){Oe++,Ie[Oe]=i.current,i.current=r}var de=U(null),Ee=U(null),De=U(null),Fe=U(null);function Ut(i,r){switch(ue(De,r),ue(Ee,i),ue(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?mx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=mx(r),i=px(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(de),ue(de,i)}function ot(){ne(de),ne(Ee),ne(De)}function Yr(i){i.memoizedState!==null&&ue(Fe,i);var r=de.current,o=px(r,i.type);r!==o&&(ue(Ee,i),ue(de,o))}function $a(i){Ee.current===i&&(ne(de),ne(Ee)),Fe.current===i&&(ne(Fe),Eu._currentValue=he)}var Ya,Qa;function Ai(i){if(Ya===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ya=r&&r[1]||"",Qa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+i+Qa}var El=!1;function Qr(i,r){if(!i||El)return"";El=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Y=X}Reflect.construct(i,[],te)}else{try{te.call()}catch(X){Y=X}i.call(te.prototype)}}else{try{throw Error()}catch(X){Y=X}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var O=T.split(`
`),$=w.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===$.length)for(u=O.length-1,d=$.length-1;1<=u&&0<=d&&O[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==$[d]){var Z=`
`+O[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{El=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ai(o):""}function Sl(i,r){switch(i.tag){case 26:case 27:case 5:return Ai(i.type);case 16:return Ai("Lazy");case 13:return i.child!==r&&r!==null?Ai("Suspense Fallback"):Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Qr(i.type,!1);case 11:return Qr(i.type.render,!1);case 1:return Qr(i.type,!0);case 31:return Ai("Activity");default:return""}}function wl(i){try{var r="",o=null;do r+=Sl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var wt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Bs=t.unstable_cancelCallback,em=t.unstable_shouldYield,Vc=t.unstable_requestPaint,hn=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,Al=t.unstable_ImmediatePriority,Rl=t.unstable_UserBlockingPriority,Fs=t.unstable_NormalPriority,tm=t.unstable_LowPriority,Oc=t.unstable_IdlePriority,jc=t.log,Pc=t.unstable_setDisableYieldValue,li=null,Yt=null;function Bn(i){if(typeof jc=="function"&&Pc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(li,i)}catch{}}var bt=Math.clz32?Math.clz32:Uc,Lc=Math.log,Xa=Math.LN2;function Uc(i){return i>>>=0,i===0?32:31-(Lc(i)/Xa|0)|0}var Ri=256,Wr=262144,At=4194304;function Ci(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=Ci(u):(T&=w,T!==0?d=Ci(T):o||(o=w&~i,o!==0&&(d=Ci(o))))):(w=u&~g,w!==0?d=Ci(w):T!==0?d=Ci(T):o||(o=u&~i,o!==0&&(d=Ci(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function nm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var i=At;return At<<=1,(At&62914560)===0&&(At=4194304),i}function Ii(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Zr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function im(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-bt(o),te=1<<Z;w[Z]=0,O[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~te}u!==0&&Jr(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function Jr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-bt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Cl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-bt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Nl(i,r){var o=r&-r;return o=(o&42)!==0?1:ea(o),(o&(i.suspendedLanes|r))!==0?0:o}function ea(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function os(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bc(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Lx(i.type))}function ci(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var hi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+hi,qt="__reactProps$"+hi,Di="__reactContainer$"+hi,Wa="__reactEvents$"+hi,sm="__reactListeners$"+hi,Fc="__reactHandles$"+hi,Hc="__reactResources$"+hi,ki="__reactMarker$"+hi;function Za(i){delete i[Rt],delete i[qt],delete i[Wa],delete i[sm],delete i[Fc]}function Mi(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Di]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Tx(i);i!==null;){if(o=i[Rt])return o;i=Tx(i)}return r}i=o,o=i.parentNode}return null}function Fn(i){if(i=i[Rt]||i[Di]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[Hc];return r||(r=i[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[ki]=!0}var Il=new Set,Dl={};function Oi(i,r){ji(i,r),ji(i+"Capture",r)}function ji(i,r){for(Dl[i]=r,i=0;i<r.length;i++)Il.add(r[i])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Vl={};function qc(i){return wt.call(Vl,i)?!0:wt.call(Ml,i)?!1:kl.test(i)?Vl[i]=!0:(Ml[i]=!0,!1)}function Ja(i,r,o){if(qc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Dn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Nt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ol(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=Hs(i)?"checked":"value";i._valueTracker=Ol(i,r,""+i[r])}}function ta(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Hs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var na=/[\n"\\]/g;function gn(i){return i.replace(na,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function eo(i,r,o,u,d,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?jl(i,T,Gt(r)):o!=null?jl(i,T,Gt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Gt(w):i.removeAttribute("name")}function Gc(i,r,o,u,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Qe(i)}function jl(i,r,o){r==="number"&&Pi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Kc(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function Gs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(_e(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||$c.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ll(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Pl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Pl(i,g,r[g])}function to(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var Ul=null;function Hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $s=null,Li=null;function ia(i){var r=Fn(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(eo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[qt]||null;if(!d)throw Error(s(90));eo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ta(u)}break e;case"textarea":Kc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&qs(i,!!o.multiple,r,!1)}}}var io=!1;function Ys(i,r,o){if(io)return i(r,o);io=!0;try{var u=i(r);return u}finally{if(io=!1,($s!==null||Li!==null)&&(Bh(),$s&&(r=$s,i=Li,Li=$s=null,ia(r),i)))for(r=0;r<i.length;r++)ia(i[r])}}function di(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{sa=!1}var Ui=null,zl=null,ra=null;function Bl(){if(ra)return ra;var i,r=zl,o=r.length,u,d="value"in Ui?Ui.value:Ui.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return ra=d.slice(i,1<u?1-u:void 0)}function aa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ls(){return!0}function mi(){return!1}function Qt(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:mi,this.isPropagationStopped=mi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Qt(us),Qs=b({},us,{view:0,detail:0}),Fl=Qt(Qs),Xs,so,Bi,ro=b({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bi&&(Bi&&i.type==="mousemove"?(Xs=i.screenX-Bi.screenX,so=i.screenY-Bi.screenY):so=Xs=0,Bi=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:so}}),Hl=Qt(ro),oa=b({},ro,{dataTransfer:0}),Qc=Qt(oa),Xc=b({},Qs,{relatedTarget:0}),la=Qt(Xc),ql=b({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Wc=Qt(ql),ao=b({},us,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zc=Qt(ao),Jc=b({},us,{data:0}),Fi=Qt(Jc),eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=nh[i])?!!r[i]:!1}function Ws(){return ih}var fn=b({},Qs,{key:function(i){if(i.key){var r=eh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?th[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sh=Qt(fn),rh=b({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Qt(rh),h=b({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),_=Qt(h),E=b({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qt(E),G=b({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qt(G),le=b({},us,{newState:0,oldState:0}),Ce=Qt(le),xt=[9,13,27,32],Ke=qn&&"CompositionEvent"in window,lt=null;qn&&"documentMode"in document&&(lt=document.documentMode);var Gn=qn&&"TextEvent"in window&&!lt,Hi=qn&&(!Ke||lt&&8<lt&&11>=lt),pi=" ",gi=!1;function ua(i,r){switch(i){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lo=!1;function RC(i,r){switch(i){case"compositionend":return oo(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return i=r.data,i===pi&&gi?null:i;default:return null}}function CC(i,r){if(lo)return i==="compositionend"||!Ke&&ua(i,r)?(i=Bl(),ra=zl=Ui=null,lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var NC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!NC[i.type]:r==="textarea"}function Av(i,r,o,u){$s?Li?Li.push(u):Li=[u]:$s=u,r=Yh(r,"onChange"),0<r.length&&(o=new zi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Gl=null,Kl=null;function IC(i){lx(i,0)}function ah(i){var r=In(i);if(ta(r))return i}function Rv(i,r){if(i==="change")return r}var Cv=!1;if(qn){var rm;if(qn){var am="oninput"in document;if(!am){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),am=typeof Nv.oninput=="function"}rm=am}else rm=!1;Cv=rm&&(!document.documentMode||9<document.documentMode)}function Iv(){Gl&&(Gl.detachEvent("onpropertychange",Dv),Kl=Gl=null)}function Dv(i){if(i.propertyName==="value"&&ah(Kl)){var r=[];Av(r,Kl,i,Hn(i)),Ys(IC,r)}}function DC(i,r,o){i==="focusin"?(Iv(),Gl=r,Kl=o,Gl.attachEvent("onpropertychange",Dv)):i==="focusout"&&Iv()}function kC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ah(Kl)}function MC(i,r){if(i==="click")return ah(r)}function VC(i,r){if(i==="input"||i==="change")return ah(r)}function OC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:OC;function $l(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!wt.call(r,d)||!kn(i[d],r[d]))return!1}return!0}function kv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Mv(i,r){var o=kv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kv(o)}}function Vv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Vv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ov(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Pi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Pi(i.document)}return r}function om(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var jC=qn&&"documentMode"in document&&11>=document.documentMode,uo=null,lm=null,Yl=null,um=!1;function jv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;um||uo==null||uo!==Pi(u)||(u=uo,"selectionStart"in u&&om(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yl&&$l(Yl,u)||(Yl=u,u=Yh(lm,"onSelect"),0<u.length&&(r=new zi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=uo)))}function ca(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var co={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},cm={},Pv={};qn&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ha(i){if(cm[i])return cm[i];if(!co[i])return i;var r=co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Pv)return cm[i]=r[o];return i}var Lv=ha("animationend"),Uv=ha("animationiteration"),zv=ha("animationstart"),PC=ha("transitionrun"),LC=ha("transitionstart"),UC=ha("transitioncancel"),Bv=ha("transitionend"),Fv=new Map,hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hm.push("scrollEnd");function yi(i,r){Fv.set(i,r),Oi(r,[i])}var oh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],ho=0,fm=0;function lh(){for(var i=ho,r=fm=ho=0;r<i;){var o=Kn[r];Kn[r++]=null;var u=Kn[r];Kn[r++]=null;var d=Kn[r];Kn[r++]=null;var g=Kn[r];if(Kn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Hv(o,d,g)}}function uh(i,r,o,u){Kn[ho++]=i,Kn[ho++]=r,Kn[ho++]=o,Kn[ho++]=u,fm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function dm(i,r,o,u){return uh(i,r,o,u),ch(i)}function fa(i,r){return uh(i,null,null,r),ch(i)}function Hv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-bt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function ch(i){if(50<gu)throw gu=0,Tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var fo={};function zC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,r,o,u){return new zC(i,r,o,u)}function mm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hs(i,r){var o=i.alternate;return o===null?(o=Mn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function qv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hh(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")mm(i)&&(T=1);else if(typeof i=="string")T=G2(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Mn(31,o,r,d),i.elementType=k,i.lanes=g,i;case D:return da(o.children,d,g,r);case M:T=8,d|=24;break;case z:return i=Mn(12,o,r,d|2),i.elementType=z,i.lanes=g,i;case se:return i=Mn(13,o,r,d),i.elementType=se,i.lanes=g,i;case oe:return i=Mn(19,o,r,d),i.elementType=oe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:T=10;break e;case q:T=9;break e;case ae:T=11;break e;case I:T=14;break e;case R:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Mn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function da(i,r,o,u){return i=Mn(7,i,u,r),i.lanes=o,i}function pm(i,r,o){return i=Mn(6,i,null,r),i.lanes=o,i}function Gv(i){var r=Mn(18,null,null,0);return r.stateNode=i,r}function gm(i,r,o){return r=Mn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Kv=new WeakMap;function $n(i,r){if(typeof i=="object"&&i!==null){var o=Kv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:wl(r)},Kv.set(i,r),r)}return{value:i,source:r,stack:wl(r)}}var mo=[],po=0,fh=null,Ql=0,Yn=[],Qn=0,Zs=null,qi=1,Gi="";function fs(i,r){mo[po++]=Ql,mo[po++]=fh,fh=i,Ql=r}function $v(i,r,o){Yn[Qn++]=qi,Yn[Qn++]=Gi,Yn[Qn++]=Zs,Zs=i;var u=qi;i=Gi;var d=32-bt(u)-1;u&=~(1<<d),o+=1;var g=32-bt(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,qi=1<<32-bt(r)+d|o<<d|u,Gi=g+i}else qi=1<<g|o<<d|u,Gi=i}function ym(i){i.return!==null&&(fs(i,1),$v(i,1,0))}function vm(i){for(;i===fh;)fh=mo[--po],mo[po]=null,Ql=mo[--po],mo[po]=null;for(;i===Zs;)Zs=Yn[--Qn],Yn[Qn]=null,Gi=Yn[--Qn],Yn[Qn]=null,qi=Yn[--Qn],Yn[Qn]=null}function Yv(i,r){Yn[Qn++]=qi,Yn[Qn++]=Gi,Yn[Qn++]=Zs,qi=r.id,Gi=r.overflow,Zs=i}var Xt=null,st=null,Be=!1,Js=null,Xn=!1,_m=Error(s(519));function er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl($n(r,i)),_m}function Qv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Rt]=i,r[qt]=u,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<vu.length;o++)Ve(vu[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Gc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Gs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||fx(r.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),u.onScroll!=null&&Ve("scroll",r),u.onScrollEnd!=null&&Ve("scrollend",r),u.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||er(i,!0)}function Xv(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Xt=Xt.return}}function go(i){if(i!==Xt)return!1;if(!Be)return Xv(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Pp(i.type,i.memoizedProps)),o=!o),o&&st&&er(i),Xv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));st=xx(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));st=xx(i)}else r===27?(r=st,mr(i.type)?(i=Fp,Fp=null,st=i):st=r):st=Xt?Zn(i.stateNode.nextSibling):null;return!0}function ma(){st=Xt=null,Be=!1}function bm(){var i=Js;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),Js=null),i}function Xl(i){Js===null?Js=[i]:Js.push(i)}var xm=U(null),pa=null,ds=null;function tr(i,r,o){ue(xm,r._currentValue),r._currentValue=o}function ms(i){i._currentValue=xm.current,ne(xm)}function Tm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Em(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var O=0;O<r.length;O++)if(w.context===r[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Tm(g.return,o,i),u||(T=null);break e}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Tm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function yo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=d.type;kn(d.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(d===Fe.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}d=d.return}i!==null&&Em(r,i,o,u),r.flags|=262144}function dh(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ga(i){pa=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return Wv(pa,i)}function mh(i,r){return pa===null&&ga(i),Wv(i,r)}function Wv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(s(308));ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ds=ds.next=r;return o}var BC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},FC=t.unstable_scheduleCallback,HC=t.unstable_NormalPriority,It={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new BC,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&FC(HC,function(){i.controller.abort()})}var Zl=null,wm=0,vo=0,_o=null;function qC(i,r){if(Zl===null){var o=Zl=[];wm=0,vo=Cp(),_o={status:"pending",value:void 0,then:function(u){o.push(u)}}}return wm++,r.then(Zv,Zv),r}function Zv(){if(--wm===0&&Zl!==null){_o!==null&&(_o.status="fulfilled");var i=Zl;Zl=null,vo=0,_o=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function GC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Jv=W.S;W.S=function(i,r){jb=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qC(i,r),Jv!==null&&Jv(i,r)};var ya=U(null);function Am(){var i=ya.current;return i!==null?i:nt.pooledCache}function ph(i,r){r===null?ue(ya,ya.current):ue(ya,r.pool)}function e_(){var i=Am();return i===null?null:{parent:It._currentValue,pool:i}}var bo=Error(s(460)),Rm=Error(s(474)),gh=Error(s(542)),yh={then:function(){}};function t_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function n_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,s_(i),i;default:if(typeof r.status=="string")r.then(fi,fi);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,s_(i),i}throw _a=r,bo}}function va(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(_a=o,bo):o}}var _a=null;function i_(){if(_a===null)throw Error(s(459));var i=_a;return _a=null,i}function s_(i){if(i===bo||i===gh)throw Error(s(483))}var xo=null,Jl=0;function vh(i){var r=Jl;return Jl+=1,xo===null&&(xo=[]),n_(xo,i,r)}function eu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function _h(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function r_(i){function r(H,L){if(i){var K=H.deletions;K===null?(H.deletions=[L],H.flags|=16):K.push(L)}}function o(H,L){if(!i)return null;for(;L!==null;)r(H,L),L=L.sibling;return null}function u(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function d(H,L){return H=hs(H,L),H.index=0,H.sibling=null,H}function g(H,L,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<L?(H.flags|=67108866,L):K):(H.flags|=67108866,L)):(H.flags|=1048576,L)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,L,K,J){return L===null||L.tag!==6?(L=pm(K,H.mode,J),L.return=H,L):(L=d(L,K),L.return=H,L)}function O(H,L,K,J){var ge=K.type;return ge===D?Z(H,L,K.props.children,J,K.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&va(ge)===L.type)?(L=d(L,K.props),eu(L,K),L.return=H,L):(L=hh(K.type,K.key,K.props,null,H.mode,J),eu(L,K),L.return=H,L)}function $(H,L,K,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=gm(K,H.mode,J),L.return=H,L):(L=d(L,K.children||[]),L.return=H,L)}function Z(H,L,K,J,ge){return L===null||L.tag!==7?(L=da(K,H.mode,J,ge),L.return=H,L):(L=d(L,K),L.return=H,L)}function te(H,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=pm(""+L,H.mode,K),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return K=hh(L.type,L.key,L.props,null,H.mode,K),eu(K,L),K.return=H,K;case N:return L=gm(L,H.mode,K),L.return=H,L;case R:return L=va(L),te(H,L,K)}if(_e(L)||F(L))return L=da(L,H.mode,K,null),L.return=H,L;if(typeof L.then=="function")return te(H,vh(L),K);if(L.$$typeof===B)return te(H,mh(H,L),K);_h(H,L)}return null}function Y(H,L,K,J){var ge=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:w(H,L,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===ge?O(H,L,K,J):null;case N:return K.key===ge?$(H,L,K,J):null;case R:return K=va(K),Y(H,L,K,J)}if(_e(K)||F(K))return ge!==null?null:Z(H,L,K,J,null);if(typeof K.then=="function")return Y(H,L,vh(K),J);if(K.$$typeof===B)return Y(H,L,mh(H,K),J);_h(H,K)}return null}function X(H,L,K,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(K)||null,w(L,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return H=H.get(J.key===null?K:J.key)||null,O(L,H,J,ge);case N:return H=H.get(J.key===null?K:J.key)||null,$(L,H,J,ge);case R:return J=va(J),X(H,L,K,J,ge)}if(_e(J)||F(J))return H=H.get(K)||null,Z(L,H,J,ge,null);if(typeof J.then=="function")return X(H,L,K,vh(J),ge);if(J.$$typeof===B)return X(H,L,K,mh(L,J),ge);_h(L,J)}return null}function me(H,L,K,J){for(var ge=null,qe=null,pe=L,ke=L=0,Pe=null;pe!==null&&ke<K.length;ke++){pe.index>ke?(Pe=pe,pe=null):Pe=pe.sibling;var Ge=Y(H,pe,K[ke],J);if(Ge===null){pe===null&&(pe=Pe);break}i&&pe&&Ge.alternate===null&&r(H,pe),L=g(Ge,L,ke),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge,pe=Pe}if(ke===K.length)return o(H,pe),Be&&fs(H,ke),ge;if(pe===null){for(;ke<K.length;ke++)pe=te(H,K[ke],J),pe!==null&&(L=g(pe,L,ke),qe===null?ge=pe:qe.sibling=pe,qe=pe);return Be&&fs(H,ke),ge}for(pe=u(pe);ke<K.length;ke++)Pe=X(pe,H,ke,K[ke],J),Pe!==null&&(i&&Pe.alternate!==null&&pe.delete(Pe.key===null?ke:Pe.key),L=g(Pe,L,ke),qe===null?ge=Pe:qe.sibling=Pe,qe=Pe);return i&&pe.forEach(function(_r){return r(H,_r)}),Be&&fs(H,ke),ge}function ve(H,L,K,J){if(K==null)throw Error(s(151));for(var ge=null,qe=null,pe=L,ke=L=0,Pe=null,Ge=K.next();pe!==null&&!Ge.done;ke++,Ge=K.next()){pe.index>ke?(Pe=pe,pe=null):Pe=pe.sibling;var _r=Y(H,pe,Ge.value,J);if(_r===null){pe===null&&(pe=Pe);break}i&&pe&&_r.alternate===null&&r(H,pe),L=g(_r,L,ke),qe===null?ge=_r:qe.sibling=_r,qe=_r,pe=Pe}if(Ge.done)return o(H,pe),Be&&fs(H,ke),ge;if(pe===null){for(;!Ge.done;ke++,Ge=K.next())Ge=te(H,Ge.value,J),Ge!==null&&(L=g(Ge,L,ke),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return Be&&fs(H,ke),ge}for(pe=u(pe);!Ge.done;ke++,Ge=K.next())Ge=X(pe,H,ke,Ge.value,J),Ge!==null&&(i&&Ge.alternate!==null&&pe.delete(Ge.key===null?ke:Ge.key),L=g(Ge,L,ke),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return i&&pe.forEach(function(nN){return r(H,nN)}),Be&&fs(H,ke),ge}function tt(H,L,K,J){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var ge=K.key;L!==null;){if(L.key===ge){if(ge=K.type,ge===D){if(L.tag===7){o(H,L.sibling),J=d(L,K.props.children),J.return=H,H=J;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&va(ge)===L.type){o(H,L.sibling),J=d(L,K.props),eu(J,K),J.return=H,H=J;break e}o(H,L);break}else r(H,L);L=L.sibling}K.type===D?(J=da(K.props.children,H.mode,J,K.key),J.return=H,H=J):(J=hh(K.type,K.key,K.props,null,H.mode,J),eu(J,K),J.return=H,H=J)}return T(H);case N:e:{for(ge=K.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){o(H,L.sibling),J=d(L,K.children||[]),J.return=H,H=J;break e}else{o(H,L);break}else r(H,L);L=L.sibling}J=gm(K,H.mode,J),J.return=H,H=J}return T(H);case R:return K=va(K),tt(H,L,K,J)}if(_e(K))return me(H,L,K,J);if(F(K)){if(ge=F(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),ve(H,L,K,J)}if(typeof K.then=="function")return tt(H,L,vh(K),J);if(K.$$typeof===B)return tt(H,L,mh(H,K),J);_h(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(o(H,L.sibling),J=d(L,K),J.return=H,H=J):(o(H,L),J=pm(K,H.mode,J),J.return=H,H=J),T(H)):o(H,L)}return function(H,L,K,J){try{Jl=0;var ge=tt(H,L,K,J);return xo=null,ge}catch(pe){if(pe===bo||pe===gh)throw pe;var qe=Mn(29,pe,null,H.mode);return qe.lanes=J,qe.return=H,qe}finally{}}}var ba=r_(!0),a_=r_(!1),nr=!1;function Cm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ir(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=ch(i),Hv(i,null,o),r}return uh(i,u,r,o),ch(i)}function tu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Cl(i,o)}}function Im(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Dm=!1;function nu(){if(Dm){var i=_o;if(i!==null)throw i}}function iu(i,r,o,u){Dm=!1;var d=i.updateQueue;nr=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var O=w,$=O.next;O.next=null,T===null?g=$:T.next=$,T=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=$:w.next=$,Z.lastBaseUpdate=O))}if(g!==null){var te=d.baseState;T=0,Z=$=O=null,w=g;do{var Y=w.lane&-536870913,X=Y!==w.lane;if(X?(je&Y)===Y:(u&Y)===Y){Y!==0&&Y===vo&&(Dm=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=i,ve=w;Y=r;var tt=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){te=me.call(tt,te,Y);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,Y=typeof me=="function"?me.call(tt,te,Y):me,Y==null)break e;te=b({},te,Y);break e;case 2:nr=!0}}Y=w.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?($=Z=X,O=te):Z=Z.next=X,T|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(O=te),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),ur|=T,i.lanes=T,i.memoizedState=te}}function o_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function l_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)o_(o[i],r)}var To=U(null),bh=U(0);function u_(i,r){i=Es,ue(bh,i),ue(To,r),Es=i|r.baseLanes}function km(){ue(bh,Es),ue(To,To.current)}function Mm(){Es=bh.current,ne(To),ne(bh)}var Vn=U(null),Wn=null;function rr(i){var r=i.alternate;ue(Tt,Tt.current&1),ue(Vn,i),Wn===null&&(r===null||To.current!==null||r.memoizedState!==null)&&(Wn=i)}function Vm(i){ue(Tt,Tt.current),ue(Vn,i),Wn===null&&(Wn=i)}function c_(i){i.tag===22?(ue(Tt,Tt.current),ue(Vn,i),Wn===null&&(Wn=i)):ar()}function ar(){ue(Tt,Tt.current),ue(Vn,Vn.current)}function On(i){ne(Vn),Wn===i&&(Wn=null),ne(Tt)}var Tt=U(0);function xh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||zp(o)||Bp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ps=0,Ne=null,Je=null,Dt=null,Th=!1,Eo=!1,xa=!1,Eh=0,su=0,So=null,KC=0;function mt(){throw Error(s(321))}function Om(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function jm(i,r,o,u,d,g){return ps=g,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?$_:Wm,xa=!1,g=o(u,d),xa=!1,Eo&&(g=f_(r,o,u,d)),h_(i),g}function h_(i){W.H=ou;var r=Je!==null&&Je.next!==null;if(ps=0,Dt=Je=Ne=null,Th=!1,su=0,So=null,r)throw Error(s(300));i===null||kt||(i=i.dependencies,i!==null&&dh(i)&&(kt=!0))}function f_(i,r,o,u){Ne=i;var d=0;do{if(Eo&&(So=null),su=0,Eo=!1,25<=d)throw Error(s(301));if(d+=1,Dt=Je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=Y_,g=r(o,u)}while(Eo);return g}function $C(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?ru(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ne.flags|=1024),r}function Pm(){var i=Eh!==0;return Eh=0,i}function Lm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Um(i){if(Th){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Th=!1}ps=0,Dt=Je=Ne=null,Eo=!1,su=Eh=0,So=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Et(){if(Je===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=Dt===null?Ne.memoizedState:Dt.next;if(r!==null)Dt=r,Je=i;else{if(i===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?Ne.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(i){var r=su;return su+=1,So===null&&(So=[]),i=n_(So,i,r),r=Ne,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?$_:Wm),i}function wh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ru(i);if(i.$$typeof===B)return Wt(i)}throw Error(s(438,String(i)))}function zm(i){var r=null,o=Ne.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Sh(),Ne.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function gs(i,r){return typeof r=="function"?r(i):r}function Ah(i){var r=Et();return Bm(r,Je,i)}function Bm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=T=null,O=null,$=r,Z=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(je&te)===te:(ps&te)===te){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===vo&&(Z=!0);else if((ps&Y)===Y){$=$.next,Y===vo&&(Z=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(w=O=te,T=g):O=O.next=te,Ne.lanes|=Y,ur|=Y;te=$.action,xa&&o(g,te),g=$.hasEagerState?$.eagerState:o(g,te)}else Y={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(w=O=Y,T=g):O=O.next=Y,Ne.lanes|=te,ur|=te;$=$.next}while($!==null&&$!==r);if(O===null?T=g:O.next=w,!kn(g,i.memoizedState)&&(kt=!0,Z&&(o=_o,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=O,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Fm(i){var r=Et(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);kn(g,r.memoizedState)||(kt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function d_(i,r,o){var u=Ne,d=Et(),g=Be;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!kn((Je||d).memoizedState,o);if(T&&(d.memoizedState=o,kt=!0),d=d.queue,Gm(g_.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,wo(9,{destroy:void 0},p_.bind(null,u,d,o,r),null),nt===null)throw Error(s(349));g||(ps&127)!==0||m_(u,r,o)}return o}function m_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r=Sh(),Ne.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function p_(i,r,o,u){r.value=o,r.getSnapshot=u,y_(r)&&v_(i)}function g_(i,r,o){return o(function(){y_(r)&&v_(i)})}function y_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function v_(i){var r=fa(i,2);r!==null&&Tn(r,i,2)}function Hm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),xa){Bn(!0);try{o()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:i},r}function __(i,r,o,u){return i.baseState=o,Bm(i,Je,typeof u=="function"?u:gs)}function YC(i,r,o,u,d){if(Nh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,b_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function b_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=W.T,T={};W.T=T;try{var w=o(d,u),O=W.S;O!==null&&O(T,w),x_(i,r,w)}catch($){qm(i,r,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),W.T=g}}else try{g=o(d,u),x_(i,r,g)}catch($){qm(i,r,$)}}function x_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){T_(i,r,u)},function(u){return qm(i,r,u)}):T_(i,r,o)}function T_(i,r,o){r.status="fulfilled",r.value=o,E_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,b_(i,o)))}function qm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,E_(r),r=r.next;while(r!==u)}i.action=null}function E_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function S_(i,r){return r}function w_(i,r){if(Be){var o=nt.formState;if(o!==null){e:{var u=Ne;if(Be){if(st){t:{for(var d=st,g=Xn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){st=Zn(d.nextSibling),u=d.data==="F!";break e}}er(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:r},o.queue=u,o=q_.bind(null,Ne,u),u.dispatch=o,u=Hm(!1),g=Xm.bind(null,Ne,!1,u.queue),u=dn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=YC.bind(null,Ne,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function A_(i){var r=Et();return R_(r,Je,i)}function R_(i,r,o){if(r=Bm(i,r,S_)[0],i=Ah(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ru(r)}catch(T){throw T===bo?gh:T}else u=r;r=Et();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ne.flags|=2048,wo(9,{destroy:void 0},QC.bind(null,d,o),null)),[u,g,i]}function QC(i,r){i.action=r}function C_(i){var r=Et(),o=Je;if(o!==null)return R_(r,o,i);Et(),r=r.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function wo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Sh(),Ne.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function N_(){return Et().memoizedState}function Rh(i,r,o,u){var d=dn();Ne.flags|=i,d.memoizedState=wo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ch(i,r,o,u){var d=Et();u=u===void 0?null:u;var g=d.memoizedState.inst;Je!==null&&u!==null&&Om(u,Je.memoizedState.deps)?d.memoizedState=wo(r,g,o,u):(Ne.flags|=i,d.memoizedState=wo(1|r,g,o,u))}function I_(i,r){Rh(8390656,8,i,r)}function Gm(i,r){Ch(2048,8,i,r)}function XC(i){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=Sh(),Ne.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function D_(i){var r=Et().memoizedState;return XC({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function k_(i,r){return Ch(4,2,i,r)}function M_(i,r){return Ch(4,4,i,r)}function V_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function O_(i,r,o){o=o!=null?o.concat([i]):null,Ch(4,4,V_.bind(null,r,i),o)}function Km(){}function j_(i,r){var o=Et();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Om(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function P_(i,r){var o=Et();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Om(r,u[1]))return u[0];if(u=i(),xa){Bn(!0);try{i()}finally{Bn(!1)}}return o.memoizedState=[u,r],u}function $m(i,r,o){return o===void 0||(ps&1073741824)!==0&&(je&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Lb(),Ne.lanes|=i,ur|=i,o)}function L_(i,r,o,u){return kn(o,r)?o:To.current!==null?(i=$m(i,o,u),kn(i,r)||(kt=!0),i):(ps&42)===0||(ps&1073741824)!==0&&(je&261930)===0?(kt=!0,i.memoizedState=o):(i=Lb(),Ne.lanes|=i,ur|=i,r)}function U_(i,r,o,u,d){var g=re.p;re.p=g!==0&&8>g?g:8;var T=W.T,w={};W.T=w,Xm(i,!1,r,o);try{var O=d(),$=W.S;if($!==null&&$(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=GC(O,u);au(i,r,Z,Ln(i))}else au(i,r,u,Ln(i))}catch(te){au(i,r,{then:function(){},status:"rejected",reason:te},Ln())}finally{re.p=g,T!==null&&w.types!==null&&(T.types=w.types),W.T=T}}function WC(){}function Ym(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=z_(i).queue;U_(i,d,r,he,o===null?WC:function(){return B_(i),o(u)})}function z_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function B_(i){var r=z_(i);r.next===null&&(r=i.alternate.memoizedState),au(i,r.next.queue,{},Ln())}function Qm(){return Wt(Eu)}function F_(){return Et().memoizedState}function H_(){return Et().memoizedState}function ZC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=ir(o);var u=sr(r,i,o);u!==null&&(Tn(u,r,o),tu(u,r,o)),r={cache:Sm()},i.payload=r;return}r=r.return}}function JC(i,r,o){var u=Ln();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Nh(i)?G_(r,o):(o=dm(i,r,o,u),o!==null&&(Tn(o,i,u),K_(o,r,u)))}function q_(i,r,o){var u=Ln();au(i,r,o,u)}function au(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nh(i))G_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,kn(w,T))return uh(i,r,d,0),nt===null&&lh(),!1}catch{}finally{}if(o=dm(i,r,d,u),o!==null)return Tn(o,i,u),K_(o,r,u),!0}return!1}function Xm(i,r,o,u){if(u={lane:2,revertLane:Cp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Nh(i)){if(r)throw Error(s(479))}else r=dm(i,o,u,2),r!==null&&Tn(r,i,2)}function Nh(i){var r=i.alternate;return i===Ne||r!==null&&r===Ne}function G_(i,r){Eo=Th=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function K_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Cl(i,o)}}var ou={readContext:Wt,use:wh,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};ou.useEffectEvent=mt;var $_={readContext:Wt,use:wh,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Wt,useEffect:I_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Rh(4194308,4,V_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Rh(4194308,4,i,r)},useInsertionEffect:function(i,r){Rh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(xa){Bn(!0);try{i()}finally{Bn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var d=o(r);if(xa){Bn(!0);try{o(r)}finally{Bn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=JC.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Hm(i);var r=i.queue,o=q_.bind(null,Ne,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Km,useDeferredValue:function(i,r){var o=dn();return $m(o,i,r)},useTransition:function(){var i=Hm(!1);return i=U_.bind(null,Ne,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ne,d=dn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(je&127)!==0||m_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,I_(g_.bind(null,u,g,i),[i]),u.flags|=2048,wo(9,{destroy:void 0},p_.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=nt.identifierPrefix;if(Be){var o=Gi,u=qi;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Eh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=KC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Qm,useFormState:w_,useActionState:w_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Xm.bind(null,Ne,!0,o),o.dispatch=r,[i,r]},useMemoCache:zm,useCacheRefresh:function(){return dn().memoizedState=ZC.bind(null,Ne)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wm={readContext:Wt,use:wh,useCallback:j_,useContext:Wt,useEffect:Gm,useImperativeHandle:O_,useInsertionEffect:k_,useLayoutEffect:M_,useMemo:P_,useReducer:Ah,useRef:N_,useState:function(){return Ah(gs)},useDebugValue:Km,useDeferredValue:function(i,r){var o=Et();return L_(o,Je.memoizedState,i,r)},useTransition:function(){var i=Ah(gs)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:ru(i),r]},useSyncExternalStore:d_,useId:F_,useHostTransitionStatus:Qm,useFormState:A_,useActionState:A_,useOptimistic:function(i,r){var o=Et();return __(o,Je,i,r)},useMemoCache:zm,useCacheRefresh:H_};Wm.useEffectEvent=D_;var Y_={readContext:Wt,use:wh,useCallback:j_,useContext:Wt,useEffect:Gm,useImperativeHandle:O_,useInsertionEffect:k_,useLayoutEffect:M_,useMemo:P_,useReducer:Fm,useRef:N_,useState:function(){return Fm(gs)},useDebugValue:Km,useDeferredValue:function(i,r){var o=Et();return Je===null?$m(o,i,r):L_(o,Je.memoizedState,i,r)},useTransition:function(){var i=Fm(gs)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:ru(i),r]},useSyncExternalStore:d_,useId:F_,useHostTransitionStatus:Qm,useFormState:C_,useActionState:C_,useOptimistic:function(i,r){var o=Et();return Je!==null?__(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:zm,useCacheRefresh:H_};Y_.useEffectEvent=D_;function Zm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Jm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ln(),d=ir(u);d.payload=r,o!=null&&(d.callback=o),r=sr(i,d,u),r!==null&&(Tn(r,i,u),tu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ln(),d=ir(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=sr(i,d,u),r!==null&&(Tn(r,i,u),tu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),u=ir(o);u.tag=2,r!=null&&(u.callback=r),r=sr(i,u,o),r!==null&&(Tn(r,i,o),tu(r,i,o))}};function Q_(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!$l(o,u)||!$l(d,g):!0}function X_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Jm.enqueueReplaceState(r,r.state,null)}function Ta(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function W_(i){oh(i)}function Z_(i){console.error(i)}function J_(i){oh(i)}function Ih(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function eb(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ep(i,r,o){return o=ir(o),o.tag=3,o.payload={element:null},o.callback=function(){Ih(i,r)},o}function tb(i){return i=ir(i),i.tag=3,i}function nb(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){eb(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){eb(r,o,u),typeof d!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function e2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&yo(r,o,d,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?Fh():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===yh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),wp(i,u,d)),!1;case 22:return o.flags|=65536,u===yh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),wp(i,u,d)),!1}throw Error(s(435,o.tag))}return wp(i,u,d),Fh(),!1}if(Be)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==_m&&(i=Error(s(422),{cause:u}),Xl($n(i,o)))):(u!==_m&&(r=Error(s(423),{cause:u}),Xl($n(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=$n(u,o),d=ep(i.stateNode,u,d),Im(i,d),pt!==4&&(pt=2)),!1;var g=Error(s(520),{cause:u});if(g=$n(g,o),pu===null?pu=[g]:pu.push(g),pt!==4&&(pt=2),r===null)return!0;u=$n(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ep(o.stateNode,u,i),Im(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cr===null||!cr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=tb(d),nb(d,i,o,u),Im(o,d),!1}o=o.return}while(o!==null);return!1}var tp=Error(s(461)),kt=!1;function Zt(i,r,o,u){r.child=i===null?a_(r,null,o,u):ba(r,i.child,o,u)}function ib(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ga(r),u=jm(i,r,o,T,g,d),w=Pm(),i!==null&&!kt?(Lm(i,r,d),ys(i,r,d)):(Be&&w&&ym(r),r.flags|=1,Zt(i,r,u,d),r.child)}function sb(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!mm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,rb(i,r,g,u,d)):(i=hh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!up(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(T,u)&&i.ref===r.ref)return ys(i,r,d)}return r.flags|=1,i=hs(g,u),i.ref=r.ref,i.return=r,r.child=i}function rb(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if($l(g,u)&&i.ref===r.ref)if(kt=!1,r.pendingProps=u=g,up(i,d))(i.flags&131072)!==0&&(kt=!0);else return r.lanes=i.lanes,ys(i,r,d)}return np(i,r,o,u,d)}function ab(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return ob(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ph(r,g!==null?g.cachePool:null),g!==null?u_(r,g):km(),c_(r);else return u=r.lanes=536870912,ob(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(ph(r,g.cachePool),u_(r,g),ar(),r.memoizedState=null):(i!==null&&ph(r,null),km(),ar());return Zt(i,r,d,o),r.child}function lu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function ob(i,r,o,u,d){var g=Am();return g=g===null?null:{parent:It._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&ph(r,null),km(),c_(r),i!==null&&yo(i,r,u,!0),r.childLanes=d,null}function Dh(i,r){return r=Mh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function lb(i,r,o){return ba(r,i.child,null,o),i=Dh(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function t2(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=Dh(r,u),r.lanes=536870912,lu(null,i);if(Vm(r),(i=st)?(i=bx(i,Xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=Gv(i),o.return=r,r.child=o,Xt=r,st=null)):i=null,i===null)throw er(r);return r.lanes=536870912,null}return Dh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Vm(r),d)if(r.flags&256)r.flags&=-257,r=lb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(kt||yo(i,r,o,!1),d=(o&i.childLanes)!==0,kt||d){if(u=nt,u!==null&&(T=Nl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,fa(i,T),Tn(u,i,T),tp;Fh(),r=lb(i,r,o)}else i=g.treeContext,st=Zn(T.nextSibling),Xt=r,Be=!0,Js=null,Xn=!1,i!==null&&Yv(r,i),r=Dh(r,u),r.flags|=4096;return r}return i=hs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function np(i,r,o,u,d){return ga(r),o=jm(i,r,o,u,void 0,d),u=Pm(),i!==null&&!kt?(Lm(i,r,d),ys(i,r,d)):(Be&&u&&ym(r),r.flags|=1,Zt(i,r,o,d),r.child)}function ub(i,r,o,u,d,g){return ga(r),r.updateQueue=null,o=f_(r,u,o,d),h_(i),u=Pm(),i!==null&&!kt?(Lm(i,r,g),ys(i,r,g)):(Be&&u&&ym(r),r.flags|=1,Zt(i,r,o,g),r.child)}function cb(i,r,o,u,d){if(ga(r),r.stateNode===null){var g=fo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Wt(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Cm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Wt(T):fo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Zm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Jm.enqueueReplaceState(g,g.state,null),iu(r,u,g,d),nu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,O=Ta(o,w);g.props=O;var $=g.context,Z=o.contextType;T=fo,typeof Z=="object"&&Z!==null&&(T=Wt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||$!==T)&&X_(r,g,u,T),nr=!1;var Y=r.memoizedState;g.state=Y,iu(r,u,g,d),nu(),$=r.memoizedState,w||Y!==$||nr?(typeof te=="function"&&(Zm(r,o,te,u),$=r.memoizedState),(O=nr||Q_(r,o,O,u,Y,$,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),g.props=u,g.state=$,g.context=T,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Nm(i,r),T=r.memoizedProps,Z=Ta(o,T),g.props=Z,te=r.pendingProps,Y=g.context,$=o.contextType,O=fo,typeof $=="object"&&$!==null&&(O=Wt($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==te||Y!==O)&&X_(r,g,u,O),nr=!1,Y=r.memoizedState,g.state=Y,iu(r,u,g,d),nu();var X=r.memoizedState;T!==te||Y!==X||nr||i!==null&&i.dependencies!==null&&dh(i.dependencies)?(typeof w=="function"&&(Zm(r,o,w,u),X=r.memoizedState),(Z=nr||Q_(r,o,Z,u,Y,X,O)||i!==null&&i.dependencies!==null&&dh(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=O,u=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,kh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ba(r,i.child,null,d),r.child=ba(r,null,o,d)):Zt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ys(i,r,d),i}function hb(i,r,o,u){return ma(),r.flags|=256,Zt(i,r,o,u),r.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(i){return{baseLanes:i,cachePool:e_()}}function rp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function fb(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(d?rr(r):ar(),(i=st)?(i=bx(i,Xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=Gv(i),o.return=r,r.child=o,Xt=r,st=null)):i=null,i===null)throw er(r);return Bp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(ar(),d=r.mode,w=Mh({mode:"hidden",children:w},d),u=da(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=sp(o),u.childLanes=rp(i,T,o),r.memoizedState=ip,lu(null,u)):(rr(r),ap(r,w))}var O=i.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(g)r.flags&256?(rr(r),r.flags&=-257,r=op(i,r,o)):r.memoizedState!==null?(ar(),r.child=i.child,r.flags|=128,r=null):(ar(),w=u.fallback,d=r.mode,u=Mh({mode:"visible",children:u.children},d),w=da(w,d,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ba(r,i.child,null,o),u=r.child,u.memoizedState=sp(o),u.childLanes=rp(i,T,o),r.memoizedState=ip,r=lu(null,u));else if(rr(r),Bp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(s(419)),u.stack="",u.digest=T,Xl({value:u,source:null,stack:null}),r=op(i,r,o)}else if(kt||yo(i,r,o,!1),T=(o&i.childLanes)!==0,kt||T){if(T=nt,T!==null&&(u=Nl(T,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,fa(i,u),Tn(T,i,u),tp;zp(w)||Fh(),r=op(i,r,o)}else zp(w)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,st=Zn(w.nextSibling),Xt=r,Be=!0,Js=null,Xn=!1,i!==null&&Yv(r,i),r=ap(r,u.children),r.flags|=4096);return r}return d?(ar(),w=u.fallback,d=r.mode,O=i.child,$=O.sibling,u=hs(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,$!==null?w=hs($,w):(w=da(w,d,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,lu(null,u),u=r.child,w=i.child.memoizedState,w===null?w=sp(o):(d=w.cachePool,d!==null?(O=It._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=e_(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=rp(i,T,o),r.memoizedState=ip,lu(i.child,u)):(rr(r),o=i.child,i=o.sibling,o=hs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function ap(i,r){return r=Mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Mh(i,r){return i=Mn(22,i,null,r),i.lanes=0,i}function op(i,r,o){return ba(r,i.child,null,o),i=ap(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function db(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Tm(i.return,r,o)}function lp(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function mb(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=Tt.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ue(Tt,T),Zt(i,r,u,o),u=Be?Ql:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&db(i,o,r);else if(i.tag===19)db(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&xh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),lp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&xh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}lp(r,!0,o,null,g,u);break;case"together":lp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ys(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ur|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function up(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&dh(i)))}function n2(i,r,o){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),tr(r,It,i.memoizedState.cache),ma();break;case 27:case 5:Yr(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(rr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?fb(i,r,o):(rr(r),i=ys(i,r,o),i!==null?i.sibling:null);rr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(yo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return mb(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Tt,Tt.current),u)break;return null;case 22:return r.lanes=0,ab(i,r,o,r.pendingProps);case 24:tr(r,It,i.memoizedState.cache)}return ys(i,r,o)}function pb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)kt=!0;else{if(!up(i,o)&&(r.flags&128)===0)return kt=!1,n2(i,r,o);kt=(i.flags&131072)!==0}else kt=!1,Be&&(r.flags&1048576)!==0&&$v(r,Ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=va(r.elementType),r.type=i,typeof i=="function")mm(i)?(u=Ta(i,u),r.tag=1,r=cb(null,r,i,u,o)):(r.tag=0,r=np(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===ae){r.tag=11,r=ib(null,r,i,u,o);break e}else if(d===I){r.tag=14,r=sb(null,r,i,u,o);break e}}throw r=we(i)||i,Error(s(306,r,""))}}return r;case 0:return np(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Ta(u,r.pendingProps),cb(i,r,u,d,o);case 3:e:{if(Ut(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Nm(i,r),iu(r,u,null,o);var T=r.memoizedState;if(u=T.cache,tr(r,It,u),u!==g.cache&&Em(r,[It],o,!0),nu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=hb(i,r,u,o);break e}else if(u!==d){d=$n(Error(s(424)),r),Xl(d),r=hb(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(st=Zn(i.firstChild),Xt=r,Be=!0,Js=null,Xn=!0,o=a_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ma(),u===d){r=ys(i,r,o);break e}Zt(i,r,u,o)}r=r.child}return r;case 26:return kh(i,r),i===null?(o=Ax(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,u=Qh(De.current).createElement(o),u[Rt]=r,u[qt]=i,Jt(u,o,i),Ct(u),r.stateNode=u):r.memoizedState=Ax(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Yr(r),i===null&&Be&&(u=r.stateNode=Ex(r.type,r.pendingProps,De.current),Xt=r,Xn=!0,d=st,mr(r.type)?(Fp=d,st=Zn(u.firstChild)):st=d),Zt(i,r,r.pendingProps.children,o),kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((d=u=st)&&(u=k2(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,Xt=r,st=Zn(u.firstChild),Xn=!1,d=!0):d=!1),d||er(r)),Yr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Pp(d,g)?u=null:T!==null&&Pp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=jm(i,r,$C,null,null,o),Eu._currentValue=d),kh(i,r),Zt(i,r,u,o),r.child;case 6:return i===null&&Be&&((i=o=st)&&(o=M2(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,Xt=r,st=null,i=!0):i=!1),i||er(r)),null;case 13:return fb(i,r,o);case 4:return Ut(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ba(r,null,u,o):Zt(i,r,u,o),r.child;case 11:return ib(i,r,r.type,r.pendingProps,o);case 7:return Zt(i,r,r.pendingProps,o),r.child;case 8:return Zt(i,r,r.pendingProps.children,o),r.child;case 12:return Zt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,tr(r,r.type,u.value),Zt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ga(r),d=Wt(d),u=u(d),r.flags|=1,Zt(i,r,u,o),r.child;case 14:return sb(i,r,r.type,r.pendingProps,o);case 15:return rb(i,r,r.type,r.pendingProps,o);case 19:return mb(i,r,o);case 31:return t2(i,r,o);case 22:return ab(i,r,o,r.pendingProps);case 24:return ga(r),u=Wt(It),i===null?(d=Am(),d===null&&(d=nt,g=Sm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Cm(r),tr(r,It,d)):((i.lanes&o)!==0&&(Nm(i,r),iu(r,null,null,o),nu()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),tr(r,It,u)):(u=g.cache,tr(r,It,u),u!==d.cache&&Em(r,[It],o,!0))),Zt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function vs(i){i.flags|=4}function cp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Fb())i.flags|=8192;else throw _a=yh,Rm}else i.flags&=-16777217}function gb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Dx(r))if(Fb())i.flags|=8192;else throw _a=yh,Rm}function Vh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?zc():536870912,i.lanes|=r,No|=r)}function uu(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function rt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function i2(i,r,o){var u=r.pendingProps;switch(vm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ms(It),ot(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(go(r)?vs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bm())),rt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(vs(r),g!==null?(rt(r),gb(r,g)):(rt(r),cp(r,d,null,u,o))):g?g!==i.memoizedState?(vs(r),rt(r),gb(r,g)):(rt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&vs(r),rt(r),cp(r,d,i,u,o)),null;case 27:if($a(r),o=De.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}i=de.current,go(r)?Qv(r):(i=Ex(d,u,o),r.stateNode=i,vs(r))}return rt(r),null;case 5:if($a(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(g=de.current,go(r))Qv(r);else{var T=Qh(De.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[Rt]=r,g[qt]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(Jt(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&vs(r)}}return rt(r),cp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&vs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,go(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Xt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||fx(i.nodeValue,o)),i||er(r,!0)}else i=Qh(i).createTextNode(u),i[Rt]=r,r.stateNode=i}return rt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=go(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),i=!1}else o=bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=go(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Rt]=r}else ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),d=!1}else d=bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Vh(r,r.updateQueue),rt(r),null);case 4:return ot(),i===null&&kp(r.stateNode.containerInfo),rt(r),null;case 10:return ms(r.type),rt(r),null;case 19:if(ne(Tt),u=r.memoizedState,u===null)return rt(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)uu(u,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=xh(i),g!==null){for(r.flags|=128,uu(u,!1),i=g.updateQueue,r.updateQueue=i,Vh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)qv(o,i),o=o.sibling;return ue(Tt,Tt.current&1|2),Be&&fs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>Uh&&(r.flags|=128,d=!0,uu(u,!1),r.lanes=4194304)}else{if(!d)if(i=xh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Vh(r,i),uu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Be)return rt(r),null}else 2*hn()-u.renderingStartTime>Uh&&o!==536870912&&(r.flags|=128,d=!0,uu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Tt.current,ue(Tt,d?o&1|2:o&1),Be&&fs(r,u.treeForkCount),i):(rt(r),null);case 22:case 23:return On(r),Mm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),o=r.updateQueue,o!==null&&Vh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ne(ya),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(It),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function s2(i,r){switch(vm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ms(It),ot(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return $a(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));ma()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ma()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(Tt),null;case 4:return ot(),null;case 10:return ms(r.type),null;case 22:case 23:return On(r),Mm(),i!==null&&ne(ya),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ms(It),null;case 25:return null;default:return null}}function yb(i,r){switch(vm(r),r.tag){case 3:ms(It),ot();break;case 26:case 27:case 5:$a(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:ne(Tt);break;case 10:ms(r.type);break;case 22:case 23:On(r),Mm(),i!==null&&ne(ya);break;case 24:ms(It)}}function cu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(w){We(r,r.return,w)}}function or(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=r;var O=o,$=w;try{$()}catch(Z){We(d,O,Z)}}}u=u.next}while(u!==g)}}catch(Z){We(r,r.return,Z)}}function vb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{l_(r,o)}catch(u){We(i,i.return,u)}}}function _b(i,r,o){o.props=Ta(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){We(i,r,u)}}function hu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){We(i,r,d)}}function Ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){We(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){We(i,r,d)}else o.current=null}function bb(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){We(i,i.return,d)}}function hp(i,r,o){try{var u=i.stateNode;A2(u,i.type,o,r),u[qt]=r}catch(d){We(i,i.return,d)}}function xb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&mr(i.type)||i.tag===4}function fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&mr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(u!==4&&(u===27&&mr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(dp(i,r,o),i=i.sibling;i!==null;)dp(i,r,o),i=i.sibling}function Oh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&mr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Oh(i,r,o),i=i.sibling;i!==null;)Oh(i,r,o),i=i.sibling}function Tb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Jt(r,u,o),r[Rt]=i,r[qt]=o}catch(g){We(i,i.return,g)}}var _s=!1,Mt=!1,mp=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function r2(i,r){if(i=i.containerInfo,Op=nf,i=Ov(i),om(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,w=-1,O=-1,$=0,Z=0,te=i,Y=null;t:for(;;){for(var X;te!==o||d!==0&&te.nodeType!==3||(w=T+d),te!==g||u!==0&&te.nodeType!==3||(O=T+u),te.nodeType===3&&(T+=te.nodeValue.length),(X=te.firstChild)!==null;)Y=te,te=X;for(;;){if(te===i)break t;if(Y===o&&++$===d&&(w=T),Y===g&&++Z===u&&(O=T),(X=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=X}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:i,selectionRange:o},nf=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=Ta(o.type,d);i=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){We(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Up(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Up(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}}function Sb(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xs(i,o),u&4&&cu(5,o);break;case 1:if(xs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){We(o,o.return,T)}else{var d=Ta(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){We(o,o.return,T)}}u&64&&vb(o),u&512&&hu(o,o.return);break;case 3:if(xs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{l_(i,r)}catch(T){We(o,o.return,T)}}break;case 27:r===null&&u&4&&Tb(o);case 26:case 5:xs(i,o),r===null&&u&4&&bb(o),u&512&&hu(o,o.return);break;case 12:xs(i,o);break;case 31:xs(i,o),u&4&&Rb(i,o);break;case 13:xs(i,o),u&4&&Cb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=m2.bind(null,o),V2(i,o))));break;case 22:if(u=o.memoizedState!==null||_s,!u){r=r!==null&&r.memoizedState!==null||Mt,d=_s;var g=Mt;_s=u,(Mt=r)&&!g?Ts(i,o,(o.subtreeFlags&8772)!==0):xs(i,o),_s=d,Mt=g}break;case 30:break;default:xs(i,o)}}function wb(i){var r=i.alternate;r!==null&&(i.alternate=null,wb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Za(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,vn=!1;function bs(i,r,o){for(o=o.child;o!==null;)Ab(i,r,o),o=o.sibling}function Ab(i,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Mt||Ki(o,r),bs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Ki(o,r);var u=ut,d=vn;mr(o.type)&&(ut=o.stateNode,vn=!1),bs(i,r,o),bu(o.stateNode),ut=u,vn=d;break;case 5:Mt||Ki(o,r);case 6:if(u=ut,d=vn,ut=null,bs(i,r,o),ut=u,vn=d,ut!==null)if(vn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(g){We(o,r,g)}else try{ut.removeChild(o.stateNode)}catch(g){We(o,r,g)}break;case 18:ut!==null&&(vn?(i=ut,vx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Po(i)):vx(ut,o.stateNode));break;case 4:u=ut,d=vn,ut=o.stateNode.containerInfo,vn=!0,bs(i,r,o),ut=u,vn=d;break;case 0:case 11:case 14:case 15:or(2,o,r),Mt||or(4,o,r),bs(i,r,o);break;case 1:Mt||(Ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&_b(o,r,u)),bs(i,r,o);break;case 21:bs(i,r,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,bs(i,r,o),Mt=u;break;default:bs(i,r,o)}}function Rb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Po(i)}catch(o){We(r,r.return,o)}}}function Cb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Po(i)}catch(o){We(r,r.return,o)}}function a2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Eb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Eb),r;default:throw Error(s(435,i.tag))}}function jh(i,r){var o=a2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=p2.bind(null,i,u);u.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(mr(w.type)){ut=w.stateNode,vn=!1;break e}break;case 5:ut=w.stateNode,vn=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(ut===null)throw Error(s(160));Ab(g,T,d),ut=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Nb(r,i),r=r.sibling}var vi=null;function Nb(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),bn(i),u&4&&(or(3,i,i.return),cu(3,i),or(5,i,i.return));break;case 1:_n(r,i),bn(i),u&512&&(Mt||o===null||Ki(o,o.return)),u&64&&_s&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=vi;if(_n(r,i),bn(i),u&512&&(Mt||o===null||Ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ki]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Jt(g,u,o),g[Rt]=i,Ct(g),u=g;break e;case"link":var T=Nx("link","href",d).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;case"meta":if(T=Nx("meta","content",d).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}g=d.createElement(u),Jt(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Rt]=i,Ct(g),u=g}i.stateNode=u}else Ix(d,i.type,i.stateNode);else i.stateNode=Cx(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Ix(d,i.type,i.stateNode):Cx(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&hp(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),bn(i),u&512&&(Mt||o===null||Ki(o,o.return)),o!==null&&u&4&&hp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),bn(i),u&512&&(Mt||o===null||Ki(o,o.return)),i.flags&32){d=i.stateNode;try{yn(d,"")}catch(me){We(i,i.return,me)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,hp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(mp=!0);break;case 6:if(_n(r,i),bn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){We(i,i.return,me)}}break;case 3:if(Zh=null,d=vi,vi=Xh(r.containerInfo),_n(r,i),vi=d,bn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(r.containerInfo)}catch(me){We(i,i.return,me)}mp&&(mp=!1,Ib(i));break;case 4:u=vi,vi=Xh(i.stateNode.containerInfo),_n(r,i),bn(i),vi=u;break;case 12:_n(r,i),bn(i);break;case 31:_n(r,i),bn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jh(i,u)));break;case 13:_n(r,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lh=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jh(i,u)));break;case 22:d=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=_s,Z=Mt;if(_s=$||d,Mt=Z||O,_n(r,i),Mt=Z,_s=$,bn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||O||_s||Mt||Ea(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=O.stateNode;var te=O.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){We(O,O.return,me)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(me){We(O,O.return,me)}}}else if(r.tag===18){if(o===null){O=r;try{var X=O.stateNode;d?_x(X,!0):_x(O.stateNode,!1)}catch(me){We(O,O.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,jh(i,o))));break;case 19:_n(r,i),bn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jh(i,u)));break;case 30:break;case 21:break;default:_n(r,i),bn(i)}}function bn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(xb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=fp(i);Oh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var w=fp(i);Oh(i,w,T);break;case 3:case 4:var O=o.stateNode.containerInfo,$=fp(i);dp(i,$,O);break;default:throw Error(s(161))}}catch(Z){We(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Ib(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Ib(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function xs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Sb(i,r.alternate,r),r=r.sibling}function Ea(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:or(4,r,r.return),Ea(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&_b(r,r.return,o),Ea(r);break;case 27:bu(r.stateNode);case 26:case 5:Ki(r,r.return),Ea(r);break;case 22:r.memoizedState===null&&Ea(r);break;case 30:Ea(r);break;default:Ea(r)}i=i.sibling}}function Ts(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ts(d,g,o),cu(4,g);break;case 1:if(Ts(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){We(u,u.return,$)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)o_(O[d],w)}catch($){We(u,u.return,$)}}o&&T&64&&vb(g),hu(g,g.return);break;case 27:Tb(g);case 26:case 5:Ts(d,g,o),o&&u===null&&T&4&&bb(g),hu(g,g.return);break;case 12:Ts(d,g,o);break;case 31:Ts(d,g,o),o&&T&4&&Rb(d,g);break;case 13:Ts(d,g,o),o&&T&4&&Cb(d,g);break;case 22:g.memoizedState===null&&Ts(d,g,o),hu(g,g.return);break;case 30:break;default:Ts(d,g,o)}r=r.sibling}}function pp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Wl(o))}function gp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wl(i))}function _i(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Db(i,r,o,u),r=r.sibling}function Db(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:_i(i,r,o,u),d&2048&&cu(9,r);break;case 1:_i(i,r,o,u);break;case 3:_i(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wl(i)));break;case 12:if(d&2048){_i(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){We(r,r.return,O)}}else _i(i,r,o,u);break;case 31:_i(i,r,o,u);break;case 13:_i(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?_i(i,r,o,u):fu(i,r):g._visibility&2?_i(i,r,o,u):(g._visibility|=2,Ao(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&pp(T,r);break;case 24:_i(i,r,o,u),d&2048&&gp(r.alternate,r);break;default:_i(i,r,o,u)}}function Ao(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,O=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:Ao(g,T,w,O,d),cu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Ao(g,T,w,O,d):fu(g,T):(Z._visibility|=2,Ao(g,T,w,O,d)),d&&$&2048&&pp(T.alternate,T);break;case 24:Ao(g,T,w,O,d),d&&$&2048&&gp(T.alternate,T);break;default:Ao(g,T,w,O,d)}r=r.sibling}}function fu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:fu(o,u),d&2048&&pp(u.alternate,u);break;case 24:fu(o,u),d&2048&&gp(u.alternate,u);break;default:fu(o,u)}r=r.sibling}}var du=8192;function Ro(i,r,o){if(i.subtreeFlags&du)for(i=i.child;i!==null;)kb(i,r,o),i=i.sibling}function kb(i,r,o){switch(i.tag){case 26:Ro(i,r,o),i.flags&du&&i.memoizedState!==null&&K2(o,vi,i.memoizedState,i.memoizedProps);break;case 5:Ro(i,r,o);break;case 3:case 4:var u=vi;vi=Xh(i.stateNode.containerInfo),Ro(i,r,o),vi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=du,du=16777216,Ro(i,r,o),du=u):Ro(i,r,o));break;default:Ro(i,r,o)}}function Mb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function mu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Ob(u,i)}Mb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vb(i),i=i.sibling}function Vb(i){switch(i.tag){case 0:case 11:case 15:mu(i),i.flags&2048&&or(9,i,i.return);break;case 3:mu(i);break;case 12:mu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ph(i)):mu(i);break;default:mu(i)}}function Ph(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Ob(u,i)}Mb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:or(8,r,r.return),Ph(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ph(r));break;default:Ph(r)}i=i.sibling}}function Ob(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:or(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=i;Kt!==null;){u=Kt;var d=u.sibling,g=u.return;if(wb(u),u===o){Kt=null;break e}if(d!==null){d.return=g,Kt=d;break e}Kt=g}}}var o2={getCacheForType:function(i){var r=Wt(It),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Wt(It).controller.signal}},l2=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Me=null,je=0,Xe=0,jn=null,lr=!1,Co=!1,yp=!1,Es=0,pt=0,ur=0,Sa=0,vp=0,Pn=0,No=0,pu=null,xn=null,_p=!1,Lh=0,jb=0,Uh=1/0,zh=null,cr=null,Bt=0,hr=null,Io=null,Ss=0,bp=0,xp=null,Pb=null,gu=0,Tp=null;function Ln(){return($e&2)!==0&&je!==0?je&-je:W.T!==null?Cp():Bc()}function Lb(){if(Pn===0)if((je&536870912)===0||Be){var i=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),Pn=i}else Pn=536870912;return i=Vn.current,i!==null&&(i.flags|=32),Pn}function Tn(i,r,o){(i===nt&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(Do(i,0),fr(i,je,Pn,!1)),Zr(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(Sa|=o),pt===4&&fr(i,je,Pn,!1)),$i(i))}function Ub(i,r,o){if(($e&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),d=u?h2(i,r):Sp(i,r,!0),g=u;do{if(d===0){Co&&!u&&fr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!u2(o)){d=Sp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var w=i;d=pu;var O=w.current.memoizedState.isDehydrated;if(O&&(Do(w,T).flags|=256),T=Sp(w,T,!1),T!==2){if(yp&&!O){w.errorRecoveryDisabledLanes|=g,Sa|=g,d=4;break e}g=xn,xn=d,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Do(i,0),fr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fr(u,r,Pn,!lr);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Lh+300-hn(),10<d)){if(fr(u,r,Pn,!lr),Ni(u,0,!0)!==0)break e;Ss=r,u.timeoutHandle=gx(zb.bind(null,u,o,xn,zh,_p,r,Pn,Sa,No,lr,g,"Throttled",-0,0),d);break e}zb(u,o,xn,zh,_p,r,Pn,Sa,No,lr,g,null,-0,0)}}break}while(!0);$i(i)}function zb(i,r,o,u,d,g,T,w,O,$,Z,te,Y,X){if(i.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},kb(r,g,te);var me=(g&62914560)===g?Lh-hn():(g&4194048)===g?jb-hn():0;if(me=$2(te,me),me!==null){Ss=g,i.cancelPendingCommit=me(Yb.bind(null,i,r,g,o,u,d,T,w,O,Z,te,null,Y,X)),fr(i,g,T,!$);return}}Yb(i,r,g,o,u,d,T,w,O)}function u2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!kn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fr(i,r,o,u){r&=~vp,r&=~Sa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-bt(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Jr(i,o,r)}function Bh(){return($e&6)===0?(yu(0),!1):!0}function Ep(){if(Me!==null){if(Xe===0)var i=Me.return;else i=Me,ds=pa=null,Um(i),xo=null,Jl=0,i=Me;for(;i!==null;)yb(i.alternate,i),i=i.return;Me=null}}function Do(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,N2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ss=0,Ep(),nt=i,Me=o=hs(i.current,null),je=r,Xe=0,jn=null,lr=!1,Co=ui(i,r),yp=!1,No=Pn=vp=Sa=ur=pt=0,xn=pu=null,_p=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-bt(u),g=1<<d;r|=i[d],u&=~g}return Es=r,lh(),o}function Bb(i,r){Ne=null,W.H=ou,r===bo||r===gh?(r=i_(),Xe=3):r===Rm?(r=i_(),Xe=4):Xe=r===tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Me===null&&(pt=1,Ih(i,$n(r,i.current)))}function Fb(){var i=Vn.current;return i===null?!0:(je&4194048)===je?Wn===null:(je&62914560)===je||(je&536870912)!==0?i===Wn:!1}function Hb(){var i=W.H;return W.H=ou,i===null?ou:i}function qb(){var i=W.A;return W.A=o2,i}function Fh(){pt=4,lr||(je&4194048)!==je&&Vn.current!==null||(Co=!0),(ur&134217727)===0&&(Sa&134217727)===0||nt===null||fr(nt,je,Pn,!1)}function Sp(i,r,o){var u=$e;$e|=2;var d=Hb(),g=qb();(nt!==i||je!==r)&&(zh=null,Do(i,r)),r=!1;var T=pt;e:do try{if(Xe!==0&&Me!==null){var w=Me,O=jn;switch(Xe){case 8:Ep(),T=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var $=Xe;if(Xe=0,jn=null,ko(i,w,O,$),o&&Co){T=0;break e}break;default:$=Xe,Xe=0,jn=null,ko(i,w,O,$)}}c2(),T=pt;break}catch(Z){Bb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ds=pa=null,$e=u,W.H=d,W.A=g,Me===null&&(nt=null,je=0,lh()),T}function c2(){for(;Me!==null;)Gb(Me)}function h2(i,r){var o=$e;$e|=2;var u=Hb(),d=qb();nt!==i||je!==r?(zh=null,Uh=hn()+500,Do(i,r)):Co=ui(i,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var g=jn;t:switch(Xe){case 1:Xe=0,jn=null,ko(i,r,g,1);break;case 2:case 9:if(t_(g)){Xe=0,jn=null,Kb(r);break}r=function(){Xe!==2&&Xe!==9||nt!==i||(Xe=7),$i(i)},g.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:t_(g)?(Xe=0,jn=null,Kb(r)):(Xe=0,jn=null,ko(i,r,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var w=Me;if(T?Dx(T):w.stateNode.complete){Xe=0,jn=null;var O=w.sibling;if(O!==null)Me=O;else{var $=w.return;$!==null?(Me=$,Hh($)):Me=null}break t}}Xe=0,jn=null,ko(i,r,g,5);break;case 6:Xe=0,jn=null,ko(i,r,g,6);break;case 8:Ep(),pt=6;break e;default:throw Error(s(462))}}f2();break}catch(Z){Bb(i,Z)}while(!0);return ds=pa=null,W.H=u,W.A=d,$e=o,Me!==null?0:(nt=null,je=0,lh(),pt)}function f2(){for(;Me!==null&&!em();)Gb(Me)}function Gb(i){var r=pb(i.alternate,i,Es);i.memoizedProps=i.pendingProps,r===null?Hh(i):Me=r}function Kb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=ub(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=ub(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Um(r);default:yb(o,r),r=Me=qv(r,Es),r=pb(o,r,Es)}i.memoizedProps=i.pendingProps,r===null?Hh(i):Me=r}function ko(i,r,o,u){ds=pa=null,Um(r),xo=null,Jl=0;var d=r.return;try{if(e2(i,d,r,o,je)){pt=1,Ih(i,$n(o,i.current)),Me=null;return}}catch(g){if(d!==null)throw Me=d,g;pt=1,Ih(i,$n(o,i.current)),Me=null;return}r.flags&32768?(Be||u===1?i=!0:Co||(je&536870912)!==0?i=!1:(lr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),$b(r,i)):Hh(r)}function Hh(i){var r=i;do{if((r.flags&32768)!==0){$b(r,lr);return}i=r.return;var o=i2(r.alternate,r,Es);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);pt===0&&(pt=5)}function $b(i,r){do{var o=s2(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);pt=6,Me=null}function Yb(i,r,o,u,d,g,T,w,O){i.cancelPendingCommit=null;do qh();while(Bt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=fm,im(i,o,g,T,w,O),i===nt&&(Me=nt=null,je=0),Io=r,hr=i,Ss=o,bp=g,xp=d,Pb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,g2(Fs,function(){return Jb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=re.p,re.p=2,T=$e,$e|=4;try{r2(i,r,o)}finally{$e=T,re.p=d,W.T=u}}Bt=1,Qb(),Xb(),Wb()}}function Qb(){if(Bt===1){Bt=0;var i=hr,r=Io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=re.p;re.p=2;var d=$e;$e|=4;try{Nb(r,i);var g=jp,T=Ov(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&Vv(w.ownerDocument.documentElement,w)){if(O!==null&&om(w)){var $=O.start,Z=O.end;if(Z===void 0&&(Z=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Z,w.value.length);else{var te=w.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=w.textContent.length,ve=Math.min(O.start,me),tt=O.end===void 0?ve:Math.min(O.end,me);!X.extend&&ve>tt&&(T=tt,tt=ve,ve=T);var H=Mv(w,ve),L=Mv(w,tt);if(H&&L&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var K=te.createRange();K.setStart(H.node,H.offset),X.removeAllRanges(),ve>tt?(X.addRange(K),X.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),X.addRange(K))}}}}for(te=[],X=w;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nf=!!Op,jp=Op=null}finally{$e=d,re.p=u,W.T=o}}i.current=r,Bt=2}}function Xb(){if(Bt===2){Bt=0;var i=hr,r=Io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=re.p;re.p=2;var d=$e;$e|=4;try{Sb(i,r.alternate,r)}finally{$e=d,re.p=u,W.T=o}}Bt=3}}function Wb(){if(Bt===4||Bt===3){Bt=0,Vc();var i=hr,r=Io,o=Ss,u=Pb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Io=hr=null,Zb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(cr=null),os(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,d=re.p,re.p=2,W.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{W.T=r,re.p=d}}(Ss&3)!==0&&qh(),$i(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Tp?gu++:(gu=0,Tp=i):gu=0,yu(0)}}function Zb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Wl(r)))}function qh(){return Qb(),Xb(),Wb(),Jb()}function Jb(){if(Bt!==5)return!1;var i=hr,r=bp;bp=0;var o=os(Ss),u=W.T,d=re.p;try{re.p=32>o?32:o,W.T=null,o=xp,xp=null;var g=hr,T=Ss;if(Bt=0,Io=hr=null,Ss=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,Vb(g.current),Db(g,g.current,T,o),$e=w,yu(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{re.p=d,W.T=u,Zb(i,r)}}function ex(i,r,o){r=$n(o,r),r=ep(i.stateNode,r,2),i=sr(i,r,2),i!==null&&(Zr(i,2),$i(i))}function We(i,r,o){if(i.tag===3)ex(i,i,o);else for(;r!==null;){if(r.tag===3){ex(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(cr===null||!cr.has(u))){i=$n(o,i),o=tb(2),u=sr(r,o,2),u!==null&&(nb(o,u,r,i),Zr(u,2),$i(u));break}}r=r.return}}function wp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new l2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(yp=!0,d.add(o),i=d2.bind(null,i,r,o),r.then(i,i))}function d2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(je&o)===o&&(pt===4||pt===3&&(je&62914560)===je&&300>hn()-Lh?($e&2)===0&&Do(i,0):vp|=o,No===je&&(No=0)),$i(i)}function tx(i,r){r===0&&(r=zc()),i=fa(i,r),i!==null&&(Zr(i,r),$i(i))}function m2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),tx(i,o)}function p2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),tx(i,o)}function g2(i,r){return zt(i,r)}var Gh=null,Mo=null,Ap=!1,Kh=!1,Rp=!1,dr=0;function $i(i){i!==Mo&&i.next===null&&(Mo===null?Gh=Mo=i:Mo=Mo.next=i),Kh=!0,Ap||(Ap=!0,v2())}function yu(i,r){if(!Rp&&Kh){Rp=!0;do for(var o=!1,u=Gh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-bt(42|i)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,rx(u,g))}else g=je,g=Ni(u,u===nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ui(u,g)||(o=!0,rx(u,g));u=u.next}while(o);Rp=!1}}function y2(){nx()}function nx(){Kh=Ap=!1;var i=0;dr!==0&&C2()&&(i=dr);for(var r=hn(),o=null,u=Gh;u!==null;){var d=u.next,g=ix(u,r);g===0?(u.next=null,o===null?Gh=d:o.next=d,d===null&&(Mo=o)):(o=u,(i!==0||(g&3)!==0)&&(Kh=!0)),u=d}Bt!==0&&Bt!==5||yu(i),dr!==0&&(dr=0)}function ix(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-bt(g),w=1<<T,O=d[T];O===-1?((w&o)===0||(w&u)!==0)&&(d[T]=nm(w,r)):O<=r&&(i.expiredLanes|=w),g&=~w}if(r=nt,o=je,o=Ni(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Bs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Bs(u),os(o)){case 2:case 8:o=Rl;break;case 32:o=Fs;break;case 268435456:o=Oc;break;default:o=Fs}return u=sx.bind(null,i),o=zt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Bs(u),i.callbackPriority=2,i.callbackNode=null,2}function sx(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(qh()&&i.callbackNode!==o)return null;var u=je;return u=Ni(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Ub(i,u,r),ix(i,hn()),i.callbackNode!=null&&i.callbackNode===o?sx.bind(null,i):null)}function rx(i,r){if(qh())return null;Ub(i,r,!0)}function v2(){I2(function(){($e&6)!==0?zt(Al,y2):nx()})}function Cp(){if(dr===0){var i=vo;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),dr=i}return dr}function ax(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:no(""+i)}function ox(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function _2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=ax((d[qt]||null).action),T=u.submitter;T&&(r=(r=T[qt]||null)?ax(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new zi("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(dr!==0){var O=T?ox(d,T):new FormData(d);Ym(o,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=T?ox(d,T):new FormData(d),Ym(o,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var Np=0;Np<hm.length;Np++){var Ip=hm[Np],b2=Ip.toLowerCase(),x2=Ip[0].toUpperCase()+Ip.slice(1);yi(b2,"on"+x2)}yi(Lv,"onAnimationEnd"),yi(Uv,"onAnimationIteration"),yi(zv,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(PC,"onTransitionRun"),yi(LC,"onTransitionStart"),yi(UC,"onTransitionCancel"),yi(Bv,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function lx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],O=w.instance,$=w.currentTarget;if(w=w.listener,O!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){oh(Z)}d.currentTarget=null,g=O}else for(T=0;T<u.length;T++){if(w=u[T],O=w.instance,$=w.currentTarget,w=w.listener,O!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=$;try{g(d)}catch(Z){oh(Z)}d.currentTarget=null,g=O}}}}function Ve(i,r){var o=r[Wa];o===void 0&&(o=r[Wa]=new Set);var u=i+"__bubble";o.has(u)||(ux(r,i,2,!1),o.add(u))}function Dp(i,r,o){var u=0;r&&(u|=4),ux(o,i,u,r)}var $h="_reactListening"+Math.random().toString(36).slice(2);function kp(i){if(!i[$h]){i[$h]=!0,Il.forEach(function(o){o!=="selectionchange"&&(T2.has(o)||Dp(o,!1,i),Dp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[$h]||(r[$h]=!0,Dp("selectionchange",!1,r))}}function ux(i,r,o,u){switch(Lx(r)){case 2:var d=X2;break;case 8:d=W2;break;default:d=$p}o=d.bind(null,r,o,i),d=void 0,!sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Mp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=u.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=Mi(w),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){u=g=T;continue e}w=w.parentNode}}u=u.return}Ys(function(){var $=g,Z=Hn(o),te=[];e:{var Y=Fv.get(i);if(Y!==void 0){var X=zi,me=i;switch(i){case"keypress":if(aa(o)===0)break e;case"keydown":case"keyup":X=sh;break;case"focusin":me="focus",X=la;break;case"focusout":me="blur",X=la;break;case"beforeblur":case"afterblur":X=la;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case Lv:case Uv:case zv:X=Wc;break;case Bv:X=A;break;case"scroll":case"scrollend":X=Fl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=cs;break;case"toggle":case"beforetoggle":X=Ce}var ve=(r&4)!==0,tt=!ve&&(i==="scroll"||i==="scrollend"),H=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var L=$,K;L!==null;){var J=L;if(K=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||K===null||H===null||(J=di(L,H),J!=null&&ve.push(_u(L,J,K))),tt)break;L=L.return}0<ve.length&&(Y=new X(Y,me,null,o,Z),te.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Ul&&(me=o.relatedTarget||o.fromElement)&&(Mi(me)||me[Di]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=$,me=me?Mi(me):null,me!==null&&(tt=l(me),ve=me.tag,me!==tt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(X=null,me=$),X!==me)){if(ve=Hl,J="onMouseLeave",H="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(ve=cs,J="onPointerLeave",H="onPointerEnter",L="pointer"),tt=X==null?Y:In(X),K=me==null?Y:In(me),Y=new ve(J,L+"leave",X,o,Z),Y.target=tt,Y.relatedTarget=K,J=null,Mi(Z)===$&&(ve=new ve(H,L+"enter",me,o,Z),ve.target=K,ve.relatedTarget=tt,J=ve),tt=J,X&&me)t:{for(ve=E2,H=X,L=me,K=0,J=H;J;J=ve(J))K++;J=0;for(var ge=L;ge;ge=ve(ge))J++;for(;0<K-J;)H=ve(H),K--;for(;0<J-K;)L=ve(L),J--;for(;K--;){if(H===L||L!==null&&H===L.alternate){ve=H;break t}H=ve(H),L=ve(L)}ve=null}else ve=null;X!==null&&cx(te,Y,X,ve,!1),me!==null&&tt!==null&&cx(te,tt,me,ve,!0)}}e:{if(Y=$?In($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qe=Rv;else if(wv(Y))if(Cv)qe=VC;else{qe=kC;var pe=DC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&to($.elementType)&&(qe=Rv):qe=MC;if(qe&&(qe=qe(i,$))){Av(te,qe,o,Z);break e}pe&&pe(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&jl(Y,"number",Y.value)}switch(pe=$?In($):window,i){case"focusin":(wv(pe)||pe.contentEditable==="true")&&(uo=pe,lm=$,Yl=null);break;case"focusout":Yl=lm=uo=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,jv(te,o,Z);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":jv(te,o,Z)}var ke;if(Ke)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else lo?ua(i,o)&&(Pe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Hi&&o.locale!=="ko"&&(lo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&lo&&(ke=Bl()):(Ui=Z,zl="value"in Ui?Ui.value:Ui.textContent,lo=!0)),pe=Yh($,Pe),0<pe.length&&(Pe=new Fi(Pe,i,null,o,Z),te.push({event:Pe,listeners:pe}),ke?Pe.data=ke:(ke=oo(o),ke!==null&&(Pe.data=ke)))),(ke=Gn?RC(i,o):CC(i,o))&&(Pe=Yh($,"onBeforeInput"),0<Pe.length&&(pe=new Fi("onBeforeInput","beforeinput",null,o,Z),te.push({event:pe,listeners:Pe}),pe.data=ke)),_2(te,i,$,o,Z)}lx(te,r)})}function _u(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Yh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=di(i,o),d!=null&&u.unshift(_u(i,d,g)),d=di(i,r),d!=null&&u.push(_u(i,d,g))),i.tag===3)return u;i=i.return}return[]}function E2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cx(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,O=w.alternate,$=w.stateNode;if(w=w.tag,O!==null&&O===u)break;w!==5&&w!==26&&w!==27||$===null||(O=$,d?($=di(o,g),$!=null&&T.unshift(_u(o,$,O))):d||($=di(o,g),$!=null&&T.push(_u(o,$,O)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var S2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function hx(i){return(typeof i=="string"?i:""+i).replace(S2,`
`).replace(w2,"")}function fx(i,r){return r=hx(r),hx(i)===r}function et(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":Ll(i,u,g);break;case"data":if(r!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=no(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",d.name,d,null),et(i,r,"formEncType",d.formEncType,d,null),et(i,r,"formMethod",d.formMethod,d,null),et(i,r,"formTarget",d.formTarget,d,null)):(et(i,r,"encType",d.encType,d,null),et(i,r,"method",d.method,d,null),et(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=no(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=fi);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=no(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),Ja(i,"popover",u);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ja(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yc.get(o)||o,Ja(i,o,u))}}function Vp(i,r,o,u,d,g){switch(o){case"style":Ll(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"onClick":u!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ja(i,o,u)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,g,T,o,null)}}d&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":Ve("invalid",i);var w=g=T=d=null,O=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":O=Z;break;case"defaultChecked":$=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:et(i,r,u,Z,o,null)}}Gc(i,g,w,O,$,T,d,!1);return;case"select":Ve("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:et(i,r,d,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?qs(i,!!u,r,!1):o!=null&&qs(i,!!u,o,!0);return;case"textarea":Ve("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(i,r,T,w,o,null)}Gs(i,u,d,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,O,u,o,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(u=0;u<vu.length;u++)Ve(vu[u],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,$,u,o,null)}return;default:if(to(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Vp(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&et(i,r,w,u,o,null))}function A2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,O=null,$=null,Z=null;for(X in o){var te=o[X];if(o.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=te;default:u.hasOwnProperty(X)||et(i,r,X,null,u,te)}}for(var Y in u){var X=u[Y];if(te=o[Y],u.hasOwnProperty(Y)&&(X!=null||te!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&et(i,r,Y,X,u,te)}}eo(i,T,w,O,$,Z,g,d);return;case"select":X=T=w=Y=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(g)||et(i,r,g,null,u,O)}for(d in u)if(g=u[d],O=o[d],u.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==O&&et(i,r,d,g,u,O)}r=w,o=T,u=X,Y!=null?qs(i,!!o,Y,!1):!!u!=!!o&&(r!=null?qs(i,!!o,r,!0):qs(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(i,r,w,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&et(i,r,T,d,u,g)}Kc(i,Y,X);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:et(i,r,me,null,u,Y)}for(O in u)if(Y=u[O],X=o[O],u.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null))switch(O){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(i,r,O,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&et(i,r,ve,null,u,Y);for($ in u)if(Y=u[$],X=o[$],u.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,$,Y,u,X)}return;default:if(to(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!u.hasOwnProperty(tt)&&Vp(i,r,tt,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Vp(i,r,Z,Y,u,X);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&et(i,r,H,null,u,Y);for(te in u)Y=u[te],X=o[te],!u.hasOwnProperty(te)||Y===X||Y==null&&X==null||et(i,r,te,Y,u,X)}function dx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&dx(T)){for(T=0,w=d.responseEnd,u+=1;u<o.length;u++){var O=o[u],$=O.startTime;if($>w)break;var Z=O.transferSize,te=O.initiatorType;Z&&dx(te)&&(O=O.responseEnd,T+=Z*(O<w?1:(w-$)/(O-$)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Op=null,jp=null;function Qh(i){return i.nodeType===9?i:i.ownerDocument}function mx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function px(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Pp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lp=null;function C2(){var i=window.event;return i&&i.type==="popstate"?i===Lp?!1:(Lp=i,!0):(Lp=null,!1)}var gx=typeof setTimeout=="function"?setTimeout:void 0,N2=typeof clearTimeout=="function"?clearTimeout:void 0,yx=typeof Promise=="function"?Promise:void 0,I2=typeof queueMicrotask=="function"?queueMicrotask:typeof yx<"u"?function(i){return yx.resolve(null).then(i).catch(D2)}:gx;function D2(i){setTimeout(function(){throw i})}function mr(i){return i==="head"}function vx(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Po(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")bu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,bu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[ki]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&bu(i.ownerDocument.body);o=d}while(o);Po(r)}function _x(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Up(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Up(o),Za(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function k2(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function M2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function bx(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Zn(i.nextSibling),i===null))return null;return i}function zp(i){return i.data==="$?"||i.data==="$~"}function Bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function V2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Zn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Fp=null;function xx(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Zn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Tx(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Ex(i,r,o){switch(r=Qh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function bu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Za(i)}var Jn=new Map,Sx=new Set;function Xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ws=re.d;re.d={f:O2,r:j2,D:P2,C:L2,L:U2,m:z2,X:F2,S:B2,M:H2};function O2(){var i=ws.f(),r=Bh();return i||r}function j2(i){var r=Fn(i);r!==null&&r.tag===5&&r.type==="form"?B_(r):ws.r(i)}var Vo=typeof document>"u"?null:document;function wx(i,r,o){var u=Vo;if(u&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Sx.has(d)||(Sx.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Jt(r,"link",i),Ct(r),u.head.appendChild(r)))}}function P2(i){ws.D(i),wx("dns-prefetch",i,null)}function L2(i,r){ws.C(i,r),wx("preconnect",i,r)}function U2(i,r,o){ws.L(i,r,o);var u=Vo;if(u&&i&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(i)+'"]';var g=d;switch(r){case"style":g=Oo(i);break;case"script":g=jo(i)}Jn.has(g)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(xu(g))||r==="script"&&u.querySelector(Tu(g))||(r=u.createElement("link"),Jt(r,"link",i),Ct(r),u.head.appendChild(r)))}}function z2(i,r){ws.m(i,r);var o=Vo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jo(i)}if(!Jn.has(g)&&(i=b({rel:"modulepreload",href:i},r),Jn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tu(g)))return}u=o.createElement("link"),Jt(u,"link",i),Ct(u),o.head.appendChild(u)}}}function B2(i,r,o){ws.S(i,r,o);var u=Vo;if(u&&i){var d=Vi(u).hoistableStyles,g=Oo(i);r=r||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(xu(g)))w.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(g))&&Hp(i,o);var O=T=u.createElement("link");Ct(O),Jt(O,"link",i),O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function F2(i,r){ws.X(i,r);var o=Vo;if(o&&i){var u=Vi(o).hoistableScripts,d=jo(i),g=u.get(d);g||(g=o.querySelector(Tu(d)),g||(i=b({src:i,async:!0},r),(r=Jn.get(d))&&qp(i,r),g=o.createElement("script"),Ct(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function H2(i,r){ws.M(i,r);var o=Vo;if(o&&i){var u=Vi(o).hoistableScripts,d=jo(i),g=u.get(d);g||(g=o.querySelector(Tu(d)),g||(i=b({src:i,async:!0,type:"module"},r),(r=Jn.get(d))&&qp(i,r),g=o.createElement("script"),Ct(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Ax(i,r,o,u){var d=(d=De.current)?Xh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Oo(o.href),o=Vi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Oo(o.href);var g=Vi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(xu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),g||q2(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jo(o),o=Vi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Oo(i){return'href="'+gn(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function Rx(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function q2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),Ct(r),i.head.appendChild(r))}function jo(i){return'[src="'+gn(i)+'"]'}function Tu(i){return"script[async]"+i}function Cx(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return r.instance=u,Ct(u),u;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),Jt(u,"style",d),Wh(u,o.precedence,i),r.instance=u;case"stylesheet":d=Oo(o.href);var g=i.querySelector(xu(d));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;u=Rx(o),(d=Jn.get(d))&&Hp(u,d),g=(i.ownerDocument||i).createElement("link"),Ct(g);var T=g;return T._p=new Promise(function(w,O){T.onload=w,T.onerror=O}),Jt(g,"link",u),r.state.loading|=4,Wh(g,o.precedence,i),r.instance=g;case"script":return g=jo(o.src),(d=i.querySelector(Tu(g)))?(r.instance=d,Ct(d),d):(u=o,(d=Jn.get(g))&&(u=b({},o),qp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ct(d),Jt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Wh(u,o.precedence,i));return r.instance}function Wh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Hp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function qp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Zh=null;function Nx(i,r,o){if(Zh===null){var u=new Map,d=Zh=new Map;d.set(o,u)}else d=Zh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[ki]||g[Rt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function Ix(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function G2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function K2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Oo(u.href),g=r.querySelector(xu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Jh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,u=Rx(u),(d=Jn.get(d))&&Hp(u,d),g=g.createElement("link"),Ct(g);var T=g;T._p=new Promise(function(w,O){T.onload=w,T.onerror=O}),Jt(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Jh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Gp=0;function $2(i,r){return i.stylesheets&&i.count===0&&tf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&tf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Gp===0&&(Gp=62500*R2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&tf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Gp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ef=null;function tf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ef=new Map,r.forEach(Y2,i),ef=null,Jh.call(i))}function Y2(i,r){if(!(r.state.loading&4)){var o=ef.get(i);if(o)var u=o.get(null);else{o=new Map,ef.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=Jh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Eu={$$typeof:B,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Q2(i,r,o,u,d,g,T,w,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function kx(i,r,o,u,d,g,T,w,O,$,Z,te){return i=new Q2(i,r,o,T,O,$,Z,te,w),r=1,g===!0&&(r|=24),g=Mn(3,null,null,r),i.current=g,g.stateNode=i,r=Sm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Cm(g),i}function Mx(i){return i?(i=fo,i):fo}function Vx(i,r,o,u,d,g){d=Mx(d),u.context===null?u.context=d:u.pendingContext=d,u=ir(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=sr(i,u,r),o!==null&&(Tn(o,i,r),tu(o,i,r))}function Ox(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Kp(i,r){Ox(i,r),(i=i.alternate)&&Ox(i,r)}function jx(i){if(i.tag===13||i.tag===31){var r=fa(i,67108864);r!==null&&Tn(r,i,67108864),Kp(i,67108864)}}function Px(i){if(i.tag===13||i.tag===31){var r=Ln();r=ea(r);var o=fa(i,r);o!==null&&Tn(o,i,r),Kp(i,r)}}var nf=!0;function X2(i,r,o,u){var d=W.T;W.T=null;var g=re.p;try{re.p=2,$p(i,r,o,u)}finally{re.p=g,W.T=d}}function W2(i,r,o,u){var d=W.T;W.T=null;var g=re.p;try{re.p=8,$p(i,r,o,u)}finally{re.p=g,W.T=d}}function $p(i,r,o,u){if(nf){var d=Yp(u);if(d===null)Mp(i,r,u,sf,o),Ux(i,u);else if(J2(d,i,r,o,u))u.stopPropagation();else if(Ux(i,u),r&4&&-1<Z2.indexOf(i)){for(;d!==null;){var g=Fn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ci(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var O=1<<31-bt(T);w.entanglements[1]|=O,T&=~O}$i(g),($e&6)===0&&(Uh=hn()+500,yu(0))}}break;case 31:case 13:w=fa(g,2),w!==null&&Tn(w,g,2),Bh(),Kp(g,2)}if(g=Yp(u),g===null&&Mp(i,r,u,sf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Mp(i,r,u,null,o)}}function Yp(i){return i=Hn(i),Qp(i)}var sf=null;function Qp(i){if(sf=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return sf=i,null}function Lx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case Al:return 2;case Rl:return 8;case Fs:case tm:return 32;case Oc:return 268435456;default:return 32}default:return 32}}var Xp=!1,pr=null,gr=null,yr=null,Su=new Map,wu=new Map,vr=[],Z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ux(i,r){switch(i){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Su.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function Au(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Fn(r),r!==null&&jx(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function J2(i,r,o,u,d){switch(r){case"focusin":return pr=Au(pr,i,r,o,u,d),!0;case"dragenter":return gr=Au(gr,i,r,o,u,d),!0;case"mouseover":return yr=Au(yr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Su.set(g,Au(Su.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,wu.set(g,Au(wu.get(g)||null,i,r,o,u,d)),!0}return!1}function zx(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ci(i.priority,function(){Px(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ci(i.priority,function(){Px(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Yp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ul=u,o.target.dispatchEvent(u),Ul=null}else return r=Fn(o),r!==null&&jx(r),i.blockedOn=o,!1;r.shift()}return!0}function Bx(i,r,o){rf(i)&&o.delete(r)}function eN(){Xp=!1,pr!==null&&rf(pr)&&(pr=null),gr!==null&&rf(gr)&&(gr=null),yr!==null&&rf(yr)&&(yr=null),Su.forEach(Bx),wu.forEach(Bx)}function af(i,r){i.blockedOn===r&&(i.blockedOn=null,Xp||(Xp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eN)))}var of=null;function Fx(i){of!==i&&(of=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){of===i&&(of=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Qp(u||o)===null)continue;break}var g=Fn(o);g!==null&&(i.splice(r,3),r-=3,Ym(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Po(i){function r(O){return af(O,i)}pr!==null&&af(pr,i),gr!==null&&af(gr,i),yr!==null&&af(yr,i),Su.forEach(r),wu.forEach(r);for(var o=0;o<vr.length;o++){var u=vr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<vr.length&&(o=vr[0],o.blockedOn===null);)zx(o),o.blockedOn===null&&vr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[qt]||null;if(typeof g=="function")T||Fx(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[qt]||null)w=T.formAction;else if(Qp(d)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Fx(o)}}}function Hx(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Wp(i){this._internalRoot=i}lf.prototype.render=Wp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ln();Vx(o,u,i,r,null,null)},lf.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Vx(i.current,2,null,i,null,null),Bh(),r[Di]=null}};function lf(i){this._internalRoot=i}lf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Bc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<vr.length&&r!==0&&r<vr[o].priority;o++);vr.splice(o,0,i),o===0&&zx(i)}};var qx=e.version;if(qx!=="19.2.1")throw Error(s(527,qx,"19.2.1"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var tN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{li=uf.inject(tN),Yt=uf}catch{}}return Cu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=W_,g=Z_,T=J_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=kx(i,1,!1,null,null,o,u,null,d,g,T,Hx),i[Di]=r.current,kp(i),new Wp(r)},Cu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=W_,T=Z_,w=J_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=kx(i,1,!0,r,o??null,u,d,O,g,T,w,Hx),r.context=Mx(null),o=r.current,u=Ln(),u=ea(u),d=ir(u),d.callback=null,sr(o,d,u),o=u,r.current.lanes=o,Zr(r,o),$i(r),i[Di]=r.current,kp(i),new lf(r)},Cu.version="19.2.1",Cu}var eT;function fN(){if(eT)return eg.exports;eT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=hN(),eg.exports}var dN=fN();const mN=ow(dN);var tT="popstate";function pN(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Pg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yu(a)}return yN(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gN(){return Math.random().toString(36).substring(2,10)}function nT(t,e){return{usr:t.state,key:t.key,idx:e}}function Pg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:n,key:e&&e.key||s||gN()}}function Yu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function yN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let M=v(),z=M==null?null:M-p;p=M,m&&m({action:f,location:D.location,delta:z})}function x(M,z){f="PUSH";let q=Pg(D.location,M,z);p=v()+1;let B=nT(q,p),ae=D.createHref(q);try{c.pushState(B,"",ae)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ae)}l&&m&&m({action:f,location:D.location,delta:1})}function S(M,z){f="REPLACE";let q=Pg(D.location,M,z);p=v();let B=nT(q,p),ae=D.createHref(q);c.replaceState(B,"",ae),l&&m&&m({action:f,location:D.location,delta:0})}function N(M){return vN(M)}let D={get action(){return f},get location(){return t(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(tT,b),m=M,()=>{a.removeEventListener(tT,b),m=null}},createHref(M){return e(a,M)},createURL:N,encodeLocation(M){let z=N(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:S,go(M){return c.go(M)}};return D}function vN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Yu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function lw(t,e,n="/"){return _N(t,e,n,!1)}function _N(t,e,n,s){let a=typeof e=="string"?ll(e):e,l=Ds(a.pathname||"/",n);if(l==null)return null;let c=uw(t);bN(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=DN(l);f=NN(c[m],p,s)}return f}function uw(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Cs([s,v.relativePath]),x=n.concat(v);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),uw(c.children,e,x,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:RN(b,c.index),routesMeta:x})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of cw(c.path))l(c,f,!0,m)}),e}function cw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=cw(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function bN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var xN=/^:[\w-]+$/,TN=3,EN=2,SN=1,wN=10,AN=-2,iT=t=>t==="*";function RN(t,e){let n=t.split("/"),s=n.length;return n.some(iT)&&(s+=AN),e&&(s+=EN),n.filter(a=>!iT(a)).reduce((a,l)=>a+(xN.test(l)?TN:l===""?SN:wN),s)}function CN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function NN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Gf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Gf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Cs([l,b.pathname]),pathnameBase:jN(Cs([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Cs([l,b.pathnameBase]))}return c}function Gf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=IN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},x)=>{if(v==="*"){let N=f[x]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=f[x];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function IN(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function DN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var kN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MN=t=>kN.test(t);function VN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ll(t):t,l;if(n)if(MN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=sT(n.substring(1),"/"):l=sT(n,e)}else l=e;return{pathname:l,search:PN(s),hash:LN(a)}}function sT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ON(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ly(t){let e=ON(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Uy(t,e,n,s=!1){let a;typeof t=="string"?a=ll(t):(a={...t},ht(!a.pathname||!a.pathname.includes("?"),sg("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),sg("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),sg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}f=b>=0?e[b]:"/"}let m=VN(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),jN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function zN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hw=["POST","PUT","PATCH","DELETE"];new Set(hw);var BN=["GET",...hw];new Set(BN);var ul=C.createContext(null);ul.displayName="DataRouter";var xd=C.createContext(null);xd.displayName="DataRouterState";C.createContext(!1);var fw=C.createContext({isTransitioning:!1});fw.displayName="ViewTransition";var FN=C.createContext(new Map);FN.displayName="Fetchers";var HN=C.createContext(null);HN.displayName="Await";var ai=C.createContext(null);ai.displayName="Navigation";var mc=C.createContext(null);mc.displayName="Location";var oi=C.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var zy=C.createContext(null);zy.displayName="RouteError";function qN(t,{relative:e}={}){ht(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(ai),{hash:a,pathname:l,search:c}=pc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Cs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function cl(){return C.useContext(mc)!=null}function Ls(){return ht(cl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(mc).location}var dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mw(t){C.useContext(ai).static||C.useLayoutEffect(t)}function Us(){let{isDataRoute:t}=C.useContext(oi);return t?aI():GN()}function GN(){ht(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ul),{basename:e,navigator:n}=C.useContext(ai),{matches:s}=C.useContext(oi),{pathname:a}=Ls(),l=JSON.stringify(Ly(s)),c=C.useRef(!1);return mw(()=>{c.current=!0}),C.useCallback((m,p={})=>{if(ri(c.current,dw),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=Uy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Cs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var KN=C.createContext(null);function $N(t){let e=C.useContext(oi).outlet;return C.useMemo(()=>e&&C.createElement(KN.Provider,{value:t},e),[e,t])}function YN(){let{matches:t}=C.useContext(oi),e=t[t.length-1];return e?e.params:{}}function pc(t,{relative:e}={}){let{matches:n}=C.useContext(oi),{pathname:s}=Ls(),a=JSON.stringify(Ly(n));return C.useMemo(()=>Uy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function QN(t,e){return pw(t,e)}function pw(t,e,n,s,a){ht(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(ai),{matches:c}=C.useContext(oi),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let q=b&&b.path||"";gw(p,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let x=Ls(),S;if(e){let q=typeof e=="string"?ll(e):e;ht(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=x;let N=S.pathname||"/",D=N;if(v!=="/"){let q=v.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(q.length).join("/")}let M=lw(t,{pathname:D});ri(b||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ri(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=eI(M&&M.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Cs([v,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Cs([v,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a);return e&&z?C.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function XN(){let t=rI(),e=UN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,c)}var WN=C.createElement(XN,null),ZN=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(oi.Provider,{value:this.props.routeContext},C.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JN({routeContext:t,match:e,children:n}){let s=C.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(oi.Provider,{value:t},n)}function eI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);ht(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:x,errors:S}=n,N=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||N){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zN(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,x)=>{let S,N=!1,D=null,M=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,D=b.route.errorElement||WN,f&&(m<0&&x===0?(gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,M=null):m===x&&(N=!0,M=b.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,x+1)),q=()=>{let B;return S?B=D:N?B=M:b.route.Component?B=C.createElement(b.route.Component,null):b.route.element?B=b.route.element:B=v,C.createElement(JN,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:B})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?C.createElement(ZN,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):q()},null)}function By(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tI(t){let e=C.useContext(ul);return ht(e,By(t)),e}function nI(t){let e=C.useContext(xd);return ht(e,By(t)),e}function iI(t){let e=C.useContext(oi);return ht(e,By(t)),e}function Fy(t){let e=iI(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sI(){return Fy("useRouteId")}function rI(){let t=C.useContext(zy),e=nI("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:e.errors?.[n]}function aI(){let{router:t}=tI("useNavigate"),e=Fy("useNavigate"),n=C.useRef(!1);return mw(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{ri(n.current,dw),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var rT={};function gw(t,e,n){!e&&!rT[t]&&(rT[t]=!0,ri(!1,n))}C.memo(oI);function oI({routes:t,future:e,state:n,unstable_onError:s}){return pw(t,void 0,n,s,e)}function Oa({to:t,replace:e,state:n,relative:s}){ht(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(ai);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(oi),{pathname:c}=Ls(),f=Us(),m=Uy(t,Ly(l),c,s==="path"),p=JSON.stringify(m);return C.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Hy(t){return $N(t.context)}function gt(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ht(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=ll(n));let{pathname:p="/",search:v="",hash:b="",state:x=null,key:S="default"}=n,N=C.useMemo(()=>{let D=Ds(p,f);return D==null?null:{location:{pathname:D,search:v,hash:b,state:x,key:S},navigationType:s}},[f,p,v,b,x,S,s]);return ri(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:C.createElement(ai.Provider,{value:m},C.createElement(mc.Provider,{children:e,value:N}))}function uI({children:t,location:e}){return QN(Lg(t),e)}function Lg(t,e=[]){let n=[];return C.Children.forEach(t,(s,a)=>{if(!C.isValidElement(s))return;let l=[...e,a];if(s.type===C.Fragment){n.push.apply(n,Lg(s.props.children,l));return}ht(s.type===gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Lg(s.props.children,l)),n.push(c)}),n}var Nf="get",If="application/x-www-form-urlencoded";function Td(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function cI(t){return Td(t)&&t.tagName.toLowerCase()==="button"}function hI(t){return Td(t)&&t.tagName.toLowerCase()==="form"}function fI(t){return Td(t)&&t.tagName.toLowerCase()==="input"}function dI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mI(t,e){return t.button===0&&(!e||e==="_self")&&!dI(t)}var cf=null;function pI(){if(cf===null)try{new FormData(document.createElement("form"),0),cf=!1}catch{cf=!0}return cf}var gI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(t){return t!=null&&!gI.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):t}function yI(t,e){let n,s,a,l,c;if(hI(t)){let f=t.getAttribute("action");s=f?Ds(f,e):null,n=t.getAttribute("method")||Nf,a=rg(t.getAttribute("enctype"))||If,l=new FormData(t)}else if(cI(t)||fI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Ds(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Nf,a=rg(t.getAttribute("formenctype"))||rg(f.getAttribute("enctype"))||If,l=new FormData(f,t),!pI()){let{name:p,type:v,value:b}=t;if(v==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,b)}}else{if(Td(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,s=null,a=If,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ds(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _I(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await _I(l,n);return c.links?c.links():[]}return[]}));return wI(s.flat(1).filter(bI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aT(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function TI(t,e,{includeHydrateFallback:n}={}){return EI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function EI(t){return[...new Set(t)]}function SI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function wI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(SI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function yw(){let t=C.useContext(ul);return qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AI(){let t=C.useContext(xd);return qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gy=C.createContext(void 0);Gy.displayName="FrameworkContext";function vw(){let t=C.useContext(Gy);return qy(t,"You must render this element inside a <HydratedRouter> element"),t}function RI(t,e){let n=C.useContext(Gy),[s,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,x=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=z=>{z.forEach(q=>{c(q.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[t]),C.useEffect(()=>{if(s){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[s]);let S=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Nu(f,S),onBlur:Nu(m,N),onMouseEnter:Nu(p,S),onMouseLeave:Nu(v,N),onTouchStart:Nu(b,S)}]:[!1,x,{}]}function Nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CI({page:t,...e}){let{router:n}=yw(),s=C.useMemo(()=>lw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?C.createElement(II,{page:t,matches:s,...e}):null}function NI(t){let{manifest:e,routeModules:n}=vw(),[s,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return xI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function II({page:t,matches:e,...n}){let s=Ls(),{manifest:a,routeModules:l}=vw(),{basename:c}=yw(),{loaderData:f,matches:m}=AI(),p=C.useMemo(()=>aT(t,e,m,a,s,"data"),[t,e,m,a,s]),v=C.useMemo(()=>aT(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,D=!1;if(e.forEach(z=>{let q=a.routes[z.route.id];!q||!q.hasLoader||(!p.some(B=>B.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||q.hasClientLoader?D=!0:N.add(z.route.id))}),N.size===0)return[];let M=vI(t,c,"data");return D&&N.size>0&&M.searchParams.set("_routes",e.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[M.pathname+M.search]},[c,f,s,a,p,e,t,l]),x=C.useMemo(()=>TI(v,a),[v,a]),S=NI(v);return C.createElement(C.Fragment,null,b.map(N=>C.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),x.map(N=>C.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),S.map(({key:N,link:D})=>C.createElement("link",{key:N,nonce:n.nonce,...D})))}function DI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_w&&(window.__reactRouterVersion="7.10.1")}catch{}function kI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=C.useRef();a.current==null&&(a.current=pN({window:s,v5Compat:!0}));let l=a.current,[c,f]=C.useState({action:l.action,location:l.location}),m=C.useCallback(p=>{n===!1?f(p):C.startTransition(()=>f(p))},[n]);return C.useLayoutEffect(()=>l.listen(m),[l,m]),C.createElement(lI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:b,...x},S){let{basename:N,unstable_useTransitions:D}=C.useContext(ai),M=typeof p=="string"&&bw.test(p),z,q=!1;if(typeof p=="string"&&M&&(z=p,_w))try{let P=new URL(window.location.href),j=p.startsWith("//")?new URL(P.protocol+p):new URL(p),F=Ds(j.pathname,N);j.origin===P.origin&&F!=null?p=F+j.search+j.hash:q=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=qN(p,{relative:a}),[ae,se,oe]=RI(s,x),I=jI(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_useTransitions:D});function R(P){e&&e(P),P.defaultPrevented||I(P)}let k=C.createElement("a",{...x,...oe,href:z||B,onClick:q||l?e:R,ref:DI(S,se),target:m,"data-discover":!M&&n==="render"?"true":void 0});return ae&&!M?C.createElement(C.Fragment,null,k,C.createElement(CI,{page:B})):k});Rn.displayName="Link";var MI=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let b=pc(c,{relative:p.relative}),x=Ls(),S=C.useContext(xd),{navigator:N,basename:D}=C.useContext(ai),M=S!=null&&BI(b)&&f===!0,z=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,q=x.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),B=B?B.toLowerCase():null,z=z.toLowerCase()),B&&D&&(B=Ds(B,D)||B);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let se=q===z||!a&&q.startsWith(z)&&q.charAt(ae)==="/",oe=B!=null&&(B===z||!a&&B.startsWith(z)&&B.charAt(z.length)==="/"),I={isActive:se,isPending:oe,isTransitioning:M},R=se?e:void 0,k;typeof s=="function"?k=s(I):k=[s,se?"active":null,oe?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(I):l;return C.createElement(Rn,{...p,"aria-current":R,className:k,ref:v,style:P,to:c,viewTransition:f},typeof m=="function"?m(I):m)});MI.displayName="NavLink";var VI=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Nf,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,...x},S)=>{let{unstable_useTransitions:N}=C.useContext(ai),D=UI(),M=zI(f,{relative:p}),z=c.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&bw.test(f),B=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let se=ae.nativeEvent.submitter,oe=se?.getAttribute("formmethod")||c,I=()=>D(se||ae.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b});N&&n!==!1?C.startTransition(()=>I()):I()};return C.createElement("form",{ref:S,method:z,action:M,onSubmit:s?m:B,...x,"data-discover":!q&&t==="render"?"true":void 0})});VI.displayName="Form";function OI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(t){let e=C.useContext(ul);return ht(e,OI(t)),e}function jI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let m=Us(),p=Ls(),v=pc(t,{relative:l});return C.useCallback(b=>{if(mI(b,e)){b.preventDefault();let x=n!==void 0?n:Yu(p)===Yu(v),S=()=>m(t,{replace:x,state:s,preventScrollReset:a,relative:l,viewTransition:c});f?C.startTransition(()=>S()):S()}},[p,m,v,n,s,e,t,a,l,c,f])}var PI=0,LI=()=>`__${String(++PI)}__`;function UI(){let{router:t}=xw("useSubmit"),{basename:e}=C.useContext(ai),n=sI(),s=t.fetch,a=t.navigate;return C.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:v,body:b}=yI(l,e);if(c.navigate===!1){let x=c.fetcherKey||LI();await s(x,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function zI(t,{relative:e}={}){let{basename:n}=C.useContext(ai),s=C.useContext(oi);ht(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...pc(t||".",{relative:e})},c=Ls();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Cs([n,l.pathname])),Yu(l)}function BI(t,{relative:e}={}){let n=C.useContext(fw);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xw("useViewTransitionState"),a=pc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ds(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ds(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gf(a.pathname,c)!=null||Gf(a.pathname,l)!=null}const FI=()=>{};var oT={};const Tw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},HI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(x=64)),s.push(n[v],n[b],n[x],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new qI;const x=l<<2|f>>4;if(s.push(x),p!==64){const S=f<<4&240|p>>2;if(s.push(S),b!==64){const N=p<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(t){const e=Tw(t);return Ew.encodeByteArray(e,!0)},Kf=function(t){return GI(t).replace(/\./g,"")},Sw=function(t){try{return Ew.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $I=()=>KI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sw(t[1]);return e&&JSON.parse(e)},Ed=()=>{try{return FI()||$I()||YI()||QI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ww=t=>Ed()?.emulatorHosts?.[t],Aw=t=>{const e=ww(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Rw=()=>Ed()?.config,Cw=t=>Ed()?.[`_${t}`];class XI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Fr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ky(t){return(await fetch(t,{credentials:"include"})).ok}function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kf(JSON.stringify(n)),Kf(JSON.stringify(c)),""].join(".")}const Lu={};function ZI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function JI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lT=!1;function $y(t,e){if(typeof window>"u"||typeof document>"u"||!Fr(window.location.host)||Lu[t]===e||Lu[t]||lT)return;Lu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=ZI().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{lT=!0,c()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=JI(s),S=n("text"),N=document.getElementById(S)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),z=n("preprendIcon"),q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;f(B),v(M,D);const ae=p();m(q,z),B.append(q,N,M,ae),document.body.appendChild(B)}l?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function tD(){const t=Ed()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rD(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aD(){return!tD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oD(){try{return typeof indexedDB=="object"}catch{return!1}}function lD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const uD="FirebaseError";class as extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uD,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?cD(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new as(a,f,s)}}function cD(t,e){return t.replace(hD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const hD=/\{\$([^}]+)}/g;function fD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ja(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(uT(l)&&uT(c)){if(!ja(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function uT(t){return t!==null&&typeof t=="object"}function yc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Du(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dD(t,e){const n=new mD(t,e);return n.subscribe.bind(n)}class mD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=ag),a.error===void 0&&(a.error=ag),a.complete===void 0&&(a.complete=ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}function _t(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class gD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vD(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yD(t){return t===Aa?void 0:t}function vD(t){return t.instantiationMode==="EAGER"}class _D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const bD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},xD=Le.INFO,TD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ED=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=TD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yy{constructor(e){this.name=e,this._logLevel=xD,this._logHandler=ED,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const SD=(t,e)=>e.some(n=>t instanceof n);let cT,hT;function wD(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AD(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nw=new WeakMap,Ug=new WeakMap,Iw=new WeakMap,og=new WeakMap,Qy=new WeakMap;function RD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Nr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Nw.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}function CD(t){if(Ug.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Ug.set(t,e)}let zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Iw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ND(t){zg=t(zg)}function ID(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(lg(this),e,...n);return Iw.set(s,e.sort?e.sort():[e]),Nr(s)}:AD().includes(t)?function(...e){return t.apply(lg(this),e),Nr(Nw.get(this))}:function(...e){return Nr(t.apply(lg(this),e))}}function DD(t){return typeof t=="function"?ID(t):(t instanceof IDBTransaction&&CD(t),SD(t,wD())?new Proxy(t,zg):t)}function Nr(t){if(t instanceof IDBRequest)return RD(t);if(og.has(t))return og.get(t);const e=DD(t);return e!==t&&(og.set(t,e),Qy.set(e,t)),e}const lg=t=>Qy.get(t);function kD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Nr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Nr(c.result),m.oldVersion,m.newVersion,Nr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const MD=["get","getKey","getAll","getAllKeys","count"],VD=["put","add","delete","clear"],ug=new Map;function fT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=VD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||MD.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return ug.set(e,l),l}ND(t=>({...t,get:(e,n,s)=>fT(e,n)||t.get(e,n,s),has:(e,n)=>!!fT(e,n)||t.has(e,n)}));class OD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jD(t){return t.getComponent()?.type==="VERSION"}const Bg="@firebase/app",dT="0.14.6";const ks=new Yy("@firebase/app"),PD="@firebase/app-compat",LD="@firebase/analytics-compat",UD="@firebase/analytics",zD="@firebase/app-check-compat",BD="@firebase/app-check",FD="@firebase/auth",HD="@firebase/auth-compat",qD="@firebase/database",GD="@firebase/data-connect",KD="@firebase/database-compat",$D="@firebase/functions",YD="@firebase/functions-compat",QD="@firebase/installations",XD="@firebase/installations-compat",WD="@firebase/messaging",ZD="@firebase/messaging-compat",JD="@firebase/performance",ek="@firebase/performance-compat",tk="@firebase/remote-config",nk="@firebase/remote-config-compat",ik="@firebase/storage",sk="@firebase/storage-compat",rk="@firebase/firestore",ak="@firebase/ai",ok="@firebase/firestore-compat",lk="firebase",uk="12.6.0";const Fg="[DEFAULT]",ck={[Bg]:"fire-core",[PD]:"fire-core-compat",[UD]:"fire-analytics",[LD]:"fire-analytics-compat",[BD]:"fire-app-check",[zD]:"fire-app-check-compat",[FD]:"fire-auth",[HD]:"fire-auth-compat",[qD]:"fire-rtdb",[GD]:"fire-data-connect",[KD]:"fire-rtdb-compat",[$D]:"fire-fn",[YD]:"fire-fn-compat",[QD]:"fire-iid",[XD]:"fire-iid-compat",[WD]:"fire-fcm",[ZD]:"fire-fcm-compat",[JD]:"fire-perf",[ek]:"fire-perf-compat",[tk]:"fire-rc",[nk]:"fire-rc-compat",[ik]:"fire-gcs",[sk]:"fire-gcs-compat",[rk]:"fire-fst",[ok]:"fire-fst-compat",[ak]:"fire-vertex","fire-js":"fire-js",[lk]:"fire-js-all"};const Qu=new Map,hk=new Map,Hg=new Map;function mT(t,e){try{t.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pa(t){const e=t.name;if(Hg.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of Qu.values())mT(n,t);for(const n of hk.values())mT(n,t);return!0}function Sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}const fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new gc("app","Firebase",fk);class dk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const hl=uk;function Dw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Fg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ir.create("bad-app-name",{appName:String(a)});if(n||(n=Rw()),!n)throw Ir.create("no-options");const l=Qu.get(a);if(l){if(ja(n,l.options)&&ja(s,l.config))return l;throw Ir.create("duplicate-app",{appName:a})}const c=new _D(a);for(const m of Hg.values())c.addComponent(m);const f=new dk(n,s,c);return Qu.set(a,f),f}function wd(t=Fg){const e=Qu.get(t);if(!e&&t===Fg&&Rw())return Dw();if(!e)throw Ir.create("no-app",{appName:t});return e}function mk(){return Array.from(Qu.values())}function Qi(t,e,n){let s=ck[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}Pa(new Mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pk="firebase-heartbeat-database",gk=1,Xu="firebase-heartbeat-store";let cg=null;function kw(){return cg||(cg=kD(pk,gk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),cg}async function yk(t){try{const n=(await kw()).transaction(Xu),s=await n.objectStore(Xu).get(Mw(t));return await n.done,s}catch(e){if(e instanceof as)ks.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e?.message});ks.warn(n.message)}}}async function pT(t,e){try{const s=(await kw()).transaction(Xu,"readwrite");await s.objectStore(Xu).put(e,Mw(t)),await s.done}catch(n){if(n instanceof as)ks.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n?.message});ks.warn(s.message)}}}function Mw(t){return`${t.name}!${t.options.appId}`}const vk=1024,_k=30;class bk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_k){const a=Ek(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gT(),{heartbeatsToSend:n,unsentEntries:s}=xk(this._heartbeatsCache.heartbeats),a=Kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ks.warn(e),""}}}function gT(){return new Date().toISOString().substring(0,10)}function xk(t,e=vk){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Tk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oD()?lD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yT(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function Ek(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Sk(t){Pa(new Mr("platform-logger",e=>new OD(e),"PRIVATE")),Pa(new Mr("heartbeat",e=>new bk(e),"PRIVATE")),Qi(Bg,dT,t),Qi(Bg,dT,"esm2020"),Qi("fire-js","")}Sk("");function Vw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wk=Vw,Ow=new gc("auth","Firebase",Vw());const $f=new Yy("@firebase/auth");function Ak(t,...e){$f.logLevel<=Le.WARN&&$f.warn(`Auth (${hl}): ${t}`,...e)}function Df(t,...e){$f.logLevel<=Le.ERROR&&$f.error(`Auth (${hl}): ${t}`,...e)}function Ei(t,...e){throw Xy(t,...e)}function Xi(t,...e){return Xy(t,...e)}function jw(t,e,n){const s={...wk(),[e]:n};return new gc("auth","Firebase",s).create(e,{appName:t.name})}function Ns(t){return jw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ow.create(t,...e)}function be(t,e,...n){if(!t)throw Xy(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Df(e),new Error(e)}function Ms(t,e){t||As(e)}function qg(){return typeof self<"u"&&self.location?.href||""}function Rk(){return vT()==="http:"||vT()==="https:"}function vT(){return typeof self<"u"&&self.location?.protocol||null}function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rk()||iD()||"connection"in navigator)?navigator.onLine:!0}function Nk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=eD()||sD()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wy(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Pw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ik={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Dk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kk=new vc(3e4,6e4);function Hr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qr(t,e,n,s,a={}){return Lw(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=yc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return nD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Fr(t.emulatorConfig.host)&&(p.credentials="include"),Pw.fetch()(await Uw(t,t.config.apiHost,n,f),p)})}async function Lw(t,e,n){t._canInitEmulator=!1;const s={...Ik,...e};try{const a=new Vk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw hf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw hf(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jw(t,v,p);Ei(t,v)}}catch(a){if(a instanceof as)throw a;Ei(t,"network-request-failed",{message:String(a)})}}async function _c(t,e,n,s,a={}){const l=await qr(t,e,n,s,a);return"mfaPendingCredential"in l&&Ei(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Uw(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Wy(t.config,a):`${t.config.apiScheme}://${a}`;return Dk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Mk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),kk.get())})}}function hf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Xi(t,e,s);return a.customData._tokenResponse=n,a}function _T(t){return t!==void 0&&t.enterprise!==void 0}class Ok{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jk(t,e){return qr(t,"GET","/v2/recaptchaConfig",Hr(t,e))}async function Pk(t,e){return qr(t,"POST","/v1/accounts:delete",e)}async function Yf(t,e){return qr(t,"POST","/v1/accounts:lookup",e)}function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lk(t,e=!1){const n=_t(t),s=await n.getIdToken(e),a=Zy(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Uu(hg(a.auth_time)),issuedAtTime:Uu(hg(a.iat)),expirationTime:Uu(hg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hg(t){return Number(t)*1e3}function Zy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const a=Sw(n);return a?JSON.parse(a):(Df("Failed to decode base64 JWT payload"),null)}catch(a){return Df("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bT(t){const e=Zy(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof as&&Uk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Uk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class zk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qf(t){const e=t.auth,n=await t.getIdToken(),s=await Wu(t,Yf(e,{idToken:n}));be(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?zw(a.providerUserInfo):[],c=Fk(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function Bk(t){const e=_t(t);await Qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function zw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Hk(t,e){const n=await Lw(t,{},async()=>{const s=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Uw(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Fr(t.emulatorConfig.host)&&(m.credentials="include"),Pw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qk(t,e){return qr(t,"POST","/v2/accounts:revokeToken",Hr(t,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=bT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Hk(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Yo;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return As("not implemented")}}function br(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new zk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lk(this,e)}reload(){return Bk(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Wu(this,Pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:S,providerData:N,stsTokenManager:D}=n;be(b&&D,e,"internal-error");const M=Yo.fromJSON(this.name,D);be(typeof b=="string",e,"internal-error"),br(s,e.name),br(a,e.name),be(typeof x=="boolean",e,"internal-error"),be(typeof S=="boolean",e,"internal-error"),br(l,e.name),br(c,e.name),br(f,e.name),br(m,e.name),br(p,e.name),br(v,e.name);const z=new Ti({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:M,createdAt:p,lastLoginAt:v});return N&&Array.isArray(N)&&(z.providerData=N.map(q=>({...q}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new Yo;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Qf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Yo;f.updateFromIdToken(s);const m=new Ti({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const xT=new Map;function Rs(t){Ms(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}class Bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bw.type="NONE";const TT=Bw;function kf(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=kf(this.userKey,a.apiKey,l),this.fullPersistenceKey=kf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yf(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qo(Rs(TT),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Rs(TT);const c=kf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const x=await Yf(e,{idToken:v}).catch(()=>{});if(!x)break;b=await Ti._fromGetAccountInfoResponse(e,x,v)}else b=Ti._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Qo(l,e,s))}}function ET(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($w(e))return"Blackberry";if(Yw(e))return"Webos";if(Hw(e))return"Safari";if((e.includes("chrome/")||qw(e))&&!e.includes("edge/"))return"Chrome";if(Kw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Fw(t=cn()){return/firefox\//i.test(t)}function Hw(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qw(t=cn()){return/crios\//i.test(t)}function Gw(t=cn()){return/iemobile/i.test(t)}function Kw(t=cn()){return/android/i.test(t)}function $w(t=cn()){return/blackberry/i.test(t)}function Yw(t=cn()){return/webos/i.test(t)}function Jy(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gk(t=cn()){return Jy(t)&&!!window.navigator?.standalone}function Kk(){return rD()&&document.documentMode===10}function Qw(t=cn()){return Jy(t)||Kw(t)||Yw(t)||$w(t)||/windows phone/i.test(t)||Gw(t)}function Xw(t,e=[]){let n;switch(t){case"Browser":n=ET(cn());break;case"Worker":n=`${ET(cn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${s}`}class $k{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Yk(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Hr(t,e))}const Qk=6;class Xk{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Qk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Wk{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ST(this),this.idTokenSubscription=new ST(this),this.beforeStateQueue=new $k(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yf(this,{idToken:e}),s=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Ns(this));const n=e?_t(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yk(this),n=new Xk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ak(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(t){return _t(t)}class ST{constructor(e){this.auth=e,this.observer=null,this.addObserver=dD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zk(t){Ad=t}function Ww(t){return Ad.loadJS(t)}function Jk(){return Ad.recaptchaEnterpriseScript}function eM(){return Ad.gapiScript}function tM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sM="recaptcha-enterprise",Zw="NO_RECAPTCHA";class rM{constructor(e){this.type=sM,this.auth=Ha(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{jk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ok(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;_T(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Zw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&_T(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Jk();m.length!==0&&(m+=f),Ww(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function wT(t,e,n,s=!1,a=!1){const l=new rM(t);let c;if(a)c=Zw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Kg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await wT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wT(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function aM(t,e){const n=Sd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ja(l,e??{}))return a;Ei(a,"already-initialized")}return n.initialize({options:e})}function oM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function lM(t,e,n){const s=Ha(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Jw(e),{host:c,port:f}=uM(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ja(p,s.config.emulator)&&ja(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Fr(c)?(Ky(`${l}//${c}${m}`),$y("Auth",!0)):cM()}function Jw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uM(t){const e=Jw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:AT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:AT(c)}}}function AT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class e0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function hM(t,e){return qr(t,"POST","/v1/accounts:signUp",e)}async function fM(t,e){return _c(t,"POST","/v1/accounts:signInWithPassword",Hr(t,e))}async function dM(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}async function mM(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}class Zu extends e0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Zu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kg(e,n,"signInWithPassword",fM);case"emailLink":return dM(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kg(e,s,"signUpPassword",hM);case"emailLink":return mM(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xo(t,e){return _c(t,"POST","/v1/accounts:signInWithIdp",Hr(t,e))}const pM="http://localhost";class La extends e0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new La(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}function gM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yM(t){const e=Du(ku(t)).link,n=e?Du(ku(e)).deep_link_id:null,s=Du(ku(t)).deep_link_id;return(s?Du(ku(s)).link:null)||s||n||e||t}class t0{constructor(e){const n=Du(ku(e)),s=n.apiKey??null,a=n.oobCode??null,l=gM(n.mode??null);be(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yM(e);try{return new t0(n)}catch{return null}}}class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return Zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=t0.parseLink(n);return be(s,"argument-error"),Zu._fromEmailAndCode(e,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bc extends eA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends bc{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class wr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Ar extends bc{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";class Rr extends bc{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";async function vM(t,e){return _c(t,"POST","/v1/accounts:signUp",Hr(t,e))}class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ti._fromIdTokenResponse(e,s,a),c=RT(s);return new Ua({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=RT(s);return new Ua({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function RT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Xf extends as{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Xf(e,n,s,a)}}function tA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,l,e,s):l})}async function _M(t,e,n=!1){const s=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ua._forOperation(t,"link",s)}async function bM(t,e,n=!1){const{auth:s}=t;if(Un(s.app))return Promise.reject(Ns(s));const a="reauthenticate";try{const l=await Wu(t,tA(s,a,e,t),n);be(l.idToken,s,"internal-error");const c=Zy(l.idToken);be(c,s,"internal-error");const{sub:f}=c;return be(t.uid===f,s,"user-mismatch"),Ua._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),l}}async function nA(t,e,n=!1){if(Un(t.app))return Promise.reject(Ns(t));const s="signIn",a=await tA(t,s,e),l=await Ua._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function xM(t,e){return nA(Ha(t),e)}async function iA(t){const e=Ha(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TM(t,e,n){if(Un(t.app))return Promise.reject(Ns(t));const s=Ha(t),c=await Kg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&iA(t),m}),f=await Ua._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function EM(t,e,n){return Un(t.app)?Promise.reject(Ns(t)):xM(_t(t),fl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iA(t),s})}function SM(t,e,n,s){return _t(t).onIdTokenChanged(e,n,s)}function wM(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function AM(t,e,n,s){return _t(t).onAuthStateChanged(e,n,s)}function RM(t){return _t(t).signOut()}const Wf="__sak";class sA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CM=1e3,NM=10;class rA extends sA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Kk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,NM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const IM=rA;class aA extends sA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aA.type="SESSION";const oA=aA;function DM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await DM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];function n0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class kM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=n0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Wi(){return window}function MM(t){Wi().location.href=t}function lA(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function VM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OM(){return navigator?.serviceWorker?.controller||null}function jM(){return lA()?self:null}const uA="firebaseLocalStorageDb",PM=1,Zf="firebaseLocalStorage",cA="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function LM(){const t=indexedDB.deleteDatabase(uA);return new xc(t).toPromise()}function $g(){const t=indexedDB.open(uA,PM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Zf,{keyPath:cA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Zf)?e(s):(s.close(),await LM(),e(await $g()))})})}async function CT(t,e,n){const s=Cd(t,!0).put({[cA]:e,value:n});return new xc(s).toPromise()}async function UM(t,e){const n=Cd(t,!1).get(e),s=await new xc(n).toPromise();return s===void 0?null:s.value}function NT(t,e){const n=Cd(t,!0).delete(e);return new xc(n).toPromise()}const zM=800,BM=3;class hA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>BM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(jM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VM(),!this.activeServiceWorker)return;this.sender=new kM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $g();return await CT(e,Wf,"1"),await NT(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>CT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Cd(a,!1).getAll();return new xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hA.type="LOCAL";const FM=hA;new vc(3e4,6e4);function HM(t,e){return e?Rs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class i0 extends e0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qM(t){return nA(t.auth,new i0(t),t.bypassAuthState)}function GM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),bM(n,new i0(t),t.bypassAuthState)}async function KM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),_M(n,new i0(t),t.bypassAuthState)}class fA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qM;case"linkViaPopup":case"linkViaRedirect":return KM;case"reauthViaPopup":case"reauthViaRedirect":return GM;default:Ei(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $M=new vc(2e3,1e4);class Fo extends fA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=n0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$M.get())};e()}}Fo.currentPopupAction=null;const YM="pendingRedirect",Mf=new Map;class QM extends fA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const s=await XM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XM(t,e){const n=JM(e),s=ZM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function WM(t,e){Mf.set(t._key(),e)}function ZM(t){return Rs(t._redirectPersistence)}function JM(t){return kf(YM,t.config.apiKey,t.name)}async function eV(t,e,n=!1){if(Un(t.app))return Promise.reject(Ns(t));const s=Ha(t),a=HM(s,e),c=await new QM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const tV=600*1e3;class nV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tV&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function iV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(t);default:return!1}}async function sV(t,e={}){return qr(t,"GET","/v1/projects",e)}const rV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aV=/^https?/;async function oV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sV(t);for(const n of e)try{if(lV(n))return}catch{}Ei(t,"unauthorized-domain")}function lV(t){const e=qg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!aV.test(n))return!1;if(rV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const uV=new vc(3e4,6e4);function DT(){const t=Wi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cV(t){return new Promise((e,n)=>{function s(){DT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DT(),n(Xi(t,"network-request-failed"))},timeout:uV.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const a=tM("iframefcb");return Wi()[a]=()=>{gapi.load?s():n(Xi(t,"network-request-failed"))},Ww(`${eM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function hV(t){return Vf=Vf||cV(t),Vf}const fV=new vc(5e3,15e3),dV="__/auth/iframe",mV="emulator/auth/iframe",pV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yV(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wy(e,mV):`https://${t.config.authDomain}/${dV}`,s={apiKey:e.apiKey,appName:t.name,v:hl},a=gV.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${yc(s).slice(1)}`}async function vV(t){const e=await hV(t),n=Wi().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:yV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Xi(t,"network-request-failed"),f=Wi().setTimeout(()=>{l(c)},fV.get());function m(){Wi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const _V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bV=500,xV=600,TV="_blank",EV="http://localhost";class kT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SV(t,e,n,s=bV,a=xV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={..._V,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(f=qw(p)?TV:n),Fw(p)&&(e=e||EV,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[S,N])=>`${x}${S}=${N},`,"");if(Gk(p)&&f!=="_self")return wV(e||"",f),new kT(null);const b=window.open(e||"",f,v);be(b,t,"popup-blocked");try{b.focus()}catch{}return new kT(b)}function wV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const AV="__/auth/handler",RV="emulator/auth/handler",CV=encodeURIComponent("fac");async function MT(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:hl,eventId:a};if(e instanceof eA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",fD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof bc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${CV}=${encodeURIComponent(m)}`:"";return`${NV(t)}?${yc(f).slice(1)}${p}`}function NV({config:t}){return t.emulator?Wy(t,RV):`https://${t.authDomain}/${AV}`}const fg="webStorageSupport";class IV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=eV,this._overrideRedirectResult=WM}async _openPopup(e,n,s,a){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await MT(e,n,s,qg(),a);return SV(e,l,n0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await MT(e,n,s,qg(),a);return MM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vV(e),s=new nV(e);return n.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},a=>{const l=a?.[0]?.[fg];l!==void 0&&n(!!l),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qw()||Hw()||Jy()}}const DV=IV;var VT="@firebase/auth",OT="1.11.1";class kV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VV(t){Pa(new Mr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xw(t)},p=new Wk(s,a,l,m);return oM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Pa(new Mr("auth-internal",e=>{const n=Ha(e.getProvider("auth").getImmediate());return(s=>new kV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(VT,OT,MV(t)),Qi(VT,OT,"esm2020")}const OV=300,jV=Cw("authIdTokenMaxAge")||OV;let jT=null;const PV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jV)return;const a=n?.token;jT!==a&&(jT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function LV(t=wd()){const e=Sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aM(t,{popupRedirectResolver:DV,persistence:[FM,IM,oA]}),s=Cw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=PV(l.toString());wM(n,c,()=>c(n.currentUser)),SM(n,f=>c(f))}}const a=ww("auth");return a&&lM(n,`http://${a}`),n}function UV(){return document.getElementsByTagName("head")?.[0]??document}Zk({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Xi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",UV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VV("Browser");var zV="firebase",BV="12.6.0";Qi(zV,BV,"app");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dr,mA;(function(){var t;function e(I,R){function k(){}k.prototype=R.prototype,I.F=R.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(P,j,F){for(var V=Array(arguments.length-2),we=2;we<arguments.length;we++)V[we-2]=arguments[we];return R.prototype[j].apply(P,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,k){k||(k=0);const P=Array(16);if(typeof R=="string")for(var j=0;j<16;++j)P[j]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(j=0;j<16;++j)P[j]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=I.g[0],k=I.g[1],j=I.g[2];let F=I.g[3],V;V=R+(F^k&(j^F))+P[0]+3614090360&4294967295,R=k+(V<<7&4294967295|V>>>25),V=F+(j^R&(k^j))+P[1]+3905402710&4294967295,F=R+(V<<12&4294967295|V>>>20),V=j+(k^F&(R^k))+P[2]+606105819&4294967295,j=F+(V<<17&4294967295|V>>>15),V=k+(R^j&(F^R))+P[3]+3250441966&4294967295,k=j+(V<<22&4294967295|V>>>10),V=R+(F^k&(j^F))+P[4]+4118548399&4294967295,R=k+(V<<7&4294967295|V>>>25),V=F+(j^R&(k^j))+P[5]+1200080426&4294967295,F=R+(V<<12&4294967295|V>>>20),V=j+(k^F&(R^k))+P[6]+2821735955&4294967295,j=F+(V<<17&4294967295|V>>>15),V=k+(R^j&(F^R))+P[7]+4249261313&4294967295,k=j+(V<<22&4294967295|V>>>10),V=R+(F^k&(j^F))+P[8]+1770035416&4294967295,R=k+(V<<7&4294967295|V>>>25),V=F+(j^R&(k^j))+P[9]+2336552879&4294967295,F=R+(V<<12&4294967295|V>>>20),V=j+(k^F&(R^k))+P[10]+4294925233&4294967295,j=F+(V<<17&4294967295|V>>>15),V=k+(R^j&(F^R))+P[11]+2304563134&4294967295,k=j+(V<<22&4294967295|V>>>10),V=R+(F^k&(j^F))+P[12]+1804603682&4294967295,R=k+(V<<7&4294967295|V>>>25),V=F+(j^R&(k^j))+P[13]+4254626195&4294967295,F=R+(V<<12&4294967295|V>>>20),V=j+(k^F&(R^k))+P[14]+2792965006&4294967295,j=F+(V<<17&4294967295|V>>>15),V=k+(R^j&(F^R))+P[15]+1236535329&4294967295,k=j+(V<<22&4294967295|V>>>10),V=R+(j^F&(k^j))+P[1]+4129170786&4294967295,R=k+(V<<5&4294967295|V>>>27),V=F+(k^j&(R^k))+P[6]+3225465664&4294967295,F=R+(V<<9&4294967295|V>>>23),V=j+(R^k&(F^R))+P[11]+643717713&4294967295,j=F+(V<<14&4294967295|V>>>18),V=k+(F^R&(j^F))+P[0]+3921069994&4294967295,k=j+(V<<20&4294967295|V>>>12),V=R+(j^F&(k^j))+P[5]+3593408605&4294967295,R=k+(V<<5&4294967295|V>>>27),V=F+(k^j&(R^k))+P[10]+38016083&4294967295,F=R+(V<<9&4294967295|V>>>23),V=j+(R^k&(F^R))+P[15]+3634488961&4294967295,j=F+(V<<14&4294967295|V>>>18),V=k+(F^R&(j^F))+P[4]+3889429448&4294967295,k=j+(V<<20&4294967295|V>>>12),V=R+(j^F&(k^j))+P[9]+568446438&4294967295,R=k+(V<<5&4294967295|V>>>27),V=F+(k^j&(R^k))+P[14]+3275163606&4294967295,F=R+(V<<9&4294967295|V>>>23),V=j+(R^k&(F^R))+P[3]+4107603335&4294967295,j=F+(V<<14&4294967295|V>>>18),V=k+(F^R&(j^F))+P[8]+1163531501&4294967295,k=j+(V<<20&4294967295|V>>>12),V=R+(j^F&(k^j))+P[13]+2850285829&4294967295,R=k+(V<<5&4294967295|V>>>27),V=F+(k^j&(R^k))+P[2]+4243563512&4294967295,F=R+(V<<9&4294967295|V>>>23),V=j+(R^k&(F^R))+P[7]+1735328473&4294967295,j=F+(V<<14&4294967295|V>>>18),V=k+(F^R&(j^F))+P[12]+2368359562&4294967295,k=j+(V<<20&4294967295|V>>>12),V=R+(k^j^F)+P[5]+4294588738&4294967295,R=k+(V<<4&4294967295|V>>>28),V=F+(R^k^j)+P[8]+2272392833&4294967295,F=R+(V<<11&4294967295|V>>>21),V=j+(F^R^k)+P[11]+1839030562&4294967295,j=F+(V<<16&4294967295|V>>>16),V=k+(j^F^R)+P[14]+4259657740&4294967295,k=j+(V<<23&4294967295|V>>>9),V=R+(k^j^F)+P[1]+2763975236&4294967295,R=k+(V<<4&4294967295|V>>>28),V=F+(R^k^j)+P[4]+1272893353&4294967295,F=R+(V<<11&4294967295|V>>>21),V=j+(F^R^k)+P[7]+4139469664&4294967295,j=F+(V<<16&4294967295|V>>>16),V=k+(j^F^R)+P[10]+3200236656&4294967295,k=j+(V<<23&4294967295|V>>>9),V=R+(k^j^F)+P[13]+681279174&4294967295,R=k+(V<<4&4294967295|V>>>28),V=F+(R^k^j)+P[0]+3936430074&4294967295,F=R+(V<<11&4294967295|V>>>21),V=j+(F^R^k)+P[3]+3572445317&4294967295,j=F+(V<<16&4294967295|V>>>16),V=k+(j^F^R)+P[6]+76029189&4294967295,k=j+(V<<23&4294967295|V>>>9),V=R+(k^j^F)+P[9]+3654602809&4294967295,R=k+(V<<4&4294967295|V>>>28),V=F+(R^k^j)+P[12]+3873151461&4294967295,F=R+(V<<11&4294967295|V>>>21),V=j+(F^R^k)+P[15]+530742520&4294967295,j=F+(V<<16&4294967295|V>>>16),V=k+(j^F^R)+P[2]+3299628645&4294967295,k=j+(V<<23&4294967295|V>>>9),V=R+(j^(k|~F))+P[0]+4096336452&4294967295,R=k+(V<<6&4294967295|V>>>26),V=F+(k^(R|~j))+P[7]+1126891415&4294967295,F=R+(V<<10&4294967295|V>>>22),V=j+(R^(F|~k))+P[14]+2878612391&4294967295,j=F+(V<<15&4294967295|V>>>17),V=k+(F^(j|~R))+P[5]+4237533241&4294967295,k=j+(V<<21&4294967295|V>>>11),V=R+(j^(k|~F))+P[12]+1700485571&4294967295,R=k+(V<<6&4294967295|V>>>26),V=F+(k^(R|~j))+P[3]+2399980690&4294967295,F=R+(V<<10&4294967295|V>>>22),V=j+(R^(F|~k))+P[10]+4293915773&4294967295,j=F+(V<<15&4294967295|V>>>17),V=k+(F^(j|~R))+P[1]+2240044497&4294967295,k=j+(V<<21&4294967295|V>>>11),V=R+(j^(k|~F))+P[8]+1873313359&4294967295,R=k+(V<<6&4294967295|V>>>26),V=F+(k^(R|~j))+P[15]+4264355552&4294967295,F=R+(V<<10&4294967295|V>>>22),V=j+(R^(F|~k))+P[6]+2734768916&4294967295,j=F+(V<<15&4294967295|V>>>17),V=k+(F^(j|~R))+P[13]+1309151649&4294967295,k=j+(V<<21&4294967295|V>>>11),V=R+(j^(k|~F))+P[4]+4149444226&4294967295,R=k+(V<<6&4294967295|V>>>26),V=F+(k^(R|~j))+P[11]+3174756917&4294967295,F=R+(V<<10&4294967295|V>>>22),V=j+(R^(F|~k))+P[2]+718787259&4294967295,j=F+(V<<15&4294967295|V>>>17),V=k+(F^(j|~R))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+F&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const k=R-this.blockSize,P=this.C;let j=this.h,F=0;for(;F<R;){if(j==0)for(;F<=k;)a(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<R;)if(P[j++]=I.charCodeAt(F++),j==this.blockSize){a(this,P),j=0;break}}else for(;F<R;)if(P[j++]=I[F++],j==this.blockSize){a(this,P),j=0;break}}this.h=j,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,k=0;k<4;++k)for(let P=0;P<32;P+=8)I[R++]=this.g[k]>>>P&255;return I};function l(I,R){var k=f;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=R(I)}function c(I,R){this.h=R;const k=[];let P=!0;for(let j=I.length-1;j>=0;j--){const F=I[j]|0;P&&F==R||(k[j]=F,P=!1)}this.g=k}var f={};function m(I){return-128<=I&&I<128?l(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return M(p(-I));const R=[];let k=1;for(let P=0;I>=k;P++)R[P]=I/k|0,k*=4294967296;return new c(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return M(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(R,8));let P=b;for(let F=0;F<I.length;F+=8){var j=Math.min(8,I.length-F);const V=parseInt(I.substring(F,F+j),R);j<8?(j=p(Math.pow(R,j)),P=P.j(j).add(p(V))):(P=P.j(k),P=P.add(p(V)))}return P}var b=m(0),x=m(1),S=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-M(this).m();let I=0,R=1;for(let k=0;k<this.g.length;k++){const P=this.i(k);I+=(P>=0?P:4294967296+P)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(D(this))return"-"+M(this).toString(I);const R=p(Math.pow(I,6));var k=this;let P="";for(;;){const j=ae(k,R).g;k=z(k,j.j(R));let F=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=j,N(k))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=z(this,I),D(I)?-1:N(I)?0:1};function M(I){const R=I.g.length,k=[];for(let P=0;P<R;P++)k[P]=~I.g[P];return new c(k,~I.h).add(x)}t.abs=function(){return D(this)?M(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),k=[];let P=0;for(let j=0;j<=R;j++){let F=P+(this.i(j)&65535)+(I.i(j)&65535),V=(F>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);P=V>>>16,F&=65535,V&=65535,k[j]=V<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function z(I,R){return I.add(M(R))}t.j=function(I){if(N(this)||N(I))return b;if(D(this))return D(I)?M(this).j(M(I)):M(M(this).j(I));if(D(I))return M(this.j(M(I)));if(this.l(S)<0&&I.l(S)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,k=[];for(var P=0;P<2*R;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(let j=0;j<I.g.length;j++){const F=this.i(P)>>>16,V=this.i(P)&65535,we=I.i(j)>>>16,_e=I.i(j)&65535;k[2*P+2*j]+=V*_e,q(k,2*P+2*j),k[2*P+2*j+1]+=F*_e,q(k,2*P+2*j+1),k[2*P+2*j+1]+=V*we,q(k,2*P+2*j+1),k[2*P+2*j+2]+=F*we,q(k,2*P+2*j+2)}for(I=0;I<R;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=R;I<2*R;I++)k[I]=0;return new c(k,0)};function q(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function B(I,R){this.g=I,this.h=R}function ae(I,R){if(N(R))throw Error("division by zero");if(N(I))return new B(b,b);if(D(I))return R=ae(M(I),R),new B(M(R.g),M(R.h));if(D(R))return R=ae(I,M(R)),new B(M(R.g),R.h);if(I.g.length>30){if(D(I)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var k=x,P=R;P.l(I)<=0;)k=se(k),P=se(P);var j=oe(k,1),F=oe(P,1);for(P=oe(P,2),k=oe(k,2);!N(P);){var V=F.add(P);V.l(I)<=0&&(j=j.add(k),F=V),P=oe(P,1),k=oe(k,1)}return R=z(I,j.j(R)),new B(j,R)}for(j=b;I.l(R)>=0;){for(k=Math.max(1,Math.floor(I.m()/R.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=p(k),V=F.j(R);D(V)||V.l(I)>0;)k-=P,F=p(k),V=F.j(R);N(F)&&(F=x),j=j.add(F),I=z(I,V)}return new B(j,I)}t.B=function(I){return ae(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),k=[];for(let P=0;P<R;P++)k[P]=this.i(P)&I.i(P);return new c(k,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),k=[];for(let P=0;P<R;P++)k[P]=this.i(P)|I.i(P);return new c(k,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),k=[];for(let P=0;P<R;P++)k[P]=this.i(P)^I.i(P);return new c(k,this.h^I.h)};function se(I){const R=I.g.length+1,k=[];for(let P=0;P<R;P++)k[P]=I.i(P)<<1|I.i(P-1)>>>31;return new c(k,I.h)}function oe(I,R){const k=R>>5;R%=32;const P=I.g.length-k,j=[];for(let F=0;F<P;F++)j[F]=R>0?I.i(F+k)>>>R|I.i(F+k+1)<<32-R:I.i(F+k);return new c(j,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Dr=c}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pA,Mu,gA,Of,Yg,yA,vA,_A;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in E))break e;E=E[G]}h=h[h.length-1],A=E[h],_=_(A),_!=A&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function p(h,_,E){return p=m,p.apply(null,arguments)}function v(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,G,Q){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return _.prototype[G].apply(A,le)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const _=h.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=h[A];return E}return[]}function N(h,_){for(let A=1;A<arguments.length;A++){const G=arguments[A];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=h.length||0;const Q=G.length||0;h.length=E+Q;for(let le=0;le<Q;le++)h[E+le]=G[le]}else h.push(G)}}class D{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){c.setTimeout(()=>{throw h},0)}function z(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,E){const A=B.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var B=new D(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,oe=!1,I=new q,R=()=>{const h=Promise.resolve(void 0);se=()=>{h.then(k)}};function k(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){M(E)}var _=B;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}oe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function we(h,_){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(we,j),we.prototype.init=function(h,_){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),W=0;function re(h,_,E,A,G){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=G,this.key=++W,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,_,E){for(const A in h)_.call(E,h[A],A,h)}function Oe(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function U(h){const _={};for(const E in h)_[E]=h[E];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,_){let E,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(E in A)h[E]=A[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,E,A,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=De(h,_,A,G);return le>-1?(_=h[le],E||(_.fa=!1)):(_=new re(_,this.src,Q,!!A,G),_.fa=E,h.push(_)),_};function Ee(h,_){const E=_.type;if(E in h.g){var A=h.g[E],G=Array.prototype.indexOf.call(A,_,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(A,G,1),Q&&(he(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,_,E,A){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==A)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ut={};function ot(h,_,E,A,G){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)ot(h,_[Q],E,A,G);return null}return E=wl(E),h&&h[_e]?h.J(_,E,f(A)?!!A.capture:!1,G):Yr(h,_,E,!1,A,G)}function Yr(h,_,E,A,G,Q){if(!_)throw Error("Invalid event type");const le=f(G)?!!G.capture:!!G;let Ce=Qr(h);if(Ce||(h[Fe]=Ce=new de(h)),E=Ce.add(_,E,A,le,Q),E.proxy)return E;if(A=$a(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)F||(G=le),G===void 0&&(G=!1),h.addEventListener(_.toString(),A,G);else if(h.attachEvent)h.attachEvent(Ai(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $a(){function h(E){return _.call(h.src,h.listener,E)}const _=El;return h}function Ya(h,_,E,A,G){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)Ya(h,_[Q],E,A,G);else A=f(A)?!!A.capture:!!A,E=wl(E),h&&h[_e]?(h=h.i,Q=String(_).toString(),Q in h.g&&(_=h.g[Q],E=De(_,E,A,G),E>-1&&(he(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Qr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=De(_,E,A,G)),(E=h>-1?_[h]:null)&&Qa(E))}function Qa(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[_e])Ee(_.i,h);else{var E=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(E,A,h.capture):_.detachEvent?_.detachEvent(Ai(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Qr(_))?(Ee(E,h),E.h==0&&(E.src=null,_[Fe]=null)):he(h)}}}function Ai(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function El(h,_){if(h.da)h=!0;else{_=new we(_,this);const E=h.listener,A=h.ha||h.src;h.fa&&Qa(h),h=E.call(A,_)}return h}function Qr(h){return h=h[Fe],h instanceof de?h:null}var Sl="__closure_events_fn_"+(Math.random()*1e9>>>0);function wl(h){return typeof h=="function"?h:(h[Sl]||(h[Sl]=function(_){return h.handleEvent(_)}),h[Sl])}function wt(){P.call(this),this.i=new de(this),this.M=this,this.G=null}b(wt,P),wt.prototype[_e]=!0,wt.prototype.removeEventListener=function(h,_,E,A){Ya(this,h,_,E,A)};function zt(h,_){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new j(_,h);else if(_ instanceof j)_.target=_.target||h;else{var G=_;_=new j(A,h),ue(_,G)}G=!0;let Q,le;if(E)for(le=E.length-1;le>=0;le--)Q=_.g=E[le],G=Bs(Q,A,!0,_)&&G;if(Q=_.g=h,G=Bs(Q,A,!0,_)&&G,G=Bs(Q,A,!1,_)&&G,E)for(le=0;le<E.length;le++)Q=_.g=E[le],G=Bs(Q,A,!1,_)&&G}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let A=0;A<E.length;A++)he(E[A]);delete h.g[_],h.h--}}this.G=null},wt.prototype.J=function(h,_,E,A){return this.i.add(String(h),_,!1,E,A)},wt.prototype.K=function(h,_,E,A){return this.i.add(String(h),_,!0,E,A)};function Bs(h,_,E,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Q=0;Q<_.length;++Q){const le=_[Q];if(le&&!le.da&&le.capture==E){const Ce=le.listener,xt=le.ha||le.src;le.fa&&Ee(h.i,le),G=Ce.call(xt,A)!==!1&&G}}return G&&!A.defaultPrevented}function em(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Vc(h){h.g=em(()=>{h.g=null,h.i&&(h.i=!1,Vc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class hn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Vc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(h){P.call(this),this.h=h,this.g={}}b(Xr,P);var Al=[];function Rl(h){Ie(h.g,function(_,E){this.g.hasOwnProperty(E)&&Qa(_)},h),h.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Rl(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=c.JSON.stringify,tm=c.JSON.parse,Oc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function jc(){}function Pc(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){j.call(this,"d")}b(Yt,j);function Bn(){j.call(this,"c")}b(Bn,j);var bt={},Lc=null;function Xa(){return Lc=Lc||new wt}bt.Ia="serverreachability";function Uc(h){j.call(this,bt.Ia,h)}b(Uc,j);function Ri(h){const _=Xa();zt(_,new Uc(_))}bt.STAT_EVENT="statevent";function Wr(h,_){j.call(this,bt.STAT_EVENT,h),this.stat=_}b(Wr,j);function At(h){const _=Xa();zt(_,new Wr(_,h))}bt.Ja="timingevent";function Ci(h,_){j.call(this,bt.Ja,h),this.size=_}b(Ci,j);function Ni(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function nm(h,_,E,A,G,Q){h.info(function(){if(h.g)if(Q){var le="",Ce=Q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var xt=Ce[Ke].split("=");if(xt.length>1){const lt=xt[0];xt=xt[1];const Gn=lt.split("_");le=Gn.length>=2&&Gn[1]=="type"?le+(lt+"="+xt+"&"):le+(lt+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+_+`
`+E+`
`+le})}function zc(h,_,E,A,G,Q,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+_+`
`+E+`
`+Q+" "+le})}function Ii(h,_,E,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+im(h,E)+(A?" "+A:"")})}function Zr(h,_){h.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function im(h,_){if(!h.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Fs(Q)}catch{return _}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function ea(){}b(ea,jc),ea.prototype.g=function(){return new XMLHttpRequest},Nl=new ea;function os(h){return encodeURIComponent(String(h))}function Bc(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function ci(h,_,E,A){this.j=h,this.i=_,this.l=E,this.S=A||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function Di(h,_,E){h.M=1,h.A=ta(Nt(_)),h.u=E,h.R=!0,Wa(h,null)}function Wa(h,_){h.F=Date.now(),ki(h),h.B=Nt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),to(E.i,"t",A),h.C=0,E=h.j.L,h.h=new hi,h.g=nh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),_=h.V,E=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Al[0]=G.toString()),G=Al);for(let Q=0;Q<G.length;Q++){const le=ot(E,G[Q],A||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ri(),nm(h.i,h.v,h.B,h.l,h.S,h.u)}ci.prototype.ba=function(h){h=h.target;const _=this.O;_&&mi(h)==3?_.j():this.Y(h)},ci.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=mi(this.g),xt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ce!=4||xt==7||(xt==8||Ke<=0?Ri(3):Ri(2)),Mi(this);var _=this.g.ca();this.X=_;var E=sm(this);if(this.o=_==200,zc(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(A)){var Q=A;break t}}Q=null}if(h=Q)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,At(12),In(this),Fn(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Hc(this,E),lt==qt){Ce==4&&(this.m=4,At(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Rt){this.m=4,At(15),Ii(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,lt,null),Vi(this,lt);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),Fn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ql(le),le.P=!0,At(11))}}else Ii(this.i,this.l,E,null),Vi(this,E);Ce==4&&In(this),this.o&&!this.K&&(Ce==4?Zc(this.j,this):(this.o=!1,ki(this)))}else us(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),In(this),Fn(this)}}}catch{}finally{}};function sm(h){if(!Fc(h))return h.g.la();const _=Qt(h.g);if(_==="")return"";let E="";const A=_.length,G=mi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),Fn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,E+=h.h.i.decode(_[Q],{stream:!(G&&Q==A-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Fc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Hc(h,_){var E=h.C,A=_.indexOf(`
`,E);return A==-1?qt:(E=Number(_.substring(E,A)),isNaN(E)?Rt:(A+=1,A+E>_.length?qt:(_=_.slice(A,A+E),h.C=A+E,_)))}ci.prototype.cancel=function(){this.K=!0,In(this)};function ki(h){h.T=Date.now()+h.H,Za(h,h.H)}function Za(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ni(p(h.aa,h),_)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ci.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Zr(this.i,this.B),this.M!=2&&(Ri(),At(17)),In(this),this.m=2,Fn(this)):Za(this,this.T-h)};function Fn(h){h.j.I==0||h.K||Zc(h.j,h)}function In(h){Mi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Rl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Vi(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||ji(E.h,h))){if(!h.L&&ji(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ao(E),Xs(E);else break e;la(E),At(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ni(p(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((h.L||E.g==h)&&ao(E),!V(_))for(G=E.Ba.g.parse(_),_=0;_<G.length;_++){let Ke=G[_];const lt=Ke[0];if(!(lt<=E.K))if(E.K=lt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Gn=Ke[3];Gn!=null&&(E.ka=Gn,E.j.info("VER="+E.ka));const Hi=Ke[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const pi=Ke[5];pi!=null&&typeof pi=="number"&&pi>0&&(A=1.5*pi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const gi=h.g;if(gi){const ua=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var Q=A.h;Q.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(kl(Q,Q.h),Q.h=null))}if(A.G){const oo=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(A.wa=oo,Qe(A.J,A.G,oo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var le=h;if(A.na=th(A,A.L?A.ba:null,A.W),le.L){Ml(A.h,le);var Ce=le,xt=A.O;xt&&(Ce.H=xt),Ce.D&&(Mi(Ce),ki(Ce)),A.g=le}else Xc(A);E.i.length>0&&Bi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Fi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Fi(E,7):Fl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Ri(4)}catch{}}var Ct=class{constructor(h,_){this.g=h,this.map=_}};function Il(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oi(h){return h.h?1:h.g?h.g.size:0}function ji(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function kl(h,_){h.g?h.g.add(_):h.h=_}function Ml(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Il.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Vl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return S(h.i)}var qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let G,Q=null;A>=0?(G=h[E].substring(0,A),Q=h[E].substring(A+1)):G=h[E],_(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Dn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Hs(this,h.u),this.h=h.h,Ol(this,Yc(h.i)),this.m=h.m):h&&(_=String(h).match(qc))?(this.l=!1,Gt(this,_[1]||"",!0),this.o=Pi(_[2]||""),this.g=Pi(_[3]||"",!0),Hs(this,_[4]),this.h=Pi(_[5]||"",!0),Ol(this,_[6]||"",!0),this.m=Pi(_[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Dn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(na(_,eo,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(na(_,eo,!0),"@"),h.push(os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(na(E,E.charAt(0)=="/"?jl:Gc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",na(E,Kc)),h.join("")},Dn.prototype.resolve=function(h){const _=Nt(this);let E=!!h.j;E?Gt(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var A=h.h;if(E)Hs(_,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=_.h.lastIndexOf("/");G!=-1&&(A=_.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let le=0;le<G.length;){const Ce=G[le++];Ce=="."?A&&le==G.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&le==G.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=G}return E?_.h=A:E=h.i.toString()!=="",E?Ol(_,Yc(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Nt(h){return new Dn(h)}function Gt(h,_,E){h.j=E?Pi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Hs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Ol(h,_,E){_ instanceof Gs?(h.i=_,no(h.i,h.l)):(E||(_=na(_,qs)),h.i=new Gs(_,h.l))}function Qe(h,_,E){h.i.set(_,E)}function ta(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Pi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function na(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,Gc=/[#\?:]/g,jl=/[#\?]/g,qs=/[#\?@]/g,Kc=/#/g;function Gs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ja(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Gs.prototype,t.add=function(h,_){yn(this),this.i=null,h=Ks(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function $c(h,_){yn(h),_=Ks(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Pl(h,_){return yn(h),_=Ks(h,_),h.g.has(_)}t.forEach=function(h,_){yn(this),this.g.forEach(function(E,A){E.forEach(function(G){h.call(_,G,A,this)},this)},this)};function Ll(h,_){yn(h);let E=[];if(typeof _=="string")Pl(h,_)&&(E=E.concat(h.g.get(Ks(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return yn(this),this.i=null,h=Ks(this,h),Pl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Ll(this,h),h.length>0?String(h[0]):_):_};function to(h,_,E){$c(h,_),E.length>0&&(h.i=null,h.g.set(Ks(h,_),S(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const G=os(E);E=Ll(this,E);for(let Q=0;Q<E.length;Q++){let le=G;E[Q]!==""&&(le+="="+os(E[Q])),h.push(le)}}return this.i=h.join("&")};function Yc(h){const _=new Gs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ks(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function no(h,_){_&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,A){const G=A.toLowerCase();A!=G&&($c(this,A),to(this,G,E))},h)),h.j=_}function fi(h,_){const E=new ui;if(c.Image){const A=new Image;A.onload=v(Hn,E,"TestLoadImage: loaded",!0,_,A),A.onerror=v(Hn,E,"TestLoadImage: error",!1,_,A),A.onabort=v(Hn,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=v(Hn,E,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Ul(h,_){const E=new ui,A=new AbortController,G=setTimeout(()=>{A.abort(),Hn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(G),Q.ok?Hn(E,"TestPingServer: ok",!0,_):Hn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Hn(E,"TestPingServer: error",!1,_)})}function Hn(h,_,E,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(E)}catch{}}function $s(){this.g=new Oc}function Li(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Li,jc),Li.prototype.g=function(){return new ia(this.i,this.h)};function ia(h,_){wt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ia,wt),t=ia.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,di(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ys(this):di(this),this.readyState==3&&io(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ys(this))},t.Na=function(h){this.g&&(this.response=h,Ys(this))},t.ga=function(){this.g&&Ys(this)};function Ys(h){h.readyState=4,h.l=null,h.j=null,h.B=null,di(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let _="";return Ie(h,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function sa(h,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=qn(E),typeof h=="string"?E!=null&&os(E):Qe(h,_,E))}function Ze(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,wt);var Ui=/^https?$/i,zl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){ra(this,Q);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)E.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(zl,_,void 0)>=0)||A||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of E)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ra(this,Q)}};function ra(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Bl(h),ls(h)}function Bl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?aa(this):this.Xa())},t.Xa=function(){aa(this)};function aa(h){if(h.h&&typeof l<"u"){if(h.v&&mi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),mi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=Q===0){let le=String(h.D).match(qc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!Ui.test(le?le.toLowerCase():"")}E=A}if(E)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var G=mi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Bl(h)}}finally{ls(h)}}}}function ls(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||zt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),tm(_)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function us(h){const _={};h=(h.g&&mi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(V(h[A]))continue;var E=Bc(h[A]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[G]||[];_[G]=Q,Q.push(E)}Oe(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Qs(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Il(h&&h.concurrentRequestLimit),this.Ba=new $s,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qs.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,A){At(0),this.W=h,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=th(this,null,this.W),Bi(this)};function Fl(h){if(so(h),h.I==3){var _=h.V++,E=Nt(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",_),Qe(E,"TYPE","terminate"),oa(h,E),_=new ci(h,h.j,_),_.M=2,_.A=ta(Nt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=nh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ki(_)}eh(h)}function Xs(h){h.g&&(ql(h),h.g.cancel(),h.g=null)}function so(h){Xs(h),h.v&&(c.clearTimeout(h.v),h.v=null),ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Bi(h){if(!Dl(h.h)&&!h.m){h.m=!0;var _=h.Ea;se||R(),oe||(se(),oe=!0),I.add(_,h),h.D=0}}function ro(h,_){return Oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ni(p(h.Ea,h,_),Jc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new ci(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Qc(this,G,_),E=Nt(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),oa(this,E),Q&&(this.R?_="headers="+os(qn(Q))+"&"+_:this.u&&sa(E,this.u,Q)),kl(this.h,G),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",_),Qe(E,"SID","null"),G.U=!0,Di(G,E,null)):Di(G,E,_),this.I=2}}else this.I==3&&(h?Hl(this,h):this.i.length==0||Dl(this.h)||Hl(this))};function Hl(h,_){var E;_?E=_.l:E=h.V++;const A=Nt(h.J);Qe(A,"SID",h.M),Qe(A,"RID",E),Qe(A,"AID",h.K),oa(h,A),h.u&&h.o&&sa(A,h.u,h.o),E=new ci(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Qc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),kl(h.h,E),Di(E,A,_)}function oa(h,_){h.H&&Ie(h.H,function(E,A){Qe(_,A,E)}),h.l&&Ie({},function(E,A){Qe(_,A,E)})}function Qc(h,_,E){E=Math.min(h.i.length,E);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ce=-1;for(;;){const xt=["count="+E];Ce==-1?E>0?(Ce=G[0].g,xt.push("ofs="+Ce)):Ce=0:xt.push("ofs="+Ce);let Ke=!0;for(let lt=0;lt<E;lt++){var Q=G[lt].g;const Gn=G[lt].map;if(Q-=Ce,Q<0)Ce=Math.max(0,G[lt].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Hi,pi]of le){let gi=pi;f(pi)&&(gi=Fs(pi)),xt.push(Q+Hi+"="+encodeURIComponent(gi))}}catch(Hi){throw xt.push(Q+"type="+encodeURIComponent("_badmap")),Hi}}catch{A&&A(Gn)}}if(Ke){le=xt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),_.G=h,le}function Xc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;se||R(),oe||(se(),oe=!0),I.add(_,h),h.A=0}}function la(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ni(p(h.Da,h),Jc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ni(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Xs(this),Wc(this))};function ql(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Wc(h){h.g=new ci(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Nt(h.na);Qe(_,"RID","rpc"),Qe(_,"SID",h.M),Qe(_,"AID",h.K),Qe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(_,"TO",h.ia),Qe(_,"TYPE","xmlhttp"),oa(h,_),h.u&&h.o&&sa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ta(Nt(_)),E.u=null,E.R=!0,Wa(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Xs(this),la(this),At(19))};function ao(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Zc(h,_){var E=null;if(h.g==_){ao(h),ql(h),h.g=null;var A=2}else if(ji(h.h,_))E=_.G,Ml(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;A=Xa(),zt(A,new Ci(A,E)),Bi(h)}else Xc(h);else if(G=_.m,G==3||G==0&&_.X>0||!(A==1&&ro(h,_)||A==2&&la(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),G){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function Jc(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Fi(h,_){if(h.j.info("Error code "+_),_==2){var E=p(h.bb,h),A=h.Ua;const G=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(A,"https"),ta(A),G?fi(A.toString(),E):Ul(A.toString(),E)}else At(2);h.I=0,h.l&&h.l.pa(_),eh(h),so(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function eh(h){if(h.I=0,h.ja=[],h.l){const _=Vl(h.h);(_.length!=0||h.i.length!=0)&&(N(h.ja,_),N(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function th(h,_,E){var A=E instanceof Dn?Nt(E):new Dn(E);if(A.g!="")_&&(A.g=_+"."+A.g),Hs(A,A.u);else{var G=c.location;A=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Q=new Dn(null);A&&Gt(Q,A),_&&(Q.g=_),G&&Hs(Q,G),E&&(Q.h=E),A=Q}return E=h.G,_=h.wa,E&&_&&Qe(A,E,_),Qe(A,"VER",h.ka),oa(h,A),A}function nh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Ze(new Li({ab:E})):new Ze(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}t=ih.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ws(){}Ws.prototype.g=function(h,_){return new fn(h,_)};function fn(h,_){wt.call(this),this.g=new Qs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!V(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new cs(this)}b(fn,wt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Fl(this.g)},fn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Fs(h),h=E);_.i.push(new Ct(_.Ya++,h)),_.I==3&&Bi(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,fn.Z.N.call(this)};function sh(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(sh,Yt);function rh(){Bn.call(this),this.status=1}b(rh,Bn);function cs(h){this.g=h}b(cs,ih),cs.prototype.ra=function(){zt(this.g,"a")},cs.prototype.qa=function(h){zt(this.g,new sh(h))},cs.prototype.pa=function(h){zt(this.g,new rh)},cs.prototype.oa=function(){zt(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,_A=function(){return new Ws},vA=function(){return Xa()},yA=bt,Yg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Of=Jr,Cl.COMPLETE="complete",gA=Cl,Pc.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Mu=Pc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,pA=Ze}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const LT="@firebase/firestore",UT="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let dl="12.3.0";const za=new Yy("@firebase/firestore");function Lo(){return za.logLevel}function fe(t,...e){if(za.logLevel<=Le.DEBUG){const n=e.map(s0);za.debug(`Firestore (${dl}): ${t}`,...n)}}function Vs(t,...e){if(za.logLevel<=Le.ERROR){const n=e.map(s0);za.error(`Firestore (${dl}): ${t}`,...n)}}function Jo(t,...e){if(za.logLevel<=Le.WARN){const n=e.map(s0);za.warn(`Firestore (${dl}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,bA(t,s,n)}function bA(t,e,n){let s=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vs(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||bA(e,a,s)}function Re(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class xA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class HV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qV{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Is,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Is)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new xA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class GV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new GV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $V{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class r0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=YV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function Qg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return dg(a)===dg(l)?Ue(a,l):dg(a)?1:-1}return Ue(t.length,e.length)}const QV=55296,XV=57343;function dg(t){const e=t.charCodeAt(0);return e>=QV&&e<=XV}function el(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const BT="__name__";class Yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Yi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Yi.isNumericId(e),a=Yi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class it extends Yi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const WV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Yi{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return WV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new nn([BT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function TA(t,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZV(t,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(!ye.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HT(t){if(ye.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(t);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tc(t,e){if(!EA(t))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}const qT=-62135596800,GT=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*GT);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qT)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GT}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Pt("string",at._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ju=-1;function JV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Vr(a,ye.empty(),e)}function eO(t){return new Vr(t.readTime,t.key,Ju)}class Vr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Vr(Se.min(),ye.empty(),Ju)}static max(){return new Vr(Se.max(),ye.empty(),Ju)}}function tO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==nO)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((a=>a?ie.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new ie(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function sO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}class Id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Id.ce=-1;const a0=-1;function Dd(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function rO(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const SA="";function aO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KT(e)),e=oO(t.get(n),e);return KT(e)}function oO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case SA:n+="";break;default:n+=l}}return n}function KT(t){return t+SA+""}function $T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new tn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class AA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new AA("Invalid base64 string: "+l):l}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const lO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=lO.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jr(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}const RA="server_timestamp",CA="__type__",NA="__previous_value__",IA="__local_write_time__";function o0(t){return(t?.mapValue?.fields||{})[CA]?.stringValue===RA}function kd(t){const e=t.mapValue.fields[NA];return o0(e)?kd(e):e}function ec(t){const e=Or(t.mapValue.fields[IA].timestampValue);return new at(e.seconds,e.nanos)}class uO{constructor(e,n,s,a,l,c,f,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const ed="(default)";class tc{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}const DA="__type__",cO="__max__",mf={mapValue:{}},kA="__vector__",td="value";function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o0(t)?4:fO(t)?9007199254740991:hO(t)?10:11:xe(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Or(a.timestampValue),f=Or(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return jr(a.bytesValue).isEqual(jr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),f=St(l.doubleValue);return c===f?Jf(c)===Jf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if($T(c)!==$T(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!rs(c[m],f[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function nc(t,e){return(t.values||[]).find((n=>rs(n,e)))!==void 0}function tl(t,e){if(t===e)return 0;const n=Pr(t),s=Pr(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return QT(t.timestampValue,e.timestampValue);case 4:return QT(ec(t),ec(e));case 5:return Qg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=jr(l),m=jr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Ue(f[p],m[p]);if(v!==0)return v}return Ue(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(St(l.latitude),St(c.latitude));return f!==0?f:Ue(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return XT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[td]?.arrayValue,v=m[td]?.arrayValue,b=Ue(p?.values?.length||0,v?.values?.length||0);return b!==0?b:XT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===mf.mapValue&&c===mf.mapValue)return 0;if(l===mf.mapValue)return 1;if(c===mf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const x=Qg(m[b],v[b]);if(x!==0)return x;const S=tl(f[m[b]],p[v[b]]);if(S!==0)return S}return Ue(m.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function QT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Or(t),s=Or(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function XT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=tl(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function nl(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return jr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Xg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xg(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function jf(t){switch(Pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+jf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Gr(s.fields,((l,c)=>{a+=l.length+jf(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function WT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wg(t){return!!t&&"integerValue"in t}function l0(t){return!!t&&"arrayValue"in t}function ZT(t){return!!t&&"nullValue"in t}function JT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function hO(t){return(t?.mapValue?.fields||{})[DA]?.stringValue===kA}function zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=zu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return{...t}}function fO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cO}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=nn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=zu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Gr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Sn(zu(this.value))}}function MA(t){const e=[];return Gr(t.fields,((n,s)=>{const a=new nn([n]);if(Pf(s)){const l=MA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}class ln{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,Se.min(),Se.min(),Se.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Se.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Se.min(),Se.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Se.min(),Se.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nd{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function dO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class VA{}class jt extends VA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pO(e,n,s):n==="array-contains"?new vO(e,s):n==="in"?new _O(e,s):n==="not-in"?new bO(e,s):n==="array-contains-any"?new xO(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gO(e,s):new yO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends VA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Si(e,n)}matches(e){return OA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OA(t){return t.op==="and"}function jA(t){return mO(t)&&OA(t)}function mO(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function Zg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(jA(t))return t.filters.map((e=>Zg(e))).join(",");{const e=t.filters.map((n=>Zg(n))).join(",");return`${t.op}(${e})`}}function PA(t,e){return t instanceof jt?(function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&rs(s.value,a.value)})(t,e):t instanceof Si?(function(s,a){return a instanceof Si&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&PA(c,a.filters[f])),!0):!1})(t,e):void xe(19439)}function LA(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(t):t instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(LA).join(" ,")+"}"})(t):"Filter"}class pO extends jt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class gO extends jt{constructor(e,n){super(e,"in",n),this.keys=UA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=UA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UA(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class vO extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l0(n)&&nc(n.arrayValue,this.value)}}class _O extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class bO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nc(this.value.arrayValue,n)}}class xO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nc(this.value.arrayValue,s)))}}class TO{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function nE(t,e=null,n=[],s=[],a=null,l=null,c=null){return new TO(t,e,n,s,a,l,c)}function u0(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>nl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>nl(s))).join(",")),e.Te=n}return e.Te}function c0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function Jg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class gl{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EO(t,e,n,s,a,l,c,f){return new gl(t,e,n,s,a,l,c,f)}function Md(t){return new gl(t)}function iE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zA(t){return t.collectionGroup!==null}function Bu(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ht(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ic(l,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new ic(nn.keyField(),s))}return e.Ie}function Zi(t){const e=Re(t);return e.Ee||(e.Ee=SO(e,Bu(t))),e.Ee}function SO(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ic(a.field,l)}));const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ey(t,e){const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function id(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return c0(Zi(t),Zi(e))&&t.limitType===e.limitType}function BA(t){return`${u0(Zi(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>LA(a))).join(", ")}]`),Dd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>nl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>nl(a))).join(",")),`Target(${s})`})(Zi(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Bu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=eE(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Bu(s),a)||s.endAt&&!(function(c,f,m){const p=eE(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Bu(s),a))})(t,e)}function wO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FA(t){return(e,n)=>{let s=!1;for(const a of Bu(t)){const l=AO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function AO(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?tl(m,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return wA(this.inner)}size(){return this.innerSize}}const RO=new dt(ye.comparator);function Os(){return RO}const HA=new dt(ye.comparator);function Vu(...t){let e=HA;for(const n of t)e=e.insert(n.key,n);return e}function qA(t){let e=HA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ca(){return Fu()}function GA(){return Fu()}function Fu(){return new qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const CO=new dt(ye.comparator),NO=new Ht(ye.comparator);function ze(...t){let e=NO;for(const n of t)e=e.add(n);return e}const IO=new Ht(Ue);function DO(){return IO}function h0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function KA(t){return{integerValue:""+t}}function kO(t,e){return rO(e)?KA(e):h0(t,e)}class jd{constructor(){this._=void 0}}function MO(t,e,n){return t instanceof sc?(function(a,l){const c={fields:{[CA]:{stringValue:RA},[IA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&o0(l)&&(l=kd(l)),l&&(c.fields[NA]=l),{mapValue:c}})(n,e):t instanceof rc?YA(t,e):t instanceof ac?QA(t,e):(function(a,l){const c=$A(a,l),f=sE(c)+sE(a.Ae);return Wg(c)&&Wg(a.Ae)?KA(f):h0(a.serializer,f)})(t,e)}function VO(t,e,n){return t instanceof rc?YA(t,e):t instanceof ac?QA(t,e):n}function $A(t,e){return t instanceof sd?(function(s){return Wg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class sc extends jd{}class rc extends jd{constructor(e){super(),this.elements=e}}function YA(t,e){const n=XA(e);for(const s of t.elements)n.some((a=>rs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ac extends jd{constructor(e){super(),this.elements=e}}function QA(t,e){let n=XA(e);for(const s of t.elements)n=n.filter((a=>!rs(a,s)));return{arrayValue:{values:n}}}class sd extends jd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(t){return St(t.integerValue||t.doubleValue)}function XA(t){return l0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class OO{constructor(e,n){this.field=e,this.transform=n}}function jO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof rc&&a instanceof rc||s instanceof ac&&a instanceof ac?el(s.elements,a.elements,rs):s instanceof sd&&a instanceof sd?rs(s.Ae,a.Ae):s instanceof sc&&a instanceof sc})(t.transform,e.transform)}class PO{constructor(e,n){this.version=e,this.transformResults=n}}class Ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pd{}function WA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JA(t.key,Ji.none()):new Ec(t.key,t.data,Ji.none());{const n=t.data,s=Sn.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Kr(t.key,s,new zn(a.toArray()),Ji.none())}}function LO(t,e,n){t instanceof Ec?(function(a,l,c){const f=a.value.clone(),m=aE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Kr?(function(a,l,c){if(!Lf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=aE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(ZA(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Hu(t,e,n,s){return t instanceof Ec?(function(l,c,f,m){if(!Lf(l.precondition,c))return f;const p=l.value.clone(),v=oE(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Kr?(function(l,c,f,m){if(!Lf(l.precondition,c))return f;const p=oE(l.fieldTransforms,m,c),v=c.data;return v.setAll(ZA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,f){return Lf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function UO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=$A(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&el(s,a,((l,c)=>jO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ec extends Pd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kr extends Pd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ZA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function aE(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,VO(c,f,n[a]))}return s}function oE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,MO(l,c,e))}return s}class JA extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zO extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&LO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=GA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=WA(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((n,s)=>rE(n,s)))&&el(this.baseMutations,e.baseMutations,((n,s)=>rE(n,s)))}}class f0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return CO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new f0(e,n,s,a)}}class FO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,He;function qO(t){switch(t){case ee.OK:return xe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function e1(t){if(t===void 0)return Vs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Vt.OK:return ee.OK;case Vt.CANCELLED:return ee.CANCELLED;case Vt.UNKNOWN:return ee.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ee.INTERNAL;case Vt.UNAVAILABLE:return ee.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ee.NOT_FOUND;case Vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Vt.ABORTED:return ee.ABORTED;case Vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Vt.DATA_LOSS:return ee.DATA_LOSS;default:return xe(39323,{code:t})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function GO(){return new TextEncoder}const KO=new Dr([4294967295,4294967295],0);function lE(t){const e=GO().encode(t),n=new mA;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Dr([n,s],0),new Dr([a,l],0)]}class d0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(s<0)throw new Ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Dr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Dr.fromNumber(s)));return a.compare(KO)===1&&(a=new Dr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lE(e),[s,a]=uE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new d0(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=lE(e),[s,a]=uE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ld{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ld(Se.min(),a,new dt(Ue),Os(),ze())}}class Sc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Sc(s,n,ze(),ze(),ze())}}class Uf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class t1{constructor(e,n){this.targetId=e,this.Ce=n}}class n1{constructor(e,n,s=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class cE{constructor(){this.ve=0,this.Fe=hE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new Sc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=hE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $O{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=pf(),this.He=pf(),this.Ye=new dt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Jg(l))if(s===0){const c=new ye(l.path);this.et(n,c,ln.newNoDocument(c,Se.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=jr(s).toUint8Array()}catch(m){if(m instanceof AA)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new d0(c,a,l)}catch(m){return Jo(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Jg(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ld(e,n,this.Ye,this.je,s);return this.je=Os(),this.Je=pf(),this.He=pf(),this.Ye=new dt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pf(){return new dt(ye.comparator)}function hE(){return new dt(ye.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},QO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XO={and:"AND",or:"OR"};class WO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZO(t,e){return rd(t,e.toTimestamp())}function es(t){return Ye(!!t,49232),Se.fromTimestamp((function(n){const s=Or(n);return new at(s.seconds,s.nanos)})(t))}function m0(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=(function(a){return new it(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function s1(t){const e=it.fromString(t);return Ye(u1(e),10190,{key:e.toString()}),e}function iy(t,e){return m0(t.databaseId,e.path)}function mg(t,e){const n=s1(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(a1(n))}function r1(t,e){return m0(t.databaseId,e)}function JO(t){const e=s1(t);return e.length===4?it.emptyPath():a1(e)}function sy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a1(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fE(t,e,n){return{name:iy(t,e),fields:n.value.mapValue.fields}}function ej(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ee.UNKNOWN:e1(p.code);return new ce(v,p.message||"")})(c);n=new n1(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=mg(t,s.document.name),l=es(s.document.updateTime),c=s.document.createTime?es(s.document.createTime):Se.min(),f=new Sn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Uf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=mg(t,s.document),l=s.readTime?es(s.readTime):Se.min(),c=ln.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Uf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=mg(t,s.document),l=s.removedTargetIds||[];n=new Uf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new HO(a,l),f=s.targetId;n=new t1(f,c)}}return n}function tj(t,e){let n;if(e instanceof Ec)n={update:fE(t,e.key,e.value)};else if(e instanceof JA)n={delete:iy(t,e.key)};else if(e instanceof Kr)n={update:fE(t,e.key,e.data),updateMask:cj(e.fieldMask)};else{if(!(e instanceof zO))return xe(16599,{Vt:e.type});n={verify:iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof sc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof rc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ac)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ZO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function nj(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(Se.min())&&(c=es(l)),new PO(c,a.transformResults||[])})(n,e)))):[]}function ij(t,e){return{documents:[r1(t,e.path)]}}function sj(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r1(t,a);const l=(function(p){if(p.length!==0)return l1(Si.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(x){return{field:zo(x.field),direction:oj(x.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ty(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function rj(t){let e=JO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const x=o1(b);return x instanceof Si&&jA(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(N){return new ic(Bo(N.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(x)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let x;return x=typeof b=="object"?b.value:b,Dd(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(b){const x=!!b.before,S=b.values||[];return new nd(S,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,S=b.values||[];return new nd(S,x)})(n.endAt)),EO(e,a,c,l,f,"F",m,p)}function aj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(Bo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((s=>o1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function oj(t){return YO[t]}function lj(t){return QO[t]}function uj(t){return XO[t]}function zo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return nn.fromServerFormat(t.fieldPath)}function l1(t){return t instanceof jt?(function(n){if(n.op==="=="){if(JT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NAN"}};if(ZT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NAN"}};if(ZT(n.value))return{unaryFilter:{field:zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(n.field),op:lj(n.op),value:n.value}}})(t):t instanceof Si?(function(n){const s=n.getFilters().map((a=>l1(a)));return s.length===1?s[0]:{compositeFilter:{op:uj(n.op),filters:s}}})(t):xe(54877,{filter:t})}function cj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function u1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Cr{constructor(e,n,s,a,l=Se.min(),c=Se.min(),f=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hj{constructor(e){this.yt=e}}function fj(t){const e=rj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?id(e,e.limit,"L"):e}class dj{constructor(){this.Cn=new mj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Vr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class mj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ht(it.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ht(it.comparator)).toArray()}}const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c1=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(c1,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const mE="LruGarbageCollector",pj=1048576;function pE([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class gj{constructor(e){this.Ir=e,this.buffer=new Ht(pE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(mE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?fe(mE,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)}))}}class vj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Id.ce);const s=new gj(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(dE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Lo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function _j(t,e){return new vj(t,e)}class bj{constructor(){this.changes=new qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Tj{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Hu(s.mutation,a,zn.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=Ca();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Vu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Os();const c=Fu(),f=(function(){return Fu()})();return n.forEach(((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Kr)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Hu(v.mutation,p,v.mutation.getFieldMask(),at.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new xj(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Fu();let a=new dt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||zn.empty();v=f.applyToLocalView(p,v),s.set(m,v);const b=(a.get(f.batchId)||ze()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,b=GA();v.forEach((x=>{if(!l.has(x)){const S=WA(n.get(x),s.get(x));S!==null&&b.set(x,S),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(Ca());let f=Ju,m=l;return c.next((p=>ie.forEach(p,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,ze()))).next((v=>({batchId:f,changes:qA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Vu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(e,l).next((f=>ie.forEach(f,(m=>{const p=(function(b,x){return new gl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,ln.newInvalidDocument(v)))}));let f=Vu();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Hu(v.mutation,p,zn.empty(),at.now()),Od(n,p)&&(f=f.insert(m,p))})),f}))}}class Ej{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:fj(a.bundledQuery),readTime:es(a.readTime)}})(n)),ie.resolve()}}class Sj{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ca();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=Ca(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new dt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ca(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ca(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return ie.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new FO(n,s));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class wj{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class p0{constructor(){this.Qr=new Ht($t.$r),this.Ur=new Ht($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new $t(n,e),a=new $t(n,e+1);let l=ze();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class Aj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht($t.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BO(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?a0:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Ue);return n.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ye(l),0);let f=new Ht(Ue);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),ie.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Rj{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Os();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Os();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||tO(eO(v),s)<=0||(a.has(v.key)||Od(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Cj(this)}getSize(e){return ie.resolve(this.size)}}class Cj extends bj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Nj{constructor(e){this.persistence=e,this.si=new qa((n=>u0(n)),c0),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new p0,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class h1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Id(0),this.li=!1,this.li=!0,this.hi=new wj,this.referenceDelegate=e(this),this.Pi=new Nj(this),this.indexManager=new dj,this.remoteDocumentCache=(function(a){return new Rj(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new hj(n),this.Ii=new Ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Aj(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new Ij(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Ij extends iO{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Ri=new p0,this.Vi=null}static mi(e){return new g0(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new qa((s=>aO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=_j(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Se.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class y0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new y0(e,n.fromCache,s,a)}}class Dj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aD()?8:sO(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Dj;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Lo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Lo()<=Le.DEBUG&&fe("QueryEngine","Query:",Uo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Lo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):ie.resolve())}ys(e,n){if(iE(n))return ie.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=id(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,id(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return iE(n)||a.isEqual(Se.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ie.resolve(null):(Lo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(n)),this.vs(e,c,n,JV(a,Ju)).next((f=>f)))}))}Ds(e,n){let s=new Ht(FA(e));return n.forEach(((a,l)=>{Od(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Lo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.ps.getDocumentsMatchingQuery(e,n,Vr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const v0="LocalStore",Mj=3e8;class Vj{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dt(Ue),this.xs=new qa((l=>u0(l)),c0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Oj(t,e,n,s){return new Vj(t,e,n,s)}async function f1(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function jj(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const b=p.batch,x=b.keys();let S=ie.resolve();return x.forEach((N=>{S=S.next((()=>v.getEntry(m,N))).next((D=>{const M=p.docVersions.get(N);Ye(M!==null,48541),D.version.compareTo(M)<0&&(b.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function d1(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Pj(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const x=a.get(b);if(!x)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let S=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(sn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(b,S),(function(D,M,z){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Mj?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,S,v)&&f.push(n.Pi.updateTargetData(l,S))}));let m=Os(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(Lj(l,c,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return ie.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Lj(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Os();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(v0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function Uj(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=a0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zj(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Cr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ry(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!pl(c))throw c;fe(v0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function gE(t,e,n){const s=Re(t);let a=Se.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const b=Re(m),x=b.xs.get(v);return x!==void 0?ie.resolve(b.Ms.get(x)):b.Pi.getTargetData(p,v)})(s,c,Zi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Se.min(),n?l:ze()))).next((f=>(Bj(s,wO(e),f),{documents:f,Qs:l})))))}function Bj(t,e,n){let s=t.Os.get(e)||Se.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class yE{constructor(){this.activeTargetIds=DO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fj{constructor(){this.Mo=new yE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hj{Oo(e){}shutdown(){}}const vE="ConnectivityMonitor";class _E{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(vE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(vE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gf=null;function ay(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}const pg="RestConnection",qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ed?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=ay(),f=this.zo(e,n.toUriEncodedString());fe(pg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=Fr(p);return this.Jo(e,f,m,s,v).then((b=>(fe(pg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Jo(pg,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=qj[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Kj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class $j extends Gj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=ay();return new Promise(((f,m)=>{const p=new pA;p.setWithCredentials(!0),p.listenOnce(gA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Of.NO_ERROR:const b=p.getResponseJson();fe(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Of.TIMEOUT:fe(an,`RPC '${e}' ${c} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const x=p.getStatus();if(fe(an,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const D=(function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN})(N.status);m(new ce(D,N.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(an,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);fe(an,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=ay(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_A(),f=vA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");fe(an,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.I_(b);let x=!1,S=!1;const N=new Kj({Yo:M=>{S?fe(an,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(x||(fe(an,`Opening RPC '${e}' stream ${a} transport.`),b.open(),x=!0),fe(an,`RPC '${e}' stream ${a} sending:`,M),b.send(M))},Zo:()=>b.close()}),D=(M,z,q)=>{M.listen(z,(B=>{try{q(B)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return D(b,Mu.EventType.OPEN,(()=>{S||(fe(an,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),D(b,Mu.EventType.CLOSE,(()=>{S||(S=!0,fe(an,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(b))})),D(b,Mu.EventType.ERROR,(M=>{S||(S=!0,Jo(an,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),N.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),D(b,Mu.EventType.MESSAGE,(M=>{if(!S){const z=M.data[0];Ye(!!z,16349);const q=z,B=q?.error||q[0]?.error;if(B){fe(an,`RPC '${e}' stream ${a} received error:`,B);const ae=B.status;let se=(function(R){const k=Vt[R];if(k!==void 0)return e1(k)})(ae),oe=B.message;se===void 0&&(se=ee.INTERNAL,oe="Unknown error status: "+ae+" with message "+B.message),S=!0,N.a_(new ce(se,oe)),b.close()}else fe(an,`RPC '${e}' stream ${a} received:`,z),N.u_(z)}})),D(f,yA.STAT_EVENT,(M=>{M.stat===Yg.PROXY?fe(an,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Yg.NOPROXY&&fe(an,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gg(){return typeof document<"u"?document:null}function Ud(t){return new WO(t,!0)}class m1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bE="PersistentStream";class p1{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(bE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yj extends p1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ej(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?es(c.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Jg(m)?{documents:ij(l,m)}:{query:sj(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=i1(l,c.resumeToken);const p=ty(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=rd(l,c.snapshotVersion.toTimestamp());const p=ty(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=aj(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.q_(n)}}class Qj extends p1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nj(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tj(this.serializer,s)))};this.q_(n)}}class Xj{}class Wj extends Xj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ny(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(ee.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,ny(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Zj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ba="RemoteStore";class Jj{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ga(this)&&(fe(Ba,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await wc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Ra=new Zj(s,a)}}async function zd(t){if(Ga(t))for(const e of t.da)await e(!0)}async function wc(t){for(const e of t.da)await e(!1)}function g1(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),T0(n)?x0(n):yl(n).O_()&&b0(n,e))}function _0(t,e){const n=Re(t),s=yl(n);n.Ia.delete(e),s.O_()&&y1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ga(n)&&n.Ra.set("Unknown"))}function b0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Y_(e)}function y1(t,e){t.Va.Ue(e),yl(t).Z_(e)}function x0(t){t.Va=new $O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Ra.ua()}function T0(t){return Ga(t)&&!yl(t).x_()&&t.Ia.size>0}function Ga(t){return Re(t).Ea.size===0}function v1(t){t.Va=void 0}async function eP(t){t.Ra.set("Online")}async function tP(t){t.Ia.forEach(((e,n)=>{b0(t,e)}))}async function nP(t,e){v1(t),T0(t)?(t.Ra.ha(e),x0(t)):t.Ra.set("Unknown")}async function iP(t,e,n){if(t.Ra.set("Online"),e instanceof n1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){fe(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await od(t,s)}else if(e instanceof Uf?t.Va.Ze(e):e instanceof t1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const s=await d1(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),y1(l,m);const b=new Cr(v.target,m,p,v.sequenceNumber);b0(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){fe(Ba,"Failed to raise snapshot:",s),await od(t,s)}}async function od(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await wc(t),t.Ra.set("Offline"),n||(n=()=>d1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Ba,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function _1(t,e){return e().catch((n=>od(t,n,e)))}async function Bd(t){const e=Re(t),n=Lr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:a0;for(;sP(e);)try{const a=await Uj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,rP(e,a)}catch(a){await od(e,a)}b1(e)&&x1(e)}function sP(t){return Ga(t)&&t.Ta.length<10}function rP(t,e){t.Ta.push(e);const n=Lr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function b1(t){return Ga(t)&&!Lr(t).x_()&&t.Ta.length>0}function x1(t){Lr(t).start()}async function aP(t){Lr(t).ra()}async function oP(t){const e=Lr(t);for(const n of t.Ta)e.ea(n.mutations)}async function lP(t,e,n){const s=t.Ta.shift(),a=f0.from(s,e,n);await _1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Bd(t)}async function uP(t,e){e&&Lr(t).X_&&await(async function(s,a){if((function(c){return qO(c)&&c!==ee.ABORTED})(a.code)){const l=s.Ta.shift();Lr(s).B_(),await _1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Bd(s)}})(t,e),b1(t)&&x1(t)}async function xE(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(Ba,"RemoteStore received new credentials");const s=Ga(n);n.Ea.add(3),await wc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function cP(t,e){const n=Re(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await wc(n),n.Ra.set("Unknown"))}function yl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new Yj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:eP.bind(null,t),t_:tP.bind(null,t),r_:nP.bind(null,t),H_:iP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),T0(t)?x0(t):t.Ra.set("Unknown")):(await t.ma.stop(),v1(t))}))),t.ma}function Lr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new Qj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aP.bind(null,t),r_:uP.bind(null,t),ta:oP.bind(null,t),na:lP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bd(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Ba,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class E0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new E0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),pl(t))return new ce(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Vu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class TE{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class sl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new sl(e,n,Wo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class hP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fP{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=EE(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function EE(){return new qa((t=>BA(t)),Vd)}async function w0(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new hP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=S0(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&R0(n)}async function A0(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dP(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&R0(n)}function mP(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function R0(t){t.Ca.forEach((e=>{e.next()}))}var oy,SE;(SE=oy||(oy={})).Ma="default",SE.Cache="cache";class C0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}class T1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class pP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=FA(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new TE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const x=a.get(v),S=Od(this.query,b)?b:null,N=!!x&&this.mutatedKeys.has(x.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;x&&S?x.data.isEqual(S.data)?N!==D&&(s.track({type:3,doc:S}),M=!0):this.su(x,S)||(s.track({type:2,doc:S}),M=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(f=!0)):!x&&S?(s.track({type:0,doc:S}),M=!0):x&&!S&&(s.track({type:1,doc:x}),M=!0,(m||p)&&(f=!0)),M&&(S?(c=c.add(S),l=D?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,N){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:M})}};return D(S)-D(N)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new E1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new T1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N0="SyncEngine";class gP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yP{constructor(e){this.key=e,this.hu=!1}}class vP{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((f=>BA(f)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new p0,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _P(t,e,n=!0){const s=N1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await S1(s,e,n,!0),a}async function bP(t,e){const n=N1(t);await S1(n,e,!0,!1)}async function S1(t,e,n,s){const a=await zj(t.localStore,Zi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await xP(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&g1(t.remoteStore,a),f}async function xP(t,e,n,s,a){t.pu=(b,x,S)=>(async function(D,M,z,q){let B=M.view.ru(z);B.Cs&&(B=await gE(D.localStore,M.query,!1).then((({documents:I})=>M.view.ru(I,B))));const ae=q&&q.targetChanges.get(M.targetId),se=q&&q.targetMismatches.get(M.targetId)!=null,oe=M.view.applyChanges(B,D.isPrimaryClient,ae,se);return AE(D,M.targetId,oe.au),oe.snapshot})(t,b,x,S);const l=await gE(t.localStore,e,!0),c=new pP(e,l.Qs),f=c.ru(l.documents),m=Sc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);AE(t,n,p.au);const v=new gP(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function TP(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ry(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&_0(s.remoteStore,a.targetId),ly(s,a.targetId)})).catch(ml)):(ly(s,a.targetId),await ry(s.localStore,a.targetId,!0))}async function EP(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_0(n.remoteStore,s.targetId))}async function SP(t,e,n){const s=DP(t);try{const a=await(function(c,f){const m=Re(c),p=at.now(),v=f.reduce(((S,N)=>S.add(N.key)),ze());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=Os(),D=ze();return m.Ns.getEntries(S,v).next((M=>{N=M,N.forEach(((z,q)=>{q.isValidDocument()||(D=D.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,N))).next((M=>{b=M;const z=[];for(const q of f){const B=UO(q,b.get(q.key).overlayedDocument);B!=null&&z.push(new Kr(q.key,B,MA(B.value.mapValue),Ji.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,z,f)})).next((M=>{x=M;const z=M.applyToLocalDocumentSet(b,D);return m.documentOverlayCache.saveOverlays(S,M.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:qA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new dt(Ue)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Ac(s,a.changes),await Bd(s.remoteStore)}catch(a){const l=S0(a,"Failed to persist write");n.reject(l)}}async function w1(t,e){const n=Re(t);try{const s=await Pj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Ac(n,s,e)}catch(s){await ml(s)}}function wE(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((v,b)=>{for(const x of b.Sa)x.va(f)&&(p=!0)})),p&&R0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wP(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new dt(ye.comparator);c=c.insert(l,ln.newNoDocument(l,Se.min()));const f=ze().add(l),m=new Ld(Se.min(),new Map,new dt(Ue),c,f);await w1(s,m),s.du=s.du.remove(l),s.Au.delete(e),I0(s)}else await ry(s.localStore,e,!1).then((()=>ly(s,e,n))).catch(ml)}async function AP(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await jj(n.localStore,e);R1(n,s,null),A1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ac(n,a)}catch(a){await ml(a)}}async function RP(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((b=>(Ye(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);R1(s,e,n),A1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ac(s,a)}catch(a){await ml(a)}}function A1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function R1(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||C1(t,s)}))}function C1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),I0(t))}function AE(t,e,n){for(const s of n)s instanceof T1?(t.Ru.addReference(s.key,e),CP(t,s)):s instanceof E1?(fe(N0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||C1(t,s.key)):xe(19791,{wu:s})}function CP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(N0,"New document in limbo: "+n),t.Eu.add(s),I0(t))}function I0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(it.fromString(e)),s=t.fu.next();t.Au.set(s,new yP(n)),t.du=t.du.insert(n,s),g1(t.remoteStore,new Cr(Zi(Md(n.path)),s,"TargetPurposeLimboResolution",Id.ce))}}async function Ac(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=y0.As(m.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(p,(x=>ie.forEach(x.Es,(S=>v.persistence.referenceDelegate.addReference(b,x.targetId,S))).next((()=>ie.forEach(x.ds,(S=>v.persistence.referenceDelegate.removeReference(b,x.targetId,S)))))))))}catch(b){if(!pl(b))throw b;fe(v0,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const S=v.Ms.get(x),N=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(x,D)}}})(s.localStore,l))}async function NP(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(N0,"User change. New user:",e.toKey());const s=await f1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ce(ee.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ac(n,s.Ls)}}function IP(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function N1(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wP.bind(null,e),e.Pu.H_=dP.bind(null,e.eventManager),e.Pu.yu=mP.bind(null,e.eventManager),e}function DP(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RP.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Oj(this.persistence,new kj,e.initialUser,this.serializer)}Cu(e){return new h1(g0.mi,this.serializer)}Du(e){return new Fj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class kP extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof ad,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new h1((s=>ad.mi(s,n)),this.serializer)}}class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NP.bind(null,this.syncEngine),await cP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fP})()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),s=(function(l){return new $j(l)})(e.databaseInfo);return(function(l,c,f,m){return new Wj(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new Jj(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return _E.v()?new _E:new Hj})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,v){const b=new vP(a,l,c,f,m,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);fe(Ba,"RemoteStore shutting down."),s.Ea.add(5),await wc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}uy.provider={build:()=>new uy};class D0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ur="FirestoreClient";class MP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=r0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{fe(Ur,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Ur,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=S0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function yg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ur,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await f1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function RE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VP(t);fe(Ur,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>xE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>xE(e.remoteStore,a))),t._onlineComponents=e}async function VP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ur,"Using user provided OfflineComponentProvider");try{await yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await yg(t,new ld)}}else fe(Ur,"Using default OfflineComponentProvider"),await yg(t,new kP(void 0));return t._offlineComponents}async function I1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ur,"Using user provided OnlineComponentProvider"),await RE(t,t._uninitializedComponentsProvider._online)):(fe(Ur,"Using default OnlineComponentProvider"),await RE(t,new uy))),t._onlineComponents}function OP(t){return I1(t).then((e=>e.syncEngine))}async function ud(t){const e=await I1(t),n=e.eventManager;return n.onListen=_P.bind(null,e.syncEngine),n.onUnlisten=TP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),n}function jP(t,e,n={}){const s=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new D0({next:x=>{v.Nu(),c.enqueueAndForget((()=>A0(l,b)));const S=x.docs.has(f);!S&&x.fromCache?p.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&m&&m.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new C0(Md(f.path),v,{includeMetadataChanges:!0,qa:!0});return w0(l,b)})(await ud(t),t.asyncQueue,e,n,s))),s.promise}function PP(t,e,n={}){const s=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new D0({next:x=>{v.Nu(),c.enqueueAndForget((()=>A0(l,b))),x.fromCache&&m.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new C0(f,v,{includeMetadataChanges:!0,qa:!0});return w0(l,b)})(await ud(t),t.asyncQueue,e,n,s))),s.promise}function D1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const CE=new Map;const k1="firestore.googleapis.com",NE=!0;class IE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k1,this.ssl=NE}else this.host=e.host,this.ssl=e.ssl??NE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pj)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FV;switch(s.type){case"firstParty":return new KV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function LP(t,e,n,s={}){t=ii(t,Fd);const a=Fr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Ky(`https://${f}`),$y("Firestore",!0)),l.host!==k1&&l.host!==f&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!ja(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=on.MOCK_USER;else{p=WI(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(b)}t._authCredentials=new HV(new xA(p,v))}}class zs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tc(n,vt._jsonSchema))return new vt(e,s||null,new ye(it.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Pt("string",vt._jsonSchemaVersion),referencePath:Pt("string")};class kr extends zs{constructor(e,n,s){super(e,n,Md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ye(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function vl(t,e,...n){if(t=_t(t),TA("collection","path",e),t instanceof Fd){const s=it.fromString(e,...n);return HT(s),new kr(t,null,s)}{if(!(t instanceof vt||t instanceof kr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return HT(s),new kr(t.firestore,null,s)}}function Nn(t,e,...n){if(t=_t(t),arguments.length===1&&(e=r0.newId()),TA("doc","path",e),t instanceof Fd){const s=it.fromString(e,...n);return FT(s),new vt(t,null,new ye(s))}{if(!(t instanceof vt||t instanceof kr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return FT(s),new vt(t.firestore,t instanceof kr?t.converter:null,new ye(s))}}const DE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m1(this,"async_queue_retry"),this._c=()=>{const s=gg();s&&fe(DE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;fe(DE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",ME(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=E0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ME(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function VE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Fa extends Fd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new kE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function UP(t,e){const n=typeof t=="object"?t:wd(),s=typeof t=="string"?t:ed,a=Sd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Aw("firestore");l&&LP(a,...l)}return a}function Hd(t){if(t._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zP(t),t._firestoreClient}function zP(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new uO(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,D1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(sn.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Pt("string",ti._jsonSchemaVersion),bytes:Pt("string")};class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gd{constructor(e){this._methodName=e}}class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Pt("string",ts._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class ns{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ns(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Pt("string",ns._jsonSchemaVersion),vectorValues:Pt("object")};const BP=/^__.*__$/;class FP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(e,this.data,n,this.fieldTransforms)}}class M1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Kr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class k0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new k0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V1(this.Ac)&&BP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(e)}Cc(e,n,s,a=!1){return new k0({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new HP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qP(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);O0("Data must be an object, but it was:",c,s);const f=O1(s,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=cy(e,b,n);if(!c.contains(x))throw new ce(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);P1(v,x)||v.push(x)}m=new zn(v),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new FP(new Sn(f),m,p)}class Kd extends Gd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}class V0 extends Gd{_toFieldTransform(e){return new OO(e.path,new sc)}isEqual(e){return e instanceof V0}}function GP(t,e,n,s){const a=t.Cc(1,e,n);O0("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();Gr(s,((m,p)=>{const v=j0(e,m,n);p=_t(p);const b=a.yc(v);if(p instanceof Kd)l.push(v);else{const x=Rc(p,b);x!=null&&(l.push(v),c.set(v,x))}}));const f=new zn(l);return new M1(c,f,a.fieldTransforms)}function KP(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[cy(e,s,n)],m=[a];if(l.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(cy(e,l[x])),m.push(l[x+1]);const p=[],v=Sn.empty();for(let x=f.length-1;x>=0;--x)if(!P1(p,f[x])){const S=f[x];let N=m[x];N=_t(N);const D=c.yc(S);if(N instanceof Kd)p.push(S);else{const M=Rc(N,D);M!=null&&(p.push(S),v.set(S,M))}}const b=new zn(p);return new M1(v,b,c.fieldTransforms)}function $P(t,e,n,s=!1){return Rc(n,t.Cc(s?4:3,e))}function Rc(t,e){if(j1(t=_t(t)))return O0("Unsupported field value:",e,t),O1(t,e);if(t instanceof Gd)return(function(s,a){if(!V1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Rc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=at.fromDate(s);return{timestampValue:rd(a.serializer,l)}}if(s instanceof at){const l=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(s instanceof ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:i1(a.serializer,s._byteString)};if(s instanceof vt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:m0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ns)return(function(c,f){return{mapValue:{fields:{[DA]:{stringValue:kA},[td]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return h0(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Nd(s)}`)})(t,e)}function O1(t,e){const n={};return wA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,((s,a)=>{const l=Rc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function j1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ts||t instanceof ti||t instanceof vt||t instanceof Gd||t instanceof ns)}function O0(t,e,n){if(!j1(n)||!EA(n)){const s=Nd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function cy(t,e,n){if((e=_t(e))instanceof qd)return e._internalPath;if(typeof e=="string")return j0(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const YP=new RegExp("[~\\*/\\[\\]]");function j0(t,e,n){if(e.search(YP)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ce(ee.INVALID_ARGUMENT,f+t+m)}function P1(t,e){return t.some((n=>n.isEqual(e)))}class L1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QP extends L1{data(){return super.data()}}function $d(t,e){return typeof e=="string"?j0(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}function U1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{}class L0 extends P0{}function _l(t,e,...n){let s=[];e instanceof P0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof z0)).length,f=l.filter((m=>m instanceof Yd)).length;if(c>1||c>0&&f>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Yd extends L0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Yd(e,n,s)}_apply(e){const n=this._parse(e);return z1(e._query,n),new zs(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=M0(e.firestore);return(function(l,c,f,m,p,v,b){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jE(b,v);const N=[];for(const D of b)N.push(OE(m,l,D));x={arrayValue:{values:N}}}else x=OE(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jE(b,v),x=$P(f,c,b,v==="in"||v==="not-in");return jt.create(p,v,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function U0(t,e,n){const s=e,a=$d("where",t);return Yd._create(a,s,n)}class z0 extends P0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)z1(c,m),c=ey(c,m)})(e._query,n),new zs(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B0 extends L0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(l,c)})(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new gl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Cc(t,e="asc"){const n=e,s=$d("orderBy",t);return B0._create(s,n)}class F0 extends L0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new F0(e,n,s)}_apply(e){return new zs(e.firestore,e.converter,id(e._query,this._limit,this._limitType))}}function XP(t){return F0._create("limit",t,"F")}function OE(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zA(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return WT(t,new ye(s))}if(n instanceof vt)return WT(t,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(n)}.`)}function jE(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z1(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WP{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[td].arrayValue?.values?.map((s=>St(s.doubleValue)));return new ns(n)}convertGeoPoint(e){return new ts(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=Or(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(u1(s),9688,{name:e});const a=new tc(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function ZP(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends L1{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($d("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Pt("string",Da._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class zf extends Da{data(e={}){return super.data(e)}}class ka{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new zf(this._firestore,this._userDataWriter,s.key,s,new ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new zf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new zf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:JP(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}function Ka(t){t=ii(t,vt);const e=ii(t.firestore,Fa);return jP(Hd(e),t._key).then((n=>F1(e,t,n)))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:Pt("string",ka._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class H0 extends WP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Nc(t){t=ii(t,zs);const e=ii(t.firestore,Fa),n=Hd(e),s=new H0(e);return U1(t._query),PP(n,t._query).then((a=>new ka(e,s,t,a)))}function Qd(t,e,n){t=ii(t,vt);const s=ii(t.firestore,Fa),a=ZP(t.converter,e,n);return B1(s,[qP(M0(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ji.none())])}function Xd(t,e,n,...s){t=ii(t,vt);const a=ii(t.firestore,Fa),l=M0(a);let c;return c=typeof(e=_t(e))=="string"||e instanceof qd?KP(l,"updateDoc",t._key,e,n,s):GP(l,"updateDoc",t._key,e),B1(a,[c.toMutation(t._key,Ji.exists(!0))])}function e4(t,...e){t=_t(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof vt)c=ii(t.firestore,Fa),f=Md(t._key.path),l={next:m=>{e[s]&&e[s](F1(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=ii(t,zs);c=ii(m.firestore,Fa),f=m._query;const p=new H0(c);l={next:v=>{e[s]&&e[s](new ka(c,p,m,v))},error:e[s+1],complete:e[s+2]},U1(t._query)}return(function(p,v,b,x){const S=new D0(x),N=new C0(v,S,b);return p.asyncQueue.enqueueAndForget((async()=>w0(await ud(p),N))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>A0(await ud(p),N)))}})(Hd(c),f,a,l)}function B1(t,e){return(function(s,a){const l=new Is;return s.asyncQueue.enqueueAndForget((async()=>SP(await OP(s),a,l))),l.promise})(Hd(t),e)}function F1(t,e,n){const s=n.docs.get(e._key),a=new H0(t);return new Da(t,a,e._key,s,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function hy(){return new V0("serverTimestamp")}(function(e,n=!0){(function(a){dl=a})(hl),Pa(new Mr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Fa(new qV(s.getProvider("auth-internal")),new $V(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Qi(LT,UT,e),Qi(LT,UT,"esm2020")})();const t4="type.googleapis.com/google.protobuf.Int64Value",n4="type.googleapis.com/google.protobuf.UInt64Value";function H1(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function hd(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>hd(e));if(typeof t=="function"||typeof t=="object")return H1(t,e=>hd(e));throw new Error("Data cannot be encoded in JSON: "+t)}function rl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case t4:case n4:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>rl(e)):typeof t=="function"||typeof t=="object"?H1(t,e=>rl(e)):t}const q0="functions";const PE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wn extends as{constructor(e,n,s){super(`${q0}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,wn.prototype)}}function i4(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fd(t,e){let n=i4(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!PE[c])return new wn("internal","internal");n=PE[c],s=c}const f=l.message;typeof f=="string"&&(s=f),a=l.details,a!==void 0&&(a=rl(a))}}catch{}return n==="ok"?null:new wn(n,s,a)}class s4{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}const fy="us-central1",r4=/^data: (.*?)(?:\n|$)/;function a4(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new wn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class o4{constructor(e,n,s,a,l=fy,c=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new s4(e,n,s,a),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=fy}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function l4(t,e,n){const s=Fr(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Ky(t.emulatorOrigin+"/backends"),$y("Functions",!0))}function u4(t,e,n){const s=a=>h4(t,e,a,{});return s.stream=(a,l)=>d4(t,e,a,l),s}function q1(t){return t.emulatorOrigin&&Fr(t.emulatorOrigin)?"include":void 0}async function c4(t,e,n,s,a){n["Content-Type"]="application/json";let l;try{l=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:q1(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function G1(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function h4(t,e,n,s){const a=t._url(e);return f4(t,a,n,s)}async function f4(t,e,n,s){n=hd(n);const a={data:n},l=await G1(t,s),c=s.timeout||7e4,f=a4(c),m=await Promise.race([c4(e,a,l,t.fetchImpl,t),f.promise,t.cancelAllRequests]);if(f.cancel(),!m)throw new wn("cancelled","Firebase Functions instance was deleted.");const p=fd(m.status,m.json);if(p)throw p;if(!m.json)throw new wn("internal","Response is not valid JSON object.");let v=m.json.data;if(typeof v>"u"&&(v=m.json.result),typeof v>"u")throw new wn("internal","Response is missing data field.");return{data:rl(v)}}function d4(t,e,n,s){const a=t._url(e);return m4(t,a,n,s||{})}async function m4(t,e,n,s){n=hd(n);const a={data:n},l=await G1(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal,credentials:q1(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const N=new wn("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const S=fd(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let f,m;const p=new Promise((x,S)=>{f=x,m=S});s?.signal?.addEventListener("abort",()=>{const x=new wn("cancelled","Request was cancelled.");m(x)});const v=c.body.getReader(),b=p4(v,f,m,s?.signal);return{stream:{[Symbol.asyncIterator](){const x=b.getReader();return{async next(){const{value:S,done:N}=await x.read();return{value:S,done:N}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:p}}function p4(t,e,n,s){const a=(c,f)=>{const m=c.match(r4);if(!m)return;const p=m[1];try{const v=JSON.parse(p);if("result"in v){e(rl(v.result));return}if("message"in v){f.enqueue(rl(v.message));return}if("error"in v){const b=fd(0,v);f.error(b),n(b);return}}catch(v){if(v instanceof wn){f.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(c){let f="";return m();async function m(){if(s?.aborted){const p=new wn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:v}=await t.read();if(v){f.trim()&&a(f.trim(),c),c.close();return}if(s?.aborted){const x=new wn("cancelled","Request was cancelled");c.error(x),n(x),await t.cancel();return}f+=l.decode(p,{stream:!0});const b=f.split(`
`);f=b.pop()||"";for(const x of b)x.trim()&&a(x.trim(),c);return m()}catch(p){const v=p instanceof wn?p:fd(0,null);c.error(v),n(v)}}},cancel(){return t.cancel()}})}const LE="@firebase/functions",UE="0.13.1";const g4="auth-internal",y4="app-check-internal",v4="messaging-internal";function _4(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(g4),c=n.getProvider(v4),f=n.getProvider(y4);return new o4(a,l,c,f,s)};Pa(new Mr(q0,e,"PUBLIC").setMultipleInstances(!0)),Qi(LE,UE,t),Qi(LE,UE,"esm2020")}function b4(t=wd(),e=fy){const s=Sd(_t(t),q0).getImmediate({identifier:e}),a=Aw("functions");return a&&x4(s,...a),s}function x4(t,e,n){l4(_t(t),e,n)}function T4(t,e,n){return u4(_t(t),e)}_4();const E4={apiKey:"AIzaSyDERq4e6x6pkVvlQEdLdQU0464SVyb_hrE",authDomain:"immobot-dc818.firebaseapp.com",projectId:"immobot-dc818",storageBucket:"immobot-dc818.firebasestorage.app",messagingSenderId:"601427046911",appId:"1:601427046911:web:c8248a89433a711ef8b7ca"},K1=mk().length?wd():Dw(E4),dd=LV(K1),Lt=UP(K1),S4=b4(void 0,"europe-west1"),$1=C.createContext(null),wi=()=>C.useContext($1);function w4({children:t}){const[e,n]=C.useState(null),[s,a]=C.useState(null),[l,c]=C.useState(!1);C.useEffect(()=>{const m=AM(dd,async p=>{if(n(p||null),p){const v=await Ka(Nn(Lt,"users",p.uid));a(v.exists()&&v.data()?.role||null)}else a(null);c(!0)});return()=>m()},[]);const f={user:e,role:s,ready:l,logout:()=>RM(dd)};return y.jsx($1.Provider,{value:f,children:t})}function G0(){const{user:t,role:e,logout:n,ready:s}=wi(),[a,l]=C.useState(!1),c=C.useRef(null);if(!s||!t)return null;const f=e==="admin",m=t?.firstName||t?.email?.split("@")[0]||"U",p=m.charAt(0).toUpperCase();return C.useEffect(()=>{function v(b){c.current&&!c.current.contains(b.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),y.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:y.jsxs("div",{className:"flex justify-between items-center h-full",children:[y.jsxs("div",{className:"flex items-center gap-8",children:[y.jsxs(Rn,{to:"/dashboard",className:"flex items-center gap-2 group",children:[y.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-sm group-hover:bg-indigo-700 transition",children:"I"}),y.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Immobot"})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[y.jsx(zE,{to:"/dashboard",children:"Dashboard"}),f&&y.jsx(zE,{to:"/admin",activeColor:"text-indigo-600",children:"Admin"})]})]}),y.jsxs("div",{className:"relative ml-auto",ref:c,children:[y.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-3 p-1 rounded-full hover:bg-gray-100 transition focus:outline-none focus:ring-2 focus:ring-indigo-500/20",children:[y.jsxs("div",{className:"hidden sm:block text-right mr-1",children:[y.jsx("p",{className:"text-sm font-medium text-gray-700 leading-none",children:m}),y.jsx("p",{className:"text-xs text-gray-400 mt-1 uppercase tracking-wide",children:f?"Admin":"User"})]}),y.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white",children:p})]}),a&&y.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-2 animate-in fade-in zoom-in-95 duration-200 transform origin-top-right",children:[y.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 sm:hidden",children:[y.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),y.jsx(Rn,{to:"/profile",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors",children:"Mein Profil"}),f&&y.jsx(Rn,{to:"/admin",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-colors md:hidden",children:"Admin Bereich"}),y.jsx("div",{className:"my-1 border-t border-gray-100"}),y.jsx("button",{onClick:n,className:"w-full text-left block px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Abmelden"})]})]})]})})})}function zE({to:t,children:e,activeColor:n="text-gray-900"}){return y.jsx(Rn,{to:t,className:`text-sm font-medium text-gray-500 hover:${n} hover:bg-gray-50 px-3 py-2 rounded-md transition-all`,children:e})}function A4(){const t=Ls(),n=!["/login"].includes(t.pathname);return y.jsxs("div",{className:"min-h-screen ",children:[n&&y.jsx(G0,{}),y.jsx("main",{className:"min-h-[calc(100vh-64px)]",children:y.jsx(Hy,{})})]})}function R4(){return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(G0,{}),y.jsx("main",{className:"p-6",children:y.jsx(Hy,{})})]})}function C4(){return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(G0,{}),y.jsx("main",{className:"p-6",children:y.jsx(Hy,{})})]})}function oc({value:t}){return t==null?y.jsx("span",{className:"text-gray-400",children:""}):typeof t?.toDate=="function"?y.jsx("span",{children:t.toDate().toLocaleString("de-DE")}):Array.isArray(t)?y.jsx("ul",{className:"list-disc ml-5 space-y-1",children:t.map((e,n)=>y.jsx("li",{children:y.jsx(oc,{value:e})},n))}):typeof t=="object"?y.jsx("div",{className:"space-y-1 ml-4 border-l pl-3",children:Object.entries(t).map(([e,n])=>y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-500",children:e}),y.jsx(oc,{value:n})]},e))}):typeof t=="boolean"?y.jsx("span",{children:t?"Ja":"Nein"}):y.jsx("span",{children:String(t)})}function N4({user:t}){const e=t.stripeStatus||"unbekannt",n=e==="paid"||e==="active",a=n?"bg-emerald-500":e==="canceled"?"bg-red-500":"bg-gray-400",l=t.stripeCustomerId?`https://dashboard.stripe.com/customers/${t.stripeCustomerId}`:null;return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`w-3 h-3 rounded-full ${a} relative z-10`}),n&&y.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-400 animate-ping opacity-75"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Abo-Status"}),y.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:e})]})]}),y.jsxs("div",{className:"sm:text-right",children:[y.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Letzte Zahlung"}),y.jsx("p",{className:"text-sm font-mono text-gray-700",children:t.stripeLastPayment?new Date(t.stripeLastPayment).toLocaleDateString("de-DE"):""})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(vg,{label:"Stripe Customer ID",value:t.stripeCustomerId,icon:y.jsx(I4,{})}),y.jsx(vg,{label:"Subscription ID",value:t.stripeSubscriptionId,icon:y.jsx(D4,{})}),y.jsx("div",{className:"md:col-span-2",children:y.jsx(vg,{label:"Checkout Session ID",value:t.stripeCheckoutSessionId,icon:y.jsx(k4,{}),isWide:!0})})]}),l&&y.jsx("div",{className:"pt-2 border-t border-gray-100",children:y.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors group",children:["Kunde im Stripe Dashboard ffnen",y.jsx("svg",{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})}function vg({label:t,value:e,icon:n,isWide:s}){const[a,l]=C.useState(!1),c=()=>{e&&(navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3))};return y.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-3 hover:border-indigo-300 transition-all duration-200",children:[y.jsxs("div",{className:"flex items-start justify-between mb-1",children:[y.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[n,y.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t})]}),e&&y.jsx("button",{onClick:c,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-indigo-600",title:"Kopieren",children:a?y.jsx("span",{className:"text-[10px] font-bold text-green-600",children:"Kopiert!"}):y.jsx(M4,{})})]}),y.jsx("div",{className:`text-xs font-mono text-gray-700 truncate ${s?"w-full":"max-w-[200px]"}`,title:e,children:e||y.jsx("span",{className:"text-gray-300 italic",children:"Nicht vorhanden"})})]})}function I4(){return y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function D4(){return y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}function k4(){return y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function M4(){return y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function V4(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Radius: ${s} km`),(a!==""||l!=="")&&c.push(`Preis: ${a||"0"}${l||""}`),c.join("  ")}function O4({uid:t}){const[e,n]=C.useState([]),[s,a]=C.useState(!0),[l,c]=C.useState({});C.useEffect(()=>{if(!t)return;(async()=>{try{const p=_l(vl(Lt,"searchEvents"),U0("uid","==",t),Cc("createdAt","desc")),b=(await Nc(p)).docs.map(S=>({id:S.id,...S.data(),createdAtDate:S.data().createdAt?.toDate?S.data().createdAt.toDate():null}));n(b);const x={};b.forEach(S=>x[S.id]=!1),c(x)}catch(p){console.error("Error loading search history:",p)}finally{a(!1)}})()},[t]);const f=m=>{const p={};e.forEach(v=>p[v.id]=m),c(p)};return s?y.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between px-1",children:[y.jsxs("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:[e.length," ",e.length===1?"Eintrag":"Eintrge"]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"Alle ffnen"}),y.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Alle schlieen"})]})]}),y.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white shadow-sm",children:y.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar divide-y divide-gray-100",children:e.map(m=>{let p=null;try{p=m.search?JSON.parse(m.search):null}catch{p={raw:m.search}}const v=!!l[m.id],b=V4(p);return y.jsxs("div",{className:"group bg-white transition-colors",children:[y.jsxs("button",{type:"button",onClick:()=>c(x=>({...x,[m.id]:!x[m.id]})),className:`w-full text-left px-4 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors ${v?"bg-gray-50":""}`,children:[y.jsx("div",{className:`p-1.5 rounded-md text-gray-400 transition-transform duration-200 ${v?"rotate-90 text-indigo-600 bg-indigo-50":"group-hover:text-gray-600"}`,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-baseline gap-2 mb-0.5",children:[y.jsx("span",{className:"text-xs font-bold text-gray-900",children:m.createdAtDate?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})||""}),y.jsx("span",{className:"text-[10px] text-gray-400",children:m.createdAtDate?.toLocaleDateString("de-DE")||""})]}),y.jsx("div",{className:"text-sm text-gray-600 truncate pr-4",children:b||y.jsx("span",{className:"italic text-gray-400",children:"Leere Suche / Filter reset"})})]}),y.jsx("div",{className:"hidden sm:block",children:y.jsx("span",{className:"text-[10px] font-mono text-gray-300 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 group-hover:border-gray-200 group-hover:text-gray-400 transition-colors",children:m.id.slice(0,6)})})]}),v&&y.jsx("div",{className:"px-4 pb-4 pl-[3.25rem] bg-gray-50 border-t border-gray-100",children:y.jsx("div",{className:"mt-3 text-sm bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:p?y.jsx(oc,{value:p}):y.jsx("div",{className:"text-gray-400 italic",children:"Keine validen Daten gefunden."})})})]},m.id)})})}),y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
      `})]}):y.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function j4(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Rad: ${s} km`),(a!==""||l!=="")&&c.push(` ${a}${l}`),c.join("  ")}function P4({uid:t}){const[e,n]=C.useState([]),[s,a]=C.useState(!0);return C.useEffect(()=>{if(!t)return;(async()=>{try{const c=_l(vl(Lt,"searchEvents"),U0("uid","==",t),Cc("createdAt","desc")),m=(await Nc(c)).docs.map(p=>({id:p.id,...p.data(),createdAtDate:p.data().createdAt?.toDate?p.data().createdAt.toDate():null}));n(m)}catch(c){console.error("Error loading search history:",c)}finally{a(!1)}})()},[t]),s?y.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?y.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[y.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:y.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider w-32",children:"Zeitpunkt"}),y.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider",children:"Such-Parameter (Vorschau)"}),y.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider text-right w-16",children:"Details"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(l=>y.jsx(L4,{ev:l},l.id))})]})}),y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f9fafb; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      `})]}):y.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function L4({ev:t}){const[e,n]=C.useState(!1);let s=null;try{s=t.search?JSON.parse(t.search):null}catch{s={raw:t.search}}const a=j4(s);return y.jsxs(C.Fragment,{children:[y.jsxs("tr",{onClick:()=>n(!e),className:`cursor-pointer transition-colors ${e?"bg-indigo-50/50":"hover:bg-gray-50"}`,children:[y.jsx("td",{className:"px-4 py-3 font-mono text-xs text-gray-700 align-top",children:t.createdAtDate?y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-bold text-gray-900",children:t.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}),y.jsx("span",{className:"text-[10px] text-gray-400",children:t.createdAtDate.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}):y.jsx("span",{className:"text-gray-400",children:""})}),y.jsx("td",{className:"px-4 py-3 align-middle",children:y.jsx("div",{className:"text-sm text-gray-700 truncate max-w-md",children:a||y.jsx("span",{className:"text-gray-400 italic",children:"Filter zurckgesetzt / Leer"})})}),y.jsx("td",{className:"px-4 py-3 text-right align-middle",children:y.jsx("button",{className:`text-gray-400 transition-transform duration-200 ${e?"rotate-180 text-indigo-600":""}`,children:y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),e&&y.jsx("tr",{className:"bg-gray-50 shadow-inner",children:y.jsx("td",{colSpan:"3",className:"px-4 py-4 border-b border-gray-100",children:y.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-xs",children:[y.jsx("h4",{className:"font-bold text-gray-500 uppercase tracking-wider mb-2 text-[10px]",children:"Vollstndige Suchdaten"}),s?y.jsx(oc,{value:s}):y.jsx("span",{className:"text-gray-400",children:"Keine Daten verfgbar"})]})})})]})}function U4(){const{uid:t}=YN(),[e,n]=C.useState(null),[s,a]=C.useState(!0),[l,c]=C.useState(null);C.useEffect(()=>{(async()=>{try{const z=await Ka(Nn(Lt,"users",t));if(!z.exists()){c("User nicht gefunden");return}n({uid:t,...z.data()})}catch(z){console.error(z),c("Fehler beim Laden des Users")}finally{a(!1)}})()},[t]);const f=M=>{navigator.clipboard.writeText(M)};if(s)return y.jsx("div",{className:"p-10 text-center animate-pulse text-gray-500",children:"Lade Profil..."});if(l)return y.jsx("div",{className:"p-10 text-center text-red-600 font-bold",children:l});const m=e.firstName??e.FirstName??"Unbekannt",p=e.lastName??e.LastName??"",v=e.email??e.Email??"",b=e.role??"user",x=e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString("de-DE"):"",S=e.stripeStatus||"free",D=S==="paid"||S==="active"?"bg-emerald-100 text-emerald-700 border-emerald-200":S==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return y.jsx("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10",children:y.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[y.jsx("div",{children:y.jsxs(Rn,{to:"/admin/users",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors mb-4",children:[y.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Zurck zur bersicht"]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[y.jsxs("div",{className:"space-y-6 lg:sticky lg:top-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[y.jsx("div",{className:"h-24 bg-gradient-to-r from-indigo-500 to-blue-600"}),y.jsxs("div",{className:"px-6 pb-6 relative",children:[y.jsx("div",{className:"-mt-12 mb-4",children:y.jsx("div",{className:"h-24 w-24 rounded-full bg-white p-1 shadow-md",children:y.jsxs("div",{className:"h-full w-full rounded-full bg-gray-100 flex items-center justify-center text-2xl font-bold text-gray-400 uppercase",children:[m[0],p[0]]})})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[m," ",p]}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[y.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide border ${D}`,children:S}),y.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide bg-blue-50 text-blue-700 border border-blue-100",children:b})]})]}),y.jsxs("div",{className:"mt-6 space-y-4",children:[y.jsx(BE,{label:"E-Mail",value:v,icon:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),y.jsxs("div",{className:"group",children:[y.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"User ID"}),y.jsxs("div",{onClick:()=>f(e.uid),className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors",title:"Klicken zum Kopieren",children:[y.jsx("code",{className:"text-xs text-gray-600 font-mono truncate mr-2",children:e.uid}),y.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]})]}),y.jsx(BE,{label:"Mitglied seit",value:x,icon:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[y.jsx("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Aktiver Suchfilter"}),e.lastSearch?y.jsx("div",{className:"text-sm",children:y.jsx(oc,{value:e.lastSearch})}):y.jsx("div",{className:"text-sm text-gray-400 italic",children:"Kein Filter gesetzt."})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[y.jsx(_g,{title:"Zahlungen & Abos",children:y.jsx(N4,{user:e})}),y.jsx(_g,{title:"Klick-Historie",children:y.jsx(P4,{uid:e.uid})}),y.jsx(_g,{title:"Such-Verlauf",children:y.jsx(O4,{uid:e.uid})})]})]})]})})}function _g({title:t,children:e}){return y.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[y.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/30",children:y.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t})}),y.jsx("div",{className:"p-6",children:e})]})}function BE({label:t,value:e,icon:n}){return y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-0.5",children:t}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[n&&y.jsx("span",{className:"text-gray-400",children:n}),e]})]})}function z4(){const[t,e]=C.useState([]),[n,s]=C.useState(!0),[a,l]=C.useState(""),[c,f]=C.useState({key:"createdAt",direction:"desc"});C.useEffect(()=>{(async()=>{const x=_l(vl(Lt,"users"),Cc("createdAt","desc")),N=(await Nc(x)).docs.map(D=>({uid:D.id,...D.data(),firstName:D.data().firstName??D.data().FirstName??"",lastName:D.data().lastName??D.data().LastName??"",email:D.data().email??D.data().Email??"",stripeStatus:D.data().stripeStatus??"",createdAtDate:D.data().createdAt?.toDate?D.data().createdAt.toDate():null}));e(N),s(!1)})()},[]);const m=C.useMemo(()=>{let b=t.filter(x=>`${x.firstName} ${x.lastName} ${x.email}`.toLowerCase().includes(a.toLowerCase()));return c.key&&b.sort((x,S)=>{let N=x[c.key],D=S[c.key];return c.key==="createdAt"&&(N=x.createdAtDate||new Date(0),D=S.createdAtDate||new Date(0)),typeof N=="string"&&(N=N.toLowerCase()),typeof D=="string"&&(D=D.toLowerCase()),N<D?c.direction==="asc"?-1:1:N>D?c.direction==="asc"?1:-1:0}),b},[t,a,c]),p=b=>{let x="asc";c.key===b&&c.direction==="asc"&&(x="desc"),f({key:b,direction:x})},v=({column:b})=>c.key!==b?y.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50",children:""}):y.jsx("span",{className:"ml-2 text-indigo-600",children:c.direction==="asc"?"":""});return n?y.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Benutzerdaten..."}):y.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Userbersicht"}),y.jsxs("p",{className:"text-sm text-gray-500",children:[m.length," Benutzer gefunden"]})]}),y.jsxs("div",{className:"relative w-full md:w-72",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),y.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"Suchen (Name, E-Mail)...",value:a,onChange:b=>l(b.target.value)})]})]}),y.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:y.jsx("div",{className:"overflow-auto flex-1",children:y.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:y.jsxs("tr",{children:[y.jsxs("th",{onClick:()=>p("firstName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Name ",y.jsx(v,{column:"firstName"})]}),y.jsxs("th",{onClick:()=>p("email"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["E-Mail ",y.jsx(v,{column:"email"})]}),y.jsxs("th",{onClick:()=>p("stripeStatus"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Status ",y.jsx(v,{column:"stripeStatus"})]}),y.jsxs("th",{onClick:()=>p("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Erstellt am ",y.jsx(v,{column:"createdAt"})]}),y.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Aktion"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:m.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-500",children:"Keine Benutzer gefunden."})}):m.map(b=>{const x=b.stripeStatus==="paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":b.stripeStatus==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return y.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs mr-3",children:[b.firstName?.[0]||"?",b.lastName?.[0]||""]}),`${b.firstName} ${b.lastName}`.trim()||"Unbekannt"]})}),y.jsx("td",{className:"px-6 py-4 text-gray-500",children:b.email}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${x}`,children:b.stripeStatus})}),y.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:b.createdAtDate?.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})??""}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsx(Rn,{to:`/admin/user/${b.uid}`,className:"text-indigo-600 hover:text-indigo-900 font-medium text-xs border border-indigo-200 hover:border-indigo-400 px-3 py-1.5 rounded-lg transition-all",children:"Verwalten"})})]},b.uid)})})]})})})]})}function B4(){const[t,e]=C.useState(""),[n,s]=C.useState(""),[a,l]=C.useState(""),[c,f]=C.useState(!1),m=Us(),p=async v=>{v.preventDefault(),l(""),f(!0);try{await EM(dd,t.trim(),n),m("/dashboard")}catch(b){l("Login fehlgeschlagen. Bitte E-Mail und Passwort prfen."),console.error(b)}finally{f(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-sky-100 px-4",children:[y.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[y.jsx("div",{className:"absolute -top-32 -left-24 h-80 w-80 rounded-full bg-sky-300/50 blur-3xl"}),y.jsx("div",{className:"absolute bottom-[-60px] right-[-40px] h-80 w-80 rounded-full bg-indigo-300/50 blur-3xl"}),y.jsx("div",{className:"absolute top-1/2 -right-24 h-64 w-64 -translate-y-1/2 rounded-full bg-emerald-200/60 blur-3xl"})]}),y.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[y.jsxs("div",{className:"mb-8 text-center",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs text-slate-600 border border-slate-200 shadow-sm",children:[y.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-sky-500 text-[9px] font-bold text-white",children:"I"}),y.jsx("span",{children:"Immobot  Login"})]}),y.jsx("h1",{className:"mt-4 text-3xl font-semibold text-slate-900",children:"Willkommen zurck"}),y.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Melde dich an, um deine Immobot-Suche und gespeicherten Filter fortzusetzen."})]}),y.jsxs("div",{className:"rounded-2xl bg-white/95 border border-slate-200 shadow-xl backdrop-blur-sm p-6",children:[y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a&&y.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"E-Mail"}),y.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"email",placeholder:"beispiel@immobot.pro",value:t,onChange:v=>e(v.target.value),autoComplete:"email",required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"Passwort"}),y.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"password",placeholder:"",value:n,onChange:v=>s(v.target.value),autoComplete:"current-password",required:!0})]}),y.jsx("button",{className:"mt-2 w-full rounded-lg bg-sky-600 py-2.5 text-sm font-medium text-white shadow-md shadow-sky-400/40 hover:bg-sky-500 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:c,children:c?"Einloggen":"Einloggen"})]}),y.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Noch kein Account?"," ",y.jsx(Rn,{to:"/register",className:"font-medium text-sky-600 hover:text-sky-500",children:"Jetzt registrieren"})]})]}),y.jsx("p",{className:"mt-6 text-center text-[11px] text-slate-400",children:"Mit dem Login akzeptierst du unsere Nutzungsbedingungen & Datenschutzerklrung."})]})]})}function F4(){const[t,e]=C.useState([]),[n,s]=C.useState({}),[a,l]=C.useState(!0),[c,f]=C.useState(""),[m,p]=C.useState({key:"timestamp",direction:"desc"});C.useEffect(()=>{const x=_l(vl(Lt,"clickEvents"),Cc("timestamp","desc"),XP(100)),S=e4(x,N=>{const D=N.docs.map(M=>({id:M.id,...M.data(),offerId:M.data().offerId||M.data().offer_id||"",source:M.data().source||"",timestampDate:M.data().timestamp?.toDate?M.data().timestamp.toDate():new Date(0)}));e(D),l(!1)});return()=>S()},[]),C.useEffect(()=>{if(!t.length)return;const S=[...new Set(t.map(D=>D.userId).filter(Boolean))].filter(D=>!n[D]);if(!S.length)return;(async()=>{const D={...n};await Promise.all(S.map(async M=>{try{const z=await Ka(Nn(Lt,"users",M));if(z.exists()){const q=z.data();D[M]={firstName:q.firstName??q.FirstName??"",lastName:q.lastName??q.LastName??"",email:q.email??q.Email??""}}else D[M]={firstName:"Gelscht",lastName:"",email:""}}catch{D[M]={firstName:"Fehler",lastName:"",email:""}}})),s(D)})()},[t]);const v=C.useMemo(()=>{let x=t.map(S=>{const N=n[S.userId]||{},D=`${N.firstName||""} ${N.lastName||""}`.trim();return{...S,userLabel:D||S.userId||"Gast",userEmail:N.email||""}});if(c){const S=c.toLowerCase();x=x.filter(N=>N.userLabel.toLowerCase().includes(S)||N.userEmail.toLowerCase().includes(S)||N.offerId.toLowerCase().includes(S)||N.source.toLowerCase().includes(S))}return m.key&&x.sort((S,N)=>{let D=S[m.key],M=N[m.key];return m.key==="timestamp"&&(D=S.timestampDate,M=N.timestampDate),typeof D=="string"&&(D=D.toLowerCase()),typeof M=="string"&&(M=M.toLowerCase()),D<M?m.direction==="asc"?-1:1:D>M?m.direction==="asc"?1:-1:0}),x},[t,n,c,m]),b=x=>{let S="asc";m.key===x&&m.direction==="asc"&&(S="desc"),p({key:x,direction:S})};return a?y.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Events..."}):y.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col h-[600px]",children:[" ",y.jsxs("div",{className:"p-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Letzte Aktivitten"}),y.jsxs("p",{className:"text-xs text-gray-500",children:[v.length," Events angezeigt"]})]}),y.jsxs("div",{className:"relative w-full sm:w-64",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),y.jsx("input",{type:"text",placeholder:"Suche (User, Offer, Quelle)...",value:c,onChange:x=>f(x.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-shadow outline-none"})]})]}),y.jsx("div",{className:"overflow-auto custom-scrollbar flex-1 rounded-b-2xl",children:y.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[y.jsx("thead",{className:"bg-gray-50 text-gray-700 sticky top-0 z-10 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx(yf,{label:"Zeitpunkt",sortKey:"timestamp",currentSort:m,onSort:b}),y.jsx(yf,{label:"User",sortKey:"userLabel",currentSort:m,onSort:b}),y.jsx(yf,{label:"Offer ID",sortKey:"offerId",currentSort:m,onSort:b}),y.jsx(yf,{label:"Quelle",sortKey:"source",currentSort:m,onSort:b}),y.jsx("th",{className:"px-6 py-3 font-semibold text-xs uppercase tracking-wider text-right",children:"Redirect"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:v.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-400",children:"Keine Events gefunden."})}):v.map(x=>{const S=n[x.userId],N=x.offerId?x.offerId.length>15?x.offerId.slice(0,12)+"...":x.offerId:"";return y.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[y.jsx("td",{className:"px-6 py-3 font-mono text-xs text-gray-500",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-bold text-gray-700",children:x.timestampDate.toLocaleTimeString("de-DE")}),y.jsx("span",{className:"opacity-70",children:x.timestampDate.toLocaleDateString("de-DE")})]})}),y.jsx("td",{className:"px-6 py-3",children:x.userId?y.jsxs("div",{className:"flex flex-col",children:[y.jsx(Rn,{to:`/admin/user/${x.userId}`,className:"text-indigo-600 font-medium hover:underline text-xs sm:text-sm",children:x.userLabel===x.userId?`UID: ${x.userId.slice(0,6)}...`:x.userLabel}),S?.email&&y.jsx("span",{className:"text-[10px] text-gray-400",children:S.email})]}):y.jsx("span",{className:"text-gray-400 italic text-xs",children:"Gast"})}),y.jsx("td",{className:"px-6 py-3",children:y.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded text-gray-700 border border-gray-200",title:x.offerId,children:N})}),y.jsx("td",{className:"px-6 py-3",children:y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-indigo-50 text-indigo-700 border border-indigo-100",children:x.source})}),y.jsx("td",{className:"px-6 py-3 text-right text-xs font-mono text-gray-400",children:x.redirectId?x.redirectId.slice(0,8)+"...":""})]},x.id)})})]})}),y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f9fafb; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
      `})]})}function yf({label:t,sortKey:e,currentSort:n,onSort:s}){const a=n.key===e,l=n.direction==="asc";return y.jsx("th",{onClick:()=>s(e),className:"px-6 py-3 text-xs font-semibold uppercase tracking-wider cursor-pointer select-none group hover:bg-gray-100 transition-colors",children:y.jsxs("div",{className:"flex items-center gap-1",children:[t,y.jsxs("span",{className:`text-[10px] flex flex-col leading-none ml-1 ${a?"text-indigo-600":"text-gray-300 group-hover:text-gray-400"}`,children:[y.jsx("span",{className:a&&l?"opacity-100":"opacity-50",children:""}),y.jsx("span",{className:a&&!l?"opacity-100":"opacity-50",children:""})]})]})})}function H4(){const[t,e]=C.useState({today:0,total:0,topOffer:{id:"",count:0}});return C.useEffect(()=>{async function n(){const s=new Date;s.setHours(0,0,0,0);const a=_l(vl(Lt,"clickEvents"),U0("timestamp",">=",s)),l=await Nc(a),c={};l.docs.forEach(p=>{const v=p.data().offerId||p.data().offer_id||"Unbekannt";c[v]=(c[v]||0)+1});let f="",m=0;Object.entries(c).forEach(([p,v])=>{v>m&&(m=v,f=p)}),e({today:l.size,total:"Live",topOffer:{id:f,count:m}})}n()},[]),y.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10 flex flex-col space-y-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Click-Events & Analyse"}),y.jsx("p",{className:"text-gray-500 mt-1",children:"Echtzeit-Tracking aller User-Interaktionen."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(bg,{title:"Klicks Heute",value:t.today,icon:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),color:"text-blue-600 bg-blue-50"}),y.jsx(bg,{title:"Top Offer (Heute)",value:t.topOffer.id,subValue:`${t.topOffer.count} Klicks`,icon:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),color:"text-emerald-600 bg-emerald-50"}),y.jsx(bg,{title:"Live Feed",value:"Aktiv",icon:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"}),color:"text-purple-600 bg-purple-50"})]}),y.jsx("div",{className:"flex-1 min-h-0",children:y.jsx(F4,{})})]})}function bg({title:t,value:e,subValue:n,icon:s,color:a}){return y.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm flex items-center justify-between transition-transform hover:-translate-y-1",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1 truncate max-w-[200px]",title:e,children:e}),n&&y.jsx("p",{className:"text-xs font-semibold text-emerald-600 mt-1",children:n})]}),y.jsx("div",{className:`p-3 rounded-xl ${a}`,children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s})})]})}function q4(){const[t,e]=C.useState([]),[n,s]=C.useState({}),[a,l]=C.useState(!0),[c,f]=C.useState(""),[m,p]=C.useState({key:"createdAt",direction:"desc"});C.useEffect(()=>{(async()=>{const N=_l(vl(Lt,"offerRedirects"),Cc("createdAt","desc")),M=(await Nc(N)).docs.map(B=>({docId:B.id,...B.data(),title:B.data().title||"",vendorName:B.data().vendor?.name||"",source:B.data().source||"System",price:Number(B.data().price)||0,rooms:Number(B.data().rooms)||0,createdAtDate:B.data().createdAt?.toDate?B.data().createdAt.toDate():new Date(0)})),z=[...new Set(M.map(B=>B.uid).filter(Boolean))],q={};await Promise.all(z.map(async B=>{const ae=await Ka(Nn(Lt,"users",B));if(ae.exists()){const se=ae.data();q[B]={firstName:se.firstName??se.FirstName??"",lastName:se.lastName??se.LastName??"",email:se.email??se.Email??""}}})),e(M),s(q),l(!1)})()},[]);const v=C.useMemo(()=>{let S=t.map(N=>{const D=n[N.uid]||{},M=`${D.firstName||""} ${D.lastName||""}`.trim();return{...N,userName:M||"Unbekannt",userEmail:D.email||""}});if(c){const N=c.toLowerCase();S=S.filter(D=>D.title.toLowerCase().includes(N)||D.vendorName.toLowerCase().includes(N)||D.userName.toLowerCase().includes(N)||D.userEmail.toLowerCase().includes(N))}return m.key&&S.sort((N,D)=>{let M=N[m.key],z=D[m.key];return m.key==="createdAt"&&(M=N.createdAtDate,z=D.createdAtDate),typeof M=="string"&&(M=M.toLowerCase()),typeof z=="string"&&(z=z.toLowerCase()),M<z?m.direction==="asc"?-1:1:M>z?m.direction==="asc"?1:-1:0}),S},[t,n,c,m]),b=S=>{let N="asc";m.key===S&&m.direction==="asc"&&(N="desc"),p({key:S,direction:N})},x=({column:S})=>m.key!==S?y.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50 transition-opacity",children:""}):y.jsx("span",{className:"ml-2 text-indigo-600 font-bold",children:m.direction==="asc"?"":""});return a?y.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Angebote..."}):y.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Offer Redirects"}),y.jsxs("p",{className:"text-sm text-gray-500",children:[v.length," Eintrge gefunden"]})]}),y.jsxs("div",{className:"relative w-full md:w-80",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),y.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"Suchen (Titel, User, Anbieter)...",value:c,onChange:S=>f(S.target.value)})]})]}),y.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:y.jsx("div",{className:"overflow-auto flex-1",children:y.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:y.jsxs("tr",{children:[y.jsxs("th",{onClick:()=>b("title"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Titel ",y.jsx(x,{column:"title"})]}),y.jsxs("th",{onClick:()=>b("price"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Preis ",y.jsx(x,{column:"price"})]}),y.jsxs("th",{onClick:()=>b("rooms"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Zi. ",y.jsx(x,{column:"rooms"})]}),y.jsxs("th",{onClick:()=>b("source"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Quelle ",y.jsx(x,{column:"source"})]}),y.jsxs("th",{onClick:()=>b("userName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["User ",y.jsx(x,{column:"userName"})]}),y.jsxs("th",{onClick:()=>b("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Datum ",y.jsx(x,{column:"createdAt"})]}),y.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Link"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-100",children:v.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center text-gray-500",children:"Keine Offers gefunden."})}):v.map(S=>y.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[y.jsxs("td",{className:"px-6 py-4",children:[y.jsx("div",{className:"font-medium text-gray-900 max-w-[180px] truncate",title:S.title,children:S.title||""}),y.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:S.vendorName||"Unbekannt"})]}),y.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:S.price>0?`${S.price} `:""}),y.jsx("td",{className:"px-6 py-4 text-gray-600",children:S.rooms||""}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200",children:S.source})}),y.jsx("td",{className:"px-6 py-4",children:S.uid?y.jsxs("div",{className:"flex flex-col",children:[y.jsx(Rn,{to:`/admin/user/${S.uid}`,className:"text-indigo-600 font-medium hover:underline",children:S.userName}),y.jsx("span",{className:"text-xs text-gray-400",children:S.userEmail})]}):y.jsx("span",{className:"text-gray-400 italic",children:"Gast"})}),y.jsxs("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:[S.createdAtDate?.toLocaleDateString("de-DE")??""," ",y.jsxs("span",{className:"text-gray-400",children:["| ",S.createdAtDate?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]})]}),y.jsx("td",{className:"px-6 py-4 text-right",children:S.redirectUrl?y.jsx("a",{href:S.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 hover:bg-indigo-100 border border-indigo-100 transition-all",children:""}):""})]},S.docId))})]})})})]})}const dy="immobot_register_filters_v1",my=2,vf={offerTypes:[],objectClasses:[],constructionStatus:[],searchString:"",coordinate:void 0,radiusInKm:10,priceRange:void 0,propertySpaceRange:void 0,includePriceOnRequest:!1,__version:my};function pn(){try{const t=localStorage.getItem(dy);if(!t)return{...vf};const e=JSON.parse(t);if(e.__version!==my){const n={...vf,...e,__version:my};return localStorage.setItem(dy,JSON.stringify(n)),n}return{...vf,...e}}catch{return{...vf}}}function Cn(t){const e={...pn(),...t};try{localStorage.setItem(dy,JSON.stringify(e))}catch{}return e}const G4=new Set(["Haus","Wohnung","Grundstueck","StellplatzGarage","BroPraxis","Ferienobjekt","Gastronomie","Gewerbeeinheit","HalleLagerProduktion","Hotel","LandForst","Sonstige","Studenten"]);function K4(t){if(!G4.has(t))return pn();const e=pn(),n=new Set(e.objectClasses);if(n.has(t))n.delete(t);else{if(n.size>=2)return e;n.add(t)}return Cn({objectClasses:Array.from(n)})}const $4=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}];function Y4(){const t=Us(),e=C.useMemo(()=>pn(),[]),n=e.offerTypes?.includes("Miete")?"Miete":e.offerTypes?.includes("Kauf")?"Kauf":null,[s,a]=C.useState(n),[l,c]=C.useState(e.objectClasses||[]);function f(p){a(p),p==="Kauf"?Cn({offerTypes:["Kauf"],constructionStatus:void 0}):p==="Miete"&&Cn({offerTypes:["Miete"],constructionStatus:void 0})}const m=p=>{const v=l.includes(p);if(!v&&l.length>=2)return;const b=v?l.filter(x=>x!==p):[...l,p];c(b),K4(p)};return y.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[y.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 1 von 5"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"block text-sm font-medium text-center",children:"Angebotsart"}),y.jsx("div",{className:"mx-auto max-w-md",children:y.jsx("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[{key:"Kauf",label:"Kauf"},{key:"Miete",label:"Miete"}].map(p=>y.jsx("button",{type:"button",onClick:()=>f(p.key),className:`px-4 py-2 rounded-full border text-sm transition min-w-[80px]
                  ${s===p.key?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:p.label},p.key))})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"block text-sm font-medium mb-1 text-center",children:"Objektart"}),y.jsx("p",{className:"text-center text-xs md:text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"})]}),y.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:$4.map(p=>{const v=l.includes(p.value),b=!v&&l.length>=2;return y.jsx("button",{type:"button",disabled:b,onClick:()=>m(p.value),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition
                  ${v?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}
                  ${b?"opacity-50 cursor-not-allowed":""}
                `,children:p.label},p.value)})})]}),y.jsx("div",{className:"flex justify-center mt-6",children:y.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm active:scale-95 transition-transform",onClick:()=>t("/register/step2"),children:"Schritt 2 >"})})]})}function Q4(t){return Cn({coordinate:t})}function X4(t){const e=Number(t);return Cn({radiusInKm:Number.isFinite(e)?e:10})}const FE="VUVj9lGbHQAdYVsF04k8",W4=[5,7.5,10,12.5,15];function Z4(){const t=Us(),e=C.useMemo(()=>pn(),[]),[n,s]=C.useState(""),[a,l]=C.useState([]),[c,f]=C.useState(e.radiusInKm??10),m=C.useRef(null),p=C.useRef({L:null,map:null,marker:null,circle:null});C.useEffect(()=>{let x=!1;return(async()=>{if(!document.querySelector("link[data-leaflet]")){const N=document.createElement("link");N.rel="stylesheet",N.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",N.setAttribute("data-leaflet","1"),document.head.appendChild(N)}return window.L||await new Promise(N=>{const D=document.createElement("script");D.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",D.onload=N,document.body.appendChild(D)}),window.L})().then(N=>{if(x||!m.current)return;p.current.L=N;const D=N.map(m.current,{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1}).setView([52.52,13.405],10);p.current.map=D,N.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${FE}`,{attribution:"&copy; MapTiler"}).addTo(D),e.coordinate?.lat&&e.coordinate?.lon&&b(e.coordinate.lat,e.coordinate.lon,c)}),()=>{x=!0}},[]),C.useEffect(()=>{X4(c);const{marker:x}=p.current;if(x){const S=x.getLatLng();b(S.lat,S.lng,c)}},[c]),C.useEffect(()=>{if(n.trim().length<3){l([]);return}const x=setTimeout(async()=>{const S=`https://api.maptiler.com/geocoding/${encodeURIComponent(n.trim())}.json?key=${FE}&language=de&country=DE,AT,CH&limit=5`;try{const M=(await(await fetch(S)).json()).features?.map(z=>({label:z.place_name,lat:z.center?.[1],lon:z.center?.[0]})).filter(z=>Number.isFinite(z.lat)&&Number.isFinite(z.lon))||[];l(M)}catch{l([])}},200);return()=>clearTimeout(x)},[n]);function v(x){s(x.label),l([]),Q4({lat:x.lat,lon:x.lon}),b(x.lat,x.lon,c)}function b(x,S,N){const{L:D,map:M,marker:z,circle:q}=p.current;if(!D||!M)return;z&&z.remove(),q&&q.remove();const B=D.marker([x,S]).addTo(M),ae=D.circle([x,S],{radius:(N||0)*1e3,color:"#007bff",fillOpacity:.25}).addTo(M);p.current.marker=B,p.current.circle=ae,M.fitBounds(ae.getBounds(),{padding:[40,40]})}return y.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6 md:space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[y.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 2 von 5"}),y.jsx("h2",{className:"text-lg md:text-xl font-semibold text-center leading-tight",children:"Wo sollen wir etwas fr dich finden?"}),y.jsxs("div",{className:"mx-auto max-w-md relative w-full",children:[y.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Ort/Stadt eingeben"}),y.jsx("input",{value:n,onChange:x=>s(x.target.value),placeholder:"z. B. Freiburg im Breisgau",className:"w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",onKeyDown:x=>{x.key==="Enter"&&x.preventDefault()}}),a.length>0&&y.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-lg border bg-white shadow-lg z-[9999] max-h-60 overflow-y-auto",children:a.map((x,S)=>y.jsx("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-0",onClick:()=>v(x),children:x.label},S))})]}),y.jsxs("div",{className:"mx-auto max-w-md",children:[y.jsx("label",{className:"block text-sm font-medium mb-2 text-center",children:"Radius auswhlen:"}),y.jsx("div",{className:"flex justify-center flex-wrap gap-2",children:W4.map(x=>y.jsxs("button",{type:"button",onClick:()=>f(x),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-sm transition
                ${Number(c)===x?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:[x," km"]},x))})]}),y.jsx("div",{className:"w-full h-64 md:h-[400px] rounded-xl border border-gray-300 relative overflow-hidden",style:{pointerEvents:"none"},children:y.jsx("div",{ref:m,className:"w-full h-full"})}),y.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[y.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step1"),children:"< Zurck"}),y.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step3"),children:"Schritt 3 >"})]})]})}function J4(t){if(t===null)return Cn({propertySpaceRange:void 0});if(t.type==="max")return Cn({propertySpaceRange:{from:0,to:t.value}});if(t.type==="min")return Cn({propertySpaceRange:{from:t.value,to:9999999}})}function eL(t){if(t==null)return Cn({priceRange:void 0});const e=Number(t);return!Number.isFinite(e)||e<=0?pn():Cn({priceRange:{from:0,to:e}})}function tL(){const t=pn();return t.offerTypes.includes("Miete")&&!t.offerTypes.includes("Kauf")?[300,500,700,900,1200,1500,1800,null]:[15e4,25e4,4e5,6e5,8e5,1e6,15e5,null]}function nL(){return pn().objectClasses?.includes("Grundstueck")?[{type:"max",value:500},{type:"min",value:500},null]:[{type:"max",value:100},{type:"min",value:100},null]}function HE({active:t,onClick:e,children:n}){return y.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition transform active:scale-95
        ${t?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:n})}function iL(){const t=Us(),e=C.useMemo(()=>pn(),[]),n=tL(),s=nL(),[a,l]=C.useState(e.priceRange?.to??null),[c,f]=C.useState(e.propertySpaceRange?.to??null),m=e.objectClasses?.includes("Grundstueck"),p=e.offerTypes?.includes("Miete")&&!e.offerTypes?.includes("Kauf"),v=(x,S)=>{if(x==null)return"beliebig";const N=x.toLocaleString("de-DE");return p?`bis ${N} `:S===n.length-2&&n[n.length-1]===null?`ab ${N} `:`bis ${N} `},b=x=>{if(x===null)return"beliebig";if(x.type==="max")return`bis ${x.value} m`;if(x.type==="min")return`ab ${x.value} m`};return y.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[y.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 3 von 5"}),y.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center text-gray-800 leading-tight",children:p?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:"Whle deinen maximalen Preis:"}),y.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:n.map((x,S)=>y.jsx(HE,{active:a===x,onClick:()=>{l(x),eL(x)},children:v(x,S)},S))})]}),y.jsxs("div",{className:"pt-2",children:[y.jsx("h3",{className:"text-lg md:text-xl font-semibold text-center text-gray-800 mb-1",children:"Flche"}),y.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:m?"Wie gro soll dein Grundstck sein?":"Wie gro soll die Wohnflche sein?"}),y.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.map((x,S)=>y.jsx(HE,{active:c===(x?.value??null),onClick:()=>{f(x?.value??null),J4(x)},children:b(x)},S))})]}),y.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[y.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step2"),children:"< Zurck"}),y.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step4"),children:"Weiter >"})]})]})}const Y1=["balconyTerrace","garden","parkingSpace","cellar","bathroomWithWindow","builtInKitchen","elevator","underfloorHeating","fireplace","furnished","firstTimeUse","refurbished","leased","freeOfCommission","preservationOrder","divisible","barrierFree","airConditioningVentilation"];function sL(){const t=pn()||{},e={};for(const n of Y1)e[n]=!!t[n];return e}function rL(t){if(!Y1.includes(t))return pn();const e=pn()||{},n=!e[t];return Cn({...e,[t]:n})}const qE=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function aL(){const t=Us(),e=C.useMemo(()=>sL(),[]),[n,s]=C.useState(qE.reduce((f,m)=>({...f,[m.key]:!!e[m.key]}),{})),[a,l]=C.useState(!1);function c(f){rL(f),s(m=>({...m,[f]:!m[f]}))}return y.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[y.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 4 von 5 (optional)"}),!a&&y.jsxs("div",{className:"py-2",children:[y.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere Filter nutzen?"}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[y.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>l(!0),children:"Ja, unbedingt"}),y.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),a&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Ausstattung"}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",y.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:"Siehe FAQ"}),"."]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto mt-2",children:qE.map(f=>{const m=!!n[f.key];return y.jsx("button",{type:"button",onClick:()=>c(f.key),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition active:scale-95
                    ${m?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:f.key,children:f.label},f.key)})})]}),y.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[y.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step3"),children:"< Zurck"}),a&&y.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step5"),children:"Weiter >"})]})]})}function oL(t,e){const n=pn(),s=Array.isArray(n[t])?[...n[t]]:[],a=s.indexOf(e);return a>=0?s.splice(a,1):s.push(e),Cn({[t]:s.length?s:void 0})}function _f(t,e,n){const s=GE(e),a=GE(n);return s==null&&a==null?Cn({[t]:void 0}):Cn({[t]:{...s!=null?{from:s}:{},...a!=null?{to:a}:{}}})}function GE(t){if(t===""||t==null)return;const e=Number(t);return Number.isFinite(e)?e:void 0}function lL(){const t=pn();return{energySources:t.energySources||[],heatingTypes:t.heatingTypes||[],energyRatings:t.energyRatings||[],energyEfficiencyStandards:t.energyEfficiencyStandards||[],pricePerSqmRange:t.pricePerSqmRange,yieldRange:t.yieldRange,energyConsumptionRange:t.energyConsumptionRange,constructionYearRange:t.constructionYearRange}}const uL=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],cL=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],hL=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],fL=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function dL(){const t=Us(),e=C.useMemo(()=>lL(),[]),[n,s]=C.useState(!1),[a,l]=C.useState(e.energySources||[]),[c,f]=C.useState(e.heatingTypes||[]),[m,p]=C.useState(e.energyRatings||[]),[v,b]=C.useState(e.energyEfficiencyStandards||[]),[x,S]=C.useState(e.pricePerSqmRange?.from??""),[N,D]=C.useState(e.pricePerSqmRange?.to??""),[M,z]=C.useState(e.yieldRange?.from??""),[q,B]=C.useState(e.yieldRange?.to??""),[ae,se]=C.useState(e.energyConsumptionRange?.from??""),[oe,I]=C.useState(e.energyConsumptionRange?.to??""),[R,k]=C.useState(e.constructionYearRange?.from??""),[P,j]=C.useState(e.constructionYearRange?.to??"");function F(we,_e,W){oL(we,_e),W(re=>re?.includes(_e)?re.filter(he=>he!==_e):[...re||[],_e])}function V(){_f("pricePerSqmRange",x,N),_f("yieldRange",M,q),_f("energyConsumptionRange",ae,oe),_f("constructionYearRange",R,P)}return y.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[y.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 5 von 5 (optional)"}),!n&&y.jsxs("div",{className:"py-2",children:[y.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere technische Filter nutzen?"}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[y.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>s(!0),children:"Ja, unbedingt"}),y.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),n&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Technische Filter"}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",y.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600",children:"Siehe FAQ"}),"."]}),y.jsxs("div",{className:"space-y-6 pt-2",children:[y.jsx(xr,{title:"Energietrger",children:y.jsx(bf,{options:uL,active:a,onToggle:we=>F("energySources",we,l)})}),y.jsx(xr,{title:"Heizungsart",children:y.jsx(bf,{options:cL,active:c,onToggle:we=>F("heatingTypes",we,f)})}),y.jsx(xr,{title:"Energieklasse",children:y.jsx(bf,{options:hL,active:m,onToggle:we=>F("energyRatings",we,p)})}),y.jsx(xr,{title:"Energiestandard",children:y.jsx(bf,{options:fL,active:v,onToggle:we=>F("energyEfficiencyStandards",we,b)})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx(xr,{title:"Preis pro m",children:y.jsx(xf,{unit:"/m",from:x,to:N,setFrom:S,setTo:D,onBlurSave:V})}),y.jsx(xr,{title:"Rendite",children:y.jsx(xf,{unit:"%",step:"0.1",from:M,to:q,setFrom:z,setTo:B,onBlurSave:V})}),y.jsx(xr,{title:"Energieverbrauch",children:y.jsx(xf,{unit:"kWh/m*a",from:ae,to:oe,setFrom:se,setTo:I,onBlurSave:V})}),y.jsx(xr,{title:"Baujahr",children:y.jsx(xf,{unit:"",from:R,to:P,setFrom:k,setTo:j,onBlurSave:V})})]})]})]}),y.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[y.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step4"),children:"< Zurck"}),n?y.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95 text-sm md:text-base",onClick:()=>{V(),t("/register/finish")},children:"Registrieren >"}):y.jsx("div",{})]})]})}function xr({title:t,children:e}){return y.jsxs("div",{className:"w-full",children:[y.jsx("h3",{className:"mb-3 font-semibold text-sm text-center text-gray-800",children:t}),e]})}function bf({options:t,active:e=[],onToggle:n}){return y.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto",children:t.map(s=>{const a=e?.includes(s);return y.jsx("button",{type:"button",onClick:()=>n(s),className:`inline-flex items-center justify-center rounded-full border px-3 py-2 text-xs transition active:scale-95
              ${a?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:s,children:s},s)})})}function xf({unit:t,from:e,to:n,setFrom:s,setTo:a,step:l="1",onBlurSave:c}){return y.jsxs("div",{className:"flex items-end justify-center gap-3 w-full max-w-sm mx-auto",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"von"}),y.jsx("input",{type:"number",step:l,value:e,onChange:f=>s(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0"})]}),y.jsx("span",{className:"text-gray-400 pb-3",children:"-"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"bis"}),y.jsx("input",{type:"number",step:l,value:n,onChange:f=>a(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"max"})]}),t&&y.jsx("span",{className:"text-xs text-gray-500 pb-3 w-10",children:t})]})}function KE(t){if(t===""||t===null||t===void 0)return!1;const e=typeof t=="string"?Number(t):t;return typeof e=="number"&&Number.isFinite(e)}function mL(t){if(!t||typeof t!="object")return;const e=KE(t.from),n=KE(t.to);if(!(!e&&!n))return!e&&n?{from:0,to:Number(t.to)}:e&&!n?{from:Number(t.from)}:{from:Number(t.from),to:Number(t.to)}}function py(t){if(t===null)return null;if(Array.isArray(t))return t.map(py).filter(e=>e!==void 0);if(typeof t=="object"){const e={};for(const[n,s]of Object.entries(t)){if(s===void 0)continue;if(n.endsWith("Range")){const l=mL(s);l!==void 0&&(e[n]=l);continue}const a=py(s);a!==void 0&&(e[n]=a)}return Object.keys(e).length===0?void 0:e}return typeof t=="number"?Number.isFinite(t)?t:void 0:t}async function pL(t){const e=pn(),n=py(e),s=Nn(Lt,"users",t);await Qd(s,{lastSearch:n,lastSearchUpdatedAt:hy()},{merge:!0})}function gL(){const t=Us(),[e,n]=C.useState(""),[s,a]=C.useState(""),[l,c]=C.useState(""),[f,m]=C.useState(""),[p,v]=C.useState(""),[b,x]=C.useState(!1),[S,N]=C.useState(!1),[D,M]=C.useState(!1),[z,q]=C.useState(""),B=!D&&b&&e.trim()&&s.trim()&&l.trim()&&f.trim()&&p.trim();async function ae(oe){if(oe.preventDefault(),!!B){if(f!==p){q("Die Passwrter stimmen nicht berein.");return}M(!0),q("");try{const{user:I}=await TM(dd,l.trim(),f);await Qd(Nn(Lt,"users",I.uid),{firstName:e.trim(),lastName:s.trim(),email:l.trim().toLowerCase(),role:"user",stripeStatus:"none",stripeCustomerId:null,marketingOptIn:S,acceptedTermsAt:hy(),createdAt:hy()},{merge:!0}),await pL(I.uid),t("/dashboard")}catch(I){q(I.message||"Fehler bei der Registrierung")}finally{M(!1)}}}const se="w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition";return y.jsxs("div",{className:`
      w-full mx-auto max-w-lg bg-white
      p-4 mt-2
      md:p-8 md:mt-10 md:border md:rounded-2xl md:shadow-sm
    `,children:[y.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-center leading-tight mb-2",children:"Dein Immobot-Konto"}),y.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Lege jetzt dein Konto an. Im nchsten Schritt whlst du dein Abo und aktivierst deinen Zugang."}),y.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsx("div",{className:"w-1/2",children:y.jsx("input",{type:"text",className:se,placeholder:"Vorname",value:e,onChange:oe=>n(oe.target.value),required:!0})}),y.jsx("div",{className:"w-1/2",children:y.jsx("input",{type:"text",className:se,placeholder:"Nachname",value:s,onChange:oe=>a(oe.target.value),required:!0})})]}),y.jsx("input",{type:"email",className:se,placeholder:"E-Mail",value:l,onChange:oe=>c(oe.target.value),required:!0,autoComplete:"email"}),y.jsx("input",{type:"password",className:se,placeholder:"Passwort",value:f,onChange:oe=>m(oe.target.value),required:!0,autoComplete:"new-password"}),y.jsx("input",{type:"password",className:se,placeholder:"Passwort wiederholen",value:p,onChange:oe=>v(oe.target.value),required:!0,autoComplete:"new-password"}),y.jsxs("div",{className:"space-y-3 pt-2",children:[y.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:b,onChange:oe=>x(oe.target.checked),required:!0}),y.jsxs("span",{className:"text-gray-700",children:["Ich akzeptiere die"," ",y.jsx(Rn,{to:"/terms",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"AGB"})," ","und die"," ",y.jsx(Rn,{to:"/privacy",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"Datenschutzerklrung"}),"."]})]}),y.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:S,onChange:oe=>N(oe.target.checked)}),y.jsx("span",{className:"text-gray-700",children:"Ich mchte hilfreiche Updates & Angebote per E-Mail erhalten (optional)."})]})]}),z&&y.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg",children:y.jsx("p",{className:"text-sm text-red-600 text-center",children:z})}),y.jsx("button",{type:"submit",disabled:!B,className:"w-full px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed transition active:scale-95",children:D?"Speichere...":"Kostenpflichtig weiter"}),y.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center px-2",children:"Keine Sorge: Du kannst dein Abo im nchsten Schritt whlen und spter jederzeit kndigen."})]})]})}const Q1=C.createContext({});function yL(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const K0=typeof window<"u",vL=K0?C.useLayoutEffect:C.useEffect,$0=C.createContext(null);function Y0(t,e){t.indexOf(e)===-1&&t.push(e)}function Q0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const js=(t,e,n)=>n>e?e:n<t?t:n;let X0=()=>{};const Ps={},X1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function W1(t){return typeof t=="object"&&t!==null}const Z1=t=>/^0[^.\s]+$/u.test(t);function W0(t){let e;return()=>(e===void 0&&(e=t()),e)}const si=t=>t,_L=(t,e)=>n=>e(t(n)),Ic=(...t)=>t.reduce(_L),lc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Z0{constructor(){this.subscriptions=[]}add(e){return Y0(this.subscriptions,e),()=>Q0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const is=t=>t*1e3,ni=t=>t/1e3;function J1(t,e){return e?t*(1e3/e):0}const eR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bL=1e-7,xL=12;function TL(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=eR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>bL&&++f<xL);return c}function Dc(t,e,n,s){if(t===e&&n===s)return si;const a=l=>TL(l,0,1,t,n);return l=>l===0||l===1?l:eR(a(l),e,s)}const tR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nR=t=>e=>1-t(1-e),iR=Dc(.33,1.53,.69,.99),J0=nR(iR),sR=tR(J0),rR=t=>(t*=2)<1?.5*J0(t):.5*(2-Math.pow(2,-10*(t-1))),ev=t=>1-Math.sin(Math.acos(t)),aR=nR(ev),oR=tR(ev),EL=Dc(.42,0,1,1),SL=Dc(0,0,.58,1),lR=Dc(.42,0,.58,1),wL=t=>Array.isArray(t)&&typeof t[0]!="number",uR=t=>Array.isArray(t)&&typeof t[0]=="number",AL={linear:si,easeIn:EL,easeInOut:lR,easeOut:SL,circIn:ev,circInOut:oR,circOut:aR,backIn:J0,backInOut:sR,backOut:iR,anticipate:rR},RL=t=>typeof t=="string",$E=t=>{if(uR(t)){X0(t.length===4);const[e,n,s,a]=t;return Dc(e,n,s,a)}else if(RL(t))return AL[t];return t},Tf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,b=!1,x=!1)=>{const N=x&&a?n:s;return b&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const NL=40;function cR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Tf.reduce((B,ae)=>(B[ae]=CL(l),B),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:b,preRender:x,render:S,postRender:N}=c,D=()=>{const B=Ps.useManualTiming?a.timestamp:performance.now();n=!1,Ps.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,NL),1)),a.timestamp=B,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),b.process(a),x.process(a),S.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(D))},M=()=>{n=!0,s=!0,a.isProcessing||t(D)};return{schedule:Tf.reduce((B,ae)=>{const se=c[ae];return B[ae]=(oe,I=!1,R=!1)=>(n||M(),se.schedule(oe,I,R)),B},{}),cancel:B=>{for(let ae=0;ae<Tf.length;ae++)c[Tf[ae]].cancel(B)},state:a,steps:c}}const{schedule:ct,cancel:zr,state:en,steps:xg}=cR(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Bf;function IL(){Bf=void 0}const An={now:()=>(Bf===void 0&&An.set(en.isProcessing||Ps.useManualTiming?en.timestamp:performance.now()),Bf),set:t=>{Bf=t,queueMicrotask(IL)}},hR=t=>e=>typeof e=="string"&&e.startsWith(t),tv=hR("--"),DL=hR("var(--"),nv=t=>DL(t)?kL.test(t.split("/*")[0].trim()):!1,kL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uc={...bl,transform:t=>js(0,1,t)},Ef={...bl,default:1},qu=t=>Math.round(t*1e5)/1e5,iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ML(t){return t==null}const VL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sv=(t,e)=>n=>!!(typeof n=="string"&&VL.test(n)&&n.startsWith(t)||e&&!ML(n)&&Object.prototype.hasOwnProperty.call(n,e)),fR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(iv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},OL=t=>js(0,255,t),Tg={...bl,transform:t=>Math.round(OL(t))},Na={test:sv("rgb","red"),parse:fR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Tg.transform(t)+", "+Tg.transform(e)+", "+Tg.transform(n)+", "+qu(uc.transform(s))+")"};function jL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const gy={test:sv("#"),parse:jL,transform:Na.transform},kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=kc("deg"),ss=kc("%"),Te=kc("px"),PL=kc("vh"),LL=kc("vw"),YE={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},Ho={test:sv("hsl","hue"),parse:fR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ss.transform(qu(e))+", "+ss.transform(qu(n))+", "+qu(uc.transform(s))+")"},Ot={test:t=>Na.test(t)||gy.test(t)||Ho.test(t),parse:t=>Na.test(t)?Na.parse(t):Ho.test(t)?Ho.parse(t):gy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Na.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},UL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zL(t){return isNaN(t)&&typeof t=="string"&&(t.match(iv)?.length||0)+(t.match(UL)?.length||0)>0}const dR="number",mR="color",BL="var",FL="var(",QE="${}",HL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(HL,m=>(Ot.test(m)?(s.color.push(l),a.push(mR),n.push(Ot.parse(m))):m.startsWith(FL)?(s.var.push(l),a.push(BL),n.push(m)):(s.number.push(l),a.push(dR),n.push(parseFloat(m))),++l,QE)).split(QE);return{values:n,split:f,indexes:s,types:a}}function pR(t){return cc(t).values}function gR(t){const{split:e,types:n}=cc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===dR?l+=qu(a[c]):f===mR?l+=Ot.transform(a[c]):l+=a[c]}return l}}const qL=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function GL(t){const e=pR(t);return gR(t)(e.map(qL))}const Br={test:zL,parse:pR,createTransformer:gR,getAnimatableNone:GL};function Eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Eg(m,f,t+1/3),l=Eg(m,f,t),c=Eg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function md(t,e){return n=>n>0?e:t}const ft=(t,e,n)=>t+(e-t)*n,Sg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},$L=[gy,Na,Ho],YL=t=>$L.find(e=>e.test(t));function XE(t){const e=YL(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=KL(n)),n}const WE=(t,e)=>{const n=XE(t),s=XE(e);if(!n||!s)return md(t,e);const a={...n};return l=>(a.red=Sg(n.red,s.red,l),a.green=Sg(n.green,s.green,l),a.blue=Sg(n.blue,s.blue,l),a.alpha=ft(n.alpha,s.alpha,l),Na.transform(a))},yy=new Set(["none","hidden"]);function QL(t,e){return yy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XL(t,e){return n=>ft(t,e,n)}function rv(t){return typeof t=="number"?XL:typeof t=="string"?nv(t)?md:Ot.test(t)?WE:JL:Array.isArray(t)?yR:typeof t=="object"?Ot.test(t)?WE:WL:md}function yR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>rv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function WL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=rv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function ZL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const JL=(t,e)=>{const n=Br.createTransformer(e),s=cc(t),a=cc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?yy.has(t)&&!a.values.length||yy.has(e)&&!s.values.length?QL(t,e):Ic(yR(ZL(s,a),a.values),n):md(t,e)};function vR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):rv(t)(t,e)}const e3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ct.update(e,n),stop:()=>zr(e),now:()=>en.isProcessing?en.timestamp:An.now()}},_R=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},pd=2e4;function av(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<pd;)e+=n,s=t.next(e);return e>=pd?1/0:e}function t3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(av(s),pd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ni(a)}}const n3=5;function bR(t,e,n){const s=Math.max(e-n3,0);return J1(n-t(s),e-s)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wg=.001;function i3({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:s=yt.mass}){let a,l,c=1-e;c=js(yt.minDamping,yt.maxDamping,c),t=js(yt.minDuration,yt.maxDuration,ni(t)),c<1?(a=p=>{const v=p*c,b=v*t,x=v-n,S=vy(p,c),N=Math.exp(-b);return wg-x/S*N},l=p=>{const b=p*c*t,x=b*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-b),D=vy(Math.pow(p,2),c);return(-a(p)+wg>0?-1:1)*((x-S)*N)/D}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-wg+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const f=5/t,m=r3(a,l,f);if(t=is(t),isNaN(m))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const s3=12;function r3(t,e,n){let s=n;for(let a=1;a<s3;a++)s=s-t(s)/e(s);return s}function vy(t,e){return t*Math.sqrt(1-e*e)}const a3=["duration","bounce"],o3=["stiffness","damping","mass"];function ZE(t,e){return e.some(n=>t[n]!==void 0)}function l3(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!ZE(t,o3)&&ZE(t,a3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*js(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=i3(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function gd(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:b,velocity:x,isResolvedFromDuration:S}=l3({...n,velocity:-ni(n.velocity||0)}),N=x||0,D=p/(2*Math.sqrt(m*v)),M=c-l,z=ni(Math.sqrt(m/v)),q=Math.abs(M)<5;s||(s=q?yt.restSpeed.granular:yt.restSpeed.default),a||(a=q?yt.restDelta.granular:yt.restDelta.default);let B;if(D<1){const se=vy(z,D);B=oe=>{const I=Math.exp(-D*z*oe);return c-I*((N+D*z*M)/se*Math.sin(se*oe)+M*Math.cos(se*oe))}}else if(D===1)B=se=>c-Math.exp(-z*se)*(M+(N+z*M)*se);else{const se=z*Math.sqrt(D*D-1);B=oe=>{const I=Math.exp(-D*z*oe),R=Math.min(se*oe,300);return c-I*((N+D*z*M)*Math.sinh(R)+se*M*Math.cosh(R))/se}}const ae={calculatedDuration:S&&b||null,next:se=>{const oe=B(se);if(S)f.done=se>=b;else{let I=se===0?N:0;D<1&&(I=se===0?is(N):bR(B,se,oe));const R=Math.abs(I)<=s,k=Math.abs(c-oe)<=a;f.done=R&&k}return f.value=f.done?c:oe,f},toString:()=>{const se=Math.min(av(ae),pd),oe=_R(I=>ae.next(se*I).value,se,30);return se+"ms "+oe},toTransition:()=>{}};return ae}gd.applyToOptions=t=>{const e=t3(t,100,gd);return t.ease=e.ease,t.duration=is(e.duration),t.type="keyframes",t};function _y({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:v}){const b=t[0],x={done:!1,value:b},S=R=>f!==void 0&&R<f||m!==void 0&&R>m,N=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let D=n*e;const M=b+D,z=c===void 0?M:c(M);z!==M&&(D=z-b);const q=R=>-D*Math.exp(-R/s),B=R=>z+q(R),ae=R=>{const k=q(R),P=B(R);x.done=Math.abs(k)<=p,x.value=x.done?z:P};let se,oe;const I=R=>{S(x.value)&&(se=R,oe=gd({keyframes:[x.value,N(x.value)],velocity:bR(B,R,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return I(0),{calculatedDuration:null,next:R=>{let k=!1;return!oe&&se===void 0&&(k=!0,ae(R),I(R)),se!==void 0&&R>=se?oe.next(R-se):(!k&&ae(R),x)}}}function u3(t,e,n){const s=[],a=n||Ps.mix||vR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||si:e;f=Ic(m,f)}s.push(f)}return s}function c3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(X0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=u3(e,s,a),m=f.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const x=lc(t[b],t[b+1],v);return f[b](x)};return n?v=>p(js(t[0],t[l-1],v)):p}function h3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=lc(0,e,s);t.push(ft(n,1,a))}}function f3(t){const e=[0];return h3(e,t.length-1),e}function d3(t,e){return t.map(n=>n*e)}function m3(t,e){return t.map(()=>e||lR).splice(0,t.length-1)}function Gu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=wL(s)?s.map($E):$E(s),l={done:!1,value:e[0]},c=d3(n&&n.length===e.length?n:f3(e),t),f=c3(c,e,{ease:Array.isArray(a)?a:m3(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const p3=t=>t!==null;function ov(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(p3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const g3={decay:_y,inertia:_y,tween:Gu,keyframes:Gu,spring:gd};function xR(t){typeof t.type=="string"&&(t.type=g3[t.type])}class lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const y3=t=>t/100;class uv extends lv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xR(e);const{type:n=Gu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Gu;m!==Gu&&typeof f[0]!="number"&&(this.mixKeyframes=Ic(y3,vR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=av(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:x,repeatDelay:S,type:N,onUpdate:D,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,ae=s;if(b){const R=Math.min(this.currentTime,a)/f;let k=Math.floor(R),P=R%1;!P&&R>=1&&(P=1),P===1&&k--,k=Math.min(k,b+1),!!(k%2)&&(x==="reverse"?(P=1-P,S&&(P-=S/f)):x==="mirror"&&(ae=c)),B=js(0,1,P)*f}const se=q?{done:!1,value:v[0]}:ae.next(B);l&&(se.value=l(se.value));let{done:oe}=se;!q&&m!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return I&&N!==_y&&(se.value=ov(v,this.options,M,this.speed)),D&&D(se.value),I&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return ni(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(this.currentTime)}set time(e){e=is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=e3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function v3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ia=t=>t*180/Math.PI,by=t=>{const e=Ia(Math.atan2(t[1],t[0]));return xy(e)},_3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:by,rotateZ:by,skewX:t=>Ia(Math.atan(t[1])),skewY:t=>Ia(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xy=t=>(t=t%360,t<0&&(t+=360),t),JE=by,eS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eS,scaleY:tS,scale:t=>(eS(t)+tS(t))/2,rotateX:t=>xy(Ia(Math.atan2(t[6],t[5]))),rotateY:t=>xy(Ia(Math.atan2(-t[2],t[0]))),rotateZ:JE,rotate:JE,skewX:t=>Ia(Math.atan(t[4])),skewY:t=>Ia(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ty(t){return t.includes("scale")?1:0}function Ey(t,e){if(!t||t==="none")return Ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=b3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=_3,a=f}if(!a)return Ty(e);const l=s[e],c=a[1].split(",").map(T3);return typeof l=="function"?l(c):c[l]}const x3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ey(n,e)};function T3(t){return parseFloat(t.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(xl),nS=t=>t===bl||t===Te,E3=new Set(["x","y","z"]),S3=xl.filter(t=>!E3.has(t));function w3(t){const e=[];return S3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ma={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ey(e,"x"),y:(t,{transform:e})=>Ey(e,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Va=new Set;let Sy=!1,wy=!1,Ay=!1;function TR(){if(wy){const t=Array.from(Va).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=w3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}wy=!1,Sy=!1,Va.forEach(t=>t.complete(Ay)),Va.clear()}function ER(){Va.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wy=!0)})}function A3(){Ay=!0,ER(),TR(),Ay=!1}class cv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Va.add(this),Sy||(Sy=!0,ct.read(ER),ct.resolveKeyframes(TR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}v3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Va.delete(this)}cancel(){this.state==="scheduled"&&(Va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R3=t=>t.startsWith("--");function C3(t,e,n){R3(e)?t.style.setProperty(e,n):t.style[e]=n}const N3=W0(()=>window.ScrollTimeline!==void 0),I3={};function D3(t,e){const n=W0(t);return()=>I3[e]??n()}const SR=D3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,iS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function wR(t,e){if(t)return typeof t=="function"?SR()?_R(t,e):"ease-out":uR(t)?Pu(t):Array.isArray(t)?t.map(n=>wR(n,e)||iS.easeOut):iS[t]}function k3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const b=wR(f,a);Array.isArray(b)&&(v.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(v,x)}function AR(t){return typeof t=="function"&&"applyToOptions"in t}function M3({type:t,...e}){return AR(t)&&SR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class V3 extends lv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,X0(typeof e.type!="string");const p=M3(e);this.animation=k3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=ov(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):C3(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ni(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&N3()?(this.animation.timeline=e,si):n(this)}}const RR={anticipate:rR,backInOut:sR,circInOut:oR};function O3(t){return t in RR}function j3(t){typeof t.ease=="string"&&O3(t.ease)&&(t.ease=RR[t.ease])}const sS=10;class P3 extends V3{constructor(e){j3(e),xR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new uv({...c,autoplay:!1}),m=is(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-sS).value,f.sample(m).value,sS),f.stop()}}const rS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Br.test(t)||t==="0")&&!t.startsWith("url("));function L3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function U3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=rS(a,e),f=rS(l,e);return!c||!f?!1:L3(t)||(n==="spring"||AR(n))&&s}function Ry(t){t.duration=0,t.type="keyframes"}const z3=new Set(["opacity","clipPath","filter","transform"]),B3=W0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F3(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return B3()&&n&&z3.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const H3=40;class q3 extends lv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,...b},S=v?.KeyframeResolver||cv;this.keyframeResolver=new S(f,(N,D,M)=>this.onKeyframesResolved(N,D,x,!M),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:v}=s;this.resolvedAt=An.now(),U3(e,l,c,f)||((Ps.instantAnimations||!m)&&v?.(ov(e,s,n)),e[0]=e[e.length-1],Ry(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>H3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&F3(x)?new P3({...x,element:x.motionValue.owner.current}):new uv(x);S.finished.then(()=>this.notifyFinished()).catch(si),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),A3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const G3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K3(t){const e=G3.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function CR(t,e,n=1){const[s,a]=K3(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return X1(c)?parseFloat(c):c}return nv(a)?CR(a,e,n+1):a}function hv(t,e){return t?.[e]??t?.default??t}const NR=new Set(["width","height","top","left","right","bottom",...xl]),$3={test:t=>t==="auto",parse:t=>t},IR=t=>e=>e.test(t),DR=[bl,Te,ss,Er,LL,PL,$3],aS=t=>DR.find(IR(t));function Y3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Z1(t):!0}const Q3=new Set(["brightness","contrast","saturate","opacity"]);function X3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(iv)||[];if(!s)return t;const a=n.replace(s,"");let l=Q3.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const W3=/\b([a-z-]*)\(.*?\)/gu,Cy={...Br,getAnimatableNone:t=>{const e=t.match(W3);return e?e.map(X3).join(" "):t}},oS={...bl,transform:Math.round},Z3={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:Ef,scaleX:Ef,scaleY:Ef,scaleZ:Ef,skew:Er,skewX:Er,skewY:Er,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:uc,originX:YE,originY:YE,originZ:Te},fv={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...Z3,zIndex:oS,fillOpacity:uc,strokeOpacity:uc,numOctaves:oS},J3={...fv,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Cy,WebkitFilter:Cy},kR=t=>J3[t];function MR(t,e){let n=kR(t);return n!==Cy&&(n=Br),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const e6=new Set(["auto","none","0"]);function t6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!e6.has(l)&&cc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=MR(n,a)}class n6 extends cv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),nv(p))){const v=CR(p,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!NR.has(s)||e.length!==2)return;const[a,l]=e,c=aS(a),f=aS(l);if(c!==f)if(nS(c)&&nS(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ma[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Y3(e[a]))&&s.push(a);s.length&&t6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ma[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function i6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const VR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function s6(t){return W1(t)&&"offsetHeight"in t}const lS=30,r6=t=>!isNaN(parseFloat(t));class a6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=An.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=r6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const s=this.events[e].add(n);return e==="change"?()=>{s(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lS);return J1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(t,e){return new a6(t,e)}const{schedule:dv}=cR(queueMicrotask,!1),xi={x:!1,y:!1};function OR(){return xi.x||xi.y}function o6(t){return t==="x"||t==="y"?xi[t]?null:(xi[t]=!0,()=>{xi[t]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function jR(t,e){const n=i6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function uS(t){return!(t.pointerType==="touch"||OR())}function l6(t,e,n={}){const[s,a,l]=jR(t,n),c=f=>{if(!uS(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=b=>{uS(b)&&(p(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const PR=(t,e)=>e?t===e?!0:PR(t,e.parentElement):!1,mv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,u6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function c6(t){return u6.has(t.tagName)||t.tabIndex!==-1}const Ff=new WeakSet;function cS(t){return e=>{e.key==="Enter"&&t(e)}}function Ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const h6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=cS(()=>{if(Ff.has(n))return;Ag(n,"down");const a=cS(()=>{Ag(n,"up")}),l=()=>Ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function hS(t){return mv(t)&&!OR()}function f6(t,e,n={}){const[s,a,l]=jR(t,n),c=f=>{const m=f.currentTarget;if(!hS(f))return;Ff.add(m);const p=e(m,f),v=(S,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Ff.has(m)&&Ff.delete(m),hS(S)&&typeof p=="function"&&p(S,{success:N})},b=S=>{v(S,m===window||m===document||n.useGlobalTarget||PR(m,S.target))},x=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),s6(f)&&(f.addEventListener("focus",p=>h6(p,a)),!c6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function LR(t){return W1(t)&&"ownerSVGElement"in t}function d6(t){return LR(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),m6=[...DR,Ot,Br],p6=t=>m6.find(IR(t)),UR=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function g6(t=!0){const e=C.useContext($0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const c=C.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const zR=C.createContext({strict:!1}),fS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ol={};for(const t in fS)ol[t]={isEnabled:e=>fS[t].some(n=>!!e[n])};function y6(t){for(const e in t)ol[e]={...ol[e],...t[e]}}const v6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||v6.has(t)}let BR=t=>!yd(t);function _6(t){typeof t=="function"&&(BR=e=>e.startsWith("on")?!yd(e):t(e))}try{_6(require("@emotion/is-prop-valid").default)}catch{}function b6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(BR(a)||n===!0&&yd(a)||!e&&!yd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Wd=C.createContext({});function Zd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hc(t){return typeof t=="string"||Array.isArray(t)}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gv=["initial",...pv];function Jd(t){return Zd(t.animate)||gv.some(e=>hc(t[e]))}function FR(t){return!!(Jd(t)||t.variants)}function x6(t,e){if(Jd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hc(n)?n:void 0,animate:hc(s)?s:void 0}}return t.inherit!==!1?e:{}}function T6(t){const{initial:e,animate:n}=x6(t,C.useContext(Wd));return C.useMemo(()=>({initial:e,animate:n}),[dS(e),dS(n)])}function dS(t){return Array.isArray(t)?t.join(" "):t}const fc={};function E6(t){for(const e in t)fc[e]=t[e],tv(e)&&(fc[e].isCSSVariable=!0)}function HR(t,{layout:e,layoutId:n}){return Tl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fc[t]||t==="opacity")}const S6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w6=xl.length;function A6(t,e,n){let s="",a=!0;for(let l=0;l<w6;l++){const c=xl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=VR(f,fv[c]);if(!m){a=!1;const v=S6[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function yv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Tl.has(m)){c=!0;continue}else if(tv(m)){a[m]=p;continue}else{const v=VR(p,fv[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=A6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}const vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qR(t,e,n){for(const s in e)!un(e[s])&&!HR(s,n)&&(t[s]=e[s])}function R6({transformTemplate:t},e){return C.useMemo(()=>{const n=vv();return yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function C6(t,e){const n=t.style||{},s={};return qR(s,n,t),Object.assign(s,R6(t,e)),s}function N6(t,e){const n={},s=C6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const I6={offset:"stroke-dashoffset",array:"stroke-dasharray"},D6={offset:"strokeDashoffset",array:"strokeDasharray"};function k6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?I6:D6;t[l.offset]=Te.transform(-s);const c=Te.transform(e),f=Te.transform(n);t[l.array]=`${c} ${f}`}function GR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,v){if(yv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&k6(b,a,l,c,!1)}const KR=()=>({...vv(),attrs:{}}),$R=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M6(t,e,n,s){const a=C.useMemo(()=>{const l=KR();return GR(l,e,$R(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};qR(l,t.style,t),a.style={...l,...a.style}}return a}const V6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(t){return typeof t!="string"||t.includes("-")?!1:!!(V6.indexOf(t)>-1||/[A-Z]/u.test(t))}function O6(t,e,n,{latestValues:s},a,l=!1){const f=(_v(t)?M6:N6)(e,s,a,t),m=b6(e,typeof t=="string",l),p=t!==C.Fragment?{...m,...f,ref:n}:{},{children:v}=e,b=C.useMemo(()=>un(v)?v.get():v,[v]);return C.createElement(t,{...p,children:b})}function mS(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function bv(t,e,n,s){if(typeof e=="function"){const[a,l]=mS(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=mS(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Hf(t){return un(t)?t.get():t}function j6({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:P6(n,s,a,t),renderState:e()}}function P6(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Hf(l[x]);let{initial:c,animate:f}=t;const m=Jd(t),p=FR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?f:c;if(b&&typeof b!="boolean"&&!Zd(b)){const x=Array.isArray(b)?b:[b];for(let S=0;S<x.length;S++){const N=bv(t,x[S]);if(N){const{transitionEnd:D,transition:M,...z}=N;for(const q in z){let B=z[q];if(Array.isArray(B)){const ae=v?B.length-1:0;B=B[ae]}B!==null&&(a[q]=B)}for(const q in D)a[q]=D[q]}}}return a}const YR=t=>(e,n)=>{const s=C.useContext(Wd),a=C.useContext($0),l=()=>j6(t,e,s,a);return n?l():yL(l)};function xv(t,e,n){const{style:s}=t,a={};for(const l in s)(un(s[l])||e.style&&un(e.style[l])||HR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const L6=YR({scrapeMotionValuesFromProps:xv,createRenderState:vv});function QR(t,e,n){const s=xv(t,e,n);for(const a in t)if(un(t[a])||un(e[a])){const l=xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const U6=YR({scrapeMotionValuesFromProps:QR,createRenderState:KR}),z6=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B6(t,e,n){return C.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const Tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F6="framerAppearId",XR="data-"+Tv(F6),WR=C.createContext({});function H6(t,e,n,s,a){const{visualElement:l}=C.useContext(Wd),c=C.useContext(zR),f=C.useContext($0),m=C.useContext(UR).reducedMotion,p=C.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=p.current,b=C.useContext(WR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&q6(p.current,n,a,b);const x=C.useRef(!1);C.useInsertionEffect(()=>{v&&x.current&&v.update(n,f)});const S=n[XR],N=C.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return vL(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),N.current=!1),v.enteringChildren=void 0)}),v}function q6(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&qo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:p})}function ZR(t){if(t)return t.options.allowProjection!==!1?t.projection:ZR(t.parent)}function Rg(t,{forwardMotionProps:e=!1}={},n,s){n&&y6(n);const a=_v(t)?U6:L6;function l(f,m){let p;const v={...C.useContext(UR),...f,layoutId:G6(f)},{isStatic:b}=v,x=T6(f),S=a(f,b);if(!b&&K0){K6();const N=$6(v);p=N.MeasureLayout,x.visualElement=H6(t,S,v,s,N.ProjectionNode)}return y.jsxs(Wd.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...v}):null,O6(t,f,B6(S,x.visualElement,m),S,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=C.forwardRef(l);return c[z6]=t,c}function G6({layoutId:t}){const e=C.useContext(Q1).id;return e&&t!==void 0?e+"-"+t:t}function K6(t,e){C.useContext(zR).strict}function $6(t){const{drag:e,layout:n}=ol;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Y6(t,e){if(typeof Proxy>"u")return Rg;const n=new Map,s=(l,c)=>Rg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Rg(c,void 0,t,e)),n.get(c))})}function JR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Q6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function X6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cg(t){return t===void 0||t===1}function Ny({scale:t,scaleX:e,scaleY:n}){return!Cg(t)||!Cg(e)||!Cg(n)}function Ra(t){return Ny(t)||eC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eC(t){return pS(t.x)||pS(t.y)}function pS(t){return t&&t!=="0%"}function vd(t,e,n){const s=t-n,a=e*s;return n+a}function gS(t,e,n,s,a){return a!==void 0&&(t=vd(t,a,s)),vd(t,n,s)+e}function Iy(t,e=0,n=1,s,a){t.min=gS(t.min,e,n,s,a),t.max=gS(t.max,e,n,s,a)}function tC(t,{x:e,y:n}){Iy(t.x,e.translate,e.scale,e.originPoint),Iy(t.y,n.translate,n.scale,n.originPoint)}const yS=.999999999999,vS=1.0000000000001;function W6(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ko(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,tC(t,c)),s&&Ra(l.latestValues)&&Ko(t,l.latestValues))}e.x<vS&&e.x>yS&&(e.x=1),e.y<vS&&e.y>yS&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function _S(t,e,n,s,a=.5){const l=ft(t.min,t.max,a);Iy(t,e,n,l,s)}function Ko(t,e){_S(t.x,e.x,e.scaleX,e.scale,e.originX),_S(t.y,e.y,e.scaleY,e.scale,e.originY)}function nC(t,e){return JR(X6(t.getBoundingClientRect(),e))}function Z6(t,e,n){const s=nC(t,n),{scroll:a}=e;return a&&(Go(s.x,a.offset.x),Go(s.y,a.offset.y)),s}const bS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:bS(),y:bS()}),xS=()=>({min:0,max:0}),Ft=()=>({x:xS(),y:xS()}),_d={current:null},Ev={current:!1};function iC(){if(Ev.current=!0,!!K0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_d.current=t.matches;t.addEventListener("change",e),e()}else _d.current=!1}const J6=new WeakMap;function e5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(un(a))t.addValue(s,a);else if(un(l))t.addValue(s,al(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,al(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const TS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=An.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ct.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Jd(n),this.isVariantNode=FR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const S=b[x];m[x]!==void 0&&un(S)&&S.set(m[x])}}mount(e){this.current=e,J6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ev.current||iC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_d.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Tl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ol){const n=ol[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<TS.length;s++){const a=TS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=e5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=al(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(X1(s)||Z1(s))?s=parseFloat(s):!p6(s)&&Br.test(n)&&(s=MR(e,n)),this.setBaseTarget(e,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=bv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dv.render(this.render)}}class sC extends t5{constructor(){super(...arguments),this.KeyframeResolver=n6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rC(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function n5(t){return window.getComputedStyle(t)}class i5 extends sC{constructor(){super(...arguments),this.type="html",this.renderInstance=rC}readValueFromInstance(e,n){if(Tl.has(n))return this.projection?.isProjecting?Ty(n):x3(e,n);{const s=n5(e),a=(tv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nC(e,n)}build(e,n,s){yv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return xv(e,n,s)}}const aC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s5(t,e,n,s){rC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(aC.has(a)?a:Tv(a),e.attrs[a])}class r5 extends sC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tl.has(n)){const s=kR(n);return s&&s.default||0}return n=aC.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return QR(e,n,s)}build(e,n,s){GR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){s5(e,n,s,a)}mount(e){this.isSVGTag=$R(e.tagName),super.mount(e)}}const a5=(t,e)=>_v(t)?new r5(e):new i5(e,{allowProjection:t!==C.Fragment});function Zo(t,e,n){const s=t.getProps();return bv(s,e,n!==void 0?n:s.custom,t)}const Dy=t=>Array.isArray(t);function o5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,al(n))}function l5(t){return Dy(t)?t[t.length-1]||0:t}function u5(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=l5(l[c]);o5(t,c,f)}}function c5(t){return!!(un(t)&&t.add)}function ky(t,e){const n=t.getValue("willChange");if(c5(n))return n.add(e);if(!n&&Ps.WillChange){const s=new Ps.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function oC(t){return t.props[XR]}const h5=t=>t!==null;function f5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(h5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const d5={type:"spring",stiffness:500,damping:25,restSpeed:10},m5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p5={type:"keyframes",duration:.8},g5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y5=(t,{keyframes:e})=>e.length>2?p5:Tl.has(t)?t.startsWith("scale")?m5(e[1]):d5:g5;function v5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Sv=(t,e,n,s={},a,l)=>c=>{const f=hv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-is(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};v5(f)||Object.assign(v,y5(t,v)),v.duration&&(v.duration=is(v.duration)),v.repeatDelay&&(v.repeatDelay=is(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Ry(v),v.delay===0&&(b=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(b=!0,Ry(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const x=f5(v.keyframes,f);if(x!==void 0){ct.update(()=>{v.onUpdate(x),v.onComplete()});return}}return f.isSync?new uv(v):new q3(v)};function _5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function lC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),x=f[v];if(x===void 0||p&&_5(p,v))continue;const S={delay:n,...hv(l||{},v)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===N&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const z=oC(t);if(z){const q=window.MotionHandoffAnimation(z,v,ct);q!==null&&(S.startTime=q,D=!0)}}ky(t,v),b.start(Sv(v,b,x,t.shouldReduceMotion&&NR.has(v)?{type:!1}:S,t,D));const M=b.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{ct.update(()=>{c&&u5(t,c)})}),m}function uC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function My(t,e,n={}){const s=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(lC(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return b5(t,e,m,p,v,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function b5(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(My(m,e,{...c,delay:n+(typeof s=="function"?0:s)+uC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function x5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>My(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=My(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all(lC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function cC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const T5=gv.length;function hC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<T5;n++){const s=gv[n],a=t.props[s];(hc(a)||a===!1)&&(e[s]=a)}return e}const E5=[...pv].reverse(),S5=pv.length;function w5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>x5(t,n,s)))}function A5(t){let e=w5(t),n=ES(),s=!0;const a=m=>(p,v)=>{const b=Zo(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:S,...N}=b;p={...p,...N,...S}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=hC(t.parent)||{},b=[],x=new Set;let S={},N=1/0;for(let M=0;M<S5;M++){const z=E5[M],q=n[z],B=p[z]!==void 0?p[z]:v[z],ae=hc(B),se=z===m?q.isActive:null;se===!1&&(N=M);let oe=B===v[z]&&B!==p[z]&&ae;if(oe&&s&&t.manuallyAnimateOnMount&&(oe=!1),q.protectedKeys={...S},!q.isActive&&se===null||!B&&!q.prevProp||Zd(B)||typeof B=="boolean")continue;const I=R5(q.prevProp,B);let R=I||z===m&&q.isActive&&!oe&&ae||M>N&&ae,k=!1;const P=Array.isArray(B)?B:[B];let j=P.reduce(a(z),{});se===!1&&(j={});const{prevResolvedValues:F={}}=q,V={...F,...j},we=re=>{R=!0,x.has(re)&&(k=!0,x.delete(re)),q.needsAnimating[re]=!0;const he=t.getValue(re);he&&(he.liveStyle=!1)};for(const re in V){const he=j[re],Ie=F[re];if(S.hasOwnProperty(re))continue;let Oe=!1;Dy(he)&&Dy(Ie)?Oe=!cC(he,Ie):Oe=he!==Ie,Oe?he!=null?we(re):x.add(re):he!==void 0&&x.has(re)?we(re):q.protectedKeys[re]=!0}q.prevProp=B,q.prevResolvedValues=j,q.isActive&&(S={...S,...j}),s&&t.blockInitialAnimation&&(R=!1);const _e=oe&&I;R&&(!_e||k)&&b.push(...P.map(re=>{const he={type:z};if(typeof re=="string"&&s&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,Oe=Zo(Ie,re);if(Ie.enteringChildren&&Oe){const{delayChildren:U}=Oe.transition||{};he.delay=uC(Ie.enteringChildren,t,U)}}return{animation:re,options:he}}))}if(x.size){const M={};if(typeof p.initial!="boolean"){const z=Zo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(M.transition=z.transition)}x.forEach(z=>{const q=t.getBaseTarget(z),B=t.getValue(z);B&&(B.liveStyle=!0),M[z]=q??null}),b.push({animation:M})}let D=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(b):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,p)),n[m].isActive=p;const v=c(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ES()}}}function R5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cC(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ES(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class $r{constructor(e){this.isMounted=!1,this.node=e}update(){}}class C5 extends $r{constructor(e){super(e),e.animationState||(e.animationState=A5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let N5=0;class I5 extends $r{constructor(){super(...arguments),this.id=N5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const D5={animation:{Feature:C5},exit:{Feature:I5}};function dc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Mc(t){return{point:{x:t.pageX,y:t.pageY}}}const k5=t=>e=>mv(e)&&t(e,Mc(e));function Ku(t,e,n,s){return dc(t,e,k5(n),s)}const fC=1e-4,M5=1-fC,V5=1+fC,dC=.01,O5=0-dC,j5=0+dC;function mn(t){return t.max-t.min}function P5(t,e,n){return Math.abs(t-e)<=n}function SS(t,e,n,s=.5){t.origin=s,t.originPoint=ft(e.min,e.max,t.origin),t.scale=mn(n)/mn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=M5&&t.scale<=V5||isNaN(t.scale))&&(t.scale=1),(t.translate>=O5&&t.translate<=j5||isNaN(t.translate))&&(t.translate=0)}function $u(t,e,n,s){SS(t.x,e.x,n.x,s?s.originX:void 0),SS(t.y,e.y,n.y,s?s.originY:void 0)}function wS(t,e,n){t.min=n.min+e.min,t.max=t.min+mn(e)}function L5(t,e,n){wS(t.x,e.x,n.x),wS(t.y,e.y,n.y)}function AS(t,e,n){t.min=e.min-n.min,t.max=t.min+mn(e)}function bd(t,e,n){AS(t.x,e.x,n.x),AS(t.y,e.y,n.y)}function ei(t){return[t("x"),t("y")]}const mC=({current:t})=>t?t.ownerDocument.defaultView:null,RS=(t,e)=>Math.abs(t-e);function U5(t,e){const n=RS(t.x,e.x),s=RS(t.y,e.y);return Math.sqrt(n**2+s**2)}class pC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ig(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,N=U5(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!N)return;const{point:D}=x,{timestamp:M}=en;this.history.push({...D,timestamp:M});const{onStart:z,onMove:q}=this.handlers;S||(z&&z(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ng(S,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:N,onSessionEnd:D,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Ig(x.type==="pointercancel"?this.lastMoveEventInfo:Ng(S,this.transformPagePoint),this.history);this.startEvent&&N&&N(x,z),D&&D(x,z)},!mv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Mc(e),m=Ng(f,this.transformPagePoint),{point:p}=m,{timestamp:v}=en;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Ig(m,this.history)),this.removeListeners=Ic(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Ng(t,e){return e?{point:e(t.point)}:t}function CS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ig({point:t},e){return{point:t,delta:CS(t,gC(e)),offset:CS(t,z5(e)),velocity:B5(e,.1)}}function z5(t){return t[0]}function gC(t){return t[t.length-1]}function B5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=gC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>is(e)));)n--;if(!s)return{x:0,y:0};const l=ni(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function F5(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ft(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ft(n,t,s.max):Math.min(t,n)),t}function NS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function H5(t,{top:e,left:n,bottom:s,right:a}){return{x:NS(t.x,n,a),y:NS(t.y,e,s)}}function IS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function q5(t,e){return{x:IS(t.x,e.x),y:IS(t.y,e.y)}}function G5(t,e){let n=.5;const s=mn(t),a=mn(e);return a>s?n=lc(e.min,e.max-s,t.min):s>a&&(n=lc(t.min,t.max-a,e.min)),js(0,1,n)}function K5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vy=.35;function $5(t=Vy){return t===!1?t=0:t===!0&&(t=Vy),{x:DS(t,"left","right"),y:DS(t,"top","bottom")}}function DS(t,e,n){return{min:kS(t,e),max:kS(t,n)}}function kS(t,e){return typeof t=="number"?t:t[e]||0}const Y5=new WeakMap;class Q5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mc(b).point)},c=(b,x)=>{const{drag:S,dragPropagation:N,onDragStart:D}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=o6(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(z=>{let q=this.getAxisMotionValue(z).get()||0;if(ss.test(q)){const{projection:B}=this.visualElement;if(B&&B.layout){const ae=B.layout.layoutBox[z];ae&&(q=mn(ae)*(parseFloat(q)/100))}}this.originPoint[z]=q}),D&&ct.postRender(()=>D(b,x)),ky(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:D,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=x;if(N&&this.currentDirection===null){this.currentDirection=X5(z),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",x.point,z),this.updateAxis("y",x.point,z),this.visualElement.render(),M&&M(b,x)},m=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ei(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new pC(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:mC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ct.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Sf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=F5(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=H5(s.layoutBox,e):this.constraints=!1,this.elastic=$5(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ei(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=K5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Z6(s,a.root,this.visualElement.getTransformPagePoint());let c=q5(a.layout.layoutBox,l);if(n){const f=n(Q6(c));this.hasMutatedConstraints=!!f,f&&(c=JR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ei(v=>{if(!Sf(v,n,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const x=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ky(this.visualElement,e),s.start(Sv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ei(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ei(n=>{const{drag:s}=this.getProps();if(!Sf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ft(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ei(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=G5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ei(c=>{if(!Sf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ft(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;Y5.set(this.visualElement,this);const e=this.visualElement.current,n=Ku(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ct.read(s);const c=dc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ei(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Vy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class W5 extends $r{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new Q5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const MS=t=>(e,n)=>{t&&ct.postRender(()=>t(e,n))};class Z5 extends $r{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new pC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:MS(e),onStart:MS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ct.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=VS(t,e.target.x),s=VS(t,e.target.y);return`${n}% ${s}%`}},J5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Br.parse(t);if(a.length>5)return s;const l=Br.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ft(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Dg=!1;class eU extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;E6(tU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Dg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ct.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yC(t){const[e,n]=g6(),s=C.useContext(Q1);return y.jsx(eU,{...t,layoutGroup:s,switchLayoutGroup:C.useContext(WR),isPresent:e,safeToRemove:n})}const tU={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:J5};function nU(t,e,n){const s=un(t)?t:al(t);return s.start(Sv("",s,e,n)),s.animation}const iU=(t,e)=>t.depth-e.depth;class sU{constructor(){this.children=[],this.isDirty=!1}add(e){Y0(this.children,e),this.isDirty=!0}remove(e){Q0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iU),this.isDirty=!1,this.children.forEach(e)}}function rU(t,e){const n=An.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(zr(s),t(l-e))};return ct.setup(s,!0),()=>zr(s)}const vC=["TopLeft","TopRight","BottomLeft","BottomRight"],aU=vC.length,OS=t=>typeof t=="string"?parseFloat(t):t,jS=t=>typeof t=="number"||Te.test(t);function oU(t,e,n,s,a,l){a?(t.opacity=ft(0,n.opacity??1,lU(s)),t.opacityExit=ft(e.opacity??1,0,uU(s))):l&&(t.opacity=ft(e.opacity??1,n.opacity??1,s));for(let c=0;c<aU;c++){const f=`border${vC[c]}Radius`;let m=PS(e,f),p=PS(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||jS(m)===jS(p)?(t[f]=Math.max(ft(OS(m),OS(p),s),0),(ss.test(p)||ss.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,s))}function PS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lU=_C(0,.5,aR),uU=_C(.5,.95,si);function _C(t,e,n){return s=>s<t?0:s>e?1:n(lc(t,e,s))}function LS(t,e){t.min=e.min,t.max=e.max}function bi(t,e){LS(t.x,e.x),LS(t.y,e.y)}function US(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zS(t,e,n,s,a){return t-=e,t=vd(t,1/n,s),a!==void 0&&(t=vd(t,1/a,s)),t}function cU(t,e=0,n=1,s=.5,a,l=t,c=t){if(ss.test(e)&&(e=parseFloat(e),e=ft(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ft(l.min,l.max,s);t===l&&(f-=e),t.min=zS(t.min,e,n,f,a),t.max=zS(t.max,e,n,f,a)}function BS(t,e,[n,s,a],l,c){cU(t,e[n],e[s],e[a],e.scale,l,c)}const hU=["x","scaleX","originX"],fU=["y","scaleY","originY"];function FS(t,e,n,s){BS(t.x,e,hU,n?n.x:void 0,s?s.x:void 0),BS(t.y,e,fU,n?n.y:void 0,s?s.y:void 0)}function HS(t){return t.translate===0&&t.scale===1}function bC(t){return HS(t.x)&&HS(t.y)}function qS(t,e){return t.min===e.min&&t.max===e.max}function dU(t,e){return qS(t.x,e.x)&&qS(t.y,e.y)}function GS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xC(t,e){return GS(t.x,e.x)&&GS(t.y,e.y)}function KS(t){return mn(t.x)/mn(t.y)}function $S(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mU{constructor(){this.members=[]}add(e){Y0(this.members,e),e.scheduleRender()}remove(e){if(Q0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:x,skewX:S,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const kg=["","X","Y","Z"],gU=1e3;let yU=0;function Mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function TC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&TC(s)}function EC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=yU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bU),this.nodes.forEach(SU),this.nodes.forEach(wU),this.nodes.forEach(xU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new sU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Z0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=LR(c)&&!d6(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,b=0;const x=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=rU(x,250),qf.hasAnimatedSinceResize&&(qf.hasAnimatedSinceResize=!1,this.nodes.forEach(XS)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||IU,{onLayoutAnimationStart:D,onLayoutAnimationComplete:M}=p.getProps(),z=!this.targetLayout||!xC(this.targetLayout,S),q=!b&&x;if(this.options.layoutRoot||this.resumeFrom||q||b&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...hv(N,"layout"),onPlay:D,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(v,q)}else b||XS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EU),this.nodes.forEach(vU),this.nodes.forEach(_U)):this.nodes.forEach(QS),this.clearAllSnapshots();const f=An.now();en.delta=js(0,1e3/60,f-en.timestamp),en.timestamp=f,en.isProcessing=!0,xg.update.process(en),xg.preRender.process(en),xg.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TU),this.sharedNodes.forEach(RU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!bC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ra(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),DU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ft();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kU))){const{scroll:p}=this.root;p&&(Go(f.x,p.offset.x),Go(f.y,p.offset.y))}return f}removeElementScroll(c){const f=Ft();if(bi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&bi(f,c),Go(f.x,v.offset.x),Go(f.y,v.offset.y))}return f}applyTransform(c,f=!1){const m=Ft();bi(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ko(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ra(v.latestValues)&&Ko(m,v.latestValues)}return Ra(this.latestValues)&&Ko(m,this.latestValues),m}removeTransform(c){const f=Ft();bi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ra(p.latestValues))continue;Ny(p.latestValues)&&p.updateSnapshot();const v=Ft(),b=p.measurePageBox();bi(v,b),FS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ra(this.latestValues)&&FS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=en.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),tC(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ny(this.parent.latestValues)||eC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),bd(this.relativeTargetOrigin,f,m),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;bi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;W6(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ft());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(US(this.prevProjectionDelta.x,this.projectionDelta.x),US(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!$S(this.projectionDelta.x,this.prevProjectionDelta.x)||!$S(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},b=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=Ft(),S=m?m.source:void 0,N=this.layout?this.layout.source:void 0,D=S!==N,M=this.getStack(),z=!M||M.members.length<=1,q=!!(D&&!z&&this.options.crossfade===!0&&!this.path.some(NU));this.animationProgress=0;let B;this.mixTargetDelta=ae=>{const se=ae/1e3;WS(b.x,c.x,se),WS(b.y,c.y,se),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CU(this.relativeTarget,this.relativeTargetOrigin,x,se),B&&dU(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ft()),bi(B,this.relativeTarget)),D&&(this.animationValues=v,oU(v,p,this.latestValues,se,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=nU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&SC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ft();const b=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const x=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}bi(f,m),Ko(f,v),$u(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new mU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Mg("z",c,p,this.animationValues);for(let v=0;v<kg.length;v++)Mg(`rotate${kg[v]}`,c,p,this.animationValues),Mg(`skew${kg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Hf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Hf(f?.pointerEvents)||""),this.hasProjected&&!Ra(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=pU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x,y:S}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in fc){if(v[N]===void 0)continue;const{correct:D,applyTo:M,isCSSVariable:z}=fc[N],q=b==="none"?v[N]:D(v[N],p);if(M){const B=M.length;for(let ae=0;ae<B;ae++)c[M[ae]]=q}else z?this.options.visualElement.renderState.vars[N]=q:c[N]=q}this.options.layoutId&&(c.pointerEvents=p===this?Hf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(YS),this.root.sharedNodes.clear()}}}function vU(t){t.updateLayout()}function _U(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ei(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],x=mn(b);b.min=n[v].min,b.max=b.min+x}):SC(a,e.layoutBox,n)&&ei(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],x=mn(n[v]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const c=$o();$u(c,n,e.layoutBox);const f=$o();l?$u(f,t.applyTransform(s,!0),e.measuredBox):$u(f,n,e.layoutBox);const m=!bC(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:x}=v;if(b&&x){const S=Ft();bd(S,e.layoutBox,b.layoutBox);const N=Ft();bd(N,n,x.layoutBox),xC(S,N)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function bU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TU(t){t.clearSnapshot()}function YS(t){t.clearMeasurements()}function QS(t){t.isLayoutDirty=!1}function EU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SU(t){t.resolveTargetDelta()}function wU(t){t.calcProjection()}function AU(t){t.resetSkewAndRotation()}function RU(t){t.removeLeadSnapshot()}function WS(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZS(t,e,n,s){t.min=ft(e.min,n.min,s),t.max=ft(e.max,n.max,s)}function CU(t,e,n,s){ZS(t.x,e.x,n.x,s),ZS(t.y,e.y,n.y,s)}function NU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IU={duration:.45,ease:[.4,0,.1,1]},JS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ew=JS("applewebkit/")&&!JS("chrome/")?Math.round:si;function tw(t){t.min=ew(t.min),t.max=ew(t.max)}function DU(t){tw(t.x),tw(t.y)}function SC(t,e,n){return t==="position"||t==="preserve-aspect"&&!P5(KS(e),KS(n),.2)}function kU(t){return t!==t.root&&t.scroll?.wasRoot}const MU=EC({attachResizeListener:(t,e)=>dc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vg={current:void 0},wC=EC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vg.current){const t=new MU({});t.mount(window),t.setOptions({layoutScroll:!0}),Vg.current=t}return Vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VU={pan:{Feature:Z5},drag:{Feature:W5,ProjectionNode:wC,MeasureLayout:yC}};function nw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ct.postRender(()=>l(e,Mc(e)))}class OU extends $r{mount(){const{current:e}=this.node;e&&(this.unmount=l6(e,(n,s)=>(nw(this.node,s,"Start"),a=>nw(this.node,a,"End"))))}unmount(){}}class jU extends $r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(dc(this.node.current,"focus",()=>this.onFocus()),dc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ct.postRender(()=>l(e,Mc(e)))}class PU extends $r{mount(){const{current:e}=this.node;e&&(this.unmount=f6(e,(n,s)=>(iw(this.node,s,"Start"),(a,{success:l})=>iw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Oy=new WeakMap,Og=new WeakMap,LU=t=>{const e=Oy.get(t.target);e&&e(t)},UU=t=>{t.forEach(LU)};function zU({root:t,...e}){const n=t||document;Og.has(n)||Og.set(n,{});const s=Og.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(UU,{root:t,...e})),s[a]}function BU(t,e,n){const s=zU(e);return Oy.set(t,n),s.observe(t),()=>{Oy.delete(t),s.unobserve(t)}}const FU={some:0,all:1};class HU extends $r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:FU[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),x=p?v:b;x&&x(m)};return BU(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qU(e,n))&&this.startObserver()}unmount(){}}function qU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GU={inView:{Feature:HU},tap:{Feature:PU},focus:{Feature:jU},hover:{Feature:OU}},KU={layout:{ProjectionNode:wC,MeasureLayout:yC}},$U={...D5,...GU,...VU,...KU},jy=Y6($U,a5);function YU(){!Ev.current&&iC();const[t]=C.useState(_d.current);return t}function wf({delay:t=0,dark:e=!1}){const s=YU()?{}:{y:[0,-18,0],scale:[1,1.06,1],rotate:[0,-2,0],boxShadow:["0 8px 20px rgba(0,0,0,0.08)","0 16px 28px rgba(0,0,0,0.12)","0 8px 20px rgba(0,0,0,0.08)"]};return y.jsx(jy.div,{className:`h-10 w-10 rounded-xl ${e?"bg-white":"bg-gray-900"}`,style:{background:e?"linear-gradient(135deg, #fff 0%, #d4d4d4 100%)":"linear-gradient(135deg, #111827 0%, #1f2937 100%)"},initial:{y:0,scale:1,rotate:0},animate:s,transition:{duration:.9,repeat:1/0,ease:"easeInOut",delay:t}})}function AC({label:t="Wird geladen",theme:e="light"}){const n=e==="dark";return y.jsxs("div",{className:`fixed inset-0 z-[9999] grid place-items-center overflow-hidden ${n?"bg-black":"bg-white"}`,children:[y.jsxs("div",{className:"relative flex flex-col items-center gap-6 px-6",children:[y.jsxs("div",{className:"flex items-end gap-3",children:[y.jsx(wf,{delay:0,dark:n}),y.jsx(wf,{delay:.12,dark:n}),y.jsx(wf,{delay:.24,dark:n}),y.jsx(wf,{delay:.36,dark:n})]}),y.jsx(jy.div,{className:`h-1 w-28 rounded-full ${n?"bg-white/30":"bg-gray-900/20"}`,initial:{scaleX:.7,opacity:.8},animate:{scaleX:[.7,1,.7],opacity:[.8,1,.8]},transition:{duration:.9,repeat:1/0,ease:"easeInOut"}}),y.jsx(jy.p,{className:`text-center text-sm tracking-wide ${n?"text-white/80":"text-gray-700"}`,initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:t})]}),y.jsx("div",{className:`pointer-events-none absolute inset-0 ${n?"bg-[radial-gradient(transparent,rgba(0,0,0,0.5))]":"bg-[radial-gradient(transparent,rgba(0,0,0,0.05))]"}`})]})}function QU({children:t}){const{user:e,ready:n}=wi();return n?e?t:y.jsx(Oa,{to:"/login",replace:!0}):y.jsx(AC,{label:"Profil wird geladen"})}function XU({children:t}){const{user:e,role:n,ready:s}=wi();return s?e?n!=="admin"?y.jsx(Oa,{to:"/",replace:!0}):t:y.jsx(Oa,{to:"/login",replace:!0}):y.jsx(AC,{label:"Adminrechte werden geprft"})}function WU(){const{user:t}=wi(),[e,n]=C.useState({}),[s,a]=C.useState(!0);return C.useEffect(()=>{if(!t?.uid)return;async function l(){try{const c=Nn(Lt,"users",t.uid,"searchFilters","default"),f=await Ka(c);if(!f.exists()){const p={filters:{offerTypes:[],priceRange:{},propertySpaceRange:{}},createdAt:new Date};await Qd(c,p),n(p.filters);return}const m=f.data();n(m.filters||{})}catch(c){console.error("Fehler beim Laden der Filters:",c),n({})}finally{a(!1)}}l()},[t?.uid]),{filters:e,loading:s}}const sw="VUVj9lGbHQAdYVsF04k8";function ZU({filters:t}){const{user:e}=wi(),[n,s]=C.useState(!1),[a,l]=C.useState(""),[c,f]=C.useState([]),[m,p]=C.useState(t.coordinate?.lat??52.52),[v,b]=C.useState(t.coordinate?.lon??13.405),[x,S]=C.useState(t.radiusInKm??10),N=C.useRef(null),D=C.useRef({L:null,map:null,marker:null,circle:null});async function M(B){if(!B||B.length<3){f([]);return}const ae=`https://api.maptiler.com/geocoding/${encodeURIComponent(B)}.json?key=${sw}&language=de`,oe=await(await fetch(ae)).json();f(oe.features?.map(I=>({label:I.place_name,lat:I.center[1],lon:I.center[0]}))??[])}function z(B){l(B.label),p(B.lat),b(B.lon),f([])}C.useEffect(()=>{let B=!1;async function ae(){if(!document.querySelector("link[data-leaflet]")){const I=document.createElement("link");I.rel="stylesheet",I.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",I.setAttribute("data-leaflet","1"),document.head.appendChild(I)}return window.L||await new Promise(I=>{const R=document.createElement("script");R.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",R.onload=I,document.body.appendChild(R)}),window.L}async function se(){if(!N.current)return;const I=await ae();if(!B){if(D.current.L=I,!D.current.map){const R=I.map(N.current).setView([m,v],11);D.current.map=R,I.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${sw}`,{attribution:"&copy; MapTiler"}).addTo(R)}oe(m,v,x)}}function oe(I,R,k){const{L:P,map:j,marker:F,circle:V}=D.current;if(!P||!j)return;F&&F.remove(),V&&V.remove();const we=P.marker([I,R]).addTo(j),_e=P.circle([I,R],{radius:k*1e3,color:"#1d4ed8",fillOpacity:.2}).addTo(j);D.current.marker=we,D.current.circle=_e,j.fitBounds(_e.getBounds(),{padding:[20,20]})}return se(),()=>{B=!0}},[m,v,x]);async function q(){if(e?.uid)try{const B=Nn(Lt,"users",e.uid,"searchFilters","default");await Xd(B,{filters:{...t,coordinate:{lat:m,lon:v},radiusInKm:x}}),s(!1)}catch(B){console.error(B)}}return y.jsxs("section",{className:"mb-6 rounded-2xl border border-gray-200 bg-slate-50 p-5",children:[y.jsxs("header",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Standort & Radius"}),y.jsx("button",{onClick:()=>s(B=>!B),className:"rounded-full border border-gray-900 px-3 py-1 text-xs font-medium",children:n?"Fertig":"Bearbeiten"})]}),n&&y.jsxs("div",{className:"relative mb-3",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adresse eingeben"}),y.jsx("input",{type:"text",value:a,onChange:B=>{l(B.target.value),M(B.target.value)},placeholder:"z.B. Berlin Alexanderplatz",className:"w-full rounded-xl border px-3 py-2 text-sm"}),c.length>0&&y.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-xl border bg-white shadow z-10 max-h-40 overflow-auto",children:c.map((B,ae)=>y.jsx("button",{onClick:()=>z(B),className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:B.label},ae))})]}),n&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Radius"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:[5,7.5,10,12.5,15,20].map(B=>y.jsxs("button",{onClick:()=>S(B),className:`px-3 py-1 rounded-full text-xs border ${x===B?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800"}`,children:[B," km"]},B))})]}),y.jsx("div",{ref:N,className:"h-72 w-full rounded-xl border bg-gray-200"}),n&&y.jsx("div",{className:"flex justify-end mt-4",children:y.jsx("button",{onClick:q,className:"px-4 py-2 rounded-full bg-gray-900 text-white text-xs",children:"Speichern"})})]})}function JU({filters:t,user:e}){const[n,s]=C.useState(t.objectClasses||[]),[a,l]=C.useState(t.offerTypes||[]),c=async(f,m,p,v)=>{const b=m.includes(f)?m.filter(x=>x!==f):[...m,f];p(b),await Xd(Nn(Lt,"users",e.uid,"searchFilters","default"),{filters:{...t,[v]:b}})};return y.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Objektarten & Angebot"}),y.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Objektarten"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Wohnung","Haus","Gewerbe","Grundstueck"].map(f=>{const m=n.includes(f);return y.jsx("button",{onClick:()=>c(f,n,s,"objectClasses"),className:`px-3 py-1.5 text-xs rounded-full border transition ${m?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:f},f)})}),y.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Angebotsarten"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:["Kauf","Miete"].map(f=>{const m=a.includes(f);return y.jsx("button",{onClick:()=>c(f,a,l,"offerTypes"),className:`px-3 py-1.5 text-xs rounded-full border transition ${m?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:f},f)})})]})}function rw({active:t,onClick:e,children:n}){return y.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 rounded-full border text-sm ${t?"bg-blue-600 text-white":"bg-white"}`,children:n})}const e9=[600,800,1e3,1200,1500,null],t9=[2e5,3e5,4e5,5e5,75e4,1e6,null],n9=[40,60,80,100,120,150,200,null];function i9({filters:t}){const{user:e}=wi(),n=t.offerTypes?.includes("Miete")&&!t.offerTypes?.includes("Kauf"),s=C.useMemo(()=>n?e9:t9,[n]),[a,l]=C.useState(t.priceRange?.to??null),[c,f]=C.useState(t.propertySpaceRange?.to??null),m=n?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?",p=D=>typeof D=="number"?`bis ${D.toLocaleString("de-DE")} `:"beliebig",v=D=>typeof D=="number"?`bis ${D} qm`:"beliebig",b=e?.uid&&Nn(Lt,"users",e.uid,"searchFilters","default");async function x(D){b&&await Qd(b,{filters:D},{merge:!0})}const S=async D=>{l(D),await x({...t,priceRange:{...t.priceRange||{},to:D}})},N=async D=>{f(D),await x({...t,propertySpaceRange:{...t.propertySpaceRange||{},to:D}})};return C.useEffect(()=>{b&&(l(null),x({...t,priceRange:{...t.priceRange||{},to:null}}))},[n]),y.jsxs("section",{className:"space-y-4 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[y.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Preis & Flche"}),y.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:m}),y.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((D,M)=>y.jsx(rw,{active:a===D,onClick:()=>S(D),children:p(D)},M))}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-medium",children:"Flche:"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:n9.map((D,M)=>y.jsx(rw,{active:c===D,onClick:()=>N(D),children:v(D)},M))})]})]})}const aw=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function s9({filters:t}){const{user:e}=wi(),[n,s]=C.useState({...aw.reduce((l,c)=>({...l,[c.key]:t[c.key]??!1}),{})}),a=async l=>{const c=!n[l],f={...n,[l]:c};s(f),await Xd(Nn(Lt,"users",e.uid,"searchFilters","default"),{filters:{...t,...f}})};return y.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Ausstattung & Extras"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:aw.map(l=>{const c=n[l.key];return y.jsx("button",{onClick:()=>a(l.key),className:`px-3 py-1.5 text-xs rounded-full border transition ${c?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:l.label},l.key)})})]})}function r9(){const{user:t}=wi(),[e,n]=C.useState("loading"),[s,a]=C.useState(null);return C.useEffect(()=>{if(!t)return;(async()=>{const f=(await Ka(Nn(Lt,"users",t.uid))).data();a(f),f?.stripeStatus?n(f.stripeStatus):n("free")})()},[t]),{status:e,userDoc:s,isPaid:e==="paid",loading:e==="loading"}}function a9({loading:t,error:e,onSelectMonthly:n,onSelectYearly:s}){return y.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex justify-center items-center z-50 px-4",children:y.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-3xl shadow-xl border border-slate-100 p-8",children:[y.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-900 text-center mb-2",children:"Fast geschafft!"}),y.jsx("p",{className:"text-slate-600 text-center mb-6",children:"Whle dein ImmobotPro-Abo aus und starte direkt mit deiner automatischen Immobiliensuche."}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[y.jsxs("button",{type:"button",onClick:n,disabled:t,className:"group border rounded-2xl p-5 text-left hover:border-sky-500 hover:shadow-md transition flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600 mb-1",children:"Monatlich"}),y.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"6,99 "}),y.jsx("p",{className:"text-sm text-slate-500",children:"pro Monat, flexibel kndbar"})]}),y.jsx("span",{className:"mt-4 inline-flex items-center text-sm font-medium text-sky-600 group-hover:translate-x-0.5 transition",children:"Monatlich starten "})]}),y.jsxs("button",{type:"button",onClick:s,disabled:t,className:"group border rounded-2xl p-5 text-left hover:border-amber-500 hover:shadow-md transition flex flex-col justify-between bg-slate-50",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-amber-600 mb-1",children:"Jhrlich"}),y.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"59,90 "}),y.jsx("p",{className:"text-sm text-slate-500",children:"12 Monate ImmobotPro  gnstiger als monatlich"})]}),y.jsx("span",{className:"mt-4 inline-flex items-center text-sm font-medium text-amber-600 group-hover:translate-x-0.5 transition",children:"Jhrlich abschlieen "})]})]}),e&&y.jsx("p",{className:"text-sm text-red-600 text-center mb-2",children:e}),t&&y.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Weiterleitung zu Stripe"})]})})}const o9="price_1SaeE9DhGVwiGXJYxm5oZdI6",l9="price_1SaeGDDhGVwiGXJYn2kbMjuh";function u9({children:t}){const{isPaid:e,loading:n}=r9(),[s,a]=C.useState(!1),[l,c]=C.useState("");async function f(m){c(""),a(!0);try{const b=(await T4(S4,"createCheckoutSession")({priceId:m})).data?.url;if(!b)throw new Error("Keine Checkout-URL erhalten");window.location.href=b}catch(p){console.error(p),c(p.message||"Fehler beim Starten des Checkouts"),a(!1)}}return n?y.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Prfe deinen Zugang"}):e?t:y.jsx(a9,{loading:s,error:l,onSelectMonthly:()=>f(o9),onSelectYearly:()=>f(l9)})}function c9(){return y.jsx("div",{className:"min-h-screen bg-gray-50/50 p-8 md:p-12",children:y.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:["Immobot ",y.jsx("span",{className:"text-indigo-600",children:"Admin"})]}),y.jsx("p",{className:"text-lg text-gray-500",children:"Willkommen zurck. Whle einen Bereich zur Verwaltung."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(jg,{title:"User Management",desc:"Benutzerliste, Rollen & Zugriffsrechte verwalten.",to:"/admin/users",icon:y.jsx(h9,{}),color:"text-blue-600",bg:"bg-blue-50"}),y.jsx(jg,{title:"Klick-Events",desc:"Tracking-Daten und Klick-Analysen einsehen.",to:"/admin/clicks",icon:y.jsx(f9,{}),color:"text-violet-600",bg:"bg-violet-50"}),y.jsx(jg,{title:"Offer Redirects",desc:"Weiterleitungen zu Partner-Angeboten steuern.",to:"/admin/offers",icon:y.jsx(d9,{}),color:"text-emerald-600",bg:"bg-emerald-50"})]})]})})}function jg({title:t,desc:e,to:n,icon:s,color:a,bg:l}){return y.jsxs(Rn,{to:n,className:"group relative flex flex-col justify-between p-8 bg-white rounded-2xl border border-gray-200 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-indigo-100 overflow-hidden",children:[y.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${l} rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity duration-500 -mr-10 -mt-10 pointer-events-none`}),y.jsxs("div",{children:[y.jsx("div",{className:`w-12 h-12 rounded-xl ${l} ${a} flex items-center justify-center mb-6 transition-transform group-hover:scale-110`,children:s}),y.jsx("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:t}),y.jsx("p",{className:"text-sm text-gray-500 mt-2 leading-relaxed",children:e})]}),y.jsxs("div",{className:"mt-8 flex items-center text-sm font-medium text-gray-400 group-hover:text-indigo-600 transition-colors",children:["ffnen",y.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}function h9(){return y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}function f9(){return y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}function d9(){return y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}const m9=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],p9=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],g9=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],y9=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function v9({filters:t,user:e}){const[n,s]=C.useState(!1),[a,l]=C.useState(t.energySources||[]),[c,f]=C.useState(t.heatingTypes||[]),[m,p]=C.useState(t.energyRatings||[]),[v,b]=C.useState(t.energyEfficiencyStandards||[]),[x,S]=C.useState(t.pricePerSqmRange?.from??""),[N,D]=C.useState(t.pricePerSqmRange?.to??""),[M,z]=C.useState(t.yieldRange?.from??""),[q,B]=C.useState(t.yieldRange?.to??""),[ae,se]=C.useState(t.energyConsumptionRange?.from??""),[oe,I]=C.useState(t.energyConsumptionRange?.to??""),[R,k]=C.useState(t.constructionYearRange?.from??""),[P,j]=C.useState(t.constructionYearRange?.to??""),F=(_e,W,re)=>{re(W.includes(_e)?W.filter(he=>he!==_e):[...W,_e])};async function V(){const _e=Nn(Lt,"users",e.uid,"searchFilters","default");await Xd(_e,{filters:{...t,energySources:a,heatingTypes:c,energyRatings:m,energyEfficiencyStandards:v,pricePerSqmRange:{from:x,to:N},yieldRange:{from:M,to:q},energyConsumptionRange:{from:ae,to:oe},constructionYearRange:{from:R,to:P}}}),s(!1)}const we=(_e,W,re="")=>_e&&W?`von ${_e}${re} bis ${W}${re}`:_e?`ab ${_e}${re}`:W?`bis ${W}${re}`:"";return y.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[y.jsxs("header",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Erweiterte Filter"}),y.jsx("button",{onClick:()=>s(!n),className:"text-sm px-4 py-1.5 rounded-full border border-gray-300 hover:bg-gray-100",children:n?"Fertig":"Bearbeiten"})]}),n?y.jsxs("div",{className:"space-y-6",children:[y.jsx(Tr,{title:"Energietrger",children:y.jsx(Af,{options:m9,active:a,onToggle:_e=>F(_e,a,l)})}),y.jsx(Tr,{title:"Heizung",children:y.jsx(Af,{options:p9,active:c,onToggle:_e=>F(_e,c,f)})}),y.jsx(Tr,{title:"Energieklasse",children:y.jsx(Af,{options:g9,active:m,onToggle:_e=>F(_e,m,p)})}),y.jsx(Tr,{title:"Energiestandard",children:y.jsx(Af,{options:y9,active:v,onToggle:_e=>F(_e,v,b)})}),y.jsx(Tr,{title:"Preis pro m",children:y.jsx(Rf,{from:x,to:N,setFrom:S,setTo:D,unit:"/m"})}),y.jsx(Tr,{title:"Rendite",children:y.jsx(Rf,{from:M,to:q,setFrom:z,setTo:B,unit:"%",step:"0.1"})}),y.jsx(Tr,{title:"Energieverbrauch",children:y.jsx(Rf,{from:ae,to:oe,setFrom:se,setTo:I,unit:"kWh/m*a"})}),y.jsx(Tr,{title:"Baujahr",children:y.jsx(Rf,{from:R,to:P,setFrom:k,setTo:j})})]}):y.jsxs("div",{className:"text-gray-800 text-sm space-y-2 leading-relaxed",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Energietrger:"})," ",a.join(", ")||""]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Heizung:"})," ",c.join(", ")||""]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Energieklasse:"})," ",m.join(", ")||""]}),y.jsxs("p",{children:[y.jsx("strong",{children:"KfW-Standard:"})," ",v.join(", ")||""]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Preis pro m:"})," ",we(x,N," /m")]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Rendite:"})," ",we(M,q,"%")]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Energieverbrauch:"})," ",we(ae,oe," kWh/m*a")]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Baujahr:"})," ",we(R,P)]})]}),n&&y.jsx("div",{className:"flex justify-end mt-4",children:y.jsx("button",{onClick:V,className:"px-4 py-2 rounded-full bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Speichern"})})]})}function Tr({title:t,children:e}){return y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-sm mb-2",children:t}),e]})}function Af({options:t,active:e,onToggle:n}){return y.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(s=>{const a=e.includes(s);return y.jsx("button",{onClick:()=>n(s),className:`px-3 py-1.5 text-xs rounded-full border transition ${a?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:s},s)})})}function Rf({from:t,to:e,setFrom:n,setTo:s,unit:a,step:l="1"}){return y.jsxs("div",{className:"flex flex-col gap-2 max-w-xs",children:[y.jsx("input",{type:"number",step:l,value:t,onChange:c=>n(c.target.value),className:"rounded-lg border px-3 py-2",placeholder:"von"}),y.jsx("input",{type:"number",step:l,value:e,onChange:c=>s(c.target.value),className:"rounded-lg border px-3 py-2",placeholder:"bis"}),a&&y.jsx("span",{className:"text-xs text-gray-500",children:a})]})}function _9(){const{user:t}=wi(),{filters:e,loading:n}=WU();return n?y.jsx("p",{style:{padding:20},children:"Lade Filter"}):y.jsx(u9,{children:y.jsxs("div",{style:{padding:30},children:[y.jsx("h1",{style:{fontSize:40,marginBottom:20},children:"Dein Dashboard"}),y.jsxs("div",{style:{display:"grid",gap:20},children:[y.jsx(ZU,{filters:e,user:t}),y.jsx(JU,{filters:e,user:t}),y.jsx(i9,{filters:e,user:t}),y.jsx(s9,{filters:e,user:t}),y.jsx(v9,{filters:e,user:t})]})]})})}function b9(){const{user:t,ready:e}=wi();return e?t?y.jsx(Oa,{to:"/dashboard",replace:!0}):y.jsx(Oa,{to:"/login",replace:!0}):null}function x9(){const{user:t,logout:e}=wi(),[n,s]=C.useState(null),[a,l]=C.useState(!0);if(C.useEffect(()=>{async function S(){if(t?.uid)try{const N=Nn(Lt,"users",t.uid),D=await Ka(N);D.exists()&&s(D.data())}catch(N){console.error("Fehler beim Laden des Profils:",N)}finally{l(!1)}}S()},[t]),a)return y.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Profil..."});const c=n?.firstName||n?.FirstName||"User",f=n?.lastName||n?.LastName||"",m=c.charAt(0).toUpperCase(),p=n?.stripeStatus||"free",v=p==="active"||p==="paid",b=v?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-600 border-gray-200",x=()=>{alert("Hier wrde sich das Stripe Portal ffnen.")};return y.jsx("div",{className:"min-h-[80vh] bg-gray-50/50 p-6 md:p-12",children:y.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"Mein Profil"}),y.jsx("p",{className:"text-gray-500 mt-1",children:"Verwalte deine persnlichen Daten und dein Abonnement."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"md:col-span-2 space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[y.jsx("h2",{className:"font-bold text-gray-900",children:"Persnliche Daten"}),y.jsx("button",{className:"text-sm text-indigo-600 font-medium hover:underline",children:"Bearbeiten"})]}),y.jsxs("div",{className:"p-8 flex flex-col sm:flex-row gap-8 items-start",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg ring-4 ring-white",children:m})}),y.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 sm:grid-cols-2 gap-6",children:[y.jsx(Cf,{label:"Vorname",value:c}),y.jsx(Cf,{label:"Nachname",value:f}),y.jsx(Cf,{label:"E-Mail Adresse",value:t.email,fullWidth:!0}),y.jsx(Cf,{label:"Kundennummer (UID)",value:t.uid,fullWidth:!0,copyable:!0})]})]})]}),y.jsx("div",{className:"text-right",children:y.jsx("button",{onClick:e,className:"text-red-600 font-medium text-sm hover:bg-red-50 px-4 py-2 rounded-lg transition-colors border border-transparent hover:border-red-100",children:"Vom Konto abmelden"})})]}),y.jsx("div",{className:"md:col-span-1 space-y-6",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 flex flex-col h-full relative overflow-hidden",children:[y.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl opacity-20 -mr-10 -mt-10 pointer-events-none ${v?"bg-emerald-400":"bg-gray-400"}`}),y.jsx("h2",{className:"font-bold text-gray-900 mb-6 relative z-10",children:"Mitgliedschaft"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"flex items-center gap-3 mb-2",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border ${b}`,children:p==="paid"?"PRO PLAN":p.toUpperCase()})}),y.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6",children:v?"Du hast vollen Zugriff auf alle Premium-Features. Deine nchste Abrechnung erfolgt am Monatsende.":"Du nutzt aktuell den kostenlosen Basis-Plan. Upgrade fr mehr Features."}),v&&y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(T9,{}),y.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" 4242"})]}),y.jsx("p",{className:"text-xs text-gray-400",children:"Nchste Zahlung: 01.01.2024"})]})]}),y.jsx("button",{onClick:x,className:"w-full py-2.5 rounded-xl font-semibold text-sm transition-all shadow-sm hover:shadow active:scale-95 bg-gray-900 text-white hover:bg-black",children:v?"Abo verwalten":"Jetzt upgraden"})]})})]})]})})}function Cf({label:t,value:e,fullWidth:n,copyable:s}){const a=()=>{navigator.clipboard.writeText(e),alert("Kopiert!")};return y.jsxs("div",{className:`${n?"col-span-1 sm:col-span-2":"col-span-1"}`,children:[y.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:t}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("p",{className:"font-medium text-gray-900 break-all",children:e||""}),s&&y.jsx("button",{onClick:a,className:"text-gray-300 hover:text-indigo-600 transition-colors",title:"Kopieren",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})}function T9(){return y.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function E9(){return y.jsxs(uI,{children:[y.jsxs(gt,{element:y.jsx(A4,{}),children:[y.jsx(gt,{index:!0,element:y.jsx(b9,{})}),y.jsx(gt,{path:"/login",element:y.jsx(B4,{})}),y.jsxs(gt,{path:"/register",children:[y.jsx(gt,{index:!0,element:y.jsx(Oa,{to:"/register/step1",replace:!0})}),y.jsx(gt,{path:"step1",element:y.jsx(Y4,{})}),y.jsx(gt,{path:"step2",element:y.jsx(Z4,{})}),y.jsx(gt,{path:"step3",element:y.jsx(iL,{})}),y.jsx(gt,{path:"step4",element:y.jsx(aL,{})}),y.jsx(gt,{path:"step5",element:y.jsx(dL,{})}),y.jsx(gt,{path:"finish",element:y.jsx(gL,{})})]})]}),y.jsxs(gt,{element:y.jsx(QU,{children:y.jsx(R4,{})}),children:[y.jsx(gt,{path:"/dashboard",element:y.jsx(_9,{})}),y.jsx(gt,{path:"/dashboard/profile",element:y.jsx(x9,{})})]}),y.jsxs(gt,{element:y.jsx(XU,{children:y.jsx(C4,{})}),children:[y.jsx(gt,{path:"/admin",element:y.jsx(c9,{})}),y.jsx(gt,{path:"/admin/users",element:y.jsx(z4,{})}),y.jsx(gt,{path:"/admin/user/:uid",element:y.jsx(U4,{})}),y.jsx(gt,{path:"/admin/clicks",element:y.jsx(H4,{})}),y.jsx(gt,{path:"/admin/offers",element:y.jsx(q4,{})})]}),y.jsx(gt,{path:"*",element:y.jsx(Oa,{to:"/",replace:!0})})]})}mN.createRoot(document.getElementById("root")).render(y.jsx(aN.StrictMode,{children:y.jsx(w4,{children:y.jsx(kI,{children:y.jsx(E9,{})})})}));
