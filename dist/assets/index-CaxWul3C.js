(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function uS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eg={exports:{}},Nu={};var qb;function cN(){if(qb)return Nu;qb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var Gb;function hN(){return Gb||(Gb=1,eg.exports=cN()),eg.exports}var g=hN(),tg={exports:{}},Ae={};var Kb;function fN(){if(Kb)return Ae;Kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function L(z,ne,ue){this.props=z,this.context=ne,this.refs=k,this.updater=ue||D}L.prototype.isReactComponent={},L.prototype.setState=function(z,ne){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ne,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=L.prototype;function F(z,ne,ue){this.props=z,this.context=ne,this.refs=k,this.updater=ue||D}var oe=F.prototype=new q;oe.constructor=F,N(oe,L.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j(z,ne,ue){var de=ue.ref;return{$$typeof:t,type:z,key:ne,ref:de!==void 0?de:null,props:ue}}function P(z,ne){return j(z.type,ne,z.props)}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var ne={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return ne[ue]})}var M=/\/+/g;function Se(z,ne){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ne.toString(36)}function _e(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ie,ie):(z.status="pending",z.then(function(ne){z.status==="pending"&&(z.status="fulfilled",z.value=ne)},function(ne){z.status==="pending"&&(z.status="rejected",z.reason=ne)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function W(z,ne,ue,de,Ee){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(De){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case t:case e:Fe=!0;break;case v:return Fe=z._init,W(Fe(z._payload),ne,ue,de,Ee)}}if(Fe)return Ee=Ee(z),Fe=de===""?"."+Se(z,0):de,ae(Ee)?(ue="",Fe!=null&&(ue=Fe.replace(M,"$&/")+"/"),W(Ee,ne,ue,"",function(ea){return ea})):Ee!=null&&(O(Ee)&&(Ee=P(Ee,ue+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace(M,"$&/")+"/")+Fe)),ne.push(Ee)),1;Fe=0;var Ut=de===""?".":de+":";if(ae(z))for(var ut=0;ut<z.length;ut++)de=z[ut],De=Ut+Se(de,ut),Fe+=W(de,ne,ue,De,Ee);else if(ut=w(z),typeof ut=="function")for(z=ut.call(z),ut=0;!(de=z.next()).done;)de=de.value,De=Ut+Se(de,ut++),Fe+=W(de,ne,ue,De,Ee);else if(De==="object"){if(typeof z.then=="function")return W(_e(z),ne,ue,de,Ee);throw ne=String(z),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function re(z,ne,ue){if(z==null)return z;var de=[],Ee=0;return W(z,de,"","",function(De){return ne.call(ue,De,Ee++)}),de}function he(z){if(z._status===-1){var ne=z._result;ne=ne(),ne.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=ne)}if(z._status===1)return z._result.default;throw z._result}var Ie=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ve={map:re,forEach:function(z,ne,ue){re(z,function(){ne.apply(this,arguments)},ue)},count:function(z){var ne=0;return re(z,function(){ne++}),ne},toArray:function(z){return re(z,function(ne){return ne})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ae.Activity=_,Ae.Children=Ve,Ae.Component=L,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=F,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},Ae.cache=function(z){return function(){return z.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(z,ne,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var de=N({},z.props),Ee=z.key;if(ne!=null)for(De in ne.key!==void 0&&(Ee=""+ne.key),ne)!C.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=ue;else if(1<De){for(var Fe=Array(De),Ut=0;Ut<De;Ut++)Fe[Ut]=arguments[Ut+2];de.children=Fe}return j(z.type,Ee,de)},Ae.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ae.createElement=function(z,ne,ue){var de,Ee={},De=null;if(ne!=null)for(de in ne.key!==void 0&&(De=""+ne.key),ne)C.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var Fe=arguments.length-2;if(Fe===1)Ee.children=ue;else if(1<Fe){for(var Ut=Array(Fe),ut=0;ut<Fe;ut++)Ut[ut]=arguments[ut+2];Ee.children=Ut}if(z&&z.defaultProps)for(de in Fe=z.defaultProps,Fe)Ee[de]===void 0&&(Ee[de]=Fe[de]);return j(z,De,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(z){return{$$typeof:f,render:z}},Ae.isValidElement=O,Ae.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:he}},Ae.memo=function(z,ne){return{$$typeof:p,type:z,compare:ne===void 0?null:ne}},Ae.startTransition=function(z){var ne=I.T,ue={};I.T=ue;try{var de=z(),Ee=I.S;Ee!==null&&Ee(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ie,Ie)}catch(De){Ie(De)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),I.T=ne}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(z){return I.H.use(z)},Ae.useActionState=function(z,ne,ue){return I.H.useActionState(z,ne,ue)},Ae.useCallback=function(z,ne){return I.H.useCallback(z,ne)},Ae.useContext=function(z){return I.H.useContext(z)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(z,ne){return I.H.useDeferredValue(z,ne)},Ae.useEffect=function(z,ne){return I.H.useEffect(z,ne)},Ae.useEffectEvent=function(z){return I.H.useEffectEvent(z)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(z,ne,ue){return I.H.useImperativeHandle(z,ne,ue)},Ae.useInsertionEffect=function(z,ne){return I.H.useInsertionEffect(z,ne)},Ae.useLayoutEffect=function(z,ne){return I.H.useLayoutEffect(z,ne)},Ae.useMemo=function(z,ne){return I.H.useMemo(z,ne)},Ae.useOptimistic=function(z,ne){return I.H.useOptimistic(z,ne)},Ae.useReducer=function(z,ne,ue){return I.H.useReducer(z,ne,ue)},Ae.useRef=function(z){return I.H.useRef(z)},Ae.useState=function(z){return I.H.useState(z)},Ae.useSyncExternalStore=function(z,ne,ue){return I.H.useSyncExternalStore(z,ne,ue)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.1",Ae}var $b;function Ly(){return $b||($b=1,tg.exports=fN()),tg.exports}var A=Ly();const dN=uS(A);var ng={exports:{}},Iu={},ig={exports:{}},sg={};var Yb;function mN(){return Yb||(Yb=1,(function(t){function e(W,re){var he=W.length;W.push(re);e:for(;0<he;){var Ie=he-1>>>1,Ve=W[Ie];if(0<a(Ve,re))W[Ie]=re,W[he]=Ve,he=Ie;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var re=W[0],he=W.pop();if(he!==re){W[0]=he;e:for(var Ie=0,Ve=W.length,z=Ve>>>1;Ie<z;){var ne=2*(Ie+1)-1,ue=W[ne],de=ne+1,Ee=W[de];if(0>a(ue,he))de<Ve&&0>a(Ee,ue)?(W[Ie]=Ee,W[de]=he,Ie=de):(W[Ie]=ue,W[ne]=he,Ie=ne);else if(de<Ve&&0>a(Ee,he))W[Ie]=Ee,W[de]=he,Ie=de;else break e}}return re}function a(W,re){var he=W.sortIndex-re.sortIndex;return he!==0?he:W.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,_=null,b=3,w=!1,D=!1,N=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=W)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(p)}}function ae(W){if(N=!1,oe(W),!D)if(n(m)!==null)D=!0,ie||(ie=!0,B());else{var re=n(p);re!==null&&_e(ae,re.startTime-W)}}var ie=!1,I=-1,C=5,j=-1;function P(){return k?!0:!(t.unstable_now()-j<C)}function O(){if(k=!1,ie){var W=t.unstable_now();j=W;var re=!0;try{e:{D=!1,N&&(N=!1,q(I),I=-1),w=!0;var he=b;try{t:{for(oe(W),_=n(m);_!==null&&!(_.expirationTime>W&&P());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,b=_.priorityLevel;var Ve=Ie(_.expirationTime<=W);if(W=t.unstable_now(),typeof Ve=="function"){_.callback=Ve,oe(W),re=!0;break t}_===n(m)&&s(m),oe(W)}else s(m);_=n(m)}if(_!==null)re=!0;else{var z=n(p);z!==null&&_e(ae,z.startTime-W),re=!1}}break e}finally{_=null,b=he,w=!1}re=void 0}}finally{re?B():ie=!1}}}var B;if(typeof F=="function")B=function(){F(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Se=M.port2;M.port1.onmessage=O,B=function(){Se.postMessage(null)}}else B=function(){L(O,0)};function _e(W,re){I=L(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var he=b;b=re;try{return W()}finally{b=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=b;b=W;try{return re()}finally{b=he}},t.unstable_scheduleCallback=function(W,re,he){var Ie=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ie+he:Ie):he=Ie,W){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=he+Ve,W={id:v++,callback:re,priorityLevel:W,startTime:he,expirationTime:Ve,sortIndex:-1},he>Ie?(W.sortIndex=he,e(p,W),n(m)===null&&W===n(p)&&(N?(q(I),I=-1):N=!0,_e(ae,he-Ie))):(W.sortIndex=Ve,e(m,W),D||w||(D=!0,ie||(ie=!0,B()))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var re=b;return function(){var he=b;b=re;try{return W.apply(this,arguments)}finally{b=he}}}})(sg)),sg}var Qb;function pN(){return Qb||(Qb=1,ig.exports=mN()),ig.exports}var rg={exports:{}},on={};var Xb;function gN(){if(Xb)return on;Xb=1;var t=Ly();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},on.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.1",on}var Wb;function yN(){if(Wb)return rg.exports;Wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=gN(),rg.exports}var Zb;function vN(){if(Zb)return Iu;Zb=1;var t=pN(),e=Ly(),n=yN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var y=d.alternate;if(y===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===o)return m(d),i;if(y===u)return m(d),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=y;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,u=y;break}if(S===u){T=!0,u=d,o=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===o){T=!0,o=y,u=d;break}if(S===u){T=!0,u=y,o=d;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case ae:return"Suspense";case ie:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case F:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:Se(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Se(i(r))}catch{}}return null}var _e=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ie=[],Ve=-1;function z(i){return{current:i}}function ne(i){0>Ve||(i.current=Ie[Ve],Ie[Ve]=null,Ve--)}function ue(i,r){Ve++,Ie[Ve]=i.current,i.current=r}var de=z(null),Ee=z(null),De=z(null),Fe=z(null);function Ut(i,r){switch(ue(De,r),ue(Ee,i),ue(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?db(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=db(r),i=mb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(de),ue(de,i)}function ut(){ne(de),ne(Ee),ne(De)}function ea(i){i.memoizedState!==null&&ue(Fe,i);var r=de.current,o=mb(r,i.type);r!==o&&(ue(Ee,i),ue(de,o))}function Wa(i){Ee.current===i&&(ne(de),ne(Ee)),Fe.current===i&&(ne(Fe),Su._currentValue=he)}var Za,Ja;function Ri(i){if(Za===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Za=r&&r[1]||"",Ja=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+i+Ja}var Sl=!1;function ta(i,r){if(!i||Sl)return"";Sl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Y=X}Reflect.construct(i,[],te)}else{try{te.call()}catch(X){Y=X}i.call(te.prototype)}}else{try{throw Error()}catch(X){Y=X}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var V=T.split(`
`),$=S.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===$.length)for(u=V.length-1,d=$.length-1;1<=u&&0<=d&&V[u]!==$[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==$[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==$[d]){var Z=`
`+V[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Sl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function Al(i,r){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==r&&r!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return ta(i.type,!1);case 11:return ta(i.type.render,!1);case 1:return ta(i.type,!0);case 31:return Ri("Activity");default:return""}}function Rl(i){try{var r="",o=null;do r+=Al(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,nm=t.unstable_shouldYield,Oc=t.unstable_requestPaint,dn=t.unstable_now,na=t.unstable_getCurrentPriorityLevel,Cl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,qs=t.unstable_NormalPriority,im=t.unstable_LowPriority,Pc=t.unstable_IdlePriority,Lc=t.log,Uc=t.unstable_setDisableYieldValue,ui=null,Yt=null;function Hn(i){if(typeof Lc=="function"&&Uc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ui,i)}catch{}}var bt=Math.clz32?Math.clz32:Bc,zc=Math.log,eo=Math.LN2;function Bc(i){return i>>>=0,i===0?32:31-(zc(i)/eo|0)|0}var Ci=256,ia=262144,Rt=4194304;function Ni(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,y=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?d=Ni(u):(T&=S,T!==0?d=Ni(T):o||(o=S&~i,o!==0&&(d=Ni(o))))):(S=u&~y,S!==0?d=Ni(S):T!==0?d=Ni(T):o||(o=u&~i,o!==0&&(d=Ni(o)))),d===0?0:r!==0&&r!==d&&(r&y)===0&&(y=d&-d,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:d}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function sm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function sa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rm(i,r,o,u,d,y){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,$=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-bt(o),te=1<<Z;S[Z]=0,V[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~te}u!==0&&ra(i,u,0),y!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=y&~(T&~r))}function ra(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-bt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Il(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-bt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Dl(i,r){var o=r&-r;return o=(o&42)!==0?1:aa(o),(o&(i.suspendedLanes|r))!==0?0:o}function aa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ls(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hc(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Pb(i.type))}function hi(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var fi=Math.random().toString(36).slice(2),Ct="__reactFiber$"+fi,qt="__reactProps$"+fi,ki="__reactContainer$"+fi,to="__reactEvents$"+fi,am="__reactListeners$"+fi,qc="__reactHandles$"+fi,Gc="__reactResources$"+fi,ji="__reactMarker$"+fi;function no(i){delete i[Ct],delete i[qt],delete i[to],delete i[am],delete i[qc]}function Mi(i){var r=i[Ct];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ki]||o[Ct]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=bb(i);i!==null;){if(o=i[Ct])return o;i=bb(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[Ct]||i[ki]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[Gc];return r||(r=i[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(i){i[ji]=!0}var kl=new Set,jl={};function Oi(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(jl[i]=r,i=0;i<r.length;i++)kl.add(r[i])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ol={};function Kc(i){return At.call(Ol,i)?!0:At.call(Vl,i)?!1:Ml.test(i)?Ol[i]=!0:(Vl[i]=!0,!1)}function io(i,r,o){if(Kc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Dn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function It(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,y.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=Gs(i)?"checked":"value";i._valueTracker=Pl(i,r,""+i[r])}}function oa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Gs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var la=/[\n"\\]/g;function vn(i){return i.replace(la,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,u,d,y,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,T,Gt(r)):o!=null?Ll(i,T,Gt(o)):u!=null&&i.removeAttribute("value"),d==null&&y!=null&&(i.defaultChecked=!!y),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Gt(S):i.removeAttribute("name")}function $c(i,r,o,u,d,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Qe(i)}function Ll(i,r,o){r==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Yc(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function $s(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(_e(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function _n(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Qc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function zl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Ul(i,d,u)}else for(var y in r)r.hasOwnProperty(y)&&Ul(i,y,r[y])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Ys.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Bl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qs=null,Ui=null;function ua(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[qt]||null;if(!d)throw Error(s(90));so(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&oa(u)}break e;case"textarea":Yc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var oo=!1;function Xs(i,r,o){if(oo)return i(r,o);oo=!0;try{var u=i(r);return u}finally{if(oo=!1,(Qs!==null||Ui!==null)&&(Hh(),Qs&&(r=Qs,i=Ui,Ui=Qs=null,ua(r),i)))for(r=0;r<i.length;r++)ua(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(Kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ca=!1}var zi=null,Fl=null,ha=null;function Hl(){if(ha)return ha;var i,r=Fl,o=r.length,u,d="value"in zi?zi.value:zi.textContent,y=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[y-u];u++);return ha=d.slice(i,1<u?1-u:void 0)}function fa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function us(){return!0}function pi(){return!1}function Qt(i){function r(o,u,d,y,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?us:pi,this.isPropagationStopped=pi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Qt(cs),Ws=_({},cs,{view:0,detail:0}),ql=Qt(Ws),Zs,lo,Fi,uo=_({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Zs=i.screenX-Fi.screenX,lo=i.screenY-Fi.screenY):lo=Zs=0,Fi=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),Gl=Qt(uo),da=_({},uo,{dataTransfer:0}),Wc=Qt(da),Zc=_({},Ws,{relatedTarget:0}),ma=Qt(Zc),Kl=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Jc=Qt(Kl),co=_({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eh=Qt(co),th=_({},cs,{data:0}),Hi=Qt(th),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=sh[i])?!!r[i]:!1}function Js(){return rh}var mn=_({},Ws,{key:function(i){if(i.key){var r=nh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ih[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ah=Qt(mn),oh=_({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Qt(oh),h=_({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),x=Qt(h),E=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Qt(E),G=_({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qt(G),le=_({},cs,{newState:0,oldState:0}),Ce=Qt(le),Tt=[9,13,27,32],Ke=Kn&&"CompositionEvent"in window,ct=null;Kn&&"documentMode"in document&&(ct=document.documentMode);var $n=Kn&&"TextEvent"in window&&!ct,qi=Kn&&(!Ke||ct&&8<ct&&11>=ct),gi=" ",yi=!1;function pa(i,r){switch(i){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function M2(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function V2(i,r){if(fo)return i==="compositionend"||!Ke&&pa(i,r)?(i=Hl(),ha=Fl=zi=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var O2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!O2[i.type]:r==="textarea"}function Sv(i,r,o,u){Qs?Ui?Ui.push(u):Ui=[u]:Qs=u,r=Xh(r,"onChange"),0<r.length&&(o=new Bi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var $l=null,Yl=null;function P2(i){ob(i,0)}function lh(i){var r=In(i);if(oa(r))return i}function Av(i,r){if(i==="change")return r}var Rv=!1;if(Kn){var om;if(Kn){var lm="oninput"in document;if(!lm){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),lm=typeof Cv.oninput=="function"}om=lm}else om=!1;Rv=om&&(!document.documentMode||9<document.documentMode)}function Nv(){$l&&($l.detachEvent("onpropertychange",Iv),Yl=$l=null)}function Iv(i){if(i.propertyName==="value"&&lh(Yl)){var r=[];Sv(r,Yl,i,Gn(i)),Xs(P2,r)}}function L2(i,r,o){i==="focusin"?(Nv(),$l=r,Yl=o,$l.attachEvent("onpropertychange",Iv)):i==="focusout"&&Nv()}function U2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lh(Yl)}function z2(i,r){if(i==="click")return lh(r)}function B2(i,r){if(i==="input"||i==="change")return lh(r)}function F2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:F2;function Ql(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!At.call(r,d)||!kn(i[d],r[d]))return!1}return!0}function Dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kv(i,r){var o=Dv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dv(o)}}function jv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?jv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Li(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Li(i.document)}return r}function um(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var H2=Kn&&"documentMode"in document&&11>=document.documentMode,mo=null,cm=null,Xl=null,hm=!1;function Vv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hm||mo==null||mo!==Li(u)||(u=mo,"selectionStart"in u&&um(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xl&&Ql(Xl,u)||(Xl=u,u=Xh(cm,"onSelect"),0<u.length&&(r=new Bi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=mo)))}function ga(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},fm={},Ov={};Kn&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ya(i){if(fm[i])return fm[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ov)return fm[i]=r[o];return i}var Pv=ya("animationend"),Lv=ya("animationiteration"),Uv=ya("animationstart"),q2=ya("transitionrun"),G2=ya("transitionstart"),K2=ya("transitioncancel"),zv=ya("transitionend"),Bv=new Map,dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dm.push("scrollEnd");function vi(i,r){Bv.set(i,r),Oi(r,[i])}var uh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],go=0,mm=0;function ch(){for(var i=go,r=mm=go=0;r<i;){var o=Yn[r];Yn[r++]=null;var u=Yn[r];Yn[r++]=null;var d=Yn[r];Yn[r++]=null;var y=Yn[r];if(Yn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}y!==0&&Fv(o,d,y)}}function hh(i,r,o,u){Yn[go++]=i,Yn[go++]=r,Yn[go++]=o,Yn[go++]=u,mm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function pm(i,r,o,u){return hh(i,r,o,u),fh(i)}function va(i,r){return hh(i,null,null,r),fh(i)}function Fv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(d=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,d&&r!==null&&(d=31-bt(o),i=y.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),y):null}function fh(i){if(50<vu)throw vu=0,wp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function $2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,u){return new $2(i,r,o,u)}function gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Hv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function dh(i,r,o,u,d,y){var T=0;if(u=i,typeof i=="function")gm(i)&&(T=1);else if(typeof i=="string")T=ZC(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=jn(31,o,r,d),i.elementType=j,i.lanes=y,i;case N:return _a(o.children,d,y,r);case k:T=8,d|=24;break;case L:return i=jn(12,o,r,d|2),i.elementType=L,i.lanes=y,i;case ae:return i=jn(13,o,r,d),i.elementType=ae,i.lanes=y,i;case ie:return i=jn(19,o,r,d),i.elementType=ie,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:T=10;break e;case q:T=9;break e;case oe:T=11;break e;case I:T=14;break e;case C:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=jn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=y,r}function _a(i,r,o,u){return i=jn(7,i,u,r),i.lanes=o,i}function ym(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function qv(i){var r=jn(18,null,null,0);return r.stateNode=i,r}function vm(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Gv=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=Gv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Rl(r)},Gv.set(i,r),r)}return{value:i,source:r,stack:Rl(r)}}var vo=[],_o=0,mh=null,Wl=0,Xn=[],Wn=0,er=null,Gi=1,Ki="";function ds(i,r){vo[_o++]=Wl,vo[_o++]=mh,mh=i,Wl=r}function Kv(i,r,o){Xn[Wn++]=Gi,Xn[Wn++]=Ki,Xn[Wn++]=er,er=i;var u=Gi;i=Ki;var d=32-bt(u)-1;u&=~(1<<d),o+=1;var y=32-bt(r)+d;if(30<y){var T=d-d%5;y=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Gi=1<<32-bt(r)+d|o<<d|u,Ki=y+i}else Gi=1<<y|o<<d|u,Ki=i}function _m(i){i.return!==null&&(ds(i,1),Kv(i,1,0))}function xm(i){for(;i===mh;)mh=vo[--_o],vo[_o]=null,Wl=vo[--_o],vo[_o]=null;for(;i===er;)er=Xn[--Wn],Xn[Wn]=null,Ki=Xn[--Wn],Xn[Wn]=null,Gi=Xn[--Wn],Xn[Wn]=null}function $v(i,r){Xn[Wn++]=Gi,Xn[Wn++]=Ki,Xn[Wn++]=er,Gi=r.id,Ki=r.overflow,er=i}var Xt=null,rt=null,Be=!1,tr=null,Zn=!1,bm=Error(s(519));function nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Qn(r,i)),bm}function Yv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ct]=i,r[qt]=u,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<xu.length;o++)Me(xu[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),$c(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),$s(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||hb(r.textContent,o)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||nr(i,!0)}function Qv(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Xt=Xt.return}}function xo(i){if(i!==Xt)return!1;if(!Be)return Qv(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Up(i.type,i.memoizedProps)),o=!o),o&&rt&&nr(i),Qv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=xb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=xb(i)}else r===27?(r=rt,gr(i.type)?(i=qp,qp=null,rt=i):rt=r):rt=Xt?ei(i.stateNode.nextSibling):null;return!0}function xa(){rt=Xt=null,Be=!1}function Tm(){var i=tr;return i!==null&&(En===null?En=i:En.push.apply(En,i),tr=null),i}function Zl(i){tr===null?tr=[i]:tr.push(i)}var Em=z(null),ba=null,ms=null;function ir(i,r,o){ue(Em,r._currentValue),r._currentValue=o}function ps(i){i._currentValue=Em.current,ne(Em)}function wm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Sm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var y=d.dependencies;if(y!==null){var T=d.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=d;for(var V=0;V<r.length;V++)if(S.context===r[V]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),wm(y.return,o,i),u||(T=null);break e}y=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),wm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function bo(i,r,o,u){i=null;for(var d=r,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=d.type;kn(d.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(d===Fe.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Su):i=[Su])}d=d.return}i!==null&&Sm(r,i,o,u),r.flags|=262144}function ph(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){ba=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return Xv(ba,i)}function gh(i,r){return ba===null&&Ta(i),Xv(i,r)}function Xv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ms===null){if(i===null)throw Error(s(308));ms=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ms=ms.next=r;return o}var Y2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},Q2=t.unstable_scheduleCallback,X2=t.unstable_NormalPriority,Dt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new Y2,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&Q2(X2,function(){i.controller.abort()})}var eu=null,Rm=0,To=0,Eo=null;function W2(i,r){if(eu===null){var o=eu=[];Rm=0,To=Ip(),Eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rm++,r.then(Wv,Wv),r}function Wv(){if(--Rm===0&&eu!==null){Eo!==null&&(Eo.status="fulfilled");var i=eu;eu=null,To=0,Eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Z2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Zv=W.S;W.S=function(i,r){Vx=dn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&W2(i,r),Zv!==null&&Zv(i,r)};var Ea=z(null);function Cm(){var i=Ea.current;return i!==null?i:nt.pooledCache}function yh(i,r){r===null?ue(Ea,Ea.current):ue(Ea,r.pool)}function Jv(){var i=Cm();return i===null?null:{parent:Dt._currentValue,pool:i}}var wo=Error(s(460)),Nm=Error(s(474)),vh=Error(s(542)),_h={then:function(){}};function e_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function t_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i_(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i_(i),i}throw Sa=r,wo}}function wa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Sa=o,wo):o}}var Sa=null;function n_(){if(Sa===null)throw Error(s(459));var i=Sa;return Sa=null,i}function i_(i){if(i===wo||i===vh)throw Error(s(483))}var So=null,tu=0;function xh(i){var r=tu;return tu+=1,So===null&&(So=[]),t_(So,i,r)}function nu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function bh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function s_(i){function r(H,U){if(i){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=fs(H,U),H.index=0,H.sibling=null,H}function y(H,U,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=67108866,U):K):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,K,J){return U===null||U.tag!==6?(U=ym(K,H.mode,J),U.return=H,U):(U=d(U,K),U.return=H,U)}function V(H,U,K,J){var ge=K.type;return ge===N?Z(H,U,K.props.children,J,K.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&wa(ge)===U.type)?(U=d(U,K.props),nu(U,K),U.return=H,U):(U=dh(K.type,K.key,K.props,null,H.mode,J),nu(U,K),U.return=H,U)}function $(H,U,K,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=vm(K,H.mode,J),U.return=H,U):(U=d(U,K.children||[]),U.return=H,U)}function Z(H,U,K,J,ge){return U===null||U.tag!==7?(U=_a(K,H.mode,J,ge),U.return=H,U):(U=d(U,K),U.return=H,U)}function te(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ym(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return K=dh(U.type,U.key,U.props,null,H.mode,K),nu(K,U),K.return=H,K;case D:return U=vm(U,H.mode,K),U.return=H,U;case C:return U=wa(U),te(H,U,K)}if(_e(U)||B(U))return U=_a(U,H.mode,K,null),U.return=H,U;if(typeof U.then=="function")return te(H,xh(U),K);if(U.$$typeof===F)return te(H,gh(H,U),K);bh(H,U)}return null}function Y(H,U,K,J){var ge=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:S(H,U,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ge?V(H,U,K,J):null;case D:return K.key===ge?$(H,U,K,J):null;case C:return K=wa(K),Y(H,U,K,J)}if(_e(K)||B(K))return ge!==null?null:Z(H,U,K,J,null);if(typeof K.then=="function")return Y(H,U,xh(K),J);if(K.$$typeof===F)return Y(H,U,gh(H,K),J);bh(H,K)}return null}function X(H,U,K,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(K)||null,S(U,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return H=H.get(J.key===null?K:J.key)||null,V(U,H,J,ge);case D:return H=H.get(J.key===null?K:J.key)||null,$(U,H,J,ge);case C:return J=wa(J),X(H,U,K,J,ge)}if(_e(J)||B(J))return H=H.get(K)||null,Z(U,H,J,ge,null);if(typeof J.then=="function")return X(H,U,K,xh(J),ge);if(J.$$typeof===F)return X(H,U,K,gh(U,J),ge);bh(U,J)}return null}function me(H,U,K,J){for(var ge=null,qe=null,pe=U,ke=U=0,Pe=null;pe!==null&&ke<K.length;ke++){pe.index>ke?(Pe=pe,pe=null):Pe=pe.sibling;var Ge=Y(H,pe,K[ke],J);if(Ge===null){pe===null&&(pe=Pe);break}i&&pe&&Ge.alternate===null&&r(H,pe),U=y(Ge,U,ke),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge,pe=Pe}if(ke===K.length)return o(H,pe),Be&&ds(H,ke),ge;if(pe===null){for(;ke<K.length;ke++)pe=te(H,K[ke],J),pe!==null&&(U=y(pe,U,ke),qe===null?ge=pe:qe.sibling=pe,qe=pe);return Be&&ds(H,ke),ge}for(pe=u(pe);ke<K.length;ke++)Pe=X(pe,H,ke,K[ke],J),Pe!==null&&(i&&Pe.alternate!==null&&pe.delete(Pe.key===null?ke:Pe.key),U=y(Pe,U,ke),qe===null?ge=Pe:qe.sibling=Pe,qe=Pe);return i&&pe.forEach(function(br){return r(H,br)}),Be&&ds(H,ke),ge}function ve(H,U,K,J){if(K==null)throw Error(s(151));for(var ge=null,qe=null,pe=U,ke=U=0,Pe=null,Ge=K.next();pe!==null&&!Ge.done;ke++,Ge=K.next()){pe.index>ke?(Pe=pe,pe=null):Pe=pe.sibling;var br=Y(H,pe,Ge.value,J);if(br===null){pe===null&&(pe=Pe);break}i&&pe&&br.alternate===null&&r(H,pe),U=y(br,U,ke),qe===null?ge=br:qe.sibling=br,qe=br,pe=Pe}if(Ge.done)return o(H,pe),Be&&ds(H,ke),ge;if(pe===null){for(;!Ge.done;ke++,Ge=K.next())Ge=te(H,Ge.value,J),Ge!==null&&(U=y(Ge,U,ke),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return Be&&ds(H,ke),ge}for(pe=u(pe);!Ge.done;ke++,Ge=K.next())Ge=X(pe,H,ke,Ge.value,J),Ge!==null&&(i&&Ge.alternate!==null&&pe.delete(Ge.key===null?ke:Ge.key),U=y(Ge,U,ke),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return i&&pe.forEach(function(uN){return r(H,uN)}),Be&&ds(H,ke),ge}function tt(H,U,K,J){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ge=K.key;U!==null;){if(U.key===ge){if(ge=K.type,ge===N){if(U.tag===7){o(H,U.sibling),J=d(U,K.props.children),J.return=H,H=J;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&wa(ge)===U.type){o(H,U.sibling),J=d(U,K.props),nu(J,K),J.return=H,H=J;break e}o(H,U);break}else r(H,U);U=U.sibling}K.type===N?(J=_a(K.props.children,H.mode,J,K.key),J.return=H,H=J):(J=dh(K.type,K.key,K.props,null,H.mode,J),nu(J,K),J.return=H,H=J)}return T(H);case D:e:{for(ge=K.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(H,U.sibling),J=d(U,K.children||[]),J.return=H,H=J;break e}else{o(H,U);break}else r(H,U);U=U.sibling}J=vm(K,H.mode,J),J.return=H,H=J}return T(H);case C:return K=wa(K),tt(H,U,K,J)}if(_e(K))return me(H,U,K,J);if(B(K)){if(ge=B(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),ve(H,U,K,J)}if(typeof K.then=="function")return tt(H,U,xh(K),J);if(K.$$typeof===F)return tt(H,U,gh(H,K),J);bh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(H,U.sibling),J=d(U,K),J.return=H,H=J):(o(H,U),J=ym(K,H.mode,J),J.return=H,H=J),T(H)):o(H,U)}return function(H,U,K,J){try{tu=0;var ge=tt(H,U,K,J);return So=null,ge}catch(pe){if(pe===wo||pe===vh)throw pe;var qe=jn(29,pe,null,H.mode);return qe.lanes=J,qe.return=H,qe}finally{}}}var Aa=s_(!0),r_=s_(!1),sr=!1;function Im(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ar(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=fh(i),Fv(i,null,o),r}return hh(i,u,r,o),fh(i)}function iu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Il(i,o)}}function km(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?d=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?d=y=r:y=y.next=r}else d=y=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var jm=!1;function su(){if(jm){var i=Eo;if(i!==null)throw i}}function ru(i,r,o,u){jm=!1;var d=i.updateQueue;sr=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var V=S,$=V.next;V.next=null,T===null?y=$:T.next=$,T=V;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=V))}if(y!==null){var te=d.baseState;T=0,Z=$=V=null,S=y;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Oe&Y)===Y:(u&Y)===Y){Y!==0&&Y===To&&(jm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,ve=S;Y=r;var tt=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){te=me.call(tt,te,Y);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,Y=typeof me=="function"?me.call(tt,te,Y):me,Y==null)break e;te=_({},te,Y);break e;case 2:sr=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=X,V=te):Z=Z.next=X,T|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(V=te),d.baseState=V,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,y===null&&(d.shared.lanes=0),hr|=T,i.lanes=T,i.memoizedState=te}}function a_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function o_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)a_(o[i],r)}var Ao=z(null),Th=z(0);function l_(i,r){i=ws,ue(Th,i),ue(Ao,r),ws=i|r.baseLanes}function Mm(){ue(Th,ws),ue(Ao,Ao.current)}function Vm(){ws=Th.current,ne(Ao),ne(Th)}var Mn=z(null),Jn=null;function or(i){var r=i.alternate;ue(Et,Et.current&1),ue(Mn,i),Jn===null&&(r===null||Ao.current!==null||r.memoizedState!==null)&&(Jn=i)}function Om(i){ue(Et,Et.current),ue(Mn,i),Jn===null&&(Jn=i)}function u_(i){i.tag===22?(ue(Et,Et.current),ue(Mn,i),Jn===null&&(Jn=i)):lr()}function lr(){ue(Et,Et.current),ue(Mn,Mn.current)}function Vn(i){ne(Mn),Jn===i&&(Jn=null),ne(Et)}var Et=z(0);function Eh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fp(o)||Hp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Ne=null,Je=null,kt=null,wh=!1,Ro=!1,Ra=!1,Sh=0,au=0,Co=null,J2=0;function gt(){throw Error(s(321))}function Pm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function Lm(i,r,o,u,d,y){return gs=y,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?K_:Jm,Ra=!1,y=o(u,d),Ra=!1,Ro&&(y=h_(r,o,u,d)),c_(i),y}function c_(i){W.H=uu;var r=Je!==null&&Je.next!==null;if(gs=0,kt=Je=Ne=null,wh=!1,au=0,Co=null,r)throw Error(s(300));i===null||jt||(i=i.dependencies,i!==null&&ph(i)&&(jt=!0))}function h_(i,r,o,u){Ne=i;var d=0;do{if(Ro&&(Co=null),au=0,Ro=!1,25<=d)throw Error(s(301));if(d+=1,kt=Je=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=$_,y=r(o,u)}while(Ro);return y}function eC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?ou(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ne.flags|=1024),r}function Um(){var i=Sh!==0;return Sh=0,i}function zm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Bm(i){if(wh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}wh=!1}gs=0,kt=Je=Ne=null,Ro=!1,au=Sh=0,Co=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=i:kt=kt.next=i,kt}function wt(){if(Je===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=kt===null?Ne.memoizedState:kt.next;if(r!==null)kt=r,Je=i;else{if(i===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},kt===null?Ne.memoizedState=kt=i:kt=kt.next=i}return kt}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var r=au;return au+=1,Co===null&&(Co=[]),i=t_(Co,i,r),r=Ne,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?K_:Jm),i}function Rh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===F)return Wt(i)}throw Error(s(438,String(i)))}function Fm(i){var r=null,o=Ne.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ah(),Ne.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function ys(i,r){return typeof r=="function"?r(i):r}function Ch(i){var r=wt();return Hm(r,Je,i)}function Hm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,y=u.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}r.baseQueue=d=y,u.pending=null}if(y=i.baseState,d===null)i.memoizedState=y;else{r=d.next;var S=T=null,V=null,$=r,Z=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(Oe&te)===te:(gs&te)===te){var Y=$.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===To&&(Z=!0);else if((gs&Y)===Y){$=$.next,Y===To&&(Z=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=te,T=y):V=V.next=te,Ne.lanes|=Y,hr|=Y;te=$.action,Ra&&o(y,te),y=$.hasEagerState?$.eagerState:o(y,te)}else Y={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=Y,T=y):V=V.next=Y,Ne.lanes|=te,hr|=te;$=$.next}while($!==null&&$!==r);if(V===null?T=y:V.next=S,!kn(y,i.memoizedState)&&(jt=!0,Z&&(o=Eo,o!==null)))throw o;i.memoizedState=y,i.baseState=T,i.baseQueue=V,u.lastRenderedState=y}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function qm(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,y=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do y=i(y,T.action),T=T.next;while(T!==d);kn(y,r.memoizedState)||(jt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function f_(i,r,o){var u=Ne,d=wt(),y=Be;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!kn((Je||d).memoizedState,o);if(T&&(d.memoizedState=o,jt=!0),d=d.queue,$m(p_.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,No(9,{destroy:void 0},m_.bind(null,u,d,o,r),null),nt===null)throw Error(s(349));y||(gs&127)!==0||d_(u,r,o)}return o}function d_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r=Ah(),Ne.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function m_(i,r,o,u){r.value=o,r.getSnapshot=u,g_(r)&&y_(i)}function p_(i,r,o){return o(function(){g_(r)&&y_(i)})}function g_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function y_(i){var r=va(i,2);r!==null&&wn(r,i,2)}function Gm(i){var r=pn();if(typeof i=="function"){var o=i;if(i=o(),Ra){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},r}function v_(i,r,o,u){return i.baseState=o,Hm(i,Je,typeof u=="function"?u:ys)}function tC(i,r,o,u,d){if(Dh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};W.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,__(r,y)):(y.next=o.next,r.pending=o.next=y)}}function __(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var y=W.T,T={};W.T=T;try{var S=o(d,u),V=W.S;V!==null&&V(T,S),x_(i,r,S)}catch($){Km(i,r,$)}finally{y!==null&&T.types!==null&&(y.types=T.types),W.T=y}}else try{y=o(d,u),x_(i,r,y)}catch($){Km(i,r,$)}}function x_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){b_(i,r,u)},function(u){return Km(i,r,u)}):b_(i,r,o)}function b_(i,r,o){r.status="fulfilled",r.value=o,T_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,__(i,o)))}function Km(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,T_(r),r=r.next;while(r!==u)}i.action=null}function T_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function E_(i,r){return r}function w_(i,r){if(Be){var o=nt.formState;if(o!==null){e:{var u=Ne;if(Be){if(rt){t:{for(var d=rt,y=Zn;d.nodeType!==8;){if(!y){d=null;break t}if(d=ei(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){rt=ei(d.nextSibling),u=d.data==="F!";break e}}nr(u)}u=!1}u&&(r=o[0])}}return o=pn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:r},o.queue=u,o=H_.bind(null,Ne,u),u.dispatch=o,u=Gm(!1),y=Zm.bind(null,Ne,!1,u.queue),u=pn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=tC.bind(null,Ne,d,y,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function S_(i){var r=wt();return A_(r,Je,i)}function A_(i,r,o){if(r=Hm(i,r,E_)[0],i=Ch(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ou(r)}catch(T){throw T===wo?vh:T}else u=r;r=wt();var d=r.queue,y=d.dispatch;return o!==r.memoizedState&&(Ne.flags|=2048,No(9,{destroy:void 0},nC.bind(null,d,o),null)),[u,y,i]}function nC(i,r){i.action=r}function R_(i){var r=wt(),o=Je;if(o!==null)return A_(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function No(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Ah(),Ne.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function C_(){return wt().memoizedState}function Nh(i,r,o,u){var d=pn();Ne.flags|=i,d.memoizedState=No(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ih(i,r,o,u){var d=wt();u=u===void 0?null:u;var y=d.memoizedState.inst;Je!==null&&u!==null&&Pm(u,Je.memoizedState.deps)?d.memoizedState=No(r,y,o,u):(Ne.flags|=i,d.memoizedState=No(1|r,y,o,u))}function N_(i,r){Nh(8390656,8,i,r)}function $m(i,r){Ih(2048,8,i,r)}function iC(i){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=Ah(),Ne.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function I_(i){var r=wt().memoizedState;return iC({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function D_(i,r){return Ih(4,2,i,r)}function k_(i,r){return Ih(4,4,i,r)}function j_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function M_(i,r,o){o=o!=null?o.concat([i]):null,Ih(4,4,j_.bind(null,r,i),o)}function Ym(){}function V_(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function O_(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pm(r,u[1]))return u[0];if(u=i(),Ra){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u}function Qm(i,r,o){return o===void 0||(gs&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Px(),Ne.lanes|=i,hr|=i,o)}function P_(i,r,o,u){return kn(o,r)?o:Ao.current!==null?(i=Qm(i,o,u),kn(i,r)||(jt=!0),i):(gs&42)===0||(gs&1073741824)!==0&&(Oe&261930)===0?(jt=!0,i.memoizedState=o):(i=Px(),Ne.lanes|=i,hr|=i,r)}function L_(i,r,o,u,d){var y=re.p;re.p=y!==0&&8>y?y:8;var T=W.T,S={};W.T=S,Zm(i,!1,r,o);try{var V=d(),$=W.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=Z2(V,u);lu(i,r,Z,Ln(i))}else lu(i,r,u,Ln(i))}catch(te){lu(i,r,{then:function(){},status:"rejected",reason:te},Ln())}finally{re.p=y,T!==null&&S.types!==null&&(T.types=S.types),W.T=T}}function sC(){}function Xm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=U_(i).queue;L_(i,d,r,he,o===null?sC:function(){return z_(i),o(u)})}function U_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function z_(i){var r=U_(i);r.next===null&&(r=i.alternate.memoizedState),lu(i,r.next.queue,{},Ln())}function Wm(){return Wt(Su)}function B_(){return wt().memoizedState}function F_(){return wt().memoizedState}function rC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=rr(o);var u=ar(r,i,o);u!==null&&(wn(u,r,o),iu(u,r,o)),r={cache:Am()},i.payload=r;return}r=r.return}}function aC(i,r,o){var u=Ln();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Dh(i)?q_(r,o):(o=pm(i,r,o,u),o!==null&&(wn(o,i,u),G_(o,r,u)))}function H_(i,r,o){var u=Ln();lu(i,r,o,u)}function lu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dh(i))q_(r,d);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var T=r.lastRenderedState,S=y(T,o);if(d.hasEagerState=!0,d.eagerState=S,kn(S,T))return hh(i,r,d,0),nt===null&&ch(),!1}catch{}finally{}if(o=pm(i,r,d,u),o!==null)return wn(o,i,u),G_(o,r,u),!0}return!1}function Zm(i,r,o,u){if(u={lane:2,revertLane:Ip(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dh(i)){if(r)throw Error(s(479))}else r=pm(i,o,u,2),r!==null&&wn(r,i,2)}function Dh(i){var r=i.alternate;return i===Ne||r!==null&&r===Ne}function q_(i,r){Ro=wh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function G_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Il(i,o)}}var uu={readContext:Wt,use:Rh,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};uu.useEffectEvent=gt;var K_={readContext:Wt,use:Rh,useCallback:function(i,r){return pn().memoizedState=[i,r===void 0?null:r],i},useContext:Wt,useEffect:N_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Nh(4194308,4,j_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Nh(4194308,4,i,r)},useInsertionEffect:function(i,r){Nh(4,2,i,r)},useMemo:function(i,r){var o=pn();r=r===void 0?null:r;var u=i();if(Ra){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=pn();if(o!==void 0){var d=o(r);if(Ra){Hn(!0);try{o(r)}finally{Hn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=aC.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var r=pn();return i={current:i},r.memoizedState=i},useState:function(i){i=Gm(i);var r=i.queue,o=H_.bind(null,Ne,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Ym,useDeferredValue:function(i,r){var o=pn();return Qm(o,i,r)},useTransition:function(){var i=Gm(!1);return i=L_.bind(null,Ne,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ne,d=pn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(Oe&127)!==0||d_(u,r,o)}d.memoizedState=o;var y={value:o,getSnapshot:r};return d.queue=y,N_(p_.bind(null,u,y,i),[i]),u.flags|=2048,No(9,{destroy:void 0},m_.bind(null,u,y,o,r),null),o},useId:function(){var i=pn(),r=nt.identifierPrefix;if(Be){var o=Ki,u=Gi;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Sh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=J2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Wm,useFormState:w_,useActionState:w_,useOptimistic:function(i){var r=pn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Zm.bind(null,Ne,!0,o),o.dispatch=r,[i,r]},useMemoCache:Fm,useCacheRefresh:function(){return pn().memoizedState=rC.bind(null,Ne)},useEffectEvent:function(i){var r=pn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Jm={readContext:Wt,use:Rh,useCallback:V_,useContext:Wt,useEffect:$m,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:k_,useMemo:O_,useReducer:Ch,useRef:C_,useState:function(){return Ch(ys)},useDebugValue:Ym,useDeferredValue:function(i,r){var o=wt();return P_(o,Je.memoizedState,i,r)},useTransition:function(){var i=Ch(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:Wm,useFormState:S_,useActionState:S_,useOptimistic:function(i,r){var o=wt();return v_(o,Je,i,r)},useMemoCache:Fm,useCacheRefresh:F_};Jm.useEffectEvent=I_;var $_={readContext:Wt,use:Rh,useCallback:V_,useContext:Wt,useEffect:$m,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:k_,useMemo:O_,useReducer:qm,useRef:C_,useState:function(){return qm(ys)},useDebugValue:Ym,useDeferredValue:function(i,r){var o=wt();return Je===null?Qm(o,i,r):P_(o,Je.memoizedState,i,r)},useTransition:function(){var i=qm(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:Wm,useFormState:R_,useActionState:R_,useOptimistic:function(i,r){var o=wt();return Je!==null?v_(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:F_};$_.useEffectEvent=I_;function ep(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var tp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ln(),d=rr(u);d.payload=r,o!=null&&(d.callback=o),r=ar(i,d,u),r!==null&&(wn(r,i,u),iu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ln(),d=rr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=ar(i,d,u),r!==null&&(wn(r,i,u),iu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),u=rr(o);u.tag=2,r!=null&&(u.callback=r),r=ar(i,u,o),r!==null&&(wn(r,i,o),iu(r,i,o))}};function Y_(i,r,o,u,d,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,T):r.prototype&&r.prototype.isPureReactComponent?!Ql(o,u)||!Ql(d,y):!0}function Q_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&tp.enqueueReplaceState(r,r.state,null)}function Ca(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function X_(i){uh(i)}function W_(i){console.error(i)}function Z_(i){uh(i)}function kh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function J_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function np(i,r,o){return o=rr(o),o.tag=3,o.payload={element:null},o.callback=function(){kh(i,r)},o}function ex(i){return i=rr(i),i.tag=3,i}function tx(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var y=u.value;i.payload=function(){return d(y)},i.callback=function(){J_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){J_(r,o,u),typeof d!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function oC(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&bo(r,o,d,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?qh():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===_h?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Rp(i,u,d)),!1;case 22:return o.flags|=65536,u===_h?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Rp(i,u,d)),!1}throw Error(s(435,o.tag))}return Rp(i,u,d),qh(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==bm&&(i=Error(s(422),{cause:u}),Zl(Qn(i,o)))):(u!==bm&&(r=Error(s(423),{cause:u}),Zl(Qn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Qn(u,o),d=np(i.stateNode,u,d),km(i,d),yt!==4&&(yt=2)),!1;var y=Error(s(520),{cause:u});if(y=Qn(y,o),yu===null?yu=[y]:yu.push(y),yt!==4&&(yt=2),r===null)return!0;u=Qn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=np(o.stateNode,u,i),km(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fr===null||!fr.has(y))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ex(d),tx(d,i,o,u),km(o,d),!1}o=o.return}while(o!==null);return!1}var ip=Error(s(461)),jt=!1;function Zt(i,r,o,u){r.child=i===null?r_(r,null,o,u):Aa(r,i.child,o,u)}function nx(i,r,o,u,d){o=o.render;var y=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Ta(r),u=Lm(i,r,o,T,y,d),S=Um(),i!==null&&!jt?(zm(i,r,d),vs(i,r,d)):(Be&&S&&_m(r),r.flags|=1,Zt(i,r,u,d),r.child)}function ix(i,r,o,u,d){if(i===null){var y=o.type;return typeof y=="function"&&!gm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,sx(i,r,y,u,d)):(i=dh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!hp(i,d)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(T,u)&&i.ref===r.ref)return vs(i,r,d)}return r.flags|=1,i=fs(y,u),i.ref=r.ref,i.return=r,r.child=i}function sx(i,r,o,u,d){if(i!==null){var y=i.memoizedProps;if(Ql(y,u)&&i.ref===r.ref)if(jt=!1,r.pendingProps=u=y,hp(i,d))(i.flags&131072)!==0&&(jt=!0);else return r.lanes=i.lanes,vs(i,r,d)}return sp(i,r,o,u,d)}function rx(i,r,o,u){var d=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~y}else u=0,r.child=null;return ax(i,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&yh(r,y!==null?y.cachePool:null),y!==null?l_(r,y):Mm(),u_(r);else return u=r.lanes=536870912,ax(i,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(yh(r,y.cachePool),l_(r,y),lr(),r.memoizedState=null):(i!==null&&yh(r,null),Mm(),lr());return Zt(i,r,d,o),r.child}function cu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function ax(i,r,o,u,d){var y=Cm();return y=y===null?null:{parent:Dt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&yh(r,null),Mm(),u_(r),i!==null&&bo(i,r,u,!0),r.childLanes=d,null}function jh(i,r){return r=Vh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ox(i,r,o){return Aa(r,i.child,null,o),i=jh(r,r.pendingProps),i.flags|=2,Vn(r),r.memoizedState=null,i}function lC(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=jh(r,u),r.lanes=536870912,cu(null,i);if(Om(r),(i=rt)?(i=_b(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:er!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=qv(i),o.return=r,r.child=o,Xt=r,rt=null)):i=null,i===null)throw nr(r);return r.lanes=536870912,null}return jh(r,u)}var y=i.memoizedState;if(y!==null){var T=y.dehydrated;if(Om(r),d)if(r.flags&256)r.flags&=-257,r=ox(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||bo(i,r,o,!1),d=(o&i.childLanes)!==0,jt||d){if(u=nt,u!==null&&(T=Dl(u,o),T!==0&&T!==y.retryLane))throw y.retryLane=T,va(i,T),wn(u,i,T),ip;qh(),r=ox(i,r,o)}else i=y.treeContext,rt=ei(T.nextSibling),Xt=r,Be=!0,tr=null,Zn=!1,i!==null&&$v(r,i),r=jh(r,u),r.flags|=4096;return r}return i=fs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Mh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function sp(i,r,o,u,d){return Ta(r),o=Lm(i,r,o,u,void 0,d),u=Um(),i!==null&&!jt?(zm(i,r,d),vs(i,r,d)):(Be&&u&&_m(r),r.flags|=1,Zt(i,r,o,d),r.child)}function lx(i,r,o,u,d,y){return Ta(r),r.updateQueue=null,o=h_(r,u,o,d),c_(i),u=Um(),i!==null&&!jt?(zm(i,r,y),vs(i,r,y)):(Be&&u&&_m(r),r.flags|=1,Zt(i,r,o,y),r.child)}function ux(i,r,o,u,d){if(Ta(r),r.stateNode===null){var y=yo,T=o.contextType;typeof T=="object"&&T!==null&&(y=Wt(T)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Im(r),T=o.contextType,y.context=typeof T=="object"&&T!==null?Wt(T):yo,y.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ep(r,o,T,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&tp.enqueueReplaceState(y,y.state,null),ru(r,u,y,d),su(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var S=r.memoizedProps,V=Ca(o,S);y.props=V;var $=y.context,Z=o.contextType;T=yo,typeof Z=="object"&&Z!==null&&(T=Wt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||$!==T)&&Q_(r,y,u,T),sr=!1;var Y=r.memoizedState;y.state=Y,ru(r,u,y,d),su(),$=r.memoizedState,S||Y!==$||sr?(typeof te=="function"&&(ep(r,o,te,u),$=r.memoizedState),(V=sr||Y_(r,o,V,u,Y,$,T))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),y.props=u,y.state=$,y.context=T,u=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Dm(i,r),T=r.memoizedProps,Z=Ca(o,T),y.props=Z,te=r.pendingProps,Y=y.context,$=o.contextType,V=yo,typeof $=="object"&&$!==null&&(V=Wt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==te||Y!==V)&&Q_(r,y,u,V),sr=!1,Y=r.memoizedState,y.state=Y,ru(r,u,y,d),su();var X=r.memoizedState;T!==te||Y!==X||sr||i!==null&&i.dependencies!==null&&ph(i.dependencies)?(typeof S=="function"&&(ep(r,o,S,u),X=r.memoizedState),(Z=sr||Y_(r,o,Z,u,Y,X,V)||i!==null&&i.dependencies!==null&&ph(i.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),y.props=u,y.state=X,y.context=V,u=Z):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,Mh(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=Aa(r,i.child,null,d),r.child=Aa(r,null,o,d)):Zt(i,r,o,d),r.memoizedState=y.state,i=r.child):i=vs(i,r,d),i}function cx(i,r,o,u){return xa(),r.flags|=256,Zt(i,r,o,u),r.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(i){return{baseLanes:i,cachePool:Jv()}}function op(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function hx(i,r,o){var u=r.pendingProps,d=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(d?or(r):lr(),(i=rt)?(i=_b(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:er!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=qv(i),o.return=r,r.child=o,Xt=r,rt=null)):i=null,i===null)throw nr(r);return Hp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(lr(),d=r.mode,S=Vh({mode:"hidden",children:S},d),u=_a(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=ap(o),u.childLanes=op(i,T,o),r.memoizedState=rp,cu(null,u)):(or(r),lp(r,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(y)r.flags&256?(or(r),r.flags&=-257,r=up(i,r,o)):r.memoizedState!==null?(lr(),r.child=i.child,r.flags|=128,r=null):(lr(),S=u.fallback,d=r.mode,u=Vh({mode:"visible",children:u.children},d),S=_a(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Aa(r,i.child,null,o),u=r.child,u.memoizedState=ap(o),u.childLanes=op(i,T,o),r.memoizedState=rp,r=cu(null,u));else if(or(r),Hp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var $=T.dgst;T=$,u=Error(s(419)),u.stack="",u.digest=T,Zl({value:u,source:null,stack:null}),r=up(i,r,o)}else if(jt||bo(i,r,o,!1),T=(o&i.childLanes)!==0,jt||T){if(T=nt,T!==null&&(u=Dl(T,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,va(i,u),wn(T,i,u),ip;Fp(S)||qh(),r=up(i,r,o)}else Fp(S)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,rt=ei(S.nextSibling),Xt=r,Be=!0,tr=null,Zn=!1,i!==null&&$v(r,i),r=lp(r,u.children),r.flags|=4096);return r}return d?(lr(),S=u.fallback,d=r.mode,V=i.child,$=V.sibling,u=fs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?S=fs($,S):(S=_a(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,cu(null,u),u=r.child,S=i.child.memoizedState,S===null?S=ap(o):(d=S.cachePool,d!==null?(V=Dt._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=Jv(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=op(i,T,o),r.memoizedState=rp,cu(i.child,u)):(or(r),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function lp(i,r){return r=Vh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Vh(i,r){return i=jn(22,i,null,r),i.lanes=0,i}function up(i,r,o){return Aa(r,i.child,null,o),i=lp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function fx(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),wm(i.return,r,o)}function cp(i,r,o,u,d,y){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:y}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=y)}function dx(i,r,o){var u=r.pendingProps,d=u.revealOrder,y=u.tail;u=u.children;var T=Et.current,S=(T&2)!==0;if(S?(T=T&1|2,r.flags|=128):T&=1,ue(Et,T),Zt(i,r,u,o),u=Be?Wl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fx(i,o,r);else if(i.tag===19)fx(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Eh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),cp(r,!1,d,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Eh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}cp(r,!0,o,null,y,u);break;case"together":cp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function vs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),hr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(bo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function hp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ph(i)))}function uC(i,r,o){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),ir(r,Dt,i.memoizedState.cache),xa();break;case 27:case 5:ea(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:ir(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Om(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?hx(i,r,o):(or(r),i=vs(i,r,o),i!==null?i.sibling:null);or(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(bo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return dx(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Et,Et.current),u)break;return null;case 22:return r.lanes=0,rx(i,r,o,r.pendingProps);case 24:ir(r,Dt,i.memoizedState.cache)}return vs(i,r,o)}function mx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)jt=!0;else{if(!hp(i,o)&&(r.flags&128)===0)return jt=!1,uC(i,r,o);jt=(i.flags&131072)!==0}else jt=!1,Be&&(r.flags&1048576)!==0&&Kv(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=wa(r.elementType),r.type=i,typeof i=="function")gm(i)?(u=Ca(i,u),r.tag=1,r=ux(null,r,i,u,o)):(r.tag=0,r=sp(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=nx(null,r,i,u,o);break e}else if(d===I){r.tag=14,r=ix(null,r,i,u,o);break e}}throw r=Se(i)||i,Error(s(306,r,""))}}return r;case 0:return sp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Ca(u,r.pendingProps),ux(i,r,u,d,o);case 3:e:{if(Ut(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;d=y.element,Dm(i,r),ru(r,u,null,o);var T=r.memoizedState;if(u=T.cache,ir(r,Dt,u),u!==y.cache&&Sm(r,[Dt],o,!0),su(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=cx(i,r,u,o);break e}else if(u!==d){d=Qn(Error(s(424)),r),Zl(d),r=cx(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=ei(i.firstChild),Xt=r,Be=!0,tr=null,Zn=!0,o=r_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xa(),u===d){r=vs(i,r,o);break e}Zt(i,r,u,o)}r=r.child}return r;case 26:return Mh(i,r),i===null?(o=Sb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,u=Wh(De.current).createElement(o),u[Ct]=r,u[qt]=i,Jt(u,o,i),Nt(u),r.stateNode=u):r.memoizedState=Sb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ea(r),i===null&&Be&&(u=r.stateNode=Tb(r.type,r.pendingProps,De.current),Xt=r,Zn=!0,d=rt,gr(r.type)?(qp=d,rt=ei(u.firstChild)):rt=d),Zt(i,r,r.pendingProps.children,o),Mh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((d=u=rt)&&(u=UC(u,r.type,r.pendingProps,Zn),u!==null?(r.stateNode=u,Xt=r,rt=ei(u.firstChild),Zn=!1,d=!0):d=!1),d||nr(r)),ea(r),d=r.type,y=r.pendingProps,T=i!==null?i.memoizedProps:null,u=y.children,Up(d,y)?u=null:T!==null&&Up(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Lm(i,r,eC,null,null,o),Su._currentValue=d),Mh(i,r),Zt(i,r,u,o),r.child;case 6:return i===null&&Be&&((i=o=rt)&&(o=zC(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,Xt=r,rt=null,i=!0):i=!1),i||nr(r)),null;case 13:return hx(i,r,o);case 4:return Ut(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Aa(r,null,u,o):Zt(i,r,u,o),r.child;case 11:return nx(i,r,r.type,r.pendingProps,o);case 7:return Zt(i,r,r.pendingProps,o),r.child;case 8:return Zt(i,r,r.pendingProps.children,o),r.child;case 12:return Zt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ir(r,r.type,u.value),Zt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ta(r),d=Wt(d),u=u(d),r.flags|=1,Zt(i,r,u,o),r.child;case 14:return ix(i,r,r.type,r.pendingProps,o);case 15:return sx(i,r,r.type,r.pendingProps,o);case 19:return dx(i,r,o);case 31:return lC(i,r,o);case 22:return rx(i,r,o,r.pendingProps);case 24:return Ta(r),u=Wt(Dt),i===null?(d=Cm(),d===null&&(d=nt,y=Am(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=o),d=y),r.memoizedState={parent:u,cache:d},Im(r),ir(r,Dt,d)):((i.lanes&o)!==0&&(Dm(i,r),ru(r,null,null,o),su()),d=i.memoizedState,y=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),ir(r,Dt,u)):(u=y.cache,ir(r,Dt,u),u!==d.cache&&Sm(r,[Dt],o,!0))),Zt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function _s(i){i.flags|=4}function fp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Bx())i.flags|=8192;else throw Sa=_h,Nm}else i.flags&=-16777217}function px(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ib(r))if(Bx())i.flags|=8192;else throw Sa=_h,Nm}function Oh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Fc():536870912,i.lanes|=r,jo|=r)}function hu(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function at(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function cC(i,r,o){var u=r.pendingProps;switch(xm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ps(Dt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xo(r)?_s(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),at(r),null;case 26:var d=r.type,y=r.memoizedState;return i===null?(_s(r),y!==null?(at(r),px(r,y)):(at(r),fp(r,d,null,u,o))):y?y!==i.memoizedState?(_s(r),at(r),px(r,y)):(at(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&_s(r),at(r),fp(r,d,i,u,o)),null;case 27:if(Wa(r),o=De.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return at(r),null}i=de.current,xo(r)?Yv(r):(i=Tb(d,u,o),r.stateNode=i,_s(r))}return at(r),null;case 5:if(Wa(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(y=de.current,xo(r))Yv(r);else{var T=Wh(De.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}y[Ct]=r,y[qt]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=y;e:switch(Jt(y,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_s(r)}}return at(r),fp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&_s(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,xo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Xt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ct]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||hb(i.nodeValue,o)),i||nr(r,!0)}else i=Wh(i).createTextNode(u),i[Ct]=r,r.stateNode=i}return at(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=xo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ct]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),i=!1}else o=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=xo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),d=!1}else d=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Oh(r,r.updateQueue),at(r),null);case 4:return ut(),i===null&&Mp(r.stateNode.containerInfo),at(r),null;case 10:return ps(r.type),at(r),null;case 19:if(ne(Et),u=r.memoizedState,u===null)return at(r),null;if(d=(r.flags&128)!==0,y=u.rendering,y===null)if(d)hu(u,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Eh(i),y!==null){for(r.flags|=128,hu(u,!1),i=y.updateQueue,r.updateQueue=i,Oh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Hv(o,i),o=o.sibling;return ue(Et,Et.current&1|2),Be&&ds(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&dn()>Bh&&(r.flags|=128,d=!0,hu(u,!1),r.lanes=4194304)}else{if(!d)if(i=Eh(y),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Oh(r,i),hu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Be)return at(r),null}else 2*dn()-u.renderingStartTime>Bh&&o!==536870912&&(r.flags|=128,d=!0,hu(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=dn(),i.sibling=null,o=Et.current,ue(Et,d?o&1|2:o&1),Be&&ds(r,u.treeForkCount),i):(at(r),null);case 22:case 23:return Vn(r),Vm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Oh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ne(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ps(Dt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hC(i,r){switch(xm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ps(Dt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Wa(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Vn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(Et),null;case 4:return ut(),null;case 10:return ps(r.type),null;case 22:case 23:return Vn(r),Vm(),i!==null&&ne(Ea),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ps(Dt),null;case 25:return null;default:return null}}function gx(i,r){switch(xm(r),r.tag){case 3:ps(Dt),ut();break;case 26:case 27:case 5:Wa(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:ne(Et);break;case 10:ps(r.type);break;case 22:case 23:Vn(r),Vm(),i!==null&&ne(Ea);break;case 24:ps(Dt)}}function fu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==d)}}catch(S){We(r,r.return,S)}}function ur(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&i)===i){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=r;var V=o,$=S;try{$()}catch(Z){We(d,V,Z)}}}u=u.next}while(u!==y)}}catch(Z){We(r,r.return,Z)}}function yx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{o_(r,o)}catch(u){We(i,i.return,u)}}}function vx(i,r,o){o.props=Ca(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){We(i,r,u)}}function du(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){We(i,r,d)}}function $i(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){We(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){We(i,r,d)}else o.current=null}function _x(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){We(i,i.return,d)}}function dp(i,r,o){try{var u=i.stateNode;jC(u,i.type,o,r),u[qt]=r}catch(d){We(i,i.return,d)}}function xx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gr(i.type)||i.tag===4}function mp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(u!==4&&(u===27&&gr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(pp(i,r,o),i=i.sibling;i!==null;)pp(i,r,o),i=i.sibling}function Ph(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&gr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ph(i,r,o),i=i.sibling;i!==null;)Ph(i,r,o),i=i.sibling}function bx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Jt(r,u,o),r[Ct]=i,r[qt]=o}catch(y){We(i,i.return,y)}}var xs=!1,Mt=!1,gp=!1,Tx=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function fC(i,r){if(i=i.containerInfo,Pp=rf,i=Mv(i),um(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,S=-1,V=-1,$=0,Z=0,te=i,Y=null;t:for(;;){for(var X;te!==o||d!==0&&te.nodeType!==3||(S=T+d),te!==y||u!==0&&te.nodeType!==3||(V=T+u),te.nodeType===3&&(T+=te.nodeValue.length),(X=te.firstChild)!==null;)Y=te,te=X;for(;;){if(te===i)break t;if(Y===o&&++$===d&&(S=T),Y===y&&++Z===u&&(V=T),(X=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=X}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lp={focusedElem:i,selectionRange:o},rf=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,d=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var me=Ca(o.type,d);i=u.getSnapshotBeforeUpdate(me,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){We(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Bp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}}function Ex(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ts(i,o),u&4&&fu(5,o);break;case 1:if(Ts(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){We(o,o.return,T)}else{var d=Ca(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){We(o,o.return,T)}}u&64&&yx(o),u&512&&du(o,o.return);break;case 3:if(Ts(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{o_(i,r)}catch(T){We(o,o.return,T)}}break;case 27:r===null&&u&4&&bx(o);case 26:case 5:Ts(i,o),r===null&&u&4&&_x(o),u&512&&du(o,o.return);break;case 12:Ts(i,o);break;case 31:Ts(i,o),u&4&&Ax(i,o);break;case 13:Ts(i,o),u&4&&Rx(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=bC.bind(null,o),BC(i,o))));break;case 22:if(u=o.memoizedState!==null||xs,!u){r=r!==null&&r.memoizedState!==null||Mt,d=xs;var y=Mt;xs=u,(Mt=r)&&!y?Es(i,o,(o.subtreeFlags&8772)!==0):Ts(i,o),xs=d,Mt=y}break;case 30:break;default:Ts(i,o)}}function wx(i){var r=i.alternate;r!==null&&(i.alternate=null,wx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,xn=!1;function bs(i,r,o){for(o=o.child;o!==null;)Sx(i,r,o),o=o.sibling}function Sx(i,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 26:Mt||$i(o,r),bs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||$i(o,r);var u=ht,d=xn;gr(o.type)&&(ht=o.stateNode,xn=!1),bs(i,r,o),Tu(o.stateNode),ht=u,xn=d;break;case 5:Mt||$i(o,r);case 6:if(u=ht,d=xn,ht=null,bs(i,r,o),ht=u,xn=d,ht!==null)if(xn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(y){We(o,r,y)}else try{ht.removeChild(o.stateNode)}catch(y){We(o,r,y)}break;case 18:ht!==null&&(xn?(i=ht,yb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Bo(i)):yb(ht,o.stateNode));break;case 4:u=ht,d=xn,ht=o.stateNode.containerInfo,xn=!0,bs(i,r,o),ht=u,xn=d;break;case 0:case 11:case 14:case 15:ur(2,o,r),Mt||ur(4,o,r),bs(i,r,o);break;case 1:Mt||($i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&vx(o,r,u)),bs(i,r,o);break;case 21:bs(i,r,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,bs(i,r,o),Mt=u;break;default:bs(i,r,o)}}function Ax(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bo(i)}catch(o){We(r,r.return,o)}}}function Rx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bo(i)}catch(o){We(r,r.return,o)}}function dC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Tx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Tx),r;default:throw Error(s(435,i.tag))}}function Lh(i,r){var o=dC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=TC.bind(null,i,u);u.then(d,d)}})}function bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],y=i,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(gr(S.type)){ht=S.stateNode,xn=!1;break e}break;case 5:ht=S.stateNode,xn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));Sx(y,T,d),ht=null,xn=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Cx(r,i),r=r.sibling}var _i=null;function Cx(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),Tn(i),u&4&&(ur(3,i,i.return),fu(3,i),ur(5,i,i.return));break;case 1:bn(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),u&64&&xs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=_i;if(bn(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":y=d.getElementsByTagName("title")[0],(!y||y[ji]||y[Ct]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(u),d.head.insertBefore(y,d.querySelector("head > title"))),Jt(y,u,o),y[Ct]=i,Nt(y),u=y;break e;case"link":var T=Cb("link","href",d).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}y=d.createElement(u),Jt(y,u,o),d.head.appendChild(y);break;case"meta":if(T=Cb("meta","content",d).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}y=d.createElement(u),Jt(y,u,o),d.head.appendChild(y);break;default:throw Error(s(468,u))}y[Ct]=i,Nt(y),u=y}i.stateNode=u}else Nb(d,i.type,i.stateNode);else i.stateNode=Rb(d,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Nb(d,i.type,i.stateNode):Rb(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&dp(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),o!==null&&u&4&&dp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),i.flags&32){d=i.stateNode;try{_n(d,"")}catch(me){We(i,i.return,me)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,dp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(gp=!0);break;case 6:if(bn(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){We(i,i.return,me)}}break;case 3:if(ef=null,d=_i,_i=Zh(r.containerInfo),bn(r,i),_i=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bo(r.containerInfo)}catch(me){We(i,i.return,me)}gp&&(gp=!1,Nx(i));break;case 4:u=_i,_i=Zh(i.stateNode.containerInfo),bn(r,i),Tn(i),_i=u;break;case 12:bn(r,i),Tn(i);break;case 31:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 13:bn(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zh=dn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=xs,Z=Mt;if(xs=$||d,Mt=Z||V,bn(r,i),Mt=Z,xs=$,Tn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||V||xs||Mt||Na(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(y=V.stateNode,d)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=V.stateNode;var te=V.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){We(V,V.return,me)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(me){We(V,V.return,me)}}}else if(r.tag===18){if(o===null){V=r;try{var X=V.stateNode;d?vb(X,!0):vb(V.stateNode,!1)}catch(me){We(V,V.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Lh(i,o))));break;case 19:bn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 30:break;case 21:break;default:bn(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(xx(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,y=mp(i);Ph(i,y,d);break;case 5:var T=o.stateNode;o.flags&32&&(_n(T,""),o.flags&=-33);var S=mp(i);Ph(i,S,T);break;case 3:case 4:var V=o.stateNode.containerInfo,$=mp(i);pp(i,$,V);break;default:throw Error(s(161))}}catch(Z){We(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Nx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Nx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ts(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ex(i,r.alternate,r),r=r.sibling}function Na(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),Na(r);break;case 1:$i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&vx(r,r.return,o),Na(r);break;case 27:Tu(r.stateNode);case 26:case 5:$i(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}i=i.sibling}}function Es(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,y=r,T=y.flags;switch(y.tag){case 0:case 11:case 15:Es(d,y,o),fu(4,y);break;case 1:if(Es(d,y,o),u=y,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){We(u,u.return,$)}if(u=y,d=u.updateQueue,d!==null){var S=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)a_(V[d],S)}catch($){We(u,u.return,$)}}o&&T&64&&yx(y),du(y,y.return);break;case 27:bx(y);case 26:case 5:Es(d,y,o),o&&u===null&&T&4&&_x(y),du(y,y.return);break;case 12:Es(d,y,o);break;case 31:Es(d,y,o),o&&T&4&&Ax(d,y);break;case 13:Es(d,y,o),o&&T&4&&Rx(d,y);break;case 22:y.memoizedState===null&&Es(d,y,o),du(y,y.return);break;case 30:break;default:Es(d,y,o)}r=r.sibling}}function yp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Jl(o))}function vp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jl(i))}function xi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ix(i,r,o,u),r=r.sibling}function Ix(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:xi(i,r,o,u),d&2048&&fu(9,r);break;case 1:xi(i,r,o,u);break;case 3:xi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jl(i)));break;case 12:if(d&2048){xi(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){We(r,r.return,V)}}else xi(i,r,o,u);break;case 31:xi(i,r,o,u);break;case 13:xi(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,T=r.alternate,r.memoizedState!==null?y._visibility&2?xi(i,r,o,u):mu(i,r):y._visibility&2?xi(i,r,o,u):(y._visibility|=2,Io(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&yp(T,r);break;case 24:xi(i,r,o,u),d&2048&&vp(r.alternate,r);break;default:xi(i,r,o,u)}}function Io(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,T=r,S=o,V=u,$=T.flags;switch(T.tag){case 0:case 11:case 15:Io(y,T,S,V,d),fu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Io(y,T,S,V,d):mu(y,T):(Z._visibility|=2,Io(y,T,S,V,d)),d&&$&2048&&yp(T.alternate,T);break;case 24:Io(y,T,S,V,d),d&&$&2048&&vp(T.alternate,T);break;default:Io(y,T,S,V,d)}r=r.sibling}}function mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:mu(o,u),d&2048&&yp(u.alternate,u);break;case 24:mu(o,u),d&2048&&vp(u.alternate,u);break;default:mu(o,u)}r=r.sibling}}var pu=8192;function Do(i,r,o){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)Dx(i,r,o),i=i.sibling}function Dx(i,r,o){switch(i.tag){case 26:Do(i,r,o),i.flags&pu&&i.memoizedState!==null&&JC(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Do(i,r,o);break;case 3:case 4:var u=_i;_i=Zh(i.stateNode.containerInfo),Do(i,r,o),_i=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=pu,pu=16777216,Do(i,r,o),pu=u):Do(i,r,o));break;default:Do(i,r,o)}}function kx(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Mx(u,i)}kx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jx(i),i=i.sibling}function jx(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&ur(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Uh(i)):gu(i);break;default:gu(i)}}function Uh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Mx(u,i)}kx(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),Uh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Uh(r));break;default:Uh(r)}i=i.sibling}}function Mx(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=i;Kt!==null;){u=Kt;var d=u.sibling,y=u.return;if(wx(u),u===o){Kt=null;break e}if(d!==null){d.return=y,Kt=d;break e}Kt=y}}}var mC={getCacheForType:function(i){var r=Wt(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Wt(Dt).controller.signal}},pC=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,je=null,Oe=0,Xe=0,On=null,cr=!1,ko=!1,_p=!1,ws=0,yt=0,hr=0,Ia=0,xp=0,Pn=0,jo=0,yu=null,En=null,bp=!1,zh=0,Vx=0,Bh=1/0,Fh=null,fr=null,Bt=0,dr=null,Mo=null,Ss=0,Tp=0,Ep=null,Ox=null,vu=0,wp=null;function Ln(){return($e&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?Ip():Hc()}function Px(){if(Pn===0)if((Oe&536870912)===0||Be){var i=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Pn=i}else Pn=536870912;return i=Mn.current,i!==null&&(i.flags|=32),Pn}function wn(i,r,o){(i===nt&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),mr(i,Oe,Pn,!1)),sa(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(Ia|=o),yt===4&&mr(i,Oe,Pn,!1)),Yi(i))}function Lx(i,r,o){if(($e&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),d=u?vC(i,r):Ap(i,r,!0),y=u;do{if(d===0){ko&&!u&&mr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!gC(o)){d=Ap(i,r,!1),y=!1;continue}if(d===2){if(y=r,i.errorRecoveryDisabledLanes&y)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=i;d=yu;var V=S.current.memoizedState.isDehydrated;if(V&&(Vo(S,T).flags|=256),T=Ap(S,T,!1),T!==2){if(_p&&!V){S.errorRecoveryDisabledLanes|=y,Ia|=y,d=4;break e}y=En,En=d,y!==null&&(En===null?En=y:En.push.apply(En,y))}d=T}if(y=!1,d!==2)continue}}if(d===1){Vo(i,0),mr(i,r,0,!0);break}e:{switch(u=i,y=d,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mr(u,r,Pn,!cr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=zh+300-dn(),10<d)){if(mr(u,r,Pn,!cr),Ii(u,0,!0)!==0)break e;Ss=r,u.timeoutHandle=pb(Ux.bind(null,u,o,En,Fh,bp,r,Pn,Ia,jo,cr,y,"Throttled",-0,0),d);break e}Ux(u,o,En,Fh,bp,r,Pn,Ia,jo,cr,y,null,-0,0)}}break}while(!0);Yi(i)}function Ux(i,r,o,u,d,y,T,S,V,$,Z,te,Y,X){if(i.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},Dx(r,y,te);var me=(y&62914560)===y?zh-dn():(y&4194048)===y?Vx-dn():0;if(me=eN(te,me),me!==null){Ss=y,i.cancelPendingCommit=me($x.bind(null,i,r,y,o,u,d,T,S,V,Z,te,null,Y,X)),mr(i,y,T,!$);return}}$x(i,r,y,o,u,d,T,S,V)}function gC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],y=d.getSnapshot;d=d.value;try{if(!kn(y(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mr(i,r,o,u){r&=~xp,r&=~Ia,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var y=31-bt(d),T=1<<y;u[y]=-1,d&=~T}o!==0&&ra(i,o,r)}function Hh(){return($e&6)===0?(_u(0),!1):!0}function Sp(){if(je!==null){if(Xe===0)var i=je.return;else i=je,ms=ba=null,Bm(i),So=null,tu=0,i=je;for(;i!==null;)gx(i.alternate,i),i=i.return;je=null}}function Vo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,OC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ss=0,Sp(),nt=i,je=o=fs(i.current,null),Oe=r,Xe=0,On=null,cr=!1,ko=ci(i,r),_p=!1,jo=Pn=xp=Ia=hr=yt=0,En=yu=null,bp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-bt(u),y=1<<d;r|=i[d],u&=~y}return ws=r,ch(),o}function zx(i,r){Ne=null,W.H=uu,r===wo||r===vh?(r=n_(),Xe=3):r===Nm?(r=n_(),Xe=4):Xe=r===ip?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,je===null&&(yt=1,kh(i,Qn(r,i.current)))}function Bx(){var i=Mn.current;return i===null?!0:(Oe&4194048)===Oe?Jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Jn:!1}function Fx(){var i=W.H;return W.H=uu,i===null?uu:i}function Hx(){var i=W.A;return W.A=mC,i}function qh(){yt=4,cr||(Oe&4194048)!==Oe&&Mn.current!==null||(ko=!0),(hr&134217727)===0&&(Ia&134217727)===0||nt===null||mr(nt,Oe,Pn,!1)}function Ap(i,r,o){var u=$e;$e|=2;var d=Fx(),y=Hx();(nt!==i||Oe!==r)&&(Fh=null,Vo(i,r)),r=!1;var T=yt;e:do try{if(Xe!==0&&je!==null){var S=je,V=On;switch(Xe){case 8:Sp(),T=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var $=Xe;if(Xe=0,On=null,Oo(i,S,V,$),o&&ko){T=0;break e}break;default:$=Xe,Xe=0,On=null,Oo(i,S,V,$)}}yC(),T=yt;break}catch(Z){zx(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ms=ba=null,$e=u,W.H=d,W.A=y,je===null&&(nt=null,Oe=0,ch()),T}function yC(){for(;je!==null;)qx(je)}function vC(i,r){var o=$e;$e|=2;var u=Fx(),d=Hx();nt!==i||Oe!==r?(Fh=null,Bh=dn()+500,Vo(i,r)):ko=ci(i,r);e:do try{if(Xe!==0&&je!==null){r=je;var y=On;t:switch(Xe){case 1:Xe=0,On=null,Oo(i,r,y,1);break;case 2:case 9:if(e_(y)){Xe=0,On=null,Gx(r);break}r=function(){Xe!==2&&Xe!==9||nt!==i||(Xe=7),Yi(i)},y.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:e_(y)?(Xe=0,On=null,Gx(r)):(Xe=0,On=null,Oo(i,r,y,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var S=je;if(T?Ib(T):S.stateNode.complete){Xe=0,On=null;var V=S.sibling;if(V!==null)je=V;else{var $=S.return;$!==null?(je=$,Gh($)):je=null}break t}}Xe=0,On=null,Oo(i,r,y,5);break;case 6:Xe=0,On=null,Oo(i,r,y,6);break;case 8:Sp(),yt=6;break e;default:throw Error(s(462))}}_C();break}catch(Z){zx(i,Z)}while(!0);return ms=ba=null,W.H=u,W.A=d,$e=o,je!==null?0:(nt=null,Oe=0,ch(),yt)}function _C(){for(;je!==null&&!nm();)qx(je)}function qx(i){var r=mx(i.alternate,i,ws);i.memoizedProps=i.pendingProps,r===null?Gh(i):je=r}function Gx(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=lx(o,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=lx(o,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Bm(r);default:gx(o,r),r=je=Hv(r,ws),r=mx(o,r,ws)}i.memoizedProps=i.pendingProps,r===null?Gh(i):je=r}function Oo(i,r,o,u){ms=ba=null,Bm(r),So=null,tu=0;var d=r.return;try{if(oC(i,d,r,o,Oe)){yt=1,kh(i,Qn(o,i.current)),je=null;return}}catch(y){if(d!==null)throw je=d,y;yt=1,kh(i,Qn(o,i.current)),je=null;return}r.flags&32768?(Be||u===1?i=!0:ko||(Oe&536870912)!==0?i=!1:(cr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Kx(r,i)):Gh(r)}function Gh(i){var r=i;do{if((r.flags&32768)!==0){Kx(r,cr);return}i=r.return;var o=cC(r.alternate,r,ws);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);yt===0&&(yt=5)}function Kx(i,r){do{var o=hC(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);yt=6,je=null}function $x(i,r,o,u,d,y,T,S,V){i.cancelPendingCommit=null;do Kh();while(Bt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=mm,rm(i,o,y,T,S,V),i===nt&&(je=nt=null,Oe=0),Mo=r,dr=i,Ss=o,Tp=y,Ep=d,Ox=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,EC(qs,function(){return Zx(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=re.p,re.p=2,T=$e,$e|=4;try{fC(i,r,o)}finally{$e=T,re.p=d,W.T=u}}Bt=1,Yx(),Qx(),Xx()}}function Yx(){if(Bt===1){Bt=0;var i=dr,r=Mo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=re.p;re.p=2;var d=$e;$e|=4;try{Cx(r,i);var y=Lp,T=Mv(i.containerInfo),S=y.focusedElem,V=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&jv(S.ownerDocument.documentElement,S)){if(V!==null&&um(S)){var $=V.start,Z=V.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=S.textContent.length,ve=Math.min(V.start,me),tt=V.end===void 0?ve:Math.min(V.end,me);!X.extend&&ve>tt&&(T=tt,tt=ve,ve=T);var H=kv(S,ve),U=kv(S,tt);if(H&&U&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var K=te.createRange();K.setStart(H.node,H.offset),X.removeAllRanges(),ve>tt?(X.addRange(K),X.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),X.addRange(K))}}}}for(te=[],X=S;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}rf=!!Pp,Lp=Pp=null}finally{$e=d,re.p=u,W.T=o}}i.current=r,Bt=2}}function Qx(){if(Bt===2){Bt=0;var i=dr,r=Mo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=re.p;re.p=2;var d=$e;$e|=4;try{Ex(i,r.alternate,r)}finally{$e=d,re.p=u,W.T=o}}Bt=3}}function Xx(){if(Bt===4||Bt===3){Bt=0,Oc();var i=dr,r=Mo,o=Ss,u=Ox;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Mo=dr=null,Wx(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(fr=null),ls(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ui,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,d=re.p,re.p=2,W.T=null;try{for(var y=i.onRecoverableError,T=0;T<u.length;T++){var S=u[T];y(S.value,{componentStack:S.stack})}}finally{W.T=r,re.p=d}}(Ss&3)!==0&&Kh(),Yi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===wp?vu++:(vu=0,wp=i):vu=0,_u(0)}}function Wx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Jl(r)))}function Kh(){return Yx(),Qx(),Xx(),Zx()}function Zx(){if(Bt!==5)return!1;var i=dr,r=Tp;Tp=0;var o=ls(Ss),u=W.T,d=re.p;try{re.p=32>o?32:o,W.T=null,o=Ep,Ep=null;var y=dr,T=Ss;if(Bt=0,Mo=dr=null,Ss=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,jx(y.current),Ix(y,y.current,T,o),$e=S,_u(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ui,y)}catch{}return!0}finally{re.p=d,W.T=u,Wx(i,r)}}function Jx(i,r,o){r=Qn(o,r),r=np(i.stateNode,r,2),i=ar(i,r,2),i!==null&&(sa(i,2),Yi(i))}function We(i,r,o){if(i.tag===3)Jx(i,i,o);else for(;r!==null;){if(r.tag===3){Jx(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fr===null||!fr.has(u))){i=Qn(o,i),o=ex(2),u=ar(r,o,2),u!==null&&(tx(o,u,r,i),sa(u,2),Yi(u));break}}r=r.return}}function Rp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new pC;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(_p=!0,d.add(o),i=xC.bind(null,i,r,o),r.then(i,i))}function xC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Oe&o)===o&&(yt===4||yt===3&&(Oe&62914560)===Oe&&300>dn()-zh?($e&2)===0&&Vo(i,0):xp|=o,jo===Oe&&(jo=0)),Yi(i)}function eb(i,r){r===0&&(r=Fc()),i=va(i,r),i!==null&&(sa(i,r),Yi(i))}function bC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),eb(i,o)}function TC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),eb(i,o)}function EC(i,r){return zt(i,r)}var $h=null,Po=null,Cp=!1,Yh=!1,Np=!1,pr=0;function Yi(i){i!==Po&&i.next===null&&(Po===null?$h=Po=i:Po=Po.next=i),Yh=!0,Cp||(Cp=!0,SC())}function _u(i,r){if(!Np&&Yh){Np=!0;do for(var o=!1,u=$h;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var y=0;else{var T=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-bt(42|i)+1)-1,y&=d&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,sb(u,y))}else y=Oe,y=Ii(u,u===nt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ci(u,y)||(o=!0,sb(u,y));u=u.next}while(o);Np=!1}}function wC(){tb()}function tb(){Yh=Cp=!1;var i=0;pr!==0&&VC()&&(i=pr);for(var r=dn(),o=null,u=$h;u!==null;){var d=u.next,y=nb(u,r);y===0?(u.next=null,o===null?$h=d:o.next=d,d===null&&(Po=o)):(o=u,(i!==0||(y&3)!==0)&&(Yh=!0)),u=d}Bt!==0&&Bt!==5||_u(i),pr!==0&&(pr=0)}function nb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var T=31-bt(y),S=1<<T,V=d[T];V===-1?((S&o)===0||(S&u)!==0)&&(d[T]=sm(S,r)):V<=r&&(i.expiredLanes|=S),y&=~S}if(r=nt,o=Oe,o=Ii(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Hs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Hs(u),ls(o)){case 2:case 8:o=Nl;break;case 32:o=qs;break;case 268435456:o=Pc;break;default:o=qs}return u=ib.bind(null,i),o=zt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Hs(u),i.callbackPriority=2,i.callbackNode=null,2}function ib(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Kh()&&i.callbackNode!==o)return null;var u=Oe;return u=Ii(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Lx(i,u,r),nb(i,dn()),i.callbackNode!=null&&i.callbackNode===o?ib.bind(null,i):null)}function sb(i,r){if(Kh())return null;Lx(i,r,!0)}function SC(){PC(function(){($e&6)!==0?zt(Cl,wC):tb()})}function Ip(){if(pr===0){var i=To;i===0&&(i=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),pr=i}return pr}function rb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function ab(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function AC(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var y=rb((d[qt]||null).action),T=u.submitter;T&&(r=(r=T[qt]||null)?rb(r.formAction):T.getAttribute("formAction"),r!==null&&(y=r,T=null));var S=new Bi("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pr!==0){var V=T?ab(d,T):new FormData(d);Xm(o,{pending:!0,data:V,method:d.method,action:y},null,V)}}else typeof y=="function"&&(S.preventDefault(),V=T?ab(d,T):new FormData(d),Xm(o,{pending:!0,data:V,method:d.method,action:y},y,V))},currentTarget:d}]})}}for(var Dp=0;Dp<dm.length;Dp++){var kp=dm[Dp],RC=kp.toLowerCase(),CC=kp[0].toUpperCase()+kp.slice(1);vi(RC,"on"+CC)}vi(Pv,"onAnimationEnd"),vi(Lv,"onAnimationIteration"),vi(Uv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(q2,"onTransitionRun"),vi(G2,"onTransitionStart"),vi(K2,"onTransitionCancel"),vi(zv,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function ob(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=$;try{y(d)}catch(Z){uh(Z)}d.currentTarget=null,y=V}else for(T=0;T<u.length;T++){if(S=u[T],V=S.instance,$=S.currentTarget,S=S.listener,V!==y&&d.isPropagationStopped())break e;y=S,d.currentTarget=$;try{y(d)}catch(Z){uh(Z)}d.currentTarget=null,y=V}}}}function Me(i,r){var o=r[to];o===void 0&&(o=r[to]=new Set);var u=i+"__bubble";o.has(u)||(lb(r,i,2,!1),o.add(u))}function jp(i,r,o){var u=0;r&&(u|=4),lb(o,i,u,r)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Mp(i){if(!i[Qh]){i[Qh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(NC.has(o)||jp(o,!1,i),jp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Qh]||(r[Qh]=!0,jp("selectionchange",!1,r))}}function lb(i,r,o,u){switch(Pb(r)){case 2:var d=iN;break;case 8:d=sN;break;default:d=Qp}o=d.bind(null,r,o,i),d=void 0,!ca||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Vp(i,r,o,u,d){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Mi(S),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=y=T;continue e}S=S.parentNode}}u=u.return}Xs(function(){var $=y,Z=Gn(o),te=[];e:{var Y=Bv.get(i);if(Y!==void 0){var X=Bi,me=i;switch(i){case"keypress":if(fa(o)===0)break e;case"keydown":case"keyup":X=ah;break;case"focusin":me="focus",X=ma;break;case"focusout":me="blur",X=ma;break;case"beforeblur":case"afterblur":X=ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=x;break;case Pv:case Lv:case Uv:X=Jc;break;case zv:X=R;break;case"scroll":case"scrollend":X=ql;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=hs;break;case"toggle":case"beforetoggle":X=Ce}var ve=(r&4)!==0,tt=!ve&&(i==="scroll"||i==="scrollend"),H=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var U=$,K;U!==null;){var J=U;if(K=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||K===null||H===null||(J=mi(U,H),J!=null&&ve.push(bu(U,J,K))),tt)break;U=U.return}0<ve.length&&(Y=new X(Y,me,null,o,Z),te.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Bl&&(me=o.relatedTarget||o.fromElement)&&(Mi(me)||me[ki]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=$,me=me?Mi(me):null,me!==null&&(tt=l(me),ve=me.tag,me!==tt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(X=null,me=$),X!==me)){if(ve=Gl,J="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ve=hs,J="onPointerLeave",H="onPointerEnter",U="pointer"),tt=X==null?Y:In(X),K=me==null?Y:In(me),Y=new ve(J,U+"leave",X,o,Z),Y.target=tt,Y.relatedTarget=K,J=null,Mi(Z)===$&&(ve=new ve(H,U+"enter",me,o,Z),ve.target=K,ve.relatedTarget=tt,J=ve),tt=J,X&&me)t:{for(ve=IC,H=X,U=me,K=0,J=H;J;J=ve(J))K++;J=0;for(var ge=U;ge;ge=ve(ge))J++;for(;0<K-J;)H=ve(H),K--;for(;0<J-K;)U=ve(U),J--;for(;K--;){if(H===U||U!==null&&H===U.alternate){ve=H;break t}H=ve(H),U=ve(U)}ve=null}else ve=null;X!==null&&ub(te,Y,X,ve,!1),me!==null&&tt!==null&&ub(te,tt,me,ve,!0)}}e:{if(Y=$?In($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var qe=Av;else if(wv(Y))if(Rv)qe=B2;else{qe=U2;var pe=L2}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&ro($.elementType)&&(qe=Av):qe=z2;if(qe&&(qe=qe(i,$))){Sv(te,qe,o,Z);break e}pe&&pe(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Ll(Y,"number",Y.value)}switch(pe=$?In($):window,i){case"focusin":(wv(pe)||pe.contentEditable==="true")&&(mo=pe,cm=$,Xl=null);break;case"focusout":Xl=cm=mo=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,Vv(te,o,Z);break;case"selectionchange":if(H2)break;case"keydown":case"keyup":Vv(te,o,Z)}var ke;if(Ke)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else fo?pa(i,o)&&(Pe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(qi&&o.locale!=="ko"&&(fo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&fo&&(ke=Hl()):(zi=Z,Fl="value"in zi?zi.value:zi.textContent,fo=!0)),pe=Xh($,Pe),0<pe.length&&(Pe=new Hi(Pe,i,null,o,Z),te.push({event:Pe,listeners:pe}),ke?Pe.data=ke:(ke=ho(o),ke!==null&&(Pe.data=ke)))),(ke=$n?M2(i,o):V2(i,o))&&(Pe=Xh($,"onBeforeInput"),0<Pe.length&&(pe=new Hi("onBeforeInput","beforeinput",null,o,Z),te.push({event:pe,listeners:Pe}),pe.data=ke)),AC(te,i,$,o,Z)}ob(te,r)})}function bu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Xh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=mi(i,o),d!=null&&u.unshift(bu(i,d,y)),d=mi(i,r),d!=null&&u.push(bu(i,d,y))),i.tag===3)return u;i=i.return}return[]}function IC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ub(i,r,o,u,d){for(var y=r._reactName,T=[];o!==null&&o!==u;){var S=o,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||$===null||(V=$,d?($=mi(o,y),$!=null&&T.unshift(bu(o,$,V))):d||($=mi(o,y),$!=null&&T.push(bu(o,$,V)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var DC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function cb(i){return(typeof i=="string"?i:""+i).replace(DC,`
`).replace(kC,"")}function hb(i,r){return r=cb(r),cb(i)===r}function et(i,r,o,u,d,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&_n(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":zl(i,u,y);break;case"data":if(r!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",d.name,d,null),et(i,r,"formEncType",d.formEncType,d,null),et(i,r,"formMethod",d.formMethod,d,null),et(i,r,"formTarget",d.formTarget,d,null)):(et(i,r,"encType",d.encType,d,null),et(i,r,"method",d.method,d,null),et(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=di);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Me("beforetoggle",i),Me("toggle",i),io(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xc.get(o)||o,io(i,o,u))}}function Op(i,r,o,u,d,y){switch(o){case"style":zl(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"onClick":u!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),y=i[qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,d),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):io(i,o,u)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var u=!1,d=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,y,T,o,null)}}d&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":Me("invalid",i);var S=y=T=d=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":V=Z;break;case"defaultChecked":$=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:et(i,r,u,Z,o,null)}}$c(i,y,S,V,$,T,d,!1);return;case"select":Me("invalid",i),u=T=y=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:et(i,r,d,S,o,null)}r=y,o=T,i.multiple=!!u,r!=null?Ks(i,!!u,r,!1):o!=null&&Ks(i,!!u,o,!0);return;case"textarea":Me("invalid",i),y=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":d=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(i,r,T,S,o,null)}$s(i,u,d,y);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,V,u,o,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(u=0;u<xu.length;u++)Me(xu[u],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,$,u,o,null)}return;default:if(ro(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Op(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&et(i,r,S,u,o,null))}function jC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,T=null,S=null,V=null,$=null,Z=null;for(X in o){var te=o[X];if(o.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=te;default:u.hasOwnProperty(X)||et(i,r,X,null,u,te)}}for(var Y in u){var X=u[Y];if(te=o[Y],u.hasOwnProperty(Y)&&(X!=null||te!=null))switch(Y){case"type":y=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&et(i,r,Y,X,u,te)}}so(i,T,S,V,$,Z,y,d);return;case"select":X=T=S=Y=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(y)||et(i,r,y,null,u,V)}for(d in u)if(y=u[d],V=o[d],u.hasOwnProperty(d)&&(y!=null||V!=null))switch(d){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==V&&et(i,r,d,y,u,V)}r=S,o=T,u=X,Y!=null?Ks(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(i,r,S,null,u,d)}for(T in u)if(d=u[T],y=o[T],u.hasOwnProperty(T)&&(d!=null||y!=null))switch(T){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==y&&et(i,r,T,d,u,y)}Yc(i,Y,X);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:et(i,r,me,null,u,Y)}for(V in u)if(Y=u[V],X=o[V],u.hasOwnProperty(V)&&Y!==X&&(Y!=null||X!=null))switch(V){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(i,r,V,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&et(i,r,ve,null,u,Y);for($ in u)if(Y=u[$],X=o[$],u.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,$,Y,u,X)}return;default:if(ro(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!u.hasOwnProperty(tt)&&Op(i,r,tt,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Op(i,r,Z,Y,u,X);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&et(i,r,H,null,u,Y);for(te in u)Y=u[te],X=o[te],!u.hasOwnProperty(te)||Y===X||Y==null&&X==null||et(i,r,te,Y,u,X)}function fb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],y=d.transferSize,T=d.initiatorType,S=d.duration;if(y&&S&&fb(T)){for(T=0,S=d.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>S)break;var Z=V.transferSize,te=V.initiatorType;Z&&fb(te)&&(V=V.responseEnd,T+=Z*(V<S?1:(S-$)/(V-$)))}if(--u,r+=8*(y+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Pp=null,Lp=null;function Wh(i){return i.nodeType===9?i:i.ownerDocument}function db(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Up(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zp=null;function VC(){var i=window.event;return i&&i.type==="popstate"?i===zp?!1:(zp=i,!0):(zp=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,PC=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(i){return gb.resolve(null).then(i).catch(LC)}:pb;function LC(i){setTimeout(function(){throw i})}function gr(i){return i==="head"}function yb(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Bo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Tu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Tu(o);for(var y=o.firstChild;y;){var T=y.nextSibling,S=y.nodeName;y[ji]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=T}}else o==="body"&&Tu(i.ownerDocument.body);o=d}while(o);Bo(r)}function vb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Bp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bp(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function UC(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ji])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function zC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function _b(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function Fp(i){return i.data==="$?"||i.data==="$~"}function Hp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function BC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var qp=null;function xb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function bb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Tb(i,r,o){switch(r=Wh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Tu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var ti=new Map,Eb=new Set;function Zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=re.d;re.d={f:FC,r:HC,D:qC,C:GC,L:KC,m:$C,X:QC,S:YC,M:XC};function FC(){var i=As.f(),r=Hh();return i||r}function HC(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?z_(r):As.r(i)}var Lo=typeof document>"u"?null:document;function wb(i,r,o){var u=Lo;if(u&&typeof r=="string"&&r){var d=vn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Eb.has(d)||(Eb.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Jt(r,"link",i),Nt(r),u.head.appendChild(r)))}}function qC(i){As.D(i),wb("dns-prefetch",i,null)}function GC(i,r){As.C(i,r),wb("preconnect",i,r)}function KC(i,r,o){As.L(i,r,o);var u=Lo;if(u&&i&&r){var d='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+vn(o.imageSizes)+'"]')):d+='[href="'+vn(i)+'"]';var y=d;switch(r){case"style":y=Uo(i);break;case"script":y=zo(i)}ti.has(y)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(y,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Eu(y))||r==="script"&&u.querySelector(wu(y))||(r=u.createElement("link"),Jt(r,"link",i),Nt(r),u.head.appendChild(r)))}}function $C(i,r){As.m(i,r);var o=Lo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(i)+'"]',y=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zo(i)}if(!ti.has(y)&&(i=_({rel:"modulepreload",href:i},r),ti.set(y,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(y)))return}u=o.createElement("link"),Jt(u,"link",i),Nt(u),o.head.appendChild(u)}}}function YC(i,r,o){As.S(i,r,o);var u=Lo;if(u&&i){var d=Vi(u).hoistableStyles,y=Uo(i);r=r||"default";var T=d.get(y);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(Eu(y)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(y))&&Gp(i,o);var V=T=u.createElement("link");Nt(V),Jt(V,"link",i),V._p=new Promise(function($,Z){V.onload=$,V.onerror=Z}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Jh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(y,T)}}}function QC(i,r){As.X(i,r);var o=Lo;if(o&&i){var u=Vi(o).hoistableScripts,d=zo(i),y=u.get(d);y||(y=o.querySelector(wu(d)),y||(i=_({src:i,async:!0},r),(r=ti.get(d))&&Kp(i,r),y=o.createElement("script"),Nt(y),Jt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(d,y))}}function XC(i,r){As.M(i,r);var o=Lo;if(o&&i){var u=Vi(o).hoistableScripts,d=zo(i),y=u.get(d);y||(y=o.querySelector(wu(d)),y||(i=_({src:i,async:!0,type:"module"},r),(r=ti.get(d))&&Kp(i,r),y=o.createElement("script"),Nt(y),Jt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(d,y))}}function Sb(i,r,o,u){var d=(d=De.current)?Zh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Uo(o.href),o=Vi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Uo(o.href);var y=Vi(d).hoistableStyles,T=y.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,T),(y=d.querySelector(Eu(i)))&&!y._p&&(T.instance=y,T.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),y||WC(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zo(o),o=Vi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Uo(i){return'href="'+vn(i)+'"'}function Eu(i){return'link[rel="stylesheet"]['+i+"]"}function Ab(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function WC(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),Nt(r),i.head.appendChild(r))}function zo(i){return'[src="'+vn(i)+'"]'}function wu(i){return"script[async]"+i}function Rb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(u)return r.instance=u,Nt(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Nt(u),Jt(u,"style",d),Jh(u,o.precedence,i),r.instance=u;case"stylesheet":d=Uo(o.href);var y=i.querySelector(Eu(d));if(y)return r.state.loading|=4,r.instance=y,Nt(y),y;u=Ab(o),(d=ti.get(d))&&Gp(u,d),y=(i.ownerDocument||i).createElement("link"),Nt(y);var T=y;return T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),Jt(y,"link",u),r.state.loading|=4,Jh(y,o.precedence,i),r.instance=y;case"script":return y=zo(o.src),(d=i.querySelector(wu(y)))?(r.instance=d,Nt(d),d):(u=o,(d=ti.get(y))&&(u=_({},o),Kp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Nt(d),Jt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Jh(u,o.precedence,i));return r.instance}function Jh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,y=d,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)y=S;else if(y!==d)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Gp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ef=null;function Cb(i,r,o){if(ef===null){var u=new Map,d=ef=new Map;d.set(o,u)}else d=ef,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var y=o[d];if(!(y[ji]||y[Ct]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(r)||"";T=i+T;var S=u.get(T);S?S.push(y):u.set(T,[y])}}return u}function Nb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function ZC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ib(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function JC(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Uo(u.href),y=r.querySelector(Eu(d));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=tf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,Nt(y);return}y=r.ownerDocument||r,u=Ab(u),(d=ti.get(d))&&Gp(u,d),y=y.createElement("link"),Nt(y);var T=y;T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),Jt(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=tf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var $p=0;function eN(i,r){return i.stylesheets&&i.count===0&&sf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&sf(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&$p===0&&($p=62500*MC());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&sf(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>$p?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nf=null;function sf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nf=new Map,r.forEach(tN,i),nf=null,tf.call(i))}function tN(i,r){if(!(r.state.loading&4)){var o=nf.get(i);if(o)var u=o.get(null);else{o=new Map,nf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var T=d[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,d),o.set(T,d),this.count++,u=tf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),y?y.parentNode.insertBefore(d,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Su={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function nN(i,r,o,u,d,y,T,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Db(i,r,o,u,d,y,T,S,V,$,Z,te){return i=new nN(i,r,o,T,V,$,Z,te,S),r=1,y===!0&&(r|=24),y=jn(3,null,null,r),i.current=y,y.stateNode=i,r=Am(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Im(y),i}function kb(i){return i?(i=yo,i):yo}function jb(i,r,o,u,d,y){d=kb(d),u.context===null?u.context=d:u.pendingContext=d,u=rr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=ar(i,u,r),o!==null&&(wn(o,i,r),iu(o,i,r))}function Mb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Yp(i,r){Mb(i,r),(i=i.alternate)&&Mb(i,r)}function Vb(i){if(i.tag===13||i.tag===31){var r=va(i,67108864);r!==null&&wn(r,i,67108864),Yp(i,67108864)}}function Ob(i){if(i.tag===13||i.tag===31){var r=Ln();r=aa(r);var o=va(i,r);o!==null&&wn(o,i,r),Yp(i,r)}}var rf=!0;function iN(i,r,o,u){var d=W.T;W.T=null;var y=re.p;try{re.p=2,Qp(i,r,o,u)}finally{re.p=y,W.T=d}}function sN(i,r,o,u){var d=W.T;W.T=null;var y=re.p;try{re.p=8,Qp(i,r,o,u)}finally{re.p=y,W.T=d}}function Qp(i,r,o,u){if(rf){var d=Xp(u);if(d===null)Vp(i,r,u,af,o),Lb(i,u);else if(aN(d,i,r,o,u))u.stopPropagation();else if(Lb(i,u),r&4&&-1<rN.indexOf(i)){for(;d!==null;){var y=qn(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Ni(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var V=1<<31-bt(T);S.entanglements[1]|=V,T&=~V}Yi(y),($e&6)===0&&(Bh=dn()+500,_u(0))}}break;case 31:case 13:S=va(y,2),S!==null&&wn(S,y,2),Hh(),Yp(y,2)}if(y=Xp(u),y===null&&Vp(i,r,u,af,o),y===d)break;d=y}d!==null&&u.stopPropagation()}else Vp(i,r,u,null,o)}}function Xp(i){return i=Gn(i),Wp(i)}var af=null;function Wp(i){if(af=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return af=i,null}function Pb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case Cl:return 2;case Nl:return 8;case qs:case im:return 32;case Pc:return 268435456;default:return 32}default:return 32}}var Zp=!1,yr=null,vr=null,_r=null,Au=new Map,Ru=new Map,xr=[],rN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(i,r){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(r.pointerId)}}function Cu(i,r,o,u,d,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[d]},r!==null&&(r=qn(r),r!==null&&Vb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function aN(i,r,o,u,d){switch(r){case"focusin":return yr=Cu(yr,i,r,o,u,d),!0;case"dragenter":return vr=Cu(vr,i,r,o,u,d),!0;case"mouseover":return _r=Cu(_r,i,r,o,u,d),!0;case"pointerover":var y=d.pointerId;return Au.set(y,Cu(Au.get(y)||null,i,r,o,u,d)),!0;case"gotpointercapture":return y=d.pointerId,Ru.set(y,Cu(Ru.get(y)||null,i,r,o,u,d)),!0}return!1}function Ub(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,hi(i.priority,function(){Ob(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,hi(i.priority,function(){Ob(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function of(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Xp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Bl=u,o.target.dispatchEvent(u),Bl=null}else return r=qn(o),r!==null&&Vb(r),i.blockedOn=o,!1;r.shift()}return!0}function zb(i,r,o){of(i)&&o.delete(r)}function oN(){Zp=!1,yr!==null&&of(yr)&&(yr=null),vr!==null&&of(vr)&&(vr=null),_r!==null&&of(_r)&&(_r=null),Au.forEach(zb),Ru.forEach(zb)}function lf(i,r){i.blockedOn===r&&(i.blockedOn=null,Zp||(Zp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oN)))}var uf=null;function Bb(i){uf!==i&&(uf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uf===i&&(uf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Wp(u||o)===null)continue;break}var y=qn(o);y!==null&&(i.splice(r,3),r-=3,Xm(y,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Bo(i){function r(V){return lf(V,i)}yr!==null&&lf(yr,i),vr!==null&&lf(vr,i),_r!==null&&lf(_r,i),Au.forEach(r),Ru.forEach(r);for(var o=0;o<xr.length;o++){var u=xr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<xr.length&&(o=xr[0],o.blockedOn===null);)Ub(o),o.blockedOn===null&&xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],y=o[u+1],T=d[qt]||null;if(typeof y=="function")T||Bb(o);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(d=y,T=y[qt]||null)S=T.formAction;else if(Wp(d)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),Bb(o)}}}function Fb(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Jp(i){this._internalRoot=i}cf.prototype.render=Jp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ln();jb(o,u,i,r,null,null)},cf.prototype.unmount=Jp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;jb(i.current,2,null,i,null,null),Hh(),r[ki]=null}};function cf(i){this._internalRoot=i}cf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Hc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<xr.length&&r!==0&&r<xr[o].priority;o++);xr.splice(o,0,i),o===0&&Ub(i)}};var Hb=e.version;if(Hb!=="19.2.1")throw Error(s(527,Hb,"19.2.1"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var lN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{ui=hf.inject(lN),Yt=hf}catch{}}return Iu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=X_,y=W_,T=Z_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=Db(i,1,!1,null,null,o,u,null,d,y,T,Fb),i[ki]=r.current,Mp(i),new Jp(r)},Iu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",y=X_,T=W_,S=Z_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=Db(i,1,!0,r,o??null,u,d,V,y,T,S,Fb),r.context=kb(null),o=r.current,u=Ln(),u=aa(u),d=rr(u),d.callback=null,ar(o,d,u),o=u,r.current.lanes=o,sa(r,o),Yi(r),i[ki]=r.current,Mp(i),new cf(r)},Iu.version="19.2.1",Iu}var Jb;function _N(){if(Jb)return ng.exports;Jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=vN(),ng.exports}var xN=_N();const bN=uS(xN);var eT="popstate";function TN(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Ug("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xu(a)}return wN(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EN(){return Math.random().toString(36).substring(2,10)}function tT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ug(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||EN()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function wN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){f="POP";let k=v(),L=k==null?null:k-p;p=k,m&&m({action:f,location:N.location,delta:L})}function b(k,L){f="PUSH";let q=Ug(N.location,k,L);p=v()+1;let F=tT(q,p),oe=N.createHref(q);try{c.pushState(F,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(oe)}l&&m&&m({action:f,location:N.location,delta:1})}function w(k,L){f="REPLACE";let q=Ug(N.location,k,L);p=v();let F=tT(q,p),oe=N.createHref(q);c.replaceState(F,"",oe),l&&m&&m({action:f,location:N.location,delta:0})}function D(k){return SN(k)}let N={get action(){return f},get location(){return t(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(eT,_),m=k,()=>{a.removeEventListener(eT,_),m=null}},createHref(k){return e(a,k)},createURL:D,encodeLocation(k){let L=D(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:w,go(k){return c.go(k)}};return N}function SN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cS(t,e,n="/"){return AN(t,e,n,!1)}function AN(t,e,n,s){let a=typeof e=="string"?fl(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let c=hS(t);RN(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=LN(l);f=ON(c[m],p,s)}return f}function hS(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;dt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Ns([s,v.relativePath]),b=n.concat(v);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),hS(c.children,e,b,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:MN(_,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of fS(c.path))l(c,f,!0,m)}),e}function fS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=fS(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function RN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CN=/^:[\w-]+$/,NN=3,IN=2,DN=1,kN=10,jN=-2,nT=t=>t==="*";function MN(t,e){let n=t.split("/"),s=n.length;return n.some(nT)&&(s+=jN),e&&(s+=IN),n.filter(a=>!nT(a)).reduce((a,l)=>a+(CN.test(l)?NN:l===""?DN:kN),s)}function VN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function ON(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ns([l,_.pathname]),pathnameBase:HN(Ns([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Ns([l,_.pathnameBase]))}return c}function Kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:_},b)=>{if(v==="*"){let D=f[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const w=f[b];return _&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function PN(t,e=!1,n=!0){ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function LN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var UN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zN=t=>UN.test(t);function BN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?fl(t):t,l;if(n)if(zN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=iT(n.substring(1),"/"):l=iT(n,e)}else l=e;return{pathname:l,search:qN(s),hash:GN(a)}}function iT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uy(t){let e=FN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function zy(t,e,n,s=!1){let a;typeof t=="string"?a=fl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let m=BN(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Ns=t=>t.join("/").replace(/\/\/+/g,"/"),HN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $N(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var YN=["GET",...dS];new Set(YN);var dl=A.createContext(null);dl.displayName="DataRouter";var Td=A.createContext(null);Td.displayName="DataRouterState";A.createContext(!1);var mS=A.createContext({isTransitioning:!1});mS.displayName="ViewTransition";var QN=A.createContext(new Map);QN.displayName="Fetchers";var XN=A.createContext(null);XN.displayName="Await";var oi=A.createContext(null);oi.displayName="Navigation";var gc=A.createContext(null);gc.displayName="Location";var li=A.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var By=A.createContext(null);By.displayName="RouteError";function WN(t,{relative:e}={}){dt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=A.useContext(oi),{hash:a,pathname:l,search:c}=yc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ns([n,l])),s.createHref({pathname:f,search:c,hash:a})}function ml(){return A.useContext(gc)!=null}function Us(){return dt(ml(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(gc).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gS(t){A.useContext(oi).static||A.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=A.useContext(li);return t?fI():ZN()}function ZN(){dt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(dl),{basename:e,navigator:n}=A.useContext(oi),{matches:s}=A.useContext(li),{pathname:a}=Us(),l=JSON.stringify(Uy(s)),c=A.useRef(!1);return gS(()=>{c.current=!0}),A.useCallback((m,p={})=>{if(ai(c.current,pS),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=zy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ns([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var JN=A.createContext(null);function eI(t){let e=A.useContext(li).outlet;return A.useMemo(()=>e&&A.createElement(JN.Provider,{value:t},e),[e,t])}function yS(){let{matches:t}=A.useContext(li),e=t[t.length-1];return e?e.params:{}}function yc(t,{relative:e}={}){let{matches:n}=A.useContext(li),{pathname:s}=Us(),a=JSON.stringify(Uy(n));return A.useMemo(()=>zy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function tI(t,e){return vS(t,e)}function vS(t,e,n,s,a){dt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(oi),{matches:c}=A.useContext(li),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let q=_&&_.path||"";_S(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=Us(),w;if(e){let q=typeof e=="string"?fl(e):e;dt(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=b;let D=w.pathname||"/",N=D;if(v!=="/"){let q=v.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=cS(t,{pathname:N});ai(_||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ai(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=aI(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Ns([v,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Ns([v,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a);return e&&L?A.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},L):L}function nI(){let t=hI(),e=KN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:a},n):null,c)}var iI=A.createElement(nI,null),sI=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(li.Provider,{value:this.props.routeContext},A.createElement(By.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rI({routeContext:t,match:e,children:n}){let s=A.useContext(dl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(li.Provider,{value:t},n)}function aI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:b,errors:w}=n,D=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(v,_)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:$N(n.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,b)=>{let w,D=!1,N=null,k=null;n&&(w=c&&_.route.id?c[_.route.id]:void 0,N=_.route.errorElement||iI,f&&(m<0&&b===0?(_S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):m===b&&(D=!0,k=_.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,b+1)),q=()=>{let F;return w?F=N:D?F=k:_.route.Component?F=A.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=v,A.createElement(rI,{match:_,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?A.createElement(sI,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:q(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):q()},null)}function Fy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oI(t){let e=A.useContext(dl);return dt(e,Fy(t)),e}function lI(t){let e=A.useContext(Td);return dt(e,Fy(t)),e}function uI(t){let e=A.useContext(li);return dt(e,Fy(t)),e}function Hy(t){let e=uI(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cI(){return Hy("useRouteId")}function hI(){let t=A.useContext(By),e=lI("useRouteError"),n=Hy("useRouteError");return t!==void 0?t:e.errors?.[n]}function fI(){let{router:t}=oI("useNavigate"),e=Hy("useNavigate"),n=A.useRef(!1);return gS(()=>{n.current=!0}),A.useCallback(async(a,l={})=>{ai(n.current,pS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var sT={};function _S(t,e,n){!e&&!sT[t]&&(sT[t]=!0,ai(!1,n))}A.memo(dI);function dI({routes:t,future:e,state:n,unstable_onError:s}){return vS(t,void 0,n,s,e)}function Ba({to:t,replace:e,state:n,relative:s}){dt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(oi);ai(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(li),{pathname:c}=Us(),f=zs(),m=zy(t,Uy(l),c,s==="path"),p=JSON.stringify(m);return A.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function qy(t){return eI(t.context)}function ot(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){dt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=fl(n));let{pathname:p="/",search:v="",hash:_="",state:b=null,key:w="default"}=n,D=A.useMemo(()=>{let N=ks(p,f);return N==null?null:{location:{pathname:N,search:v,hash:_,state:b,key:w},navigationType:s}},[f,p,v,_,b,w,s]);return ai(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:A.createElement(oi.Provider,{value:m},A.createElement(gc.Provider,{children:e,value:D}))}function pI({children:t,location:e}){return tI(zg(t),e)}function zg(t,e=[]){let n=[];return A.Children.forEach(t,(s,a)=>{if(!A.isValidElement(s))return;let l=[...e,a];if(s.type===A.Fragment){n.push.apply(n,zg(s.props.children,l));return}dt(s.type===ot,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=zg(s.props.children,l)),n.push(c)}),n}var If="get",Df="application/x-www-form-urlencoded";function Ed(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gI(t){return Ed(t)&&t.tagName.toLowerCase()==="button"}function yI(t){return Ed(t)&&t.tagName.toLowerCase()==="form"}function vI(t){return Ed(t)&&t.tagName.toLowerCase()==="input"}function _I(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xI(t,e){return t.button===0&&(!e||e==="_self")&&!_I(t)}var ff=null;function bI(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var TI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(t){return t!=null&&!TI.has(t)?(ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):t}function EI(t,e){let n,s,a,l,c;if(yI(t)){let f=t.getAttribute("action");s=f?ks(f,e):null,n=t.getAttribute("method")||If,a=og(t.getAttribute("enctype"))||Df,l=new FormData(t)}else if(gI(t)||vI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?ks(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||If,a=og(t.getAttribute("formenctype"))||og(f.getAttribute("enctype"))||Df,l=new FormData(f,t),!bI()){let{name:p,type:v,value:_}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=If,s=null,a=Df,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function SI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await SI(l,n);return c.links?c.links():[]}return[]}));return DI(s.flat(1).filter(AI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rT(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function CI(t,e,{includeHydrateFallback:n}={}){return NI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NI(t){return[...new Set(t)]}function II(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function DI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(II(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function xS(){let t=A.useContext(dl);return Gy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kI(){let t=A.useContext(Td);return Gy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ky=A.createContext(void 0);Ky.displayName="FrameworkContext";function bS(){let t=A.useContext(Ky);return Gy(t,"You must render this element inside a <HydratedRouter> element"),t}function jI(t,e){let n=A.useContext(Ky),[s,a]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=L=>{L.forEach(q=>{c(q.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[t]),A.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let w=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Du(f,w),onBlur:Du(m,D),onMouseEnter:Du(p,w),onMouseLeave:Du(v,D),onTouchStart:Du(_,w)}]:[!1,b,{}]}function Du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MI({page:t,...e}){let{router:n}=xS(),s=A.useMemo(()=>cS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?A.createElement(OI,{page:t,matches:s,...e}):null}function VI(t){let{manifest:e,routeModules:n}=bS(),[s,a]=A.useState([]);return A.useEffect(()=>{let l=!1;return RI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function OI({page:t,matches:e,...n}){let s=Us(),{manifest:a,routeModules:l}=bS(),{basename:c}=xS(),{loaderData:f,matches:m}=kI(),p=A.useMemo(()=>rT(t,e,m,a,s,"data"),[t,e,m,a,s]),v=A.useMemo(()=>rT(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=A.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,N=!1;if(e.forEach(L=>{let q=a.routes[L.route.id];!q||!q.hasLoader||(!p.some(F=>F.route.id===L.route.id)&&L.route.id in f&&l[L.route.id]?.shouldRevalidate||q.hasClientLoader?N=!0:D.add(L.route.id))}),D.size===0)return[];let k=wI(t,c,"data");return N&&D.size>0&&k.searchParams.set("_routes",e.filter(L=>D.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[c,f,s,a,p,e,t,l]),b=A.useMemo(()=>CI(v,a),[v,a]),w=VI(v);return A.createElement(A.Fragment,null,_.map(D=>A.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>A.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),w.map(({key:D,link:N})=>A.createElement("link",{key:D,nonce:n.nonce,...N})))}function PI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TS&&(window.__reactRouterVersion="7.10.1")}catch{}function LI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=A.useRef();a.current==null&&(a.current=TN({window:s,v5Compat:!0}));let l=a.current,[c,f]=A.useState({action:l.action,location:l.location}),m=A.useCallback(p=>{n===!1?f(p):A.startTransition(()=>f(p))},[n]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.createElement(mI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=A.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,...b},w){let{basename:D,unstable_useTransitions:N}=A.useContext(oi),k=typeof p=="string"&&ES.test(p),L,q=!1;if(typeof p=="string"&&k&&(L=p,TS))try{let P=new URL(window.location.href),O=p.startsWith("//")?new URL(P.protocol+p):new URL(p),B=ks(O.pathname,D);O.origin===P.origin&&B!=null?p=B+O.search+O.hash:q=!0}catch{ai(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=WN(p,{relative:a}),[oe,ae,ie]=jI(s,b),I=FI(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_,unstable_useTransitions:N});function C(P){e&&e(P),P.defaultPrevented||I(P)}let j=A.createElement("a",{...b,...ie,href:L||F,onClick:q||l?e:C,ref:PI(w,ae),target:m,"data-discover":!k&&n==="render"?"true":void 0});return oe&&!k?A.createElement(A.Fragment,null,j,A.createElement(MI,{page:F})):j});sn.displayName="Link";var UI=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let _=yc(c,{relative:p.relative}),b=Us(),w=A.useContext(Td),{navigator:D,basename:N}=A.useContext(oi),k=w!=null&&$I(_)&&f===!0,L=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,q=b.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(q=q.toLowerCase(),F=F?F.toLowerCase():null,L=L.toLowerCase()),F&&N&&(F=ks(F,N)||F);const oe=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ae=q===L||!a&&q.startsWith(L)&&q.charAt(oe)==="/",ie=F!=null&&(F===L||!a&&F.startsWith(L)&&F.charAt(L.length)==="/"),I={isActive:ae,isPending:ie,isTransitioning:k},C=ae?e:void 0,j;typeof s=="function"?j=s(I):j=[s,ae?"active":null,ie?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(I):l;return A.createElement(sn,{...p,"aria-current":C,className:j,ref:v,style:P,to:c,viewTransition:f},typeof m=="function"?m(I):m)});UI.displayName="NavLink";var zI=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=If,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,...b},w)=>{let{unstable_useTransitions:D}=A.useContext(oi),N=GI(),k=KI(f,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&ES.test(f),F=oe=>{if(m&&m(oe),oe.defaultPrevented)return;oe.preventDefault();let ae=oe.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||c,I=()=>N(ae||oe.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_});D&&n!==!1?A.startTransition(()=>I()):I()};return A.createElement("form",{ref:w,method:L,action:k,onSubmit:s?m:F,...b,"data-discover":!q&&t==="render"?"true":void 0})});zI.displayName="Form";function BI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wS(t){let e=A.useContext(dl);return dt(e,BI(t)),e}function FI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let m=zs(),p=Us(),v=yc(t,{relative:l});return A.useCallback(_=>{if(xI(_,e)){_.preventDefault();let b=n!==void 0?n:Xu(p)===Xu(v),w=()=>m(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c});f?A.startTransition(()=>w()):w()}},[p,m,v,n,s,e,t,a,l,c,f])}var HI=0,qI=()=>`__${String(++HI)}__`;function GI(){let{router:t}=wS("useSubmit"),{basename:e}=A.useContext(oi),n=cI(),s=t.fetch,a=t.navigate;return A.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:v,body:_}=EI(l,e);if(c.navigate===!1){let b=c.fetcherKey||qI();await s(b,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function KI(t,{relative:e}={}){let{basename:n}=A.useContext(oi),s=A.useContext(li);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...yc(t||".",{relative:e})},c=Us();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ns([n,l.pathname])),Xu(l)}function $I(t,{relative:e}={}){let n=A.useContext(mS);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wS("useViewTransitionState"),a=yc(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kf(a.pathname,c)!=null||Kf(a.pathname,l)!=null}const YI=()=>{};var aT={};const SS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},QI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},AS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,w=p&63;m||(w=64,c||(b=64)),s.push(n[v],n[_],n[b],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new XI;const b=l<<2|f>>4;if(s.push(b),p!==64){const w=f<<4&240|p>>2;if(s.push(w),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(t){const e=SS(t);return AS.encodeByteArray(e,!0)},$f=function(t){return WI(t).replace(/\./g,"")},RS=function(t){try{return AS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JI=()=>ZI().__FIREBASE_DEFAULTS__,eD=()=>{if(typeof process>"u"||typeof aT>"u")return;const t=aT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RS(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return YI()||JI()||eD()||tD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CS=t=>wd()?.emulatorHosts?.[t],NS=t=>{const e=CS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},IS=()=>wd()?.config,DS=t=>wd()?.[`_${t}`];class nD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function $r(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $y(t){return(await fetch(t,{credentials:"include"})).ok}function iD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$f(JSON.stringify(n)),$f(JSON.stringify(c)),""].join(".")}const zu={};function sD(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function rD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oT=!1;function Yy(t,e){if(typeof window>"u"||typeof document>"u"||!$r(window.location.host)||zu[t]===e||zu[t]||oT)return;zu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=sD().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{oT=!0,c()},b}function v(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=rD(s),w=n("text"),D=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),k=document.getElementById(N)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;f(F),v(k,N);const oe=p();m(q,L),F.append(q,D,k,oe),document.body.appendChild(F)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function oD(){const t=wd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hD(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fD(){return!oD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dD(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const pD="FirebaseError";class os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pD,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?gD(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new os(a,f,s)}}function gD(t,e){return t.replace(yD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const yD=/\{\$([^}]+)}/g;function vD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(lT(l)&&lT(c)){if(!Fa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}function _c(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _D(t,e){const n=new xD(t,e);return n.subscribe.bind(n)}class xD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=lg),a.error===void 0&&(a.error=lg),a.complete===void 0&&(a.complete=lg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lg(){}function xt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class TD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wD(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ED(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ED(t){return t===ka?void 0:t}function wD(t){return t.instantiationMode==="EAGER"}class SD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const AD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},RD=Le.INFO,CD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ND=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=CD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=RD,this._logHandler=ND,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const ID=(t,e)=>e.some(n=>t instanceof n);let uT,cT;function DD(){return uT||(uT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kD(){return cT||(cT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kS=new WeakMap,Bg=new WeakMap,jS=new WeakMap,ug=new WeakMap,Xy=new WeakMap;function jD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(kr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&kS.set(n,t)}).catch(()=>{}),Xy.set(e,t),e}function MD(t){if(Bg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Bg.set(t,e)}let Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VD(t){Fg=t(Fg)}function OD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(cg(this),e,...n);return jS.set(s,e.sort?e.sort():[e]),kr(s)}:kD().includes(t)?function(...e){return t.apply(cg(this),e),kr(kS.get(this))}:function(...e){return kr(t.apply(cg(this),e))}}function PD(t){return typeof t=="function"?OD(t):(t instanceof IDBTransaction&&MD(t),ID(t,DD())?new Proxy(t,Fg):t)}function kr(t){if(t instanceof IDBRequest)return jD(t);if(ug.has(t))return ug.get(t);const e=PD(t);return e!==t&&(ug.set(t,e),Xy.set(e,t)),e}const cg=t=>Xy.get(t);function LD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=kr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(kr(c.result),m.oldVersion,m.newVersion,kr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const UD=["get","getKey","getAll","getAllKeys","count"],zD=["put","add","delete","clear"],hg=new Map;function hT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hg.get(e))return hg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=zD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||UD.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return hg.set(e,l),l}VD(t=>({...t,get:(e,n,s)=>hT(e,n)||t.get(e,n,s),has:(e,n)=>!!hT(e,n)||t.has(e,n)}));class BD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FD(t){return t.getComponent()?.type==="VERSION"}const Hg="@firebase/app",fT="0.14.6";const js=new Qy("@firebase/app"),HD="@firebase/app-compat",qD="@firebase/analytics-compat",GD="@firebase/analytics",KD="@firebase/app-check-compat",$D="@firebase/app-check",YD="@firebase/auth",QD="@firebase/auth-compat",XD="@firebase/database",WD="@firebase/data-connect",ZD="@firebase/database-compat",JD="@firebase/functions",ek="@firebase/functions-compat",tk="@firebase/installations",nk="@firebase/installations-compat",ik="@firebase/messaging",sk="@firebase/messaging-compat",rk="@firebase/performance",ak="@firebase/performance-compat",ok="@firebase/remote-config",lk="@firebase/remote-config-compat",uk="@firebase/storage",ck="@firebase/storage-compat",hk="@firebase/firestore",fk="@firebase/ai",dk="@firebase/firestore-compat",mk="firebase",pk="12.6.0";const qg="[DEFAULT]",gk={[Hg]:"fire-core",[HD]:"fire-core-compat",[GD]:"fire-analytics",[qD]:"fire-analytics-compat",[$D]:"fire-app-check",[KD]:"fire-app-check-compat",[YD]:"fire-auth",[QD]:"fire-auth-compat",[XD]:"fire-rtdb",[WD]:"fire-data-connect",[ZD]:"fire-rtdb-compat",[JD]:"fire-fn",[ek]:"fire-fn-compat",[tk]:"fire-iid",[nk]:"fire-iid-compat",[ik]:"fire-fcm",[sk]:"fire-fcm-compat",[rk]:"fire-perf",[ak]:"fire-perf-compat",[ok]:"fire-rc",[lk]:"fire-rc-compat",[uk]:"fire-gcs",[ck]:"fire-gcs-compat",[hk]:"fire-fst",[dk]:"fire-fst-compat",[fk]:"fire-vertex","fire-js":"fire-js",[mk]:"fire-js-all"};const Wu=new Map,yk=new Map,Gg=new Map;function dT(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(Gg.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of Wu.values())dT(n,t);for(const n of yk.values())dT(n,t);return!0}function Sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}const vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new vc("app","Firebase",vk);class _k{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const pl=pk;function MS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=IS()),!n)throw jr.create("no-options");const l=Wu.get(a);if(l){if(Fa(n,l.options)&&Fa(s,l.config))return l;throw jr.create("duplicate-app",{appName:a})}const c=new SD(a);for(const m of Gg.values())c.addComponent(m);const f=new _k(n,s,c);return Wu.set(a,f),f}function Ad(t=qg){const e=Wu.get(t);if(!e&&t===qg&&IS())return MS();if(!e)throw jr.create("no-app",{appName:t});return e}function xk(){return Array.from(Wu.values())}function Xi(t,e,n){let s=gk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(c.join(" "));return}Ha(new Or(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bk="firebase-heartbeat-database",Tk=1,Zu="firebase-heartbeat-store";let fg=null;function VS(){return fg||(fg=LD(bk,Tk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),fg}async function Ek(t){try{const n=(await VS()).transaction(Zu),s=await n.objectStore(Zu).get(OS(t));return await n.done,s}catch(e){if(e instanceof os)js.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}}async function mT(t,e){try{const s=(await VS()).transaction(Zu,"readwrite");await s.objectStore(Zu).put(e,OS(t)),await s.done}catch(n){if(n instanceof os)js.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n?.message});js.warn(s.message)}}}function OS(t){return`${t.name}!${t.options.appId}`}const wk=1024,Sk=30;class Ak{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ck(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Sk){const a=Nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pT(),{heartbeatsToSend:n,unsentEntries:s}=Rk(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return js.warn(e),""}}}function pT(){return new Date().toISOString().substring(0,10)}function Rk(t,e=wk){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),gT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),gT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ck{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dD()?mD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ek(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gT(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function Nk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Ik(t){Ha(new Or("platform-logger",e=>new BD(e),"PRIVATE")),Ha(new Or("heartbeat",e=>new Ak(e),"PRIVATE")),Xi(Hg,fT,t),Xi(Hg,fT,"esm2020"),Xi("fire-js","")}Ik("");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dk=PS,LS=new vc("auth","Firebase",PS());const Yf=new Qy("@firebase/auth");function kk(t,...e){Yf.logLevel<=Le.WARN&&Yf.warn(`Auth (${pl}): ${t}`,...e)}function kf(t,...e){Yf.logLevel<=Le.ERROR&&Yf.error(`Auth (${pl}): ${t}`,...e)}function Si(t,...e){throw Wy(t,...e)}function Wi(t,...e){return Wy(t,...e)}function US(t,e,n){const s={...Dk(),[e]:n};return new vc("auth","Firebase",s).create(e,{appName:t.name})}function Is(t){return US(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return LS.create(t,...e)}function xe(t,e,...n){if(!t)throw Wy(e,...n)}function Rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function Ms(t,e){t||Rs(e)}function Kg(){return typeof self<"u"&&self.location?.href||""}function jk(){return yT()==="http:"||yT()==="https:"}function yT(){return typeof self<"u"&&self.location?.protocol||null}function Mk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jk()||uD()||"connection"in navigator)?navigator.onLine:!0}function Vk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=aD()||cD()}get(){return Mk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zy(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Pk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lk=new xc(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qr(t,e,n,s,a={}){return BS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=_c({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return lD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&$r(t.emulatorConfig.host)&&(p.credentials="include"),zS.fetch()(await FS(t,t.config.apiHost,n,f),p)})}async function BS(t,e,n){t._canInitEmulator=!1;const s={...Ok,...e};try{const a=new zk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw df(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw df(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw df(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw US(t,v,p);Si(t,v)}}catch(a){if(a instanceof os)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function bc(t,e,n,s,a={}){const l=await Qr(t,e,n,s,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function FS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Zy(t.config,a):`${t.config.apiScheme}://${a}`;return Pk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Uk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wi(this.auth,"network-request-failed")),Lk.get())})}}function df(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Wi(t,e,s);return a.customData._tokenResponse=n,a}function vT(t){return t!==void 0&&t.enterprise!==void 0}class Bk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fk(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Yr(t,e))}async function Hk(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qk(t,e=!1){const n=xt(t),s=await n.getIdToken(e),a=Jy(s);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Bu(dg(a.auth_time)),issuedAtTime:Bu(dg(a.iat)),expirationTime:Bu(dg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function dg(t){return Number(t)*1e3}function Jy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=RS(n);return a?JSON.parse(a):(kf("Failed to decode base64 JWT payload"),null)}catch(a){return kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _T(t){const e=Jy(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ju(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof os&&Gk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Gk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Kk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xf(t){const e=t.auth,n=await t.getIdToken(),s=await Ju(t,Qf(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?HS(a.providerUserInfo):[],c=Yk(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new $g(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function $k(t){const e=xt(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yk(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function HS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Qk(t,e){const n=await BS(t,{},async()=>{const s=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await FS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&$r(t.emulatorConfig.host)&&(m.credentials="include"),zS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xk(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=_T(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Qk(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Zo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function Tr(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Kk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $g(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qk(this,e)}reload(){return $k(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Ju(this,Hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:D,stsTokenManager:N}=n;xe(_&&N,e,"internal-error");const k=Zo.fromJSON(this.name,N);xe(typeof _=="string",e,"internal-error"),Tr(s,e.name),Tr(a,e.name),xe(typeof b=="boolean",e,"internal-error"),xe(typeof w=="boolean",e,"internal-error"),Tr(l,e.name),Tr(c,e.name),Tr(f,e.name),Tr(m,e.name),Tr(p,e.name),Tr(v,e.name);const L=new Ei({uid:_,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(L.providerData=D.map(q=>({...q}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,n,s=!1){const a=new Zo;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Zo;f.updateFromIdToken(s);const m=new Ei({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new $g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const xT=new Map;function Cs(t){Ms(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qS.type="NONE";const bT=qS;function jf(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=jf(this.userKey,a.apiKey,l),this.fullPersistenceKey=jf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Jo(Cs(bT),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Cs(bT);const c=jf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const b=await Qf(e,{idToken:v}).catch(()=>{});if(!b)break;_=await Ei._fromGetAccountInfoResponse(e,b,v)}else _=Ei._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Jo(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Jo(l,e,s))}}function TT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XS(e))return"Blackberry";if(WS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||$S(e))&&!e.includes("edge/"))return"Chrome";if(QS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function GS(t=fn()){return/firefox\//i.test(t)}function KS(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $S(t=fn()){return/crios\//i.test(t)}function YS(t=fn()){return/iemobile/i.test(t)}function QS(t=fn()){return/android/i.test(t)}function XS(t=fn()){return/blackberry/i.test(t)}function WS(t=fn()){return/webos/i.test(t)}function e0(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wk(t=fn()){return e0(t)&&!!window.navigator?.standalone}function Zk(){return hD()&&document.documentMode===10}function ZS(t=fn()){return e0(t)||QS(t)||WS(t)||XS(t)||/windows phone/i.test(t)||YS(t)}function JS(t,e=[]){let n;switch(t){case"Browser":n=TT(fn());break;case"Worker":n=`${TT(fn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${s}`}class Jk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ej(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Yr(t,e))}const tj=6;class nj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class ij{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new Jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qf(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Is(this));const n=e?xt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ej(this),n=new nj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Xk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ya(t){return xt(t)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=_D(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sj(t){Rd=t}function e1(t){return Rd.loadJS(t)}function rj(){return Rd.recaptchaEnterpriseScript}function aj(){return Rd.gapiScript}function oj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lj{constructor(){this.enterprise=new uj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cj="recaptcha-enterprise",t1="NO_RECAPTCHA";class hj{constructor(e){this.type=cj,this.auth=Ya(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{Fk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Bk(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;vT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(t1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lj().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&vT(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=rj();m.length!==0&&(m+=f),e1(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function wT(t,e,n,s=!1,a=!1){const l=new hj(t);let c;if(a)c=t1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Yg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await wT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wT(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function fj(t,e){const n=Sd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function dj(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function mj(t,e,n){const s=Ya(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=n1(e),{host:c,port:f}=pj(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Fa(p,s.config.emulator)&&Fa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,$r(c)?($y(`${l}//${c}${m}`),Yy("Auth",!0)):gj()}function n1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pj(t){const e=n1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ST(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:ST(c)}}}function ST(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class t0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,n){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function yj(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}async function vj(t,e){return bc(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))}async function _j(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))}async function xj(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))}class ec extends t0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ec(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,n,"signInWithPassword",vj);case"emailLink":return _j(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,s,"signUpPassword",yj);case"emailLink":return xj(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function el(t,e){return bc(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))}const bj="http://localhost";class qa extends t0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new qa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return el(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,el(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,el(e,n)}buildRequest(){const e={requestUri:bj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}function Tj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ej(t){const e=ju(Mu(t)).link,n=e?ju(Mu(e)).deep_link_id:null,s=ju(Mu(t)).deep_link_id;return(s?ju(Mu(s)).link:null)||s||n||e||t}class n0{constructor(e){const n=ju(Mu(e)),s=n.apiKey??null,a=n.oobCode??null,l=Tj(n.mode??null);xe(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ej(e);try{return new n0(n)}catch{return null}}}class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=n0.parseLink(n);return xe(s,"argument-error"),ec._fromEmailAndCode(e,s.code,s.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class i1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tc extends i1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar extends Tc{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";class Rr extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";class Cr extends Tc{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Nr extends Tc{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";async function wj(t,e){return bc(t,"POST","/v1/accounts:signUp",Yr(t,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ei._fromIdTokenResponse(e,s,a),c=AT(s);return new Ga({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=AT(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function AT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Wf extends os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Wf(e,n,s,a)}}function s1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,l,e,s):l})}async function Sj(t,e,n=!1){const s=await Ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",s)}async function Aj(t,e,n=!1){const{auth:s}=t;if(Un(s.app))return Promise.reject(Is(s));const a="reauthenticate";try{const l=await Ju(t,s1(s,a,e,t),n);xe(l.idToken,s,"internal-error");const c=Jy(l.idToken);xe(c,s,"internal-error");const{sub:f}=c;return xe(t.uid===f,s,"user-mismatch"),Ga._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}async function r1(t,e,n=!1){if(Un(t.app))return Promise.reject(Is(t));const s="signIn",a=await s1(t,s,e),l=await Ga._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Rj(t,e){return r1(Ya(t),e)}async function a1(t){const e=Ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cj(t,e,n){if(Un(t.app))return Promise.reject(Is(t));const s=Ya(t),c=await Yg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wj).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&a1(t),m}),f=await Ga._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function Nj(t,e,n){return Un(t.app)?Promise.reject(Is(t)):Rj(xt(t),gl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&a1(t),s})}function Ij(t,e,n,s){return xt(t).onIdTokenChanged(e,n,s)}function Dj(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function kj(t,e,n,s){return xt(t).onAuthStateChanged(e,n,s)}function jj(t){return xt(t).signOut()}const Zf="__sak";class o1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mj=1e3,Vj=10;class l1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Zk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Vj):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const Oj=l1;class u1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}u1.type="SESSION";const c1=u1;function Pj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Cd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await Pj(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];function i0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=i0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zi(){return window}function Uj(t){Zi().location.href=t}function h1(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function zj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bj(){return navigator?.serviceWorker?.controller||null}function Fj(){return h1()?self:null}const f1="firebaseLocalStorageDb",Hj=1,Jf="firebaseLocalStorage",d1="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(t,e){return t.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function qj(){const t=indexedDB.deleteDatabase(f1);return new Ec(t).toPromise()}function Qg(){const t=indexedDB.open(f1,Hj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jf,{keyPath:d1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jf)?e(s):(s.close(),await qj(),e(await Qg()))})})}async function RT(t,e,n){const s=Nd(t,!0).put({[d1]:e,value:n});return new Ec(s).toPromise()}async function Gj(t,e){const n=Nd(t,!1).get(e),s=await new Ec(n).toPromise();return s===void 0?null:s.value}function CT(t,e){const n=Nd(t,!0).delete(e);return new Ec(n).toPromise()}const Kj=800,$j=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$j)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(Fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await RT(e,Zf,"1"),await CT(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>RT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Gj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nd(a,!1).getAll();return new Ec(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const Yj=m1;new xc(3e4,6e4);function Qj(t,e){return e?Cs(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class s0 extends t0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,n){return el(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xj(t){return r1(t.auth,new s0(t),t.bypassAuthState)}function Wj(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Aj(n,new s0(t),t.bypassAuthState)}async function Zj(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Sj(n,new s0(t),t.bypassAuthState)}class p1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xj;case"linkViaPopup":case"linkViaRedirect":return Zj;case"reauthViaPopup":case"reauthViaRedirect":return Wj;default:Si(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jj=new xc(2e3,1e4);class Ko extends p1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=i0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jj.get())};e()}}Ko.currentPopupAction=null;const eM="pendingRedirect",Mf=new Map;class tM extends p1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const s=await nM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nM(t,e){const n=rM(e),s=sM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function iM(t,e){Mf.set(t._key(),e)}function sM(t){return Cs(t._redirectPersistence)}function rM(t){return jf(eM,t.config.apiKey,t.name)}async function aM(t,e,n=!1){if(Un(t.app))return Promise.reject(Is(t));const s=Ya(t),a=Qj(s,e),c=await new tM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const oM=600*1e3;class lM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!g1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oM&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g1(t);default:return!1}}async function cM(t,e={}){return Qr(t,"GET","/v1/projects",e)}const hM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fM=/^https?/;async function dM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cM(t);for(const n of e)try{if(mM(n))return}catch{}Si(t,"unauthorized-domain")}function mM(t){const e=Kg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!fM.test(n))return!1;if(hM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const pM=new xc(3e4,6e4);function IT(){const t=Zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gM(t){return new Promise((e,n)=>{function s(){IT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IT(),n(Wi(t,"network-request-failed"))},timeout:pM.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)s();else{const a=oj("iframefcb");return Zi()[a]=()=>{gapi.load?s():n(Wi(t,"network-request-failed"))},e1(`${aj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function yM(t){return Vf=Vf||gM(t),Vf}const vM=new xc(5e3,15e3),_M="__/auth/iframe",xM="emulator/auth/iframe",bM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EM(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zy(e,xM):`https://${t.config.authDomain}/${_M}`,s={apiKey:e.apiKey,appName:t.name,v:pl},a=TM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${_c(s).slice(1)}`}async function wM(t){const e=await yM(t),n=Zi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:EM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Wi(t,"network-request-failed"),f=Zi().setTimeout(()=>{l(c)},vM.get());function m(){Zi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const SM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AM=500,RM=600,CM="_blank",NM="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IM(t,e,n,s=AM,a=RM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...SM,width:s.toString(),height:a.toString(),top:l,left:c},p=fn().toLowerCase();n&&(f=$S(p)?CM:n),GS(p)&&(e=e||NM,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[w,D])=>`${b}${w}=${D},`,"");if(Wk(p)&&f!=="_self")return DM(e||"",f),new DT(null);const _=window.open(e||"",f,v);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new DT(_)}function DM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const kM="__/auth/handler",jM="emulator/auth/handler",MM=encodeURIComponent("fac");async function kT(t,e,n,s,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:pl,eventId:a};if(e instanceof i1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",vD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Tc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${MM}=${encodeURIComponent(m)}`:"";return`${VM(t)}?${_c(f).slice(1)}${p}`}function VM({config:t}){return t.emulator?Zy(t,jM):`https://${t.authDomain}/${kM}`}const mg="webStorageSupport";class OM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=aM,this._overrideRedirectResult=iM}async _openPopup(e,n,s,a){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await kT(e,n,s,Kg(),a);return IM(e,l,i0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await kT(e,n,s,Kg(),a);return Uj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wM(e),s=new lM(e);return n.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mg,{type:mg},a=>{const l=a?.[0]?.[mg];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZS()||KS()||e0()}}const PM=OM;var jT="@firebase/auth",MT="1.11.1";class LM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zM(t){Ha(new Or("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(t)},p=new ij(s,a,l,m);return dj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ha(new Or("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(s=>new LM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(jT,MT,UM(t)),Xi(jT,MT,"esm2020")}const BM=300,FM=DS("authIdTokenMaxAge")||BM;let VT=null;const HM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FM)return;const a=n?.token;VT!==a&&(VT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qM(t=Ad()){const e=Sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fj(t,{popupRedirectResolver:PM,persistence:[Yj,Oj,c1]}),s=DS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=HM(l.toString());Dj(n,c,()=>c(n.currentUser)),Ij(n,f=>c(f))}}const a=CS("auth");return a&&mj(n,`http://${a}`),n}function GM(){return document.getElementsByTagName("head")?.[0]??document}sj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Wi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",GM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zM("Browser");var KM="firebase",$M="12.6.0";Xi(KM,$M,"app");var OT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mr,y1;(function(){var t;function e(I,C){function j(){}j.prototype=C.prototype,I.F=C.prototype,I.prototype=new j,I.prototype.constructor=I,I.D=function(P,O,B){for(var M=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)M[Se-2]=arguments[Se];return C.prototype[O].apply(P,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,j){j||(j=0);const P=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)P[O]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(O=0;O<16;++O)P[O]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=I.g[0],j=I.g[1],O=I.g[2];let B=I.g[3],M;M=C+(B^j&(O^B))+P[0]+3614090360&4294967295,C=j+(M<<7&4294967295|M>>>25),M=B+(O^C&(j^O))+P[1]+3905402710&4294967295,B=C+(M<<12&4294967295|M>>>20),M=O+(j^B&(C^j))+P[2]+606105819&4294967295,O=B+(M<<17&4294967295|M>>>15),M=j+(C^O&(B^C))+P[3]+3250441966&4294967295,j=O+(M<<22&4294967295|M>>>10),M=C+(B^j&(O^B))+P[4]+4118548399&4294967295,C=j+(M<<7&4294967295|M>>>25),M=B+(O^C&(j^O))+P[5]+1200080426&4294967295,B=C+(M<<12&4294967295|M>>>20),M=O+(j^B&(C^j))+P[6]+2821735955&4294967295,O=B+(M<<17&4294967295|M>>>15),M=j+(C^O&(B^C))+P[7]+4249261313&4294967295,j=O+(M<<22&4294967295|M>>>10),M=C+(B^j&(O^B))+P[8]+1770035416&4294967295,C=j+(M<<7&4294967295|M>>>25),M=B+(O^C&(j^O))+P[9]+2336552879&4294967295,B=C+(M<<12&4294967295|M>>>20),M=O+(j^B&(C^j))+P[10]+4294925233&4294967295,O=B+(M<<17&4294967295|M>>>15),M=j+(C^O&(B^C))+P[11]+2304563134&4294967295,j=O+(M<<22&4294967295|M>>>10),M=C+(B^j&(O^B))+P[12]+1804603682&4294967295,C=j+(M<<7&4294967295|M>>>25),M=B+(O^C&(j^O))+P[13]+4254626195&4294967295,B=C+(M<<12&4294967295|M>>>20),M=O+(j^B&(C^j))+P[14]+2792965006&4294967295,O=B+(M<<17&4294967295|M>>>15),M=j+(C^O&(B^C))+P[15]+1236535329&4294967295,j=O+(M<<22&4294967295|M>>>10),M=C+(O^B&(j^O))+P[1]+4129170786&4294967295,C=j+(M<<5&4294967295|M>>>27),M=B+(j^O&(C^j))+P[6]+3225465664&4294967295,B=C+(M<<9&4294967295|M>>>23),M=O+(C^j&(B^C))+P[11]+643717713&4294967295,O=B+(M<<14&4294967295|M>>>18),M=j+(B^C&(O^B))+P[0]+3921069994&4294967295,j=O+(M<<20&4294967295|M>>>12),M=C+(O^B&(j^O))+P[5]+3593408605&4294967295,C=j+(M<<5&4294967295|M>>>27),M=B+(j^O&(C^j))+P[10]+38016083&4294967295,B=C+(M<<9&4294967295|M>>>23),M=O+(C^j&(B^C))+P[15]+3634488961&4294967295,O=B+(M<<14&4294967295|M>>>18),M=j+(B^C&(O^B))+P[4]+3889429448&4294967295,j=O+(M<<20&4294967295|M>>>12),M=C+(O^B&(j^O))+P[9]+568446438&4294967295,C=j+(M<<5&4294967295|M>>>27),M=B+(j^O&(C^j))+P[14]+3275163606&4294967295,B=C+(M<<9&4294967295|M>>>23),M=O+(C^j&(B^C))+P[3]+4107603335&4294967295,O=B+(M<<14&4294967295|M>>>18),M=j+(B^C&(O^B))+P[8]+1163531501&4294967295,j=O+(M<<20&4294967295|M>>>12),M=C+(O^B&(j^O))+P[13]+2850285829&4294967295,C=j+(M<<5&4294967295|M>>>27),M=B+(j^O&(C^j))+P[2]+4243563512&4294967295,B=C+(M<<9&4294967295|M>>>23),M=O+(C^j&(B^C))+P[7]+1735328473&4294967295,O=B+(M<<14&4294967295|M>>>18),M=j+(B^C&(O^B))+P[12]+2368359562&4294967295,j=O+(M<<20&4294967295|M>>>12),M=C+(j^O^B)+P[5]+4294588738&4294967295,C=j+(M<<4&4294967295|M>>>28),M=B+(C^j^O)+P[8]+2272392833&4294967295,B=C+(M<<11&4294967295|M>>>21),M=O+(B^C^j)+P[11]+1839030562&4294967295,O=B+(M<<16&4294967295|M>>>16),M=j+(O^B^C)+P[14]+4259657740&4294967295,j=O+(M<<23&4294967295|M>>>9),M=C+(j^O^B)+P[1]+2763975236&4294967295,C=j+(M<<4&4294967295|M>>>28),M=B+(C^j^O)+P[4]+1272893353&4294967295,B=C+(M<<11&4294967295|M>>>21),M=O+(B^C^j)+P[7]+4139469664&4294967295,O=B+(M<<16&4294967295|M>>>16),M=j+(O^B^C)+P[10]+3200236656&4294967295,j=O+(M<<23&4294967295|M>>>9),M=C+(j^O^B)+P[13]+681279174&4294967295,C=j+(M<<4&4294967295|M>>>28),M=B+(C^j^O)+P[0]+3936430074&4294967295,B=C+(M<<11&4294967295|M>>>21),M=O+(B^C^j)+P[3]+3572445317&4294967295,O=B+(M<<16&4294967295|M>>>16),M=j+(O^B^C)+P[6]+76029189&4294967295,j=O+(M<<23&4294967295|M>>>9),M=C+(j^O^B)+P[9]+3654602809&4294967295,C=j+(M<<4&4294967295|M>>>28),M=B+(C^j^O)+P[12]+3873151461&4294967295,B=C+(M<<11&4294967295|M>>>21),M=O+(B^C^j)+P[15]+530742520&4294967295,O=B+(M<<16&4294967295|M>>>16),M=j+(O^B^C)+P[2]+3299628645&4294967295,j=O+(M<<23&4294967295|M>>>9),M=C+(O^(j|~B))+P[0]+4096336452&4294967295,C=j+(M<<6&4294967295|M>>>26),M=B+(j^(C|~O))+P[7]+1126891415&4294967295,B=C+(M<<10&4294967295|M>>>22),M=O+(C^(B|~j))+P[14]+2878612391&4294967295,O=B+(M<<15&4294967295|M>>>17),M=j+(B^(O|~C))+P[5]+4237533241&4294967295,j=O+(M<<21&4294967295|M>>>11),M=C+(O^(j|~B))+P[12]+1700485571&4294967295,C=j+(M<<6&4294967295|M>>>26),M=B+(j^(C|~O))+P[3]+2399980690&4294967295,B=C+(M<<10&4294967295|M>>>22),M=O+(C^(B|~j))+P[10]+4293915773&4294967295,O=B+(M<<15&4294967295|M>>>17),M=j+(B^(O|~C))+P[1]+2240044497&4294967295,j=O+(M<<21&4294967295|M>>>11),M=C+(O^(j|~B))+P[8]+1873313359&4294967295,C=j+(M<<6&4294967295|M>>>26),M=B+(j^(C|~O))+P[15]+4264355552&4294967295,B=C+(M<<10&4294967295|M>>>22),M=O+(C^(B|~j))+P[6]+2734768916&4294967295,O=B+(M<<15&4294967295|M>>>17),M=j+(B^(O|~C))+P[13]+1309151649&4294967295,j=O+(M<<21&4294967295|M>>>11),M=C+(O^(j|~B))+P[4]+4149444226&4294967295,C=j+(M<<6&4294967295|M>>>26),M=B+(j^(C|~O))+P[11]+3174756917&4294967295,B=C+(M<<10&4294967295|M>>>22),M=O+(C^(B|~j))+P[2]+718787259&4294967295,O=B+(M<<15&4294967295|M>>>17),M=j+(B^(O|~C))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const j=C-this.blockSize,P=this.C;let O=this.h,B=0;for(;B<C;){if(O==0)for(;B<=j;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<C;)if(P[O++]=I.charCodeAt(B++),O==this.blockSize){a(this,P),O=0;break}}else for(;B<C;)if(P[O++]=I[B++],O==this.blockSize){a(this,P),O=0;break}}this.h=O,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var j=I.length-8;j<I.length;++j)I[j]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)I[C++]=this.g[j]>>>P&255;return I};function l(I,C){var j=f;return Object.prototype.hasOwnProperty.call(j,I)?j[I]:j[I]=C(I)}function c(I,C){this.h=C;const j=[];let P=!0;for(let O=I.length-1;O>=0;O--){const B=I[O]|0;P&&B==C||(j[O]=B,P=!1)}this.g=j}var f={};function m(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return k(p(-I));const C=[];let j=1;for(let P=0;I>=j;P++)C[P]=I/j|0,j*=4294967296;return new c(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return k(v(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=p(Math.pow(C,8));let P=_;for(let B=0;B<I.length;B+=8){var O=Math.min(8,I.length-B);const M=parseInt(I.substring(B,B+O),C);O<8?(O=p(Math.pow(C,O)),P=P.j(O).add(p(M))):(P=P.j(j),P=P.add(p(M)))}return P}var _=m(0),b=m(1),w=m(16777216);t=c.prototype,t.m=function(){if(N(this))return-k(this).m();let I=0,C=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);I+=(P>=0?P:4294967296+P)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(N(this))return"-"+k(this).toString(I);const C=p(Math.pow(I,6));var j=this;let P="";for(;;){const O=oe(j,C).g;j=L(j,O.j(C));let B=((j.g.length>0?j.g[0]:j.h)>>>0).toString(I);if(j=O,D(j))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=L(this,I),N(I)?-1:D(I)?0:1};function k(I){const C=I.g.length,j=[];for(let P=0;P<C;P++)j[P]=~I.g[P];return new c(j,~I.h).add(b)}t.abs=function(){return N(this)?k(this):this},t.add=function(I){const C=Math.max(this.g.length,I.g.length),j=[];let P=0;for(let O=0;O<=C;O++){let B=P+(this.i(O)&65535)+(I.i(O)&65535),M=(B>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);P=M>>>16,B&=65535,M&=65535,j[O]=M<<16|B}return new c(j,j[j.length-1]&-2147483648?-1:0)};function L(I,C){return I.add(k(C))}t.j=function(I){if(D(this)||D(I))return _;if(N(this))return N(I)?k(this).j(k(I)):k(k(this).j(I));if(N(I))return k(this.j(k(I)));if(this.l(w)<0&&I.l(w)<0)return p(this.m()*I.m());const C=this.g.length+I.g.length,j=[];for(var P=0;P<2*C;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<I.g.length;O++){const B=this.i(P)>>>16,M=this.i(P)&65535,Se=I.i(O)>>>16,_e=I.i(O)&65535;j[2*P+2*O]+=M*_e,q(j,2*P+2*O),j[2*P+2*O+1]+=B*_e,q(j,2*P+2*O+1),j[2*P+2*O+1]+=M*Se,q(j,2*P+2*O+1),j[2*P+2*O+2]+=B*Se,q(j,2*P+2*O+2)}for(I=0;I<C;I++)j[I]=j[2*I+1]<<16|j[2*I];for(I=C;I<2*C;I++)j[I]=0;return new c(j,0)};function q(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function F(I,C){this.g=I,this.h=C}function oe(I,C){if(D(C))throw Error("division by zero");if(D(I))return new F(_,_);if(N(I))return C=oe(k(I),C),new F(k(C.g),k(C.h));if(N(C))return C=oe(I,k(C)),new F(k(C.g),C.h);if(I.g.length>30){if(N(I)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var j=b,P=C;P.l(I)<=0;)j=ae(j),P=ae(P);var O=ie(j,1),B=ie(P,1);for(P=ie(P,2),j=ie(j,2);!D(P);){var M=B.add(P);M.l(I)<=0&&(O=O.add(j),B=M),P=ie(P,1),j=ie(j,1)}return C=L(I,O.j(C)),new F(O,C)}for(O=_;I.l(C)>=0;){for(j=Math.max(1,Math.floor(I.m()/C.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=p(j),M=B.j(C);N(M)||M.l(I)>0;)j-=P,B=p(j),M=B.j(C);D(B)&&(B=b),O=O.add(B),I=L(I,M)}return new F(O,I)}t.B=function(I){return oe(this,I).h},t.and=function(I){const C=Math.max(this.g.length,I.g.length),j=[];for(let P=0;P<C;P++)j[P]=this.i(P)&I.i(P);return new c(j,this.h&I.h)},t.or=function(I){const C=Math.max(this.g.length,I.g.length),j=[];for(let P=0;P<C;P++)j[P]=this.i(P)|I.i(P);return new c(j,this.h|I.h)},t.xor=function(I){const C=Math.max(this.g.length,I.g.length),j=[];for(let P=0;P<C;P++)j[P]=this.i(P)^I.i(P);return new c(j,this.h^I.h)};function ae(I){const C=I.g.length+1,j=[];for(let P=0;P<C;P++)j[P]=I.i(P)<<1|I.i(P-1)>>>31;return new c(j,I.h)}function ie(I,C){const j=C>>5;C%=32;const P=I.g.length-j,O=[];for(let B=0;B<P;B++)O[B]=C>0?I.i(B+j)>>>C|I.i(B+j+1)<<32-C:I.i(B+j);return new c(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,y1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Mr=c}).apply(typeof OT<"u"?OT:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v1,Vu,_1,Of,Xg,x1,b1,T1;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var x=0;x<h.length;++x){var E=h[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var G=h[R];if(!(G in E))break e;E=E[G]}h=h[h.length-1],R=E[h],x=x(R),x!=R&&x!=null&&e(E,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var E=[],R;for(R in x)Object.prototype.hasOwnProperty.call(x,R)&&E.push([R,x[R]]);return E}});var l=l||{},c=this||self;function f(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,E){return h.call.apply(h.bind,arguments)}function p(h,x,E){return p=m,p.apply(null,arguments)}function v(h,x){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function _(h,x){function E(){}E.prototype=x.prototype,h.Z=x.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,G,Q){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return x.prototype[G].apply(R,le)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const x=h.length;if(x>0){const E=Array(x);for(let R=0;R<x;R++)E[R]=h[R];return E}return[]}function D(h,x){for(let R=1;R<arguments.length;R++){const G=arguments[R];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=h.length||0;const Q=G.length||0;h.length=E+Q;for(let le=0;le<Q;le++)h[E+le]=G[le]}else h.push(G)}}class N{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function k(h){c.setTimeout(()=>{throw h},0)}function L(){var h=I;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class q{constructor(){this.h=this.g=null}add(x,E){const R=F.get();R.set(x,E),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new N(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ie=!1,I=new q,C=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(j)}};function j(){for(var h;h=L();){try{h.h.call(h.g)}catch(E){k(E)}var x=F;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ie=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,x),c.removeEventListener("test",E,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Se(h,x){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}_(Se,O),Se.prototype.init=function(h,x){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(E=="mouseover"?x=h.fromElement:E=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),W=0;function re(h,x,E,R,G){this.listener=h,this.proxy=null,this.src=x,this.type=E,this.capture=!!R,this.ha=G,this.key=++W,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,x,E){for(const R in h)x.call(E,h[R],R,h)}function Ve(h,x){for(const E in h)x.call(void 0,h[E],E,h)}function z(h){const x={};for(const E in h)x[E]=h[E];return x}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let E,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(E in R)h[E]=R[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,x,E,R,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=De(h,x,R,G);return le>-1?(x=h[le],E||(x.fa=!1)):(x=new re(x,this.src,Q,!!R,G),x.fa=E,h.push(x)),x};function Ee(h,x){const E=x.type;if(E in h.g){var R=h.g[E],G=Array.prototype.indexOf.call(R,x,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(R,G,1),Q&&(he(x),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,x,E,R){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==x&&Q.capture==!!E&&Q.ha==R)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ut={};function ut(h,x,E,R,G){if(Array.isArray(x)){for(let Q=0;Q<x.length;Q++)ut(h,x[Q],E,R,G);return null}return E=Rl(E),h&&h[_e]?h.J(x,E,f(R)?!!R.capture:!1,G):ea(h,x,E,!1,R,G)}function ea(h,x,E,R,G,Q){if(!x)throw Error("Invalid event type");const le=f(G)?!!G.capture:!!G;let Ce=ta(h);if(Ce||(h[Fe]=Ce=new de(h)),E=Ce.add(x,E,R,le,Q),E.proxy)return E;if(R=Wa(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)B||(G=le),G===void 0&&(G=!1),h.addEventListener(x.toString(),R,G);else if(h.attachEvent)h.attachEvent(Ri(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wa(){function h(E){return x.call(h.src,h.listener,E)}const x=Sl;return h}function Za(h,x,E,R,G){if(Array.isArray(x))for(var Q=0;Q<x.length;Q++)Za(h,x[Q],E,R,G);else R=f(R)?!!R.capture:!!R,E=Rl(E),h&&h[_e]?(h=h.i,Q=String(x).toString(),Q in h.g&&(x=h.g[Q],E=De(x,E,R,G),E>-1&&(he(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete h.g[Q],h.h--)))):h&&(h=ta(h))&&(x=h.g[x.toString()],h=-1,x&&(h=De(x,E,R,G)),(E=h>-1?x[h]:null)&&Ja(E))}function Ja(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[_e])Ee(x.i,h);else{var E=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(E,R,h.capture):x.detachEvent?x.detachEvent(Ri(E),R):x.addListener&&x.removeListener&&x.removeListener(R),(E=ta(x))?(Ee(E,h),E.h==0&&(E.src=null,x[Fe]=null)):he(h)}}}function Ri(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Sl(h,x){if(h.da)h=!0;else{x=new Se(x,this);const E=h.listener,R=h.ha||h.src;h.fa&&Ja(h),h=E.call(R,x)}return h}function ta(h){return h=h[Fe],h instanceof de?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(x){return h.handleEvent(x)}),h[Al])}function At(){P.call(this),this.i=new de(this),this.M=this,this.G=null}_(At,P),At.prototype[_e]=!0,At.prototype.removeEventListener=function(h,x,E,R){Za(this,h,x,E,R)};function zt(h,x){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new O(x,h);else if(x instanceof O)x.target=x.target||h;else{var G=x;x=new O(R,h),ue(x,G)}G=!0;let Q,le;if(E)for(le=E.length-1;le>=0;le--)Q=x.g=E[le],G=Hs(Q,R,!0,x)&&G;if(Q=x.g=h,G=Hs(Q,R,!0,x)&&G,G=Hs(Q,R,!1,x)&&G,E)for(le=0;le<E.length;le++)Q=x.g=E[le],G=Hs(Q,R,!1,x)&&G}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const E=h.g[x];for(let R=0;R<E.length;R++)he(E[R]);delete h.g[x],h.h--}}this.G=null},At.prototype.J=function(h,x,E,R){return this.i.add(String(h),x,!1,E,R)},At.prototype.K=function(h,x,E,R){return this.i.add(String(h),x,!0,E,R)};function Hs(h,x,E,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let Q=0;Q<x.length;++Q){const le=x[Q];if(le&&!le.da&&le.capture==E){const Ce=le.listener,Tt=le.ha||le.src;le.fa&&Ee(h.i,le),G=Ce.call(Tt,R)!==!1&&G}}return G&&!R.defaultPrevented}function nm(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Oc(h){h.g=nm(()=>{h.g=null,h.i&&(h.i=!1,Oc(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class dn extends P{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Oc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(h){P.call(this),this.h=h,this.g={}}_(na,P);var Cl=[];function Nl(h){Ie(h.g,function(x,E){this.g.hasOwnProperty(E)&&Ja(x)},h),h.g={}}na.prototype.N=function(){na.Z.N.call(this),Nl(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=c.JSON.stringify,im=c.JSON.parse,Pc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Lc(){}function Uc(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){O.call(this,"d")}_(Yt,O);function Hn(){O.call(this,"c")}_(Hn,O);var bt={},zc=null;function eo(){return zc=zc||new At}bt.Ia="serverreachability";function Bc(h){O.call(this,bt.Ia,h)}_(Bc,O);function Ci(h){const x=eo();zt(x,new Bc(x))}bt.STAT_EVENT="statevent";function ia(h,x){O.call(this,bt.STAT_EVENT,h),this.stat=x}_(ia,O);function Rt(h){const x=eo();zt(x,new ia(x,h))}bt.Ja="timingevent";function Ni(h,x){O.call(this,bt.Ja,h),this.size=x}_(Ni,O);function Ii(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function sm(h,x,E,R,G,Q){h.info(function(){if(h.g)if(Q){var le="",Ce=Q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Tt=Ce[Ke].split("=");if(Tt.length>1){const ct=Tt[0];Tt=Tt[1];const $n=ct.split("_");le=$n.length>=2&&$n[1]=="type"?le+(ct+"="+Tt+"&"):le+(ct+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+x+`
`+E+`
`+le})}function Fc(h,x,E,R,G,Q,le){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+x+`
`+E+`
`+Q+" "+le})}function Di(h,x,E,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+rm(h,E)+(R?" "+R:"")})}function sa(h,x){h.info(function(){return"TIMEOUT: "+x})}ci.prototype.info=function(){};function rm(h,x){if(!h.g)return x;if(!x)return null;try{const Q=JSON.parse(x);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let le=1;le<R.length;le++)R[le]=""}}}}return qs(Q)}catch{return x}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function aa(){}_(aa,Lc),aa.prototype.g=function(){return new XMLHttpRequest},Dl=new aa;function ls(h){return encodeURIComponent(String(h))}function Hc(h){var x=1;h=h.split(":");const E=[];for(;x>0&&h.length;)E.push(h.shift()),x--;return h.length&&E.push(h.join(":")),E}function hi(h,x,E,R){this.j=h,this.i=x,this.l=E,this.S=R||1,this.V=new na(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function ki(h,x,E){h.M=1,h.A=oa(It(x)),h.u=E,h.R=!0,to(h,null)}function to(h,x){h.F=Date.now(),ji(h),h.B=It(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),ro(E.i,"t",R),h.C=0,E=h.j.L,h.h=new fi,h.g=sh(h.j,E?x:null,!h.u),h.P>0&&(h.O=new dn(p(h.Y,h,h.g),h.P)),x=h.V,E=h.g,R=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Cl[0]=G.toString()),G=Cl);for(let Q=0;Q<G.length;Q++){const le=ut(E,G[Q],R||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Ci(),sm(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const x=this.O;x&&pi(h)==3?x.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=pi(this.g),Tt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ce!=4||Tt==7||(Tt==8||Ke<=0?Ci(3):Ci(2)),Mi(this);var x=this.g.ca();this.X=x;var E=am(this);if(this.o=x==200,Fc(this.i,this.v,this.B,this.l,this.S,Ce,x),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Q=R;break t}}Q=null}if(h=Q)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,Rt(12),In(this),qn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Gc(this,E),ct==qt){Ce==4&&(this.m=4,Rt(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Ct){this.m=4,Rt(15),Di(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,ct,null),Vi(this,ct);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),qn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Kl(le),le.P=!0,Rt(11))}}else Di(this.i,this.l,E,null),Vi(this,E);Ce==4&&In(this),this.o&&!this.K&&(Ce==4?eh(this.j,this):(this.o=!1,ji(this)))}else cs(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),In(this),qn(this)}}}catch{}finally{}};function am(h){if(!qc(h))return h.g.la();const x=Qt(h.g);if(x==="")return"";let E="";const R=x.length,G=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),qn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<R;Q++)h.h.h=!0,E+=h.h.i.decode(x[Q],{stream:!(G&&Q==R-1)});return x.length=0,h.h.g+=E,h.C=0,h.h.g}function qc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Gc(h,x){var E=h.C,R=x.indexOf(`
`,E);return R==-1?qt:(E=Number(x.substring(E,R)),isNaN(E)?Ct:(R+=1,R+E>x.length?qt:(x=x.slice(R,R+E),h.C=R+E,x)))}hi.prototype.cancel=function(){this.K=!0,In(this)};function ji(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(p(h.aa,h),x)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(sa(this.i,this.B),this.M!=2&&(Ci(),Rt(17)),In(this),this.m=2,qn(this)):no(this,this.T-h)};function qn(h){h.j.I==0||h.K||eh(h.j,h)}function In(h){Mi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Nl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Vi(h,x){try{var E=h.j;if(E.I!=0&&(E.g==h||Pi(E.h,h))){if(!h.L&&Pi(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)co(E),Zs(E);else break e;ma(E),Rt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ii(p(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hi(E,11)}else if((h.L||E.g==h)&&co(E),!M(x))for(G=E.Ba.g.parse(x),x=0;x<G.length;x++){let Ke=G[x];const ct=Ke[0];if(!(ct<=E.K))if(E.K=ct,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const $n=Ke[3];$n!=null&&(E.ka=$n,E.j.info("VER="+E.ka));const qi=Ke[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const gi=Ke[5];gi!=null&&typeof gi=="number"&&gi>0&&(R=1.5*gi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const yi=h.g;if(yi){const pa=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var Q=R.h;Q.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ml(Q,Q.h),Q.h=null))}if(R.G){const ho=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(R.wa=ho,Qe(R.J,R.G,ho))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var le=h;if(R.na=ih(R,R.L?R.ba:null,R.W),le.L){Vl(R.h,le);var Ce=le,Tt=R.O;Tt&&(Ce.H=Tt),Ce.D&&(Mi(Ce),ji(Ce)),R.g=le}else Zc(R);E.i.length>0&&Fi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Hi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Hi(E,7):ql(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Ci(4)}catch{}}var Nt=class{constructor(h,x){this.g=h,this.map=x}};function kl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oi(h){return h.h?1:h.g?h.g.size:0}function Pi(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ml(h,x){h.g?h.g.add(x):h.h=x}function Vl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}kl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const E of h.g.values())x=x.concat(E.G);return x}return w(h.i)}var Kc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,x){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let G,Q=null;R>=0?(G=h[E].substring(0,R),Q=h[E].substring(R+1)):G=h[E],x(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Dn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Gs(this,h.u),this.h=h.h,Pl(this,Xc(h.i)),this.m=h.m):h&&(x=String(h).match(Kc))?(this.l=!1,Gt(this,x[1]||"",!0),this.o=Li(x[2]||""),this.g=Li(x[3]||"",!0),Gs(this,x[4]),this.h=Li(x[5]||"",!0),Pl(this,x[6]||"",!0),this.m=Li(x[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}Dn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(la(x,so,!0),":");var E=this.g;return(E||x=="file")&&(h.push("//"),(x=this.o)&&h.push(la(x,so,!0),"@"),h.push(ls(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(la(E,E.charAt(0)=="/"?Ll:$c,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",la(E,Yc)),h.join("")},Dn.prototype.resolve=function(h){const x=It(this);let E=!!h.j;E?Gt(x,h.j):E=!!h.o,E?x.o=h.o:E=!!h.g,E?x.g=h.g:E=h.u!=null;var R=h.h;if(E)Gs(x,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=x.h.lastIndexOf("/");G!=-1&&(R=x.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let le=0;le<G.length;){const Ce=G[le++];Ce=="."?R&&le==G.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&le==G.length&&Q.push("")):(Q.push(Ce),R=!0)}R=Q.join("/")}else R=G}return E?x.h=R:E=h.i.toString()!=="",E?Pl(x,Xc(h.i)):E=!!h.m,E&&(x.m=h.m),x};function It(h){return new Dn(h)}function Gt(h,x,E){h.j=E?Li(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Gs(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Pl(h,x,E){x instanceof $s?(h.i=x,ao(h.i,h.l)):(E||(x=la(x,Ks)),h.i=new $s(x,h.l))}function Qe(h,x,E){h.i.set(x,E)}function oa(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,x,E){return typeof h=="string"?(h=encodeURI(h).replace(x,vn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,$c=/[#\?:]/g,Ll=/[#\?]/g,Ks=/[#\?@]/g,Yc=/#/g;function $s(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function _n(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(x,E){h.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=$s.prototype,t.add=function(h,x){_n(this),this.i=null,h=Ys(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(x),this.h+=1,this};function Qc(h,x){_n(h),x=Ys(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ul(h,x){return _n(h),x=Ys(h,x),h.g.has(x)}t.forEach=function(h,x){_n(this),this.g.forEach(function(E,R){E.forEach(function(G){h.call(x,G,R,this)},this)},this)};function zl(h,x){_n(h);let E=[];if(typeof x=="string")Ul(h,x)&&(E=E.concat(h.g.get(Ys(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)E=E.concat(h[x]);return E}t.set=function(h,x){return _n(this),this.i=null,h=Ys(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=zl(this,h),h.length>0?String(h[0]):x):x};function ro(h,x,E){Qc(h,x),E.length>0&&(h.i=null,h.g.set(Ys(h,x),w(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let R=0;R<x.length;R++){var E=x[R];const G=ls(E);E=zl(this,E);for(let Q=0;Q<E.length;Q++){let le=G;E[Q]!==""&&(le+="="+ls(E[Q])),h.push(le)}}return this.i=h.join("&")};function Xc(h){const x=new $s;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Ys(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function ao(h,x){x&&!h.j&&(_n(h),h.i=null,h.g.forEach(function(E,R){const G=R.toLowerCase();R!=G&&(Qc(this,R),ro(this,G,E))},h)),h.j=x}function di(h,x){const E=new ci;if(c.Image){const R=new Image;R.onload=v(Gn,E,"TestLoadImage: loaded",!0,x,R),R.onerror=v(Gn,E,"TestLoadImage: error",!1,x,R),R.onabort=v(Gn,E,"TestLoadImage: abort",!1,x,R),R.ontimeout=v(Gn,E,"TestLoadImage: timeout",!1,x,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function Bl(h,x){const E=new ci,R=new AbortController,G=setTimeout(()=>{R.abort(),Gn(E,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(Q=>{clearTimeout(G),Q.ok?Gn(E,"TestPingServer: ok",!0,x):Gn(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),Gn(E,"TestPingServer: error",!1,x)})}function Gn(h,x,E,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(E)}catch{}}function Qs(){this.g=new Pc}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ui,Lc),Ui.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,x){At.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ua,At),t=ua.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Xs(this):mi(this),this.readyState==3&&oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Xs(this))},t.Na=function(h){this.g&&(this.response=h,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=x.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let x="";return Ie(h,function(E,R){x+=R,x+=":",x+=E,x+=`\r
`}),x}function ca(h,x,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Kn(E),typeof h=="string"?E!=null&&ls(E):Qe(h,x,E))}function Ze(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,At);var zi=/^https?$/i,Fl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(Q){ha(this,Q);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)E.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Fl,x,void 0)>=0)||R||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of E)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ha(this,Q)}};function ha(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Hl(h),us(h)}function Hl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},t.Xa=function(){fa(this)};function fa(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),pi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var R;if(R=Q===0){let le=String(h.D).match(Kc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),R=!zi.test(le?le.toLowerCase():"")}E=R}if(E)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var G=pi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Hl(h)}}finally{us(h)}}}}function us(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,x||zt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),im(x)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(h){const x={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(M(h[R]))continue;var E=Hc(h[R]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=x[G]||[];x[G]=Q,Q.push(E)}Ve(x,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(h,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||x}function Ws(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,h),this.Za=Bi("retryDelaySeedMs",1e4,h),this.Ta=Bi("forwardChannelMaxRetries",2,h),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(h&&h.concurrentRequestLimit),this.Ba=new Qs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ws.prototype,t.ka=8,t.I=1,t.connect=function(h,x,E,R){Rt(0),this.W=h,this.H=x||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=ih(this,null,this.W),Fi(this)};function ql(h){if(lo(h),h.I==3){var x=h.V++,E=It(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",x),Qe(E,"TYPE","terminate"),da(h,E),x=new hi(h,h.j,x),x.M=2,x.A=oa(It(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=x.A,E=!0),E||(x.g=sh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ji(x)}nh(h)}function Zs(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function lo(h){Zs(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!jl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ae||C(),ie||(ae(),ie=!0),I.add(x,h),h.D=0}}function uo(h,x){return Oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(p(h.Ea,h,x),th(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new hi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=z(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=Wc(this,G,x),E=It(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),da(this,E),Q&&(this.R?x="headers="+ls(Kn(Q))+"&"+x:this.u&&ca(E,this.u,Q)),Ml(this.h,G),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",x),Qe(E,"SID","null"),G.U=!0,ki(G,E,null)):ki(G,E,x),this.I=2}}else this.I==3&&(h?Gl(this,h):this.i.length==0||jl(this.h)||Gl(this))};function Gl(h,x){var E;x?E=x.l:E=h.V++;const R=It(h.J);Qe(R,"SID",h.M),Qe(R,"RID",E),Qe(R,"AID",h.K),da(h,R),h.u&&h.o&&ca(R,h.u,h.o),E=new hi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Wc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ml(h.h,E),ki(E,R,x)}function da(h,x){h.H&&Ie(h.H,function(E,R){Qe(x,R,E)}),h.l&&Ie({},function(E,R){Qe(x,R,E)})}function Wc(h,x,E){E=Math.min(h.i.length,E);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ce=-1;for(;;){const Tt=["count="+E];Ce==-1?E>0?(Ce=G[0].g,Tt.push("ofs="+Ce)):Ce=0:Tt.push("ofs="+Ce);let Ke=!0;for(let ct=0;ct<E;ct++){var Q=G[ct].g;const $n=G[ct].map;if(Q-=Ce,Q<0)Ce=Math.max(0,G[ct].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=$n instanceof Map?$n:Object.entries($n);for(const[qi,gi]of le){let yi=gi;f(gi)&&(yi=qs(gi)),Tt.push(Q+qi+"="+encodeURIComponent(yi))}}catch(qi){throw Tt.push(Q+"type="+encodeURIComponent("_badmap")),qi}}catch{R&&R($n)}}if(Ke){le=Tt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),x.G=h,le}function Zc(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ae||C(),ie||(ae(),ie=!0),I.add(x,h),h.A=0}}function ma(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(p(h.Da,h),th(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Jc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Zs(this),Jc(this))};function Kl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Jc(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=It(h.na);Qe(x,"RID","rpc"),Qe(x,"SID",h.M),Qe(x,"AID",h.K),Qe(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(x,"TO",h.ia),Qe(x,"TYPE","xmlhttp"),da(h,x),h.u&&h.o&&ca(x,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=oa(It(x)),E.u=null,E.R=!0,to(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Zs(this),ma(this),Rt(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function eh(h,x){var E=null;if(h.g==x){co(h),Kl(h),h.g=null;var R=2}else if(Pi(h.h,x))E=x.G,Vl(h.h,x),R=1;else return;if(h.I!=0){if(x.o)if(R==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;R=eo(),zt(R,new Ni(R,E)),Fi(h)}else Zc(h);else if(G=x.m,G==3||G==0&&x.X>0||!(R==1&&uo(h,x)||R==2&&ma(h)))switch(E&&E.length>0&&(x=h.h,x.i=x.i.concat(E)),G){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function th(h,x){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*x}function Hi(h,x){if(h.j.info("Error code "+x),x==2){var E=p(h.bb,h),R=h.Ua;const G=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(R,"https"),oa(R),G?di(R.toString(),E):Bl(R.toString(),E)}else Rt(2);h.I=0,h.l&&h.l.pa(x),nh(h),lo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function nh(h){if(h.I=0,h.ja=[],h.l){const x=Ol(h.h);(x.length!=0||h.i.length!=0)&&(D(h.ja,x),D(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function ih(h,x,E){var R=E instanceof Dn?It(E):new Dn(E);if(R.g!="")x&&(R.g=x+"."+R.g),Gs(R,R.u);else{var G=c.location;R=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const Q=new Dn(null);R&&Gt(Q,R),x&&(Q.g=x),G&&Gs(Q,G),E&&(Q.h=E),R=Q}return E=h.G,x=h.wa,E&&x&&Qe(R,E,x),Qe(R,"VER",h.ka),da(h,R),R}function sh(h,x,E){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Ze(new Ui({ab:E})):new Ze(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}t=rh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(h,x){return new mn(h,x)};function mn(h,x){At.call(this),this.g=new Ws(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new hs(this)}_(mn,At),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ql(this.g)},mn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=qs(h),h=E);x.i.push(new Nt(x.Ya++,h)),x.I==3&&Fi(x)},mn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,mn.Z.N.call(this)};function ah(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const E in x){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}_(ah,Yt);function oh(){Hn.call(this),this.status=1}_(oh,Hn);function hs(h){this.g=h}_(hs,rh),hs.prototype.ra=function(){zt(this.g,"a")},hs.prototype.qa=function(h){zt(this.g,new ah(h))},hs.prototype.pa=function(h){zt(this.g,new oh)},hs.prototype.oa=function(){zt(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,T1=function(){return new Js},b1=function(){return eo()},x1=bt,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Of=ra,Il.COMPLETE="complete",_1=Il,Uc.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",At.prototype.listen=At.prototype.J,Vu=Uc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,v1=Ze}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const PT="@firebase/firestore",LT="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let yl="12.3.0";const Ka=new Qy("@firebase/firestore");function Fo(){return Ka.logLevel}function fe(t,...e){if(Ka.logLevel<=Le.DEBUG){const n=e.map(r0);Ka.debug(`Firestore (${yl}): ${t}`,...n)}}function Vs(t,...e){if(Ka.logLevel<=Le.ERROR){const n=e.map(r0);Ka.error(`Firestore (${yl}): ${t}`,...n)}}function il(t,...e){if(Ka.logLevel<=Le.WARN){const n=e.map(r0);Ka.warn(`Firestore (${yl}): ${t}`,...n)}}function r0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,E1(t,s,n)}function E1(t,e,n){let s=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vs(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||E1(e,a,s)}function Re(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class w1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class QM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XM{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new w1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class WM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new WM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class a0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=eV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function Wg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return pg(a)===pg(l)?Ue(a,l):pg(a)?1:-1}return Ue(t.length,e.length)}const tV=55296,nV=57343;function pg(t){const e=t.charCodeAt(0);return e>=tV&&e<=nV}function sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const zT="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),a=Qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):Wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class it extends Qi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const iV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Qi{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return iV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new nn([zT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function S1(t,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sV(t,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BT(t){if(!ye.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FT(t){if(ye.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!A1(t))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}const HT=-62135596800,qT=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*qT);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HT)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-HT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Lt("string",lt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function rV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Pr(a,ye.empty(),e)}function aV(t){return new Pr(t.readTime,t.key,tc)}class Pr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Pr(we.min(),ye.empty(),tc)}static max(){return new Pr(we.max(),ye.empty(),tc)}}function oV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const lV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==lV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function cV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;const o0=-1;function kd(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function hV(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const R1="";function fV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=GT(e)),e=dV(t.get(n),e);return GT(e)}function dV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case R1:n+="";break;default:n+=l}}return n}function GT(t){return t+R1+""}function KT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pf(this.root,e,this.comparator,!0)}}class pf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new tn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $T(this.data.getIterator())}getIteratorFrom(e){return new $T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class $T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new N1("Invalid base64 string: "+l):l}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const mV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=mV.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}const I1="server_timestamp",D1="__type__",k1="__previous_value__",j1="__local_write_time__";function l0(t){return(t?.mapValue?.fields||{})[D1]?.stringValue===I1}function jd(t){const e=t.mapValue.fields[k1];return l0(e)?jd(e):e}function nc(t){const e=Lr(t.mapValue.fields[j1].timestampValue);return new lt(e.seconds,e.nanos)}class pV{constructor(e,n,s,a,l,c,f,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const td="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}const M1="__type__",gV="__max__",gf={mapValue:{}},V1="__vector__",nd="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l0(t)?4:vV(t)?9007199254740991:yV(t)?10:11:be(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Lr(a.timestampValue),f=Lr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ur(a.bytesValue).isEqual(Ur(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),f=St(l.doubleValue);return c===f?ed(c)===ed(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(KT(c)!==KT(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!rs(c[m],f[m])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function sc(t,e){return(t.values||[]).find((n=>rs(n,e)))!==void 0}function rl(t,e){if(t===e)return 0;const n=zr(t),s=zr(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=St(l.integerValue||l.doubleValue),m=St(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return YT(t.timestampValue,e.timestampValue);case 4:return YT(nc(t),nc(e));case 5:return Wg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ur(l),m=Ur(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Ue(f[p],m[p]);if(v!==0)return v}return Ue(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(St(l.latitude),St(c.latitude));return f!==0?f:Ue(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return QT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[nd]?.arrayValue,v=m[nd]?.arrayValue,_=Ue(p?.values?.length||0,v?.values?.length||0);return _!==0?_:QT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===gf.mapValue&&c===gf.mapValue)return 0;if(l===gf.mapValue)return 1;if(c===gf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const b=Wg(m[_],v[_]);if(b!==0)return b;const w=rl(f[m[_]],p[v[_]]);if(w!==0)return w}return Ue(m.length,v.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function YT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Lr(t),s=Lr(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function QT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function al(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Lr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ur(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Zg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Zg(n.fields[c])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Pf(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Pf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Xr(s.fields,((l,c)=>{a+=l.length+Pf(c)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function XT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jg(t){return!!t&&"integerValue"in t}function u0(t){return!!t&&"arrayValue"in t}function WT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lf(t){return!!t&&"mapValue"in t}function yV(t){return(t?.mapValue?.fields||{})[M1]?.stringValue===V1}function Fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fu(t.arrayValue.values[n]);return e}return{...t}}function vV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gV}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(n)}setAll(e){let n=nn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Fu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Lf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new An(Fu(this.value))}}function O1(t){const e=[];return Xr(t.fields,((n,s)=>{const a=new nn([n]);if(Lf(s)){const l=O1(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}class cn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,we.min(),we.min(),we.min(),An.empty(),0)}static newFoundDocument(e,n,s,a){return new cn(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new cn(e,2,n,we.min(),we.min(),An.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,we.min(),we.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class id{constructor(e,n){this.position=e,this.inclusive=n}}function JT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=rl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class P1{}class Pt extends P1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bV(e,n,s):n==="array-contains"?new wV(e,s):n==="in"?new SV(e,s):n==="not-in"?new AV(e,s):n==="array-contains-any"?new RV(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new TV(e,s):new EV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends P1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ai(e,n)}matches(e){return L1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L1(t){return t.op==="and"}function U1(t){return xV(t)&&L1(t)}function xV(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function ey(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(U1(t))return t.filters.map((e=>ey(e))).join(",");{const e=t.filters.map((n=>ey(n))).join(",");return`${t.op}(${e})`}}function z1(t,e){return t instanceof Pt?(function(s,a){return a instanceof Pt&&s.op===a.op&&s.field.isEqual(a.field)&&rs(s.value,a.value)})(t,e):t instanceof Ai?(function(s,a){return a instanceof Ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&z1(c,a.filters[f])),!0):!1})(t,e):void be(19439)}function B1(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(t):t instanceof Ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(B1).join(" ,")+"}"})(t):"Filter"}class bV extends Pt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TV extends Pt{constructor(e,n){super(e,"in",n),this.keys=F1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class EV extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=F1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F1(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class wV extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u0(n)&&sc(n.arrayValue,this.value)}}class SV extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class AV extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class RV extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>sc(this.value.arrayValue,s)))}}class CV{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function tE(t,e=null,n=[],s=[],a=null,l=null,c=null){return new CV(t,e,n,s,a,l,c)}function c0(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ey(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=n}return e.Te}function h0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function ty(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xl{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NV(t,e,n,s,a,l,c,f){return new xl(t,e,n,s,a,l,c,f)}function Md(t){return new xl(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H1(t){return t.collectionGroup!==null}function Hu(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ht(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new rc(l,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new rc(nn.keyField(),s))}return e.Ie}function Ji(t){const e=Re(t);return e.Ee||(e.Ee=IV(e,Hu(t))),e.Ee}function IV(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new rc(a.field,l)}));const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ny(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sd(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return h0(Ji(t),Ji(e))&&t.limitType===e.limitType}function q1(t){return`${c0(Ji(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>B1(a))).join(", ")}]`),kd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${s})`})(Ji(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=JT(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Hu(s),a)||s.endAt&&!(function(c,f,m){const p=JT(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Hu(s),a))})(t,e)}function DV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G1(t){return(e,n)=>{let s=!1;for(const a of Hu(t)){const l=kV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function kV(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?rl(m,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}const jV=new pt(ye.comparator);function Os(){return jV}const K1=new pt(ye.comparator);function Ou(...t){let e=K1;for(const n of t)e=e.insert(n.key,n);return e}function $1(t){let e=K1;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ma(){return qu()}function Y1(){return qu()}function qu(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const MV=new pt(ye.comparator),VV=new Ht(ye.comparator);function ze(...t){let e=VV;for(const n of t)e=e.add(n);return e}const OV=new Ht(Ue);function PV(){return OV}function f0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function Q1(t){return{integerValue:""+t}}function LV(t,e){return hV(e)?Q1(e):f0(t,e)}class Pd{constructor(){this._=void 0}}function UV(t,e,n){return t instanceof ac?(function(a,l){const c={fields:{[D1]:{stringValue:I1},[j1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&l0(l)&&(l=jd(l)),l&&(c.fields[k1]=l),{mapValue:c}})(n,e):t instanceof oc?W1(t,e):t instanceof lc?Z1(t,e):(function(a,l){const c=X1(a,l),f=iE(c)+iE(a.Ae);return Jg(c)&&Jg(a.Ae)?Q1(f):f0(a.serializer,f)})(t,e)}function zV(t,e,n){return t instanceof oc?W1(t,e):t instanceof lc?Z1(t,e):n}function X1(t,e){return t instanceof rd?(function(s){return Jg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ac extends Pd{}class oc extends Pd{constructor(e){super(),this.elements=e}}function W1(t,e){const n=J1(e);for(const s of t.elements)n.some((a=>rs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends Pd{constructor(e){super(),this.elements=e}}function Z1(t,e){let n=J1(e);for(const s of t.elements)n=n.filter((a=>!rs(a,s)));return{arrayValue:{values:n}}}class rd extends Pd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iE(t){return St(t.integerValue||t.doubleValue)}function J1(t){return u0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class BV{constructor(e,n){this.field=e,this.transform=n}}function FV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof oc&&a instanceof oc||s instanceof lc&&a instanceof lc?sl(s.elements,a.elements,rs):s instanceof rd&&a instanceof rd?rs(s.Ae,a.Ae):s instanceof ac&&a instanceof ac})(t.transform,e.transform)}class HV{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function eA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nA(t.key,wi.none()):new Sc(t.key,t.data,wi.none());{const n=t.data,s=An.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Wr(t.key,s,new zn(a.toArray()),wi.none())}}function qV(t,e,n){t instanceof Sc?(function(a,l,c){const f=a.value.clone(),m=rE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Wr?(function(a,l,c){if(!Uf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=rE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(tA(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,s){return t instanceof Sc?(function(l,c,f,m){if(!Uf(l.precondition,c))return f;const p=l.value.clone(),v=aE(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Wr?(function(l,c,f,m){if(!Uf(l.precondition,c))return f;const p=aE(l.fieldTransforms,m,c),v=c.data;return v.setAll(tA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return Uf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function GV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=X1(s.transform,a||null);l!=null&&(n===null&&(n=An.empty()),n.set(s.field,l))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sl(s,a,((l,c)=>FV(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends Ld{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wr extends Ld{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function tA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function rE(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,zV(c,f,n[a]))}return s}function aE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,UV(l,c,e))}return s}class nA extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KV extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $V{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&qV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Y1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=eA(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,s)=>sE(n,s)))&&sl(this.baseMutations,e.baseMutations,((n,s)=>sE(n,s)))}}class d0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return MV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new d0(e,n,s,a)}}class YV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QV{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,He;function XV(t){switch(t){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function iA(t){if(t===void 0)return Vs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Vt.OK:return ee.OK;case Vt.CANCELLED:return ee.CANCELLED;case Vt.UNKNOWN:return ee.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ee.INTERNAL;case Vt.UNAVAILABLE:return ee.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ee.NOT_FOUND;case Vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Vt.ABORTED:return ee.ABORTED;case Vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Vt.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:t})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function WV(){return new TextEncoder}const ZV=new Mr([4294967295,4294967295],0);function oE(t){const e=WV().encode(t),n=new y1;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Mr([n,s],0),new Mr([a,l],0)]}class m0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(s<0)throw new Pu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Mr.fromNumber(s)));return a.compare(ZV)===1&&(a=new Mr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oE(e),[s,a]=lE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new m0(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=oE(e),[s,a]=lE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ud{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ud(we.min(),a,new pt(Ue),Os(),ze())}}class Ac{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ac(s,n,ze(),ze(),ze())}}class zf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class sA{constructor(e,n){this.targetId=e,this.Ce=n}}class rA{constructor(e,n,s=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class uE{constructor(){this.ve=0,this.Fe=cE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new Ac(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=cE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=yf(),this.He=yf(),this.Ye=new pt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ty(l))if(s===0){const c=new ye(l.path);this.et(n,c,cn.newNoDocument(c,we.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ur(s).toUint8Array()}catch(m){if(m instanceof N1)return il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new m0(c,a,l)}catch(m){return il(m instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&ty(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,cn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ud(e,n,this.Ye,this.je,s);return this.je=Os(),this.Je=yf(),this.He=yf(),this.Ye=new pt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yf(){return new pt(ye.comparator)}function cE(){return new pt(ye.comparator)}const e4={asc:"ASCENDING",desc:"DESCENDING"},t4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n4={and:"AND",or:"OR"};class i4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||kd(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s4(t,e){return ad(t,e.toTimestamp())}function es(t){return Ye(!!t,49232),we.fromTimestamp((function(n){const s=Lr(n);return new lt(s.seconds,s.nanos)})(t))}function p0(t,e){return sy(t,e).canonicalString()}function sy(t,e){const n=(function(a){return new it(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function oA(t){const e=it.fromString(t);return Ye(fA(e),10190,{key:e.toString()}),e}function ry(t,e){return p0(t.databaseId,e.path)}function gg(t,e){const n=oA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(uA(n))}function lA(t,e){return p0(t.databaseId,e)}function r4(t){const e=oA(t);return e.length===4?it.emptyPath():uA(e)}function ay(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hE(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function a4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ee.UNKNOWN:iA(p.code);return new ce(v,p.message||"")})(c);n=new rA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=gg(t,s.document.name),l=es(s.document.updateTime),c=s.document.createTime?es(s.document.createTime):we.min(),f=new An({mapValue:{fields:s.document.fields}}),m=cn.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new zf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=gg(t,s.document),l=s.readTime?es(s.readTime):we.min(),c=cn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new zf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=gg(t,s.document),l=s.removedTargetIds||[];n=new zf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new QV(a,l),f=s.targetId;n=new sA(f,c)}}return n}function o4(t,e){let n;if(e instanceof Sc)n={update:hE(t,e.key,e.value)};else if(e instanceof nA)n={delete:ry(t,e.key)};else if(e instanceof Wr)n={update:hE(t,e.key,e.data),updateMask:g4(e.fieldMask)};else{if(!(e instanceof KV))return be(16599,{Vt:e.type});n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw be(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:s4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function l4(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(we.min())&&(c=es(l)),new HV(c,a.transformResults||[])})(n,e)))):[]}function u4(t,e){return{documents:[lA(t,e.path)]}}function c4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=lA(t,a);const l=(function(p){if(p.length!==0)return hA(Ai.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:qo(b.field),direction:d4(b.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=iy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function h4(t){let e=r4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const b=cA(_);return b instanceof Ai&&U1(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(D){return new rc(Go(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,kd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,w=_.values||[];return new id(w,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,w=_.values||[];return new id(w,b)})(n.endAt)),NV(e,a,c,l,f,"F",m,p)}function f4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Go(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Go(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(n.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Go(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ai.create(n.compositeFilter.filters.map((s=>cA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function d4(t){return e4[t]}function m4(t){return t4[t]}function p4(t){return n4[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return nn.fromServerFormat(t.fieldPath)}function hA(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(WT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(WT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:m4(n.op),value:n.value}}})(t):t instanceof Ai?(function(n){const s=n.getFilters().map((a=>hA(a)));return s.length===1?s[0]:{compositeFilter:{op:p4(n.op),filters:s}}})(t):be(54877,{filter:t})}function g4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ir{constructor(e,n,s,a,l=we.min(),c=we.min(),f=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y4{constructor(e){this.yt=e}}function v4(t){const e=h4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sd(e,e.limit,"L"):e}class _4{constructor(){this.Cn=new x4}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Pr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class x4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ht(it.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ht(it.comparator)).toArray()}}const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dA=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(dA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const dE="LruGarbageCollector",b4=1048576;function mE([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class T4{constructor(e){this.Ir=e,this.buffer=new Ht(mE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();mE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(dE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?fe(dE,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)}))}}class w4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Dd.ce);const s=new T4(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(fE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Fo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function S4(t,e){return new w4(t,e)}class A4{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class C4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gu(s.mutation,a,zn.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=Ma();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Ou();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ma();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Os();const c=qu(),f=(function(){return qu()})();return n.forEach(((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Wr)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Gu(v.mutation,p,v.mutation.getFieldMask(),lt.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new R4(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=qu();let a=new pt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||zn.empty();v=f.applyToLocalView(p,v),s.set(m,v);const _=(a.get(f.batchId)||ze()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,_=Y1();v.forEach((b=>{if(!l.has(b)){const w=eA(n.get(b),s.get(b));w!==null&&_.set(b,w),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Ma());let f=tc,m=l;return c.next((p=>se.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{m=m.insert(v,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,ze()))).next((v=>({batchId:f,changes:$1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(m=>{const p=(function(_,b){return new xl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,cn.newInvalidDocument(v)))}));let f=Ou();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Gu(v.mutation,p,zn.empty(),lt.now()),Od(n,p)&&(f=f.insert(m,p))})),f}))}}class N4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:v4(a.bundledQuery),readTime:es(a.readTime)}})(n)),se.resolve()}}class I4{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ma();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Ma(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ma(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ma(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return se.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new YV(n,s));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class D4{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class g0{constructor(){this.Qr=new Ht($t.$r),this.Ur=new Ht($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new $t(n,e),a=new $t(n,e+1);let l=ze();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class k4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht($t.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $V(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?o0:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Ue);return n.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ye(l),0);let f=new Ht(Ue);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),se.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class j4{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=Os();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Os();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||oV(aV(v),s)<=0||(a.has(v.key)||Od(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new M4(this)}getSize(e){return se.resolve(this.size)}}class M4 extends A4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class V4{constructor(e){this.persistence=e,this.si=new Qa((n=>c0(n)),h0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new g0,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class mA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dd(0),this.li=!1,this.li=!0,this.hi=new D4,this.referenceDelegate=e(this),this.Pi=new V4(this),this.indexManager=new _4,this.remoteDocumentCache=(function(a){return new j4(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new y4(n),this.Ii=new N4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new k4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new O4(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class O4 extends uV{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.Ri=new g0,this.Vi=null}static mi(e){return new y0(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class od{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>fV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=S4(this,n)}static mi(e,n){return new od(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class v0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new v0(e,n.fromCache,s,a)}}class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class L4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fD()?8:cV(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new P4;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Fo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Fo()<=Le.DEBUG&&fe("QueryEngine","Query:",Ho(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Fo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(n))):se.resolve())}ys(e,n){if(nE(n))return se.resolve(null);let s=Ji(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=sd(n,null,"F"),s=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,sd(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return nE(n)||a.isEqual(we.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?se.resolve(null):(Fo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ho(n)),this.vs(e,c,n,rV(a,tc)).next((f=>f)))}))}Ds(e,n){let s=new Ht(G1(e));return n.forEach(((a,l)=>{Od(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Fo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const _0="LocalStore",U4=3e8;class z4{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(Ue),this.xs=new Qa((l=>c0(l)),h0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function B4(t,e,n,s){return new z4(t,e,n,s)}async function pA(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function F4(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const _=p.batch,b=_.keys();let w=se.resolve();return b.forEach((D=>{w=w.next((()=>v.getEntry(m,D))).next((N=>{const k=p.docVersions.get(D);Ye(k!==null,48541),N.version.compareTo(k)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),v.addEntry(N)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function gA(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function H4(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const b=a.get(_);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(rn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(_,w),(function(N,k,L){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=U4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(b,w,v)&&f.push(n.Pi.updateTargetData(l,w))}));let m=Os(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(q4(l,c,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!s.isEqual(we.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return se.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function q4(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Os();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):fe(_0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function G4(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=o0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function K4(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Ir(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function oy(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!_l(c))throw c;fe(_0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function pE(t,e,n){const s=Re(t);let a=we.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const _=Re(m),b=_.xs.get(v);return b!==void 0?se.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,v)})(s,c,Ji(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:we.min(),n?l:ze()))).next((f=>($4(s,DV(e),f),{documents:f,Qs:l})))))}function $4(t,e,n){let s=t.Os.get(e)||we.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class gE{constructor(){this.activeTargetIds=PV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y4{constructor(){this.Mo=new gE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q4{Oo(e){}shutdown(){}}const yE="ConnectivityMonitor";class vE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(yE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vf=null;function ly(){return vf===null?vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():vf++,"0x"+vf.toString(16)}const yg="RestConnection",X4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===td?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=ly(),f=this.zo(e,n.toUriEncodedString());fe(yg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=$r(p);return this.Jo(e,f,m,s,v).then((_=>(fe(yg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw il(yg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=X4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Z4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class J4 extends W4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=ly();return new Promise(((f,m)=>{const p=new v1;p.setWithCredentials(!0),p.listenOnce(_1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Of.NO_ERROR:const _=p.getResponseJson();fe(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Of.TIMEOUT:fe(ln,`RPC '${e}' ${c} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const b=p.getStatus();if(fe(ln,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const N=(function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN})(D.status);m(new ce(N,D.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(ln,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);fe(ln,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=ly(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=T1(),f=b1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");fe(ln,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);this.I_(_);let b=!1,w=!1;const D=new Z4({Yo:k=>{w?fe(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(fe(ln,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),fe(ln,`RPC '${e}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),N=(k,L,q)=>{k.listen(L,(F=>{try{q(F)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return N(_,Vu.EventType.OPEN,(()=>{w||(fe(ln,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),N(_,Vu.EventType.CLOSE,(()=>{w||(w=!0,fe(ln,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),N(_,Vu.EventType.ERROR,(k=>{w||(w=!0,il(ln,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),N(_,Vu.EventType.MESSAGE,(k=>{if(!w){const L=k.data[0];Ye(!!L,16349);const q=L,F=q?.error||q[0]?.error;if(F){fe(ln,`RPC '${e}' stream ${a} received error:`,F);const oe=F.status;let ae=(function(C){const j=Vt[C];if(j!==void 0)return iA(j)})(oe),ie=F.message;ae===void 0&&(ae=ee.INTERNAL,ie="Unknown error status: "+oe+" with message "+F.message),w=!0,D.a_(new ce(ae,ie)),_.close()}else fe(ln,`RPC '${e}' stream ${a} received:`,L),D.u_(L)}})),N(f,x1.STAT_EVENT,(k=>{k.stat===Xg.PROXY?fe(ln,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Xg.NOPROXY&&fe(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function vg(){return typeof document<"u"?document:null}function zd(t){return new i4(t,!0)}class yA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _E="PersistentStream";class vA{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eO extends vA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?es(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ay(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=ty(m)?{documents:u4(l,m)}:{query:c4(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=aA(l,c.resumeToken);const p=iy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){f.readTime=ad(l,c.snapshotVersion.toTimestamp());const p=iy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=f4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.q_(n)}}class tO extends vA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l4(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>o4(this.serializer,s)))};this.q_(n)}}class nO{}class iO extends nO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,sy(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(ee.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,sy(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class rO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Xa(this)&&(fe($a,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await Rc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Bd(p)})(this))}))})),this.Ra=new sO(s,a)}}async function Bd(t){if(Xa(t))for(const e of t.da)await e(!0)}async function Rc(t){for(const e of t.da)await e(!1)}function _A(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),E0(n)?T0(n):bl(n).O_()&&b0(n,e))}function x0(t,e){const n=Re(t),s=bl(n);n.Ia.delete(e),s.O_()&&xA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xa(n)&&n.Ra.set("Unknown"))}function b0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).Y_(e)}function xA(t,e){t.Va.Ue(e),bl(t).Z_(e)}function T0(t){t.Va=new JV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Ra.ua()}function E0(t){return Xa(t)&&!bl(t).x_()&&t.Ia.size>0}function Xa(t){return Re(t).Ea.size===0}function bA(t){t.Va=void 0}async function aO(t){t.Ra.set("Online")}async function oO(t){t.Ia.forEach(((e,n)=>{b0(t,e)}))}async function lO(t,e){bA(t),E0(t)?(t.Ra.ha(e),T0(t)):t.Ra.set("Unknown")}async function uO(t,e,n){if(t.Ra.set("Online"),e instanceof rA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){fe($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(t,s)}else if(e instanceof zf?t.Va.Ze(e):e instanceof sA?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const s=await gA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),xA(l,m);const _=new Ir(v.target,m,p,v.sequenceNumber);b0(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){fe($a,"Failed to raise snapshot:",s),await ld(t,s)}}async function ld(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await Rc(t),t.Ra.set("Offline"),n||(n=()=>gA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe($a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bd(t)}))}function TA(t,e){return e().catch((n=>ld(t,n,e)))}async function Fd(t){const e=Re(t),n=Br(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:o0;for(;cO(e);)try{const a=await G4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,hO(e,a)}catch(a){await ld(e,a)}EA(e)&&wA(e)}function cO(t){return Xa(t)&&t.Ta.length<10}function hO(t,e){t.Ta.push(e);const n=Br(t);n.O_()&&n.X_&&n.ea(e.mutations)}function EA(t){return Xa(t)&&!Br(t).x_()&&t.Ta.length>0}function wA(t){Br(t).start()}async function fO(t){Br(t).ra()}async function dO(t){const e=Br(t);for(const n of t.Ta)e.ea(n.mutations)}async function mO(t,e,n){const s=t.Ta.shift(),a=d0.from(s,e,n);await TA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Fd(t)}async function pO(t,e){e&&Br(t).X_&&await(async function(s,a){if((function(c){return XV(c)&&c!==ee.ABORTED})(a.code)){const l=s.Ta.shift();Br(s).B_(),await TA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Fd(s)}})(t,e),EA(t)&&wA(t)}async function xE(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe($a,"RemoteStore received new credentials");const s=Xa(n);n.Ea.add(3),await Rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bd(n)}async function gO(t,e){const n=Re(t);e?(n.Ea.delete(2),await Bd(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function bl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new eO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:aO.bind(null,t),t_:oO.bind(null,t),r_:lO.bind(null,t),H_:uO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),E0(t)?T0(t):t.Ra.set("Unknown")):(await t.ma.stop(),bA(t))}))),t.ma}function Br(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new tO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fO.bind(null,t),r_:pO.bind(null,t),ta:dO.bind(null,t),na:mO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Fd(t)):(await t.fa.stop(),t.Ta.length>0&&(fe($a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class w0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new w0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),_l(t))return new ce(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ou(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class bE{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ll{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new ll(e,n,tl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class yO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vO{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=TE(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function TE(){return new Qa((t=>q1(t)),Vd)}async function A0(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new yO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=S0(c,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&C0(n)}async function R0(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _O(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&C0(n)}function xO(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function C0(t){t.Ca.forEach((e=>{e.next()}))}var uy,EE;(EE=uy||(uy={})).Ma="default",EE.Cache="cache";class N0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uy.Cache}}class SA{constructor(e){this.key=e}}class AA{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=G1(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new bE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const b=a.get(v),w=Od(this.query,_)?_:null,D=!!b&&this.mutatedKeys.has(b.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;b&&w?b.data.isEqual(w.data)?D!==N&&(s.track({type:3,doc:w}),k=!0):this.su(b,w)||(s.track({type:2,doc:w}),k=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(f=!0)):!b&&w?(s.track({type:0,doc:w}),k=!0):b&&!w&&(s.track({type:1,doc:b}),k=!0,(m||p)&&(f=!0)),k&&(w?(c=c.add(w),l=N?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(w,D){const N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:k})}};return N(w)-N(D)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new ll(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new AA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new SA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const I0="SyncEngine";class TO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EO{constructor(e){this.key=e,this.hu=!1}}class wO{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qa((f=>q1(f)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new g0,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(t,e,n=!0){const s=kA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await RA(s,e,n,!0),a}async function AO(t,e){const n=kA(t);await RA(n,e,!0,!1)}async function RA(t,e,n,s){const a=await K4(t.localStore,Ji(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await RO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&_A(t.remoteStore,a),f}async function RO(t,e,n,s,a){t.pu=(_,b,w)=>(async function(N,k,L,q){let F=k.view.ru(L);F.Cs&&(F=await pE(N.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,F))));const oe=q&&q.targetChanges.get(k.targetId),ae=q&&q.targetMismatches.get(k.targetId)!=null,ie=k.view.applyChanges(F,N.isPrimaryClient,oe,ae);return SE(N,k.targetId,ie.au),ie.snapshot})(t,_,b,w);const l=await pE(t.localStore,e,!0),c=new bO(e,l.Qs),f=c.ru(l.documents),m=Ac.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);SE(t,n,p.au);const v=new TO(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function CO(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await oy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&x0(s.remoteStore,a.targetId),cy(s,a.targetId)})).catch(vl)):(cy(s,a.targetId),await oy(s.localStore,a.targetId,!0))}async function NO(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),x0(n.remoteStore,s.targetId))}async function IO(t,e,n){const s=PO(t);try{const a=await(function(c,f){const m=Re(c),p=lt.now(),v=f.reduce(((w,D)=>w.add(D.key)),ze());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=Os(),N=ze();return m.Ns.getEntries(w,v).next((k=>{D=k,D.forEach(((L,q)=>{q.isValidDocument()||(N=N.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,D))).next((k=>{_=k;const L=[];for(const q of f){const F=GV(q,_.get(q.key).overlayedDocument);F!=null&&L.push(new Wr(q.key,F,O1(F.value.mapValue),wi.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,L,f)})).next((k=>{b=k;const L=k.applyToLocalDocumentSet(_,N);return m.documentOverlayCache.saveOverlays(w,k.batchId,L)}))})).then((()=>({batchId:b.batchId,changes:$1(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Cc(s,a.changes),await Fd(s.remoteStore)}catch(a){const l=S0(a,"Failed to persist write");n.reject(l)}}async function CA(t,e){const n=Re(t);try{const s=await H4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Cc(n,s,e)}catch(s){await vl(s)}}function wE(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((v,_)=>{for(const b of _.Sa)b.va(f)&&(p=!0)})),p&&C0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DO(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new pt(ye.comparator);c=c.insert(l,cn.newNoDocument(l,we.min()));const f=ze().add(l),m=new Ud(we.min(),new Map,new pt(Ue),c,f);await CA(s,m),s.du=s.du.remove(l),s.Au.delete(e),D0(s)}else await oy(s.localStore,e,!1).then((()=>cy(s,e,n))).catch(vl)}async function kO(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await F4(n.localStore,e);IA(n,s,null),NA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cc(n,a)}catch(a){await vl(a)}}async function jO(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Ye(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);IA(s,e,n),NA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cc(s,a)}catch(a){await vl(a)}}function NA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function IA(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||DA(t,s)}))}function DA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(x0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),D0(t))}function SE(t,e,n){for(const s of n)s instanceof SA?(t.Ru.addReference(s.key,e),MO(t,s)):s instanceof AA?(fe(I0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||DA(t,s.key)):be(19791,{wu:s})}function MO(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(I0,"New document in limbo: "+n),t.Eu.add(s),D0(t))}function D0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(it.fromString(e)),s=t.fu.next();t.Au.set(s,new EO(n)),t.du=t.du.insert(n,s),_A(t.remoteStore,new Ir(Ji(Md(n.path)),s,"TargetPurposeLimboResolution",Dd.ce))}}async function Cc(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=v0.As(m.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(p,(b=>se.forEach(b.Es,(w=>v.persistence.referenceDelegate.addReference(_,b.targetId,w))).next((()=>se.forEach(b.ds,(w=>v.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))))))}catch(_){if(!_l(_))throw _;fe(_0,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const w=v.Ms.get(b),D=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(b,N)}}})(s.localStore,l))}async function VO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(I0,"User change. New user:",e.toKey());const s=await pA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ce(ee.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cc(n,s.Ls)}}function OO(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function kA(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DO.bind(null,e),e.Pu.H_=_O.bind(null,e.eventManager),e.Pu.yu=xO.bind(null,e.eventManager),e}function PO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return B4(this.persistence,new L4,e.initialUser,this.serializer)}Cu(e){return new mA(y0.mi,this.serializer)}Du(e){return new Y4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class LO extends ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof od,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new E4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new mA((s=>od.mi(s,n)),this.serializer)}}class hy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VO.bind(null,this.syncEngine),await gO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vO})()}createDatastore(e){const n=zd(e.databaseInfo.databaseId),s=(function(l){return new J4(l)})(e.databaseInfo);return(function(l,c,f,m){return new iO(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new rO(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return vE.v()?new vE:new Q4})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,v){const _=new wO(a,l,c,f,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);fe($a,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hy.provider={build:()=>new hy};class k0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fr="FirestoreClient";class UO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=a0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{fe(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=S0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await pA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function AE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zO(t);fe(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>xE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>xE(e.remoteStore,a))),t._onlineComponents=e}async function zO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Fr,"Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new ud)}}else fe(Fr,"Using default OfflineComponentProvider"),await _g(t,new LO(void 0));return t._offlineComponents}async function jA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Fr,"Using user provided OnlineComponentProvider"),await AE(t,t._uninitializedComponentsProvider._online)):(fe(Fr,"Using default OnlineComponentProvider"),await AE(t,new hy))),t._onlineComponents}function BO(t){return jA(t).then((e=>e.syncEngine))}async function cd(t){const e=await jA(t),n=e.eventManager;return n.onListen=SO.bind(null,e.syncEngine),n.onUnlisten=CO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NO.bind(null,e.syncEngine),n}function FO(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new k0({next:b=>{v.Nu(),c.enqueueAndForget((()=>R0(l,_)));const w=b.docs.has(f);!w&&b.fromCache?p.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new N0(Md(f.path),v,{includeMetadataChanges:!0,qa:!0});return A0(l,_)})(await cd(t),t.asyncQueue,e,n,s))),s.promise}function HO(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new k0({next:b=>{v.Nu(),c.enqueueAndForget((()=>R0(l,_))),b.fromCache&&m.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new N0(f,v,{includeMetadataChanges:!0,qa:!0});return A0(l,_)})(await cd(t),t.asyncQueue,e,n,s))),s.promise}function MA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const RE=new Map;const VA="firestore.googleapis.com",CE=!0;class NE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VA,this.ssl=CE}else this.host=e.host,this.ssl=e.ssl??CE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b4)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YM;switch(s.type){case"firstParty":return new ZM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=RE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),RE.delete(n),s.terminate())})(this),Promise.resolve()}}function qO(t,e,n,s={}){t=Bn(t,Hd);const a=$r(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&($y(`https://${f}`),Yy("Firestore",!0)),l.host!==VA&&l.host!==f&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Fa(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=un.MOCK_USER;else{p=iD(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(_)}t._authCredentials=new QM(new w1(p,v))}}class Bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wc(n,_t._jsonSchema))return new _t(e,s||null,new ye(it.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Lt("string",_t._jsonSchemaVersion),referencePath:Lt("string")};class Vr extends Bs{constructor(e,n,s){super(e,n,Md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ye(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function as(t,e,...n){if(t=xt(t),S1("collection","path",e),t instanceof Hd){const s=it.fromString(e,...n);return FT(s),new Vr(t,null,s)}{if(!(t instanceof _t||t instanceof Vr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return FT(s),new Vr(t.firestore,null,s)}}function an(t,e,...n){if(t=xt(t),arguments.length===1&&(e=a0.newId()),S1("doc","path",e),t instanceof Hd){const s=it.fromString(e,...n);return BT(s),new _t(t,null,new ye(s))}{if(!(t instanceof _t||t instanceof Vr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return BT(s),new _t(t.firestore,t instanceof Vr?t.converter:null,new ye(s))}}const IE="AsyncQueue";class DE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yA(this,"async_queue_retry"),this._c=()=>{const s=vg();s&&fe(IE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;fe(IE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",kE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=w0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function jE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Hr extends Hd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new DE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function GO(t,e){const n=typeof t=="object"?t:Ad(),s=typeof t=="string"?t:td,a=Sd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=NS("firestore");l&&qO(a,...l)}return a}function qd(t){if(t._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KO(t),t._firestoreClient}function KO(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new pV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,MA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(rn.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Lt("string",ii._jsonSchemaVersion),bytes:Lt("string")};class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kd{constructor(e){this._methodName=e}}class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(wc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Lt("string",ts._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class ns{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ns(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Lt("string",ns._jsonSchemaVersion),vectorValues:Lt("object")};const $O=/^__.*__$/;class YO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class OA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class j0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new j0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PA(this.Ac)&&$O.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zd(e)}Cc(e,n,s,a=!1){return new j0({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $d(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new QO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);V0("Data must be an object, but it was:",c,s);const f=UA(s,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const b=fy(e,_,n);if(!c.contains(b))throw new ce(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);BA(v,b)||v.push(b)}m=new zn(v),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new YO(new An(f),m,p)}class Yd extends Kd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}class M0 extends Kd{_toFieldTransform(e){return new BV(e.path,new ac)}isEqual(e){return e instanceof M0}}function XO(t,e,n,s){const a=t.Cc(1,e,n);V0("Data must be an object, but it was:",a,s);const l=[],c=An.empty();Xr(s,((m,p)=>{const v=O0(e,m,n);p=xt(p);const _=a.yc(v);if(p instanceof Yd)l.push(v);else{const b=Nc(p,_);b!=null&&(l.push(v),c.set(v,b))}}));const f=new zn(l);return new OA(c,f,a.fieldTransforms)}function WO(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[fy(e,s,n)],m=[a];if(l.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(fy(e,l[b])),m.push(l[b+1]);const p=[],v=An.empty();for(let b=f.length-1;b>=0;--b)if(!BA(p,f[b])){const w=f[b];let D=m[b];D=xt(D);const N=c.yc(w);if(D instanceof Yd)p.push(w);else{const k=Nc(D,N);k!=null&&(p.push(w),v.set(w,k))}}const _=new zn(p);return new OA(v,_,c.fieldTransforms)}function ZO(t,e,n,s=!1){return Nc(n,t.Cc(s?4:3,e))}function Nc(t,e){if(zA(t=xt(t)))return V0("Unsupported field value:",e,t),UA(t,e);if(t instanceof Kd)return(function(s,a){if(!PA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Nc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:ad(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(a.serializer,l)}}if(s instanceof ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ii)return{bytesValue:aA(a.serializer,s._byteString)};if(s instanceof _t){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:p0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ns)return(function(c,f){return{mapValue:{fields:{[M1]:{stringValue:V1},[nd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return f0(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Id(s)}`)})(t,e)}function UA(t,e){const n={};return C1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(t,((s,a)=>{const l=Nc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function zA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof ts||t instanceof ii||t instanceof _t||t instanceof Kd||t instanceof ns)}function V0(t,e,n){if(!zA(n)||!A1(n)){const s=Id(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function fy(t,e,n){if((e=xt(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return O0(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const JO=new RegExp("[~\\*/\\[\\]]");function O0(t,e,n){if(e.search(JO)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ce(ee.INVALID_ARGUMENT,f+t+m)}function BA(t,e){return t.some((n=>n.isEqual(e)))}class FA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eP extends FA{data(){return super.data()}}function Qd(t,e){return typeof e=="string"?O0(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}function HA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{}class L0 extends P0{}function Zr(t,e,...n){let s=[];e instanceof P0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof U0)).length,f=l.filter((m=>m instanceof Xd)).length;if(c>1||c>0&&f>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Xd extends L0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xd(e,n,s)}_apply(e){const n=this._parse(e);return qA(e._query,n),new Bs(e.firestore,e.converter,ny(e._query,n))}_parse(e){const n=$d(e.firestore);return(function(l,c,f,m,p,v,_){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){VE(_,v);const D=[];for(const N of _)D.push(ME(m,l,N));b={arrayValue:{values:D}}}else b=ME(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||VE(_,v),b=ZO(f,c,_,v==="in"||v==="not-in");return Pt.create(p,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ic(t,e,n){const s=e,a=Qd("where",t);return Xd._create(a,s,n)}class U0 extends P0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)qA(c,m),c=ny(c,m)})(e._query,n),new Bs(e.firestore,e.converter,ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z0 extends L0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(l,c)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new xl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Dc(t,e="asc"){const n=e,s=Qd("orderBy",t);return z0._create(s,n)}class B0 extends L0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new B0(e,n,s)}_apply(e){return new Bs(e.firestore,e.converter,sd(e._query,this._limit,this._limitType))}}function tP(t){return B0._create("limit",t,"F")}function ME(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H1(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return XT(t,new ye(s))}if(n instanceof _t)return XT(t,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function VE(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qA(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nP{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[nd].arrayValue?.values?.map((s=>St(s.doubleValue)));return new ns(n)}convertGeoPoint(e){return new ts(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(fA(s),9688,{name:e});const a=new ic(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function GA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends FA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Lt("string",Pa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Bf extends Pa{data(e={}){return super.data(e)}}class La{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Bf(this._firestore,this._userDataWriter,s.key,s,new Lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:iP(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function Fs(t){t=Bn(t,_t);const e=Bn(t.firestore,Hr);return FO(qd(e),t._key).then((n=>KA(e,t,n)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Lt("string",La._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class F0 extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function qr(t){t=Bn(t,Bs);const e=Bn(t.firestore,Hr),n=qd(e),s=new F0(e);return HA(t._query),HO(n,t._query).then((a=>new La(e,s,t,a)))}function Wd(t,e,n){t=Bn(t,_t);const s=Bn(t.firestore,Hr),a=GA(t.converter,e,n);return H0(s,[LA($d(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function Zd(t,e,n,...s){t=Bn(t,_t);const a=Bn(t.firestore,Hr),l=$d(a);let c;return c=typeof(e=xt(e))=="string"||e instanceof Gd?WO(l,"updateDoc",t._key,e,n,s):XO(l,"updateDoc",t._key,e),H0(a,[c.toMutation(t._key,wi.exists(!0))])}function sP(t,e){const n=Bn(t.firestore,Hr),s=an(t),a=GA(t.converter,e);return H0(n,[LA($d(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function rP(t,...e){t=xt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,f;if(t instanceof _t)c=Bn(t.firestore,Hr),f=Md(t._key.path),l={next:m=>{e[s]&&e[s](KA(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Bn(t,Bs);c=Bn(m.firestore,Hr),f=m._query;const p=new F0(c);l={next:v=>{e[s]&&e[s](new La(c,p,m,v))},error:e[s+1],complete:e[s+2]},HA(t._query)}return(function(p,v,_,b){const w=new k0(b),D=new N0(v,w,_);return p.asyncQueue.enqueueAndForget((async()=>A0(await cd(p),D))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>R0(await cd(p),D)))}})(qd(c),f,a,l)}function H0(t,e){return(function(s,a){const l=new Ds;return s.asyncQueue.enqueueAndForget((async()=>IO(await BO(s),a,l))),l.promise})(qd(t),e)}function KA(t,e,n){const s=n.docs.get(e._key),a=new F0(t);return new Pa(t,a,e._key,s,new Lu(n.hasPendingWrites,n.fromCache),e.converter)}function fd(){return new M0("serverTimestamp")}(function(e,n=!0){(function(a){yl=a})(pl),Ha(new Or("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Hr(new XM(s.getProvider("auth-internal")),new JM(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Xi(PT,LT,e),Xi(PT,LT,"esm2020")})();const aP="type.googleapis.com/google.protobuf.Int64Value",oP="type.googleapis.com/google.protobuf.UInt64Value";function $A(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function dd(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>dd(e));if(typeof t=="function"||typeof t=="object")return $A(t,e=>dd(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ul(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case aP:case oP:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ul(e)):typeof t=="function"||typeof t=="object"?$A(t,e=>ul(e)):t}const q0="functions";const OE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rn extends os{constructor(e,n,s){super(`${q0}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,Rn.prototype)}}function lP(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function md(t,e){let n=lP(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!OE[c])return new Rn("internal","internal");n=OE[c],s=c}const f=l.message;typeof f=="string"&&(s=f),a=l.details,a!==void 0&&(a=ul(a))}}catch{}return n==="ok"?null:new Rn(n,s,a)}class uP{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}const dy="us-central1",cP=/^data: (.*?)(?:\n|$)/;function hP(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new Rn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class fP{constructor(e,n,s,a,l=dy,c=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new uP(e,n,s,a),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=dy}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function dP(t,e,n){const s=$r(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&($y(t.emulatorOrigin+"/backends"),Yy("Functions",!0))}function mP(t,e,n){const s=a=>gP(t,e,a,{});return s.stream=(a,l)=>vP(t,e,a,l),s}function YA(t){return t.emulatorOrigin&&$r(t.emulatorOrigin)?"include":void 0}async function pP(t,e,n,s,a){n["Content-Type"]="application/json";let l;try{l=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:YA(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function QA(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function gP(t,e,n,s){const a=t._url(e);return yP(t,a,n,s)}async function yP(t,e,n,s){n=dd(n);const a={data:n},l=await QA(t,s),c=s.timeout||7e4,f=hP(c),m=await Promise.race([pP(e,a,l,t.fetchImpl,t),f.promise,t.cancelAllRequests]);if(f.cancel(),!m)throw new Rn("cancelled","Firebase Functions instance was deleted.");const p=md(m.status,m.json);if(p)throw p;if(!m.json)throw new Rn("internal","Response is not valid JSON object.");let v=m.json.data;if(typeof v>"u"&&(v=m.json.result),typeof v>"u")throw new Rn("internal","Response is missing data field.");return{data:ul(v)}}function vP(t,e,n,s){const a=t._url(e);return _P(t,a,n,s||{})}async function _P(t,e,n,s){n=dd(n);const a={data:n},l=await QA(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal,credentials:YA(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const D=new Rn("cancelled","Request was cancelled.");return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}const w=md(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let f,m;const p=new Promise((b,w)=>{f=b,m=w});s?.signal?.addEventListener("abort",()=>{const b=new Rn("cancelled","Request was cancelled.");m(b)});const v=c.body.getReader(),_=xP(v,f,m,s?.signal);return{stream:{[Symbol.asyncIterator](){const b=_.getReader();return{async next(){const{value:w,done:D}=await b.read();return{value:w,done:D}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function xP(t,e,n,s){const a=(c,f)=>{const m=c.match(cP);if(!m)return;const p=m[1];try{const v=JSON.parse(p);if("result"in v){e(ul(v.result));return}if("message"in v){f.enqueue(ul(v.message));return}if("error"in v){const _=md(0,v);f.error(_),n(_);return}}catch(v){if(v instanceof Rn){f.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(c){let f="";return m();async function m(){if(s?.aborted){const p=new Rn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:v}=await t.read();if(v){f.trim()&&a(f.trim(),c),c.close();return}if(s?.aborted){const b=new Rn("cancelled","Request was cancelled");c.error(b),n(b),await t.cancel();return}f+=l.decode(p,{stream:!0});const _=f.split(`
`);f=_.pop()||"";for(const b of _)b.trim()&&a(b.trim(),c);return m()}catch(p){const v=p instanceof Rn?p:md(0,null);c.error(v),n(v)}}},cancel(){return t.cancel()}})}const PE="@firebase/functions",LE="0.13.1";const bP="auth-internal",TP="app-check-internal",EP="messaging-internal";function wP(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(bP),c=n.getProvider(EP),f=n.getProvider(TP);return new fP(a,l,c,f,s)};Ha(new Or(q0,e,"PUBLIC").setMultipleInstances(!0)),Xi(PE,LE,t),Xi(PE,LE,"esm2020")}function SP(t=Ad(),e=dy){const s=Sd(xt(t),q0).getImmediate({identifier:e}),a=NS("functions");return a&&AP(s,...a),s}function AP(t,e,n){dP(xt(t),e,n)}function RP(t,e,n){return mP(xt(t),e)}wP();const CP={apiKey:"AIzaSyDERq4e6x6pkVvlQEdLdQU0464SVyb_hrE",authDomain:"immobot-dc818.firebaseapp.com",projectId:"immobot-dc818",storageBucket:"immobot-dc818.firebasestorage.app",messagingSenderId:"601427046911",appId:"1:601427046911:web:c8248a89433a711ef8b7ca"},XA=xk().length?Ad():MS(CP),pd=qM(XA),st=GO(XA),NP=SP(void 0,"europe-west1"),WA=A.createContext(null),Fn=()=>A.useContext(WA);function IP({children:t}){const[e,n]=A.useState(null),[s,a]=A.useState(null),[l,c]=A.useState(!1);A.useEffect(()=>{const m=kj(pd,async p=>{if(n(p||null),p){const v=await Fs(an(st,"users",p.uid));a(v.exists()&&v.data()?.role||null)}else a(null);c(!0)});return()=>m()},[]);const f={user:e,role:s,ready:l,logout:()=>jj(pd)};return g.jsx(WA.Provider,{value:f,children:t})}function G0(){const{user:t,role:e,logout:n,ready:s}=Fn(),[a,l]=A.useState(!1),c=A.useRef(null);if(A.useEffect(()=>{function v(_){c.current&&!c.current.contains(_.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),!s||!t)return null;const f=e==="admin",m=t?.firstName||t?.email?.split("@")[0]||"U",p=m.charAt(0).toUpperCase();return g.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:g.jsxs("div",{className:"flex justify-between items-center h-full",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs(sn,{to:"/dashboard",className:"flex items-center gap-2 group",children:[g.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-sm group-hover:bg-indigo-700 transition",children:"I"}),g.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Immobot"})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[g.jsx(UE,{to:"/dashboard",children:"Dashboard"}),f&&g.jsx(UE,{to:"/admin",activeColor:"text-indigo-600",children:"Admin"})]})]}),g.jsxs("div",{className:"relative ml-auto",ref:c,children:[g.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-3 p-1 rounded-full hover:bg-gray-100 transition focus:outline-none focus:ring-2 focus:ring-indigo-500/20",children:[g.jsxs("div",{className:"hidden sm:block text-right mr-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700 leading-none",children:m}),g.jsx("p",{className:"text-xs text-gray-400 mt-1 uppercase tracking-wide",children:f?"Admin":"User"})]}),g.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white",children:p})]}),a&&g.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-2",children:[g.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 sm:hidden",children:[g.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),g.jsx(sn,{to:"/dashboard/profile",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",children:"Mein Profil"}),f&&g.jsx(sn,{to:"/admin",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 md:hidden",children:"Admin Bereich"}),g.jsx("div",{className:"my-1 border-t border-gray-100"}),g.jsx("button",{onClick:n,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Abmelden"})]})]})]})})})}function UE({to:t,children:e,activeColor:n="text-gray-900"}){return g.jsx(sn,{to:t,className:`text-sm font-medium text-gray-500 hover:${n} hover:bg-gray-50 px-3 py-2 rounded-md transition-all`,children:e})}function DP(){const t=Us(),n=!["/login"].includes(t.pathname);return g.jsxs("div",{className:"min-h-screen ",children:[n&&g.jsx(G0,{}),g.jsx("main",{className:"min-h-[calc(100vh-64px)]",children:g.jsx(qy,{})})]})}function kP(){return g.jsxs("div",{className:"min-h-screen",children:[g.jsx(G0,{}),g.jsx("main",{className:"p-6",children:g.jsx(qy,{})})]})}function jP(){return g.jsxs("div",{className:"min-h-screen",children:[g.jsx(G0,{}),g.jsx("main",{className:"p-6",children:g.jsx(qy,{})})]})}function uc({value:t}){return t==null?g.jsx("span",{className:"text-gray-400",children:""}):typeof t?.toDate=="function"?g.jsx("span",{children:t.toDate().toLocaleString("de-DE")}):Array.isArray(t)?g.jsx("ul",{className:"list-disc ml-5 space-y-1",children:t.map((e,n)=>g.jsx("li",{children:g.jsx(uc,{value:e})},n))}):typeof t=="object"?g.jsx("div",{className:"space-y-1 ml-4 border-l pl-3",children:Object.entries(t).map(([e,n])=>g.jsxs("div",{children:[g.jsx("div",{className:"text-xs text-gray-500",children:e}),g.jsx(uc,{value:n})]},e))}):typeof t=="boolean"?g.jsx("span",{children:t?"Ja":"Nein"}):g.jsx("span",{children:String(t)})}function MP({user:t}){const e=t.stripeStatus||"unbekannt",n=e==="paid"||e==="active",a=n?"bg-emerald-500":e==="canceled"?"bg-red-500":"bg-gray-400",l=t.stripeCustomerId?`https://dashboard.stripe.com/customers/${t.stripeCustomerId}`:null;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${a} relative z-10`}),n&&g.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-400 animate-ping opacity-75"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Abo-Status"}),g.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:e})]})]}),g.jsxs("div",{className:"sm:text-right",children:[g.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Letzte Zahlung"}),g.jsx("p",{className:"text-sm font-mono text-gray-700",children:t.stripeLastPayment?new Date(t.stripeLastPayment).toLocaleDateString("de-DE"):""})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(xg,{label:"Stripe Customer ID",value:t.stripeCustomerId,icon:g.jsx(VP,{})}),g.jsx(xg,{label:"Subscription ID",value:t.stripeSubscriptionId,icon:g.jsx(OP,{})}),g.jsx("div",{className:"md:col-span-2",children:g.jsx(xg,{label:"Checkout Session ID",value:t.stripeCheckoutSessionId,icon:g.jsx(PP,{}),isWide:!0})})]}),l&&g.jsx("div",{className:"pt-2 border-t border-gray-100",children:g.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors group",children:["Kunde im Stripe Dashboard ffnen",g.jsx("svg",{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})}function xg({label:t,value:e,icon:n,isWide:s}){const[a,l]=A.useState(!1),c=()=>{e&&(navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3))};return g.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-3 hover:border-indigo-300 transition-all duration-200",children:[g.jsxs("div",{className:"flex items-start justify-between mb-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[n,g.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t})]}),e&&g.jsx("button",{onClick:c,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-indigo-600",title:"Kopieren",children:a?g.jsx("span",{className:"text-[10px] font-bold text-green-600",children:"Kopiert!"}):g.jsx(LP,{})})]}),g.jsx("div",{className:`text-xs font-mono text-gray-700 truncate ${s?"w-full":"max-w-[200px]"}`,title:e,children:e||g.jsx("span",{className:"text-gray-300 italic",children:"Nicht vorhanden"})})]})}function VP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function OP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}function PP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function LP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function UP(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Radius: ${s} km`),(a!==""||l!=="")&&c.push(`Preis: ${a||"0"}${l||""}`),c.join("  ")}function zP({uid:t}){const[e,n]=A.useState([]),[s,a]=A.useState(!0),[l,c]=A.useState({});A.useEffect(()=>{if(!t)return;(async()=>{try{const p=Zr(as(st,"searchEvents"),Ic("uid","==",t),Dc("createdAt","desc")),_=(await qr(p)).docs.map(w=>({id:w.id,...w.data(),createdAtDate:w.data().createdAt?.toDate?w.data().createdAt.toDate():null}));n(_);const b={};_.forEach(w=>b[w.id]=!1),c(b)}catch(p){console.error("Error loading search history:",p)}finally{a(!1)}})()},[t]);const f=m=>{const p={};e.forEach(v=>p[v.id]=m),c(p)};return s?g.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsxs("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:[e.length," ",e.length===1?"Eintrag":"Eintrge"]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"Alle ffnen"}),g.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Alle schlieen"})]})]}),g.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white shadow-sm",children:g.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar divide-y divide-gray-100",children:e.map(m=>{let p=null;try{p=m.search?JSON.parse(m.search):null}catch{p={raw:m.search}}const v=!!l[m.id],_=UP(p);return g.jsxs("div",{className:"group bg-white transition-colors",children:[g.jsxs("button",{type:"button",onClick:()=>c(b=>({...b,[m.id]:!b[m.id]})),className:`w-full text-left px-4 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors ${v?"bg-gray-50":""}`,children:[g.jsx("div",{className:`p-1.5 rounded-md text-gray-400 transition-transform duration-200 ${v?"rotate-90 text-indigo-600 bg-indigo-50":"group-hover:text-gray-600"}`,children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-baseline gap-2 mb-0.5",children:[g.jsx("span",{className:"text-xs font-bold text-gray-900",children:m.createdAtDate?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})||""}),g.jsx("span",{className:"text-[10px] text-gray-400",children:m.createdAtDate?.toLocaleDateString("de-DE")||""})]}),g.jsx("div",{className:"text-sm text-gray-600 truncate pr-4",children:_||g.jsx("span",{className:"italic text-gray-400",children:"Leere Suche / Filter reset"})})]}),g.jsx("div",{className:"hidden sm:block",children:g.jsx("span",{className:"text-[10px] font-mono text-gray-300 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 group-hover:border-gray-200 group-hover:text-gray-400 transition-colors",children:m.id.slice(0,6)})})]}),v&&g.jsx("div",{className:"px-4 pb-4 pl-[3.25rem] bg-gray-50 border-t border-gray-100",children:g.jsx("div",{className:"mt-3 text-sm bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:p?g.jsx(uc,{value:p}):g.jsx("div",{className:"text-gray-400 italic",children:"Keine validen Daten gefunden."})})})]},m.id)})})}),g.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
      `})]}):g.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function BP(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Rad: ${s} km`),(a!==""||l!=="")&&c.push(` ${a}${l}`),c.join("  ")}function FP({uid:t}){const[e,n]=A.useState([]),[s,a]=A.useState(!0);return A.useEffect(()=>{if(!t)return;(async()=>{try{const c=Zr(as(st,"searchEvents"),Ic("uid","==",t),Dc("createdAt","desc")),m=(await qr(c)).docs.map(p=>({id:p.id,...p.data(),createdAtDate:p.data().createdAt?.toDate?p.data().createdAt.toDate():null}));n(m)}catch(c){console.error("Error loading search history:",c)}finally{a(!1)}})()},[t]),s?g.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?g.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[g.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:g.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider w-32",children:"Zeitpunkt"}),g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider",children:"Such-Parameter (Vorschau)"}),g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider text-right w-16",children:"Details"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(l=>g.jsx(HP,{ev:l},l.id))})]})}),g.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f9fafb; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      `})]}):g.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function HP({ev:t}){const[e,n]=A.useState(!1);let s=null;try{s=t.search?JSON.parse(t.search):null}catch{s={raw:t.search}}const a=BP(s);return g.jsxs(A.Fragment,{children:[g.jsxs("tr",{onClick:()=>n(!e),className:`cursor-pointer transition-colors ${e?"bg-indigo-50/50":"hover:bg-gray-50"}`,children:[g.jsx("td",{className:"px-4 py-3 font-mono text-xs text-gray-700 align-top",children:t.createdAtDate?g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-gray-900",children:t.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}),g.jsx("span",{className:"text-[10px] text-gray-400",children:t.createdAtDate.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}):g.jsx("span",{className:"text-gray-400",children:""})}),g.jsx("td",{className:"px-4 py-3 align-middle",children:g.jsx("div",{className:"text-sm text-gray-700 truncate max-w-md",children:a||g.jsx("span",{className:"text-gray-400 italic",children:"Filter zurckgesetzt / Leer"})})}),g.jsx("td",{className:"px-4 py-3 text-right align-middle",children:g.jsx("button",{className:`text-gray-400 transition-transform duration-200 ${e?"rotate-180 text-indigo-600":""}`,children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),e&&g.jsx("tr",{className:"bg-gray-50 shadow-inner",children:g.jsx("td",{colSpan:"3",className:"px-4 py-4 border-b border-gray-100",children:g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-xs",children:[g.jsx("h4",{className:"font-bold text-gray-500 uppercase tracking-wider mb-2 text-[10px]",children:"Vollstndige Suchdaten"}),s?g.jsx(uc,{value:s}):g.jsx("span",{className:"text-gray-400",children:"Keine Daten verfgbar"})]})})})]})}function qP(){const{uid:t}=yS(),[e,n]=A.useState(null),[s,a]=A.useState(!0),[l,c]=A.useState(null);A.useEffect(()=>{(async()=>{try{const L=await Fs(an(st,"users",t));if(!L.exists()){c("User nicht gefunden");return}n({uid:t,...L.data()})}catch(L){console.error(L),c("Fehler beim Laden des Users")}finally{a(!1)}})()},[t]);const f=k=>{navigator.clipboard.writeText(k)};if(s)return g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-500",children:"Lade Profil..."});if(l)return g.jsx("div",{className:"p-10 text-center text-red-600 font-bold",children:l});const m=e.firstName??e.FirstName??"Unbekannt",p=e.lastName??e.LastName??"",v=e.email??e.Email??"",_=e.role??"user",b=e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString("de-DE"):"",w=e.stripeStatus||"free",N=w==="paid"||w==="active"?"bg-emerald-100 text-emerald-700 border-emerald-200":w==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10",children:g.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[g.jsx("div",{children:g.jsxs(sn,{to:"/admin/users",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors mb-4",children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Zurck zur bersicht"]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[g.jsxs("div",{className:"space-y-6 lg:sticky lg:top-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"h-24 bg-gradient-to-r from-indigo-500 to-blue-600"}),g.jsxs("div",{className:"px-6 pb-6 relative",children:[g.jsx("div",{className:"-mt-12 mb-4",children:g.jsx("div",{className:"h-24 w-24 rounded-full bg-white p-1 shadow-md",children:g.jsxs("div",{className:"h-full w-full rounded-full bg-gray-100 flex items-center justify-center text-2xl font-bold text-gray-400 uppercase",children:[m[0],p[0]]})})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[m," ",p]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[g.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide border ${N}`,children:w}),g.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide bg-blue-50 text-blue-700 border border-blue-100",children:_})]})]}),g.jsxs("div",{className:"mt-6 space-y-4",children:[g.jsx(zE,{label:"E-Mail",value:v,icon:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsxs("div",{className:"group",children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"User ID"}),g.jsxs("div",{onClick:()=>f(e.uid),className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors",title:"Klicken zum Kopieren",children:[g.jsx("code",{className:"text-xs text-gray-600 font-mono truncate mr-2",children:e.uid}),g.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]})]}),g.jsx(zE,{label:"Mitglied seit",value:b,icon:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[g.jsx("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Aktiver Suchfilter"}),e.lastSearch?g.jsx("div",{className:"text-sm",children:g.jsx(uc,{value:e.lastSearch})}):g.jsx("div",{className:"text-sm text-gray-400 italic",children:"Kein Filter gesetzt."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsx(bg,{title:"Zahlungen & Abos",children:g.jsx(MP,{user:e})}),g.jsx(bg,{title:"Klick-Historie",children:g.jsx(FP,{uid:e.uid})}),g.jsx(bg,{title:"Such-Verlauf",children:g.jsx(zP,{uid:e.uid})})]})]})]})})}function bg({title:t,children:e}){return g.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/30",children:g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t})}),g.jsx("div",{className:"p-6",children:e})]})}function zE({label:t,value:e,icon:n}){return g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-0.5",children:t}),g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[n&&g.jsx("span",{className:"text-gray-400",children:n}),e]})]})}function GP(){const[t,e]=A.useState([]),[n,s]=A.useState(!0),[a,l]=A.useState(""),[c,f]=A.useState({key:"createdAt",direction:"desc"});A.useEffect(()=>{(async()=>{const b=Zr(as(st,"users"),Dc("createdAt","desc")),D=(await qr(b)).docs.map(N=>({uid:N.id,...N.data(),firstName:N.data().firstName??N.data().FirstName??"",lastName:N.data().lastName??N.data().LastName??"",email:N.data().email??N.data().Email??"",stripeStatus:N.data().stripeStatus??"",createdAtDate:N.data().createdAt?.toDate?N.data().createdAt.toDate():null}));e(D),s(!1)})()},[]);const m=A.useMemo(()=>{let _=t.filter(b=>`${b.firstName} ${b.lastName} ${b.email}`.toLowerCase().includes(a.toLowerCase()));return c.key&&_.sort((b,w)=>{let D=b[c.key],N=w[c.key];return c.key==="createdAt"&&(D=b.createdAtDate||new Date(0),N=w.createdAtDate||new Date(0)),typeof D=="string"&&(D=D.toLowerCase()),typeof N=="string"&&(N=N.toLowerCase()),D<N?c.direction==="asc"?-1:1:D>N?c.direction==="asc"?1:-1:0}),_},[t,a,c]),p=_=>{let b="asc";c.key===_&&c.direction==="asc"&&(b="desc"),f({key:_,direction:b})},v=({column:_})=>c.key!==_?g.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50",children:""}):g.jsx("span",{className:"ml-2 text-indigo-600",children:c.direction==="asc"?"":""});return n?g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Benutzerdaten..."}):g.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Userbersicht"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[m.length," Benutzer gefunden"]})]}),g.jsxs("div",{className:"relative w-full md:w-72",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"Suchen (Name, E-Mail)...",value:a,onChange:_=>l(_.target.value)})]})]}),g.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:g.jsx("div",{className:"overflow-auto flex-1",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>p("firstName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Name ",g.jsx(v,{column:"firstName"})]}),g.jsxs("th",{onClick:()=>p("email"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["E-Mail ",g.jsx(v,{column:"email"})]}),g.jsxs("th",{onClick:()=>p("stripeStatus"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Status ",g.jsx(v,{column:"stripeStatus"})]}),g.jsxs("th",{onClick:()=>p("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Erstellt am ",g.jsx(v,{column:"createdAt"})]}),g.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Aktion"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:m.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-500",children:"Keine Benutzer gefunden."})}):m.map(_=>{const b=_.stripeStatus==="paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":_.stripeStatus==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:g.jsxs("div",{className:"flex items-center",children:[g.jsxs("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs mr-3",children:[_.firstName?.[0]||"?",_.lastName?.[0]||""]}),`${_.firstName} ${_.lastName}`.trim()||"Unbekannt"]})}),g.jsx("td",{className:"px-6 py-4 text-gray-500",children:_.email}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${b}`,children:_.stripeStatus})}),g.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:_.createdAtDate?.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})??""}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx(sn,{to:`/admin/user/${_.uid}`,className:"text-indigo-600 hover:text-indigo-900 font-medium text-xs border border-indigo-200 hover:border-indigo-400 px-3 py-1.5 rounded-lg transition-all",children:"Verwalten"})})]},_.uid)})})]})})})]})}function KP(){const[t,e]=A.useState(""),[n,s]=A.useState(""),[a,l]=A.useState(""),[c,f]=A.useState(!1),m=zs(),p=async v=>{v.preventDefault(),l(""),f(!0);try{await Nj(pd,t.trim(),n),m("/dashboard")}catch(_){l("Login fehlgeschlagen. Bitte E-Mail und Passwort prfen."),console.error(_)}finally{f(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-sky-100 px-4",children:[g.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute -top-32 -left-24 h-80 w-80 rounded-full bg-sky-300/50 blur-3xl"}),g.jsx("div",{className:"absolute bottom-[-60px] right-[-40px] h-80 w-80 rounded-full bg-indigo-300/50 blur-3xl"}),g.jsx("div",{className:"absolute top-1/2 -right-24 h-64 w-64 -translate-y-1/2 rounded-full bg-emerald-200/60 blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs text-slate-600 border border-slate-200 shadow-sm",children:[g.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-sky-500 text-[9px] font-bold text-white",children:"I"}),g.jsx("span",{children:"Immobot  Login"})]}),g.jsx("h1",{className:"mt-4 text-3xl font-semibold text-slate-900",children:"Willkommen zurck"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Melde dich an, um deine Immobot-Suche und gespeicherten Filter fortzusetzen."})]}),g.jsxs("div",{className:"rounded-2xl bg-white/95 border border-slate-200 shadow-xl backdrop-blur-sm p-6",children:[g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a&&g.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"E-Mail"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"email",placeholder:"beispiel@immobot.pro",value:t,onChange:v=>e(v.target.value),autoComplete:"email",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"Passwort"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"password",placeholder:"",value:n,onChange:v=>s(v.target.value),autoComplete:"current-password",required:!0})]}),g.jsx("button",{className:"mt-2 w-full rounded-lg bg-sky-600 py-2.5 text-sm font-medium text-white shadow-md shadow-sky-400/40 hover:bg-sky-500 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:c,children:c?"Einloggen":"Einloggen"})]}),g.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Noch kein Account?"," ",g.jsx(sn,{to:"/register",className:"font-medium text-sky-600 hover:text-sky-500",children:"Jetzt registrieren"})]})]}),g.jsx("p",{className:"mt-6 text-center text-[11px] text-slate-400",children:"Mit dem Login akzeptierst du unsere Nutzungsbedingungen & Datenschutzerklrung."})]})]})}function $P(){const[t,e]=A.useState([]),[n,s]=A.useState({}),[a,l]=A.useState(!0),[c,f]=A.useState(""),[m,p]=A.useState({key:"timestamp",direction:"desc"});A.useEffect(()=>{const b=Zr(as(st,"clickEvents"),Dc("timestamp","desc"),tP(100)),w=rP(b,D=>{const N=D.docs.map(k=>({id:k.id,...k.data(),redirectId:k.data().redirectId||"",source:k.data().source||"",timestampDate:k.data().timestamp?.toDate?k.data().timestamp.toDate():new Date(0)}));e(N),l(!1)});return()=>w()},[]),A.useEffect(()=>{if(!t.length)return;const w=[...new Set(t.map(N=>N.userId).filter(Boolean))].filter(N=>!n[N]);if(!w.length)return;(async()=>{const N={...n};await Promise.all(w.map(async k=>{try{const L=await Fs(an(st,"users",k));if(L.exists()){const q=L.data();N[k]={firstName:q.firstName??"",lastName:q.lastName??"",email:q.email??""}}else N[k]={firstName:"Gelscht",lastName:"",email:""}}catch{N[k]={firstName:"Fehler",lastName:"",email:""}}})),s(N)})()},[t]);const v=A.useMemo(()=>{let b=t.map(w=>{const D=n[w.userId]||{},N=`${D.firstName||""} ${D.lastName||""}`.trim();return{...w,userLabel:N||w.userId||"Gast",userEmail:D.email||""}});if(c){const w=c.toLowerCase();b=b.filter(D=>D.userLabel.toLowerCase().includes(w)||D.userEmail.toLowerCase().includes(w)||D.redirectId.toLowerCase().includes(w)||D.source.toLowerCase().includes(w))}return m.key&&b.sort((w,D)=>{let N=w[m.key],k=D[m.key];return m.key==="timestamp"&&(N=w.timestampDate,k=D.timestampDate),typeof N=="string"&&(N=N.toLowerCase()),typeof k=="string"&&(k=k.toLowerCase()),N<k?m.direction==="asc"?-1:1:N>k?m.direction==="asc"?1:-1:0}),b},[t,n,c,m]),_=b=>{let w="asc";m.key===b&&m.direction==="asc"&&(w="desc"),p({key:b,direction:w})};return a?g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Events"}):g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col h-[600px]",children:[g.jsxs("div",{className:"p-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Letzte Aktivitten"}),g.jsxs("p",{className:"text-xs text-gray-500",children:[v.length," Events angezeigt"]})]}),g.jsx("div",{className:"relative w-full sm:w-64",children:g.jsx("input",{type:"text",placeholder:"Suche (User, Redirect, Quelle)",value:c,onChange:b=>f(b.target.value),className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})})]}),g.jsx("div",{className:"overflow-auto custom-scrollbar flex-1 rounded-b-2xl",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 text-gray-700 sticky top-0 z-10 border-b border-gray-200",children:g.jsxs("tr",{children:[g.jsx(_f,{label:"Zeitpunkt",sortKey:"timestamp",currentSort:m,onSort:_}),g.jsx(_f,{label:"User",sortKey:"userLabel",currentSort:m,onSort:_}),g.jsx(_f,{label:"Redirect",sortKey:"redirectId",currentSort:m,onSort:_}),g.jsx(_f,{label:"Quelle",sortKey:"source",currentSort:m,onSort:_})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:v.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-400",children:"Keine Events gefunden."})}):v.map(b=>{const w=n[b.userId];return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-3 font-mono text-xs text-gray-500",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-gray-700",children:b.timestampDate.toLocaleTimeString("de-DE")}),g.jsx("span",{className:"opacity-70",children:b.timestampDate.toLocaleDateString("de-DE")})]})}),g.jsx("td",{className:"px-6 py-3",children:b.userId?g.jsxs("div",{className:"flex flex-col",children:[g.jsx(sn,{to:`/admin/user/${b.userId}`,className:"text-indigo-600 font-medium hover:underline text-xs sm:text-sm",children:b.userLabel}),w?.email&&g.jsx("span",{className:"text-[10px] text-gray-400",children:w.email})]}):g.jsx("span",{className:"text-gray-400 italic text-xs",children:"Gast"})}),g.jsx("td",{className:"px-6 py-3",children:b.redirectId?g.jsxs(sn,{to:`/admin/offers/${b.redirectId}`,className:"font-mono text-xs bg-indigo-50 px-2 py-1 rounded text-indigo-700 border border-indigo-100 hover:bg-indigo-100 transition",title:b.redirectId,children:[b.redirectId.slice(0,10),""]}):""}),g.jsx("td",{className:"px-6 py-3",children:g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-indigo-50 text-indigo-700 border border-indigo-100",children:b.source})})]},b.id)})})]})})]})}function _f({label:t,sortKey:e,currentSort:n,onSort:s}){const a=n.key===e,l=n.direction==="asc";return g.jsx("th",{onClick:()=>s(e),className:"px-6 py-3 text-xs font-semibold uppercase tracking-wider cursor-pointer select-none group hover:bg-gray-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-1",children:[t,g.jsxs("span",{className:`text-[10px] flex flex-col leading-none ml-1 ${a?"text-indigo-600":"text-gray-300 group-hover:text-gray-400"}`,children:[g.jsx("span",{className:a&&l?"opacity-100":"opacity-50",children:""}),g.jsx("span",{className:a&&!l?"opacity-100":"opacity-50",children:""})]})]})})}function YP(){const[t,e]=A.useState({today:0,total:0,topOffer:{id:"",count:0}});return A.useEffect(()=>{async function n(){const s=new Date;s.setHours(0,0,0,0);const a=Zr(as(st,"clickEvents"),Ic("timestamp",">=",s)),l=await qr(a),c={};l.docs.forEach(p=>{const v=p.data().offerId||p.data().offer_id||"Unbekannt";c[v]=(c[v]||0)+1});let f="",m=0;Object.entries(c).forEach(([p,v])=>{v>m&&(m=v,f=p)}),e({today:l.size,total:"Live",topOffer:{id:f,count:m}})}n()},[]),g.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10 flex flex-col space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Click-Events & Analyse"}),g.jsx("p",{className:"text-gray-500 mt-1",children:"Echtzeit-Tracking aller User-Interaktionen."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(Tg,{title:"Klicks Heute",value:t.today,icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),color:"text-blue-600 bg-blue-50"}),g.jsx(Tg,{title:"Top Offer (Heute)",value:t.topOffer.id,subValue:`${t.topOffer.count} Klicks`,icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),color:"text-emerald-600 bg-emerald-50"}),g.jsx(Tg,{title:"Live Feed",value:"Aktiv",icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"}),color:"text-purple-600 bg-purple-50"})]}),g.jsx("div",{className:"flex-1 min-h-0",children:g.jsx($P,{})})]})}function Tg({title:t,value:e,subValue:n,icon:s,color:a}){return g.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm flex items-center justify-between transition-transform hover:-translate-y-1",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),g.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1 truncate max-w-[200px]",title:e,children:e}),n&&g.jsx("p",{className:"text-xs font-semibold text-emerald-600 mt-1",children:n})]}),g.jsx("div",{className:`p-3 rounded-xl ${a}`,children:g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s})})]})}function QP(){const[t,e]=A.useState([]),[n,s]=A.useState({}),[a,l]=A.useState({}),[c,f]=A.useState(!0),[m,p]=A.useState(""),[v,_]=A.useState({key:"createdAt",direction:"desc"});A.useEffect(()=>{(async()=>{const L=(await qr(Zr(as(st,"offerRedirects"),Dc("createdAt","desc")))).docs.map(ie=>({docId:ie.id,...ie.data(),title:ie.data().title||"",vendorName:ie.data().vendor?.name||"",source:ie.data().source||"System",price:Number(ie.data().price)||0,rooms:Number(ie.data().rooms)||0,createdAtDate:ie.data().createdAt?.toDate?ie.data().createdAt.toDate():new Date(0)})),q=[...new Set(L.map(ie=>ie.uid).filter(Boolean))],F={};await Promise.all(q.map(async ie=>{const I=await Fs(an(st,"users",ie));if(I.exists()){const C=I.data();F[ie]={firstName:C.firstName??"",lastName:C.lastName??"",email:C.email??""}}}));const oe=await qr(as(st,"clickEvents")),ae={};oe.docs.forEach(ie=>{const I=ie.data().redirectId;I&&(ae[I]=(ae[I]||0)+1)}),e(L),s(F),l(ae),f(!1)})()},[]);const b=A.useMemo(()=>{let N=t.map(k=>{const L=n[k.uid]||{},q=`${L.firstName||""} ${L.lastName||""}`.trim();return{...k,userName:q||"Unbekannt",userEmail:L.email||"",clicks:a[k.docId]||0}});if(m){const k=m.toLowerCase();N=N.filter(L=>L.title.toLowerCase().includes(k)||L.vendorName.toLowerCase().includes(k)||L.userName.toLowerCase().includes(k)||L.userEmail.toLowerCase().includes(k))}return v.key&&N.sort((k,L)=>{let q=k[v.key],F=L[v.key];return v.key==="createdAt"&&(q=k.createdAtDate,F=L.createdAtDate),typeof q=="string"&&(q=q.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),q<F?v.direction==="asc"?-1:1:q>F?v.direction==="asc"?1:-1:0}),N},[t,n,a,m,v]),w=N=>{let k="asc";v.key===N&&v.direction==="asc"&&(k="desc"),_({key:N,direction:k})},D=({column:N})=>v.key!==N?g.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50 transition-opacity",children:""}):g.jsx("span",{className:"ml-2 text-indigo-600 font-bold",children:v.direction==="asc"?"":""});return c?g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Angebote..."}):g.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Offer Redirects"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[b.length," Eintrge gefunden"]})]}),g.jsxs("div",{className:"relative w-full md:w-80",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Suchen (Titel, User, Anbieter)...",value:m,onChange:N=>p(N.target.value)})]})]}),g.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:g.jsx("div",{className:"overflow-auto flex-1",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>w("title"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Titel ",g.jsx(D,{column:"title"})]}),g.jsxs("th",{onClick:()=>w("price"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Preis ",g.jsx(D,{column:"price"})]}),g.jsxs("th",{onClick:()=>w("rooms"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Zi. ",g.jsx(D,{column:"rooms"})]}),g.jsxs("th",{onClick:()=>w("clicks"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Klicks ",g.jsx(D,{column:"clicks"})]}),g.jsxs("th",{onClick:()=>w("userName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["User ",g.jsx(D,{column:"userName"})]}),g.jsxs("th",{onClick:()=>w("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Datum ",g.jsx(D,{column:"createdAt"})]}),g.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Link"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(N=>g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsxs("td",{className:"px-6 py-4",children:[g.jsx(sn,{to:`/admin/offers/${N.docId}`,className:"font-medium text-indigo-600 hover:underline block max-w-[180px] truncate",title:N.title,children:N.title||""}),g.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:N.vendorName||"Unbekannt"})]}),g.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:N.price>0?`${N.price} `:""}),g.jsx("td",{className:"px-6 py-4 text-gray-600",children:N.rooms||""}),g.jsx("td",{className:"px-6 py-4 font-mono text-gray-700 text-center",children:N.clicks}),g.jsx("td",{className:"px-6 py-4",children:N.uid?g.jsxs("div",{className:"flex flex-col",children:[g.jsx(sn,{to:`/admin/user/${N.uid}`,className:"text-indigo-600 font-medium hover:underline",children:N.userName}),g.jsx("span",{className:"text-xs text-gray-400",children:N.userEmail})]}):g.jsx("span",{className:"text-gray-400 italic",children:"Gast"})}),g.jsxs("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:[N.createdAtDate.toLocaleDateString("de-DE"),g.jsxs("span",{className:"text-gray-400",children:[" "," | ",N.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]})]}),g.jsx("td",{className:"px-6 py-4 text-right",children:N.redirectUrl?g.jsx("a",{href:N.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 hover:bg-indigo-100 border border-indigo-100 transition-all",children:""}):""})]},N.docId))})]})})})]})}function XP(){const{offerId:t}=yS(),[e,n]=A.useState(null),[s,a]=A.useState([]),[l,c]=A.useState(!0);return A.useEffect(()=>{(async()=>{const m=await Fs(an(st,"offerRedirects",t));m.exists()&&n({id:m.id,...m.data()});const p=Zr(as(st,"clickEvents"),Ic("redirectId","==",t)),v=await qr(p);a(v.docs.map(_=>({id:_.id,..._.data()}))),c(!1)})()},[t]),l?g.jsx("div",{className:"p-10",children:"Lade Offer"}):e?g.jsxs("div",{className:"p-8 space-y-6 max-w-5xl",children:[g.jsx("h1",{className:"text-2xl font-bold",children:e.title}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("b",{children:"Preis:"})," ",e.price," "]}),g.jsxs("div",{children:[g.jsx("b",{children:"Zimmer:"})," ",e.rooms]}),g.jsxs("div",{children:[g.jsx("b",{children:"Quelle:"})," ",e.source]}),g.jsxs("div",{children:[g.jsx("b",{children:"Vendor:"})," ",e.vendor?.name]})]}),g.jsx("a",{href:e.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-block px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Anzeige ffnen "}),g.jsx("hr",{}),g.jsxs("h2",{className:"text-lg font-semibold",children:["Klicks (",s.length,")"]}),g.jsx("ul",{className:"text-sm space-y-1",children:s.map(f=>g.jsxs("li",{className:"text-gray-600",children:[f.timestamp?.toDate().toLocaleString("de-DE"),"  ",f.source]},f.id))})]}):g.jsx("div",{className:"p-10 text-red-500",children:"Offer nicht gefunden"})}const my="immobot_register_filters_v1",py=2,xf={offerTypes:[],objectClasses:[],constructionStatus:[],searchString:"",coordinate:void 0,radiusInKm:10,priceRange:void 0,propertySpaceRange:void 0,includePriceOnRequest:!1,__version:py};function yn(){try{const t=localStorage.getItem(my);if(!t)return{...xf};const e=JSON.parse(t);if(e.__version!==py){const n={...xf,...e,__version:py};return localStorage.setItem(my,JSON.stringify(n)),n}return{...xf,...e}}catch{return{...xf}}}function Nn(t){const e={...yn(),...t};try{localStorage.setItem(my,JSON.stringify(e))}catch{}return e}const WP=new Set(["Haus","Wohnung","Grundstueck","StellplatzGarage","BroPraxis","Ferienobjekt","Gastronomie","Gewerbeeinheit","HalleLagerProduktion","Hotel","LandForst","Sonstige","Studenten"]);function ZP(t){if(!WP.has(t))return yn();const e=yn(),n=new Set(e.objectClasses);if(n.has(t))n.delete(t);else{if(n.size>=2)return e;n.add(t)}return Nn({objectClasses:Array.from(n)})}const JP=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}];function e3(){const t=zs(),e=A.useMemo(()=>yn(),[]),n=e.offerTypes?.includes("Miete")?"Miete":e.offerTypes?.includes("Kauf")?"Kauf":null,[s,a]=A.useState(n),[l,c]=A.useState(e.objectClasses||[]);function f(p){a(p),p==="Kauf"?Nn({offerTypes:["Kauf"],constructionStatus:void 0}):p==="Miete"&&Nn({offerTypes:["Miete"],constructionStatus:void 0})}const m=p=>{const v=l.includes(p);if(!v&&l.length>=2)return;const _=v?l.filter(b=>b!==p):[...l,p];c(_),ZP(p)};return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 1 von 5"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"block text-sm font-medium text-center",children:"Angebotsart"}),g.jsx("div",{className:"mx-auto max-w-md",children:g.jsx("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[{key:"Kauf",label:"Kauf"},{key:"Miete",label:"Miete"}].map(p=>g.jsx("button",{type:"button",onClick:()=>f(p.key),className:`px-4 py-2 rounded-full border text-sm transition min-w-[80px]
                  ${s===p.key?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:p.label},p.key))})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"block text-sm font-medium mb-1 text-center",children:"Objektart"}),g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"})]}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:JP.map(p=>{const v=l.includes(p.value),_=!v&&l.length>=2;return g.jsx("button",{type:"button",disabled:_,onClick:()=>m(p.value),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition
                  ${v?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}
                  ${_?"opacity-50 cursor-not-allowed":""}
                `,children:p.label},p.value)})})]}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm active:scale-95 transition-transform",onClick:()=>t("/register/step2"),children:"Schritt 2 >"})})]})}function t3(t){return Nn({coordinate:t})}function n3(t){const e=Number(t);return Nn({radiusInKm:Number.isFinite(e)?e:10})}const BE="VUVj9lGbHQAdYVsF04k8",i3=[5,7.5,10,12.5,15];function s3(){const t=zs(),e=A.useMemo(()=>yn(),[]),[n,s]=A.useState(""),[a,l]=A.useState([]),[c,f]=A.useState(e.radiusInKm??10),m=A.useRef(null),p=A.useRef({L:null,map:null,marker:null,circle:null});A.useEffect(()=>{let b=!1;return(async()=>{if(!document.querySelector("link[data-leaflet]")){const D=document.createElement("link");D.rel="stylesheet",D.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",D.setAttribute("data-leaflet","1"),document.head.appendChild(D)}return window.L||await new Promise(D=>{const N=document.createElement("script");N.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",N.onload=D,document.body.appendChild(N)}),window.L})().then(D=>{if(b||!m.current)return;p.current.L=D;const N=D.map(m.current,{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1}).setView([52.52,13.405],10);p.current.map=N,D.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${BE}`,{attribution:"&copy; MapTiler"}).addTo(N),e.coordinate?.lat&&e.coordinate?.lon&&_(e.coordinate.lat,e.coordinate.lon,c)}),()=>{b=!0}},[]),A.useEffect(()=>{n3(c);const{marker:b}=p.current;if(b){const w=b.getLatLng();_(w.lat,w.lng,c)}},[c]),A.useEffect(()=>{if(n.trim().length<3){l([]);return}const b=setTimeout(async()=>{const w=`https://api.maptiler.com/geocoding/${encodeURIComponent(n.trim())}.json?key=${BE}&language=de&country=DE,AT,CH&limit=5`;try{const k=(await(await fetch(w)).json()).features?.map(L=>({label:L.place_name,lat:L.center?.[1],lon:L.center?.[0]})).filter(L=>Number.isFinite(L.lat)&&Number.isFinite(L.lon))||[];l(k)}catch{l([])}},200);return()=>clearTimeout(b)},[n]);function v(b){s(b.label),l([]),t3({lat:b.lat,lon:b.lon}),_(b.lat,b.lon,c)}function _(b,w,D){const{L:N,map:k,marker:L,circle:q}=p.current;if(!N||!k)return;L&&L.remove(),q&&q.remove();const F=N.marker([b,w]).addTo(k),oe=N.circle([b,w],{radius:(D||0)*1e3,color:"#007bff",fillOpacity:.25}).addTo(k);p.current.marker=F,p.current.circle=oe,k.fitBounds(oe.getBounds(),{padding:[40,40]})}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6 md:space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 2 von 5"}),g.jsx("h2",{className:"text-lg md:text-xl font-semibold text-center leading-tight",children:"Wo sollen wir etwas fr dich finden?"}),g.jsxs("div",{className:"mx-auto max-w-md relative w-full",children:[g.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Ort/Stadt eingeben"}),g.jsx("input",{value:n,onChange:b=>s(b.target.value),placeholder:"z. B. Freiburg im Breisgau",className:"w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",onKeyDown:b=>{b.key==="Enter"&&b.preventDefault()}}),a.length>0&&g.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-lg border bg-white shadow-lg z-[9999] max-h-60 overflow-y-auto",children:a.map((b,w)=>g.jsx("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-0",onClick:()=>v(b),children:b.label},w))})]}),g.jsxs("div",{className:"mx-auto max-w-md",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-center",children:"Radius auswhlen:"}),g.jsx("div",{className:"flex justify-center flex-wrap gap-2",children:i3.map(b=>g.jsxs("button",{type:"button",onClick:()=>f(b),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-sm transition
                ${Number(c)===b?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:[b," km"]},b))})]}),g.jsx("div",{className:"w-full h-64 md:h-[400px] rounded-xl border border-gray-300 relative overflow-hidden",style:{pointerEvents:"none"},children:g.jsx("div",{ref:m,className:"w-full h-full"})}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step1"),children:"< Zurck"}),g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step3"),children:"Schritt 3 >"})]})]})}function r3(t){if(t===null)return Nn({propertySpaceRange:void 0});if(t.type==="max")return Nn({propertySpaceRange:{from:0,to:t.value}});if(t.type==="min")return Nn({propertySpaceRange:{from:t.value,to:9999999}})}function a3(t){if(t==null)return Nn({priceRange:void 0});const e=Number(t);return!Number.isFinite(e)||e<=0?yn():Nn({priceRange:{from:0,to:e}})}function o3(){const t=yn();return t.offerTypes.includes("Miete")&&!t.offerTypes.includes("Kauf")?[300,500,700,900,1200,1500,1800,null]:[15e4,25e4,4e5,6e5,8e5,1e6,15e5,null]}function l3(){return yn().objectClasses?.includes("Grundstueck")?[{type:"max",value:500},{type:"min",value:500},null]:[{type:"max",value:100},{type:"min",value:100},null]}function FE({active:t,onClick:e,children:n}){return g.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition transform active:scale-95
        ${t?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:n})}function u3(){const t=zs(),e=A.useMemo(()=>yn(),[]),n=o3(),s=l3(),[a,l]=A.useState(e.priceRange?.to??null),[c,f]=A.useState(e.propertySpaceRange?.to??null),m=e.objectClasses?.includes("Grundstueck"),p=e.offerTypes?.includes("Miete")&&!e.offerTypes?.includes("Kauf"),v=(b,w)=>{if(b==null)return"beliebig";const D=b.toLocaleString("de-DE");return p?`bis ${D} `:w===n.length-2&&n[n.length-1]===null?`ab ${D} `:`bis ${D} `},_=b=>{if(b===null)return"beliebig";if(b.type==="max")return`bis ${b.value} m`;if(b.type==="min")return`ab ${b.value} m`};return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 3 von 5"}),g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center text-gray-800 leading-tight",children:p?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:"Whle deinen maximalen Preis:"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:n.map((b,w)=>g.jsx(FE,{active:a===b,onClick:()=>{l(b),a3(b)},children:v(b,w)},w))})]}),g.jsxs("div",{className:"pt-2",children:[g.jsx("h3",{className:"text-lg md:text-xl font-semibold text-center text-gray-800 mb-1",children:"Flche"}),g.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:m?"Wie gro soll dein Grundstck sein?":"Wie gro soll die Wohnflche sein?"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.map((b,w)=>g.jsx(FE,{active:c===(b?.value??null),onClick:()=>{f(b?.value??null),r3(b)},children:_(b)},w))})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step2"),children:"< Zurck"}),g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step4"),children:"Weiter >"})]})]})}const ZA=["balconyTerrace","garden","parkingSpace","cellar","bathroomWithWindow","builtInKitchen","elevator","underfloorHeating","fireplace","furnished","firstTimeUse","refurbished","leased","freeOfCommission","preservationOrder","divisible","barrierFree","airConditioningVentilation"];function c3(){const t=yn()||{},e={};for(const n of ZA)e[n]=!!t[n];return e}function h3(t){if(!ZA.includes(t))return yn();const e=yn()||{},n=!e[t];return Nn({...e,[t]:n})}const HE=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function f3(){const t=zs(),e=A.useMemo(()=>c3(),[]),[n,s]=A.useState(HE.reduce((f,m)=>({...f,[m.key]:!!e[m.key]}),{})),[a,l]=A.useState(!1);function c(f){h3(f),s(m=>({...m,[f]:!m[f]}))}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 4 von 5 (optional)"}),!a&&g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere Filter nutzen?"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>l(!0),children:"Ja, unbedingt"}),g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),a&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Ausstattung"}),g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",g.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:"Siehe FAQ"}),"."]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto mt-2",children:HE.map(f=>{const m=!!n[f.key];return g.jsx("button",{type:"button",onClick:()=>c(f.key),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition active:scale-95
                    ${m?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:f.key,children:f.label},f.key)})})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step3"),children:"< Zurck"}),a&&g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step5"),children:"Weiter >"})]})]})}function d3(t,e){const n=yn(),s=Array.isArray(n[t])?[...n[t]]:[],a=s.indexOf(e);return a>=0?s.splice(a,1):s.push(e),Nn({[t]:s.length?s:void 0})}function bf(t,e,n){const s=qE(e),a=qE(n);return s==null&&a==null?Nn({[t]:void 0}):Nn({[t]:{...s!=null?{from:s}:{},...a!=null?{to:a}:{}}})}function qE(t){if(t===""||t==null)return;const e=Number(t);return Number.isFinite(e)?e:void 0}function m3(){const t=yn();return{energySources:t.energySources||[],heatingTypes:t.heatingTypes||[],energyRatings:t.energyRatings||[],energyEfficiencyStandards:t.energyEfficiencyStandards||[],pricePerSqmRange:t.pricePerSqmRange,yieldRange:t.yieldRange,energyConsumptionRange:t.energyConsumptionRange,constructionYearRange:t.constructionYearRange}}const p3=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],g3=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],y3=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],v3=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function _3(){const t=zs(),e=A.useMemo(()=>m3(),[]),[n,s]=A.useState(!1),[a,l]=A.useState(e.energySources||[]),[c,f]=A.useState(e.heatingTypes||[]),[m,p]=A.useState(e.energyRatings||[]),[v,_]=A.useState(e.energyEfficiencyStandards||[]),[b,w]=A.useState(e.pricePerSqmRange?.from??""),[D,N]=A.useState(e.pricePerSqmRange?.to??""),[k,L]=A.useState(e.yieldRange?.from??""),[q,F]=A.useState(e.yieldRange?.to??""),[oe,ae]=A.useState(e.energyConsumptionRange?.from??""),[ie,I]=A.useState(e.energyConsumptionRange?.to??""),[C,j]=A.useState(e.constructionYearRange?.from??""),[P,O]=A.useState(e.constructionYearRange?.to??"");function B(Se,_e,W){d3(Se,_e),W(re=>re?.includes(_e)?re.filter(he=>he!==_e):[...re||[],_e])}function M(){bf("pricePerSqmRange",b,D),bf("yieldRange",k,q),bf("energyConsumptionRange",oe,ie),bf("constructionYearRange",C,P)}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 5 von 5 (optional)"}),!n&&g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere technische Filter nutzen?"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>s(!0),children:"Ja, unbedingt"}),g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),n&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Technische Filter"}),g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",g.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600",children:"Siehe FAQ"}),"."]}),g.jsxs("div",{className:"space-y-6 pt-2",children:[g.jsx(Er,{title:"Energietrger",children:g.jsx(Tf,{options:p3,active:a,onToggle:Se=>B("energySources",Se,l)})}),g.jsx(Er,{title:"Heizungsart",children:g.jsx(Tf,{options:g3,active:c,onToggle:Se=>B("heatingTypes",Se,f)})}),g.jsx(Er,{title:"Energieklasse",children:g.jsx(Tf,{options:y3,active:m,onToggle:Se=>B("energyRatings",Se,p)})}),g.jsx(Er,{title:"Energiestandard",children:g.jsx(Tf,{options:v3,active:v,onToggle:Se=>B("energyEfficiencyStandards",Se,_)})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsx(Er,{title:"Preis pro m",children:g.jsx(Ef,{unit:"/m",from:b,to:D,setFrom:w,setTo:N,onBlurSave:M})}),g.jsx(Er,{title:"Rendite",children:g.jsx(Ef,{unit:"%",step:"0.1",from:k,to:q,setFrom:L,setTo:F,onBlurSave:M})}),g.jsx(Er,{title:"Energieverbrauch",children:g.jsx(Ef,{unit:"kWh/m*a",from:oe,to:ie,setFrom:ae,setTo:I,onBlurSave:M})}),g.jsx(Er,{title:"Baujahr",children:g.jsx(Ef,{unit:"",from:C,to:P,setFrom:j,setTo:O,onBlurSave:M})})]})]})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step4"),children:"< Zurck"}),n?g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95 text-sm md:text-base",onClick:()=>{M(),t("/register/finish")},children:"Registrieren >"}):g.jsx("div",{})]})]})}function Er({title:t,children:e}){return g.jsxs("div",{className:"w-full",children:[g.jsx("h3",{className:"mb-3 font-semibold text-sm text-center text-gray-800",children:t}),e]})}function Tf({options:t,active:e=[],onToggle:n}){return g.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto",children:t.map(s=>{const a=e?.includes(s);return g.jsx("button",{type:"button",onClick:()=>n(s),className:`inline-flex items-center justify-center rounded-full border px-3 py-2 text-xs transition active:scale-95
              ${a?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:s,children:s},s)})})}function Ef({unit:t,from:e,to:n,setFrom:s,setTo:a,step:l="1",onBlurSave:c}){return g.jsxs("div",{className:"flex items-end justify-center gap-3 w-full max-w-sm mx-auto",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"von"}),g.jsx("input",{type:"number",step:l,value:e,onChange:f=>s(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0"})]}),g.jsx("span",{className:"text-gray-400 pb-3",children:"-"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"bis"}),g.jsx("input",{type:"number",step:l,value:n,onChange:f=>a(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"max"})]}),t&&g.jsx("span",{className:"text-xs text-gray-500 pb-3 w-10",children:t})]})}function GE(t){if(t===""||t===null||t===void 0)return!1;const e=typeof t=="string"?Number(t):t;return typeof e=="number"&&Number.isFinite(e)}function x3(t){if(!t||typeof t!="object")return;const e=GE(t.from),n=GE(t.to);if(!(!e&&!n))return!e&&n?{from:0,to:Number(t.to)}:e&&!n?{from:Number(t.from)}:{from:Number(t.from),to:Number(t.to)}}function gy(t){if(t===null)return null;if(Array.isArray(t))return t.map(gy).filter(e=>e!==void 0);if(typeof t=="object"){const e={};for(const[n,s]of Object.entries(t)){if(s===void 0)continue;if(n.endsWith("Range")){const l=x3(s);l!==void 0&&(e[n]=l);continue}const a=gy(s);a!==void 0&&(e[n]=a)}return Object.keys(e).length===0?void 0:e}return typeof t=="number"?Number.isFinite(t)?t:void 0:t}async function b3(t){const e=yn(),n=gy(e),s=an(st,"users",t);await Wd(s,{lastSearch:n,lastSearchUpdatedAt:fd()},{merge:!0})}function T3(){const t=zs(),[e,n]=A.useState(""),[s,a]=A.useState(""),[l,c]=A.useState(""),[f,m]=A.useState(""),[p,v]=A.useState(""),[_,b]=A.useState(!1),[w,D]=A.useState(!1),[N,k]=A.useState(!1),[L,q]=A.useState(""),F=!N&&_&&e.trim()&&s.trim()&&l.trim()&&f.trim()&&p.trim();async function oe(ie){if(ie.preventDefault(),!!F){if(f!==p){q("Die Passwrter stimmen nicht berein.");return}k(!0),q("");try{const{user:I}=await Cj(pd,l.trim(),f);await Wd(an(st,"users",I.uid),{firstName:e.trim(),lastName:s.trim(),email:l.trim().toLowerCase(),role:"user",stripeStatus:"none",stripeCustomerId:null,marketingOptIn:w,acceptedTermsAt:fd(),createdAt:fd()},{merge:!0}),await b3(I.uid),t("/dashboard")}catch(I){q(I.message||"Fehler bei der Registrierung")}finally{k(!1)}}}const ae="w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition";return g.jsxs("div",{className:`
      w-full mx-auto max-w-lg bg-white
      p-4 mt-2
      md:p-8 md:mt-10 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-center leading-tight mb-2",children:"Dein Immobot-Konto"}),g.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Lege jetzt dein Konto an. Im nchsten Schritt whlst du dein Abo und aktivierst deinen Zugang."}),g.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-1/2",children:g.jsx("input",{type:"text",className:ae,placeholder:"Vorname",value:e,onChange:ie=>n(ie.target.value),required:!0})}),g.jsx("div",{className:"w-1/2",children:g.jsx("input",{type:"text",className:ae,placeholder:"Nachname",value:s,onChange:ie=>a(ie.target.value),required:!0})})]}),g.jsx("input",{type:"email",className:ae,placeholder:"E-Mail",value:l,onChange:ie=>c(ie.target.value),required:!0,autoComplete:"email"}),g.jsx("input",{type:"password",className:ae,placeholder:"Passwort",value:f,onChange:ie=>m(ie.target.value),required:!0,autoComplete:"new-password"}),g.jsx("input",{type:"password",className:ae,placeholder:"Passwort wiederholen",value:p,onChange:ie=>v(ie.target.value),required:!0,autoComplete:"new-password"}),g.jsxs("div",{className:"space-y-3 pt-2",children:[g.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:_,onChange:ie=>b(ie.target.checked),required:!0}),g.jsxs("span",{className:"text-gray-700",children:["Ich akzeptiere die"," ",g.jsx(sn,{to:"/terms",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"AGB"})," ","und die"," ",g.jsx(sn,{to:"/privacy",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"Datenschutzerklrung"}),"."]})]}),g.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:w,onChange:ie=>D(ie.target.checked)}),g.jsx("span",{className:"text-gray-700",children:"Ich mchte hilfreiche Updates & Angebote per E-Mail erhalten (optional)."})]})]}),L&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg",children:g.jsx("p",{className:"text-sm text-red-600 text-center",children:L})}),g.jsx("button",{type:"submit",disabled:!F,className:"w-full px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed transition active:scale-95",children:N?"Speichere...":"Kostenpflichtig weiter"}),g.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center px-2",children:"Keine Sorge: Du kannst dein Abo im nchsten Schritt whlen und spter jederzeit kndigen."})]})]})}const JA=A.createContext({});function E3(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const K0=typeof window<"u",w3=K0?A.useLayoutEffect:A.useEffect,$0=A.createContext(null);function Y0(t,e){t.indexOf(e)===-1&&t.push(e)}function Q0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ps=(t,e,n)=>n>e?e:n<t?t:n;let X0=()=>{};const Ls={},eR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tR(t){return typeof t=="object"&&t!==null}const nR=t=>/^0[^.\s]+$/u.test(t);function W0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,S3=(t,e)=>n=>e(t(n)),kc=(...t)=>t.reduce(S3),cc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Z0{constructor(){this.subscriptions=[]}add(e){return Y0(this.subscriptions,e),()=>Q0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const is=t=>t*1e3,si=t=>t/1e3;function iR(t,e){return e?t*(1e3/e):0}const sR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,A3=1e-7,R3=12;function C3(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=sR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>A3&&++f<R3);return c}function jc(t,e,n,s){if(t===e&&n===s)return ri;const a=l=>C3(l,0,1,t,n);return l=>l===0||l===1?l:sR(a(l),e,s)}const rR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aR=t=>e=>1-t(1-e),oR=jc(.33,1.53,.69,.99),J0=aR(oR),lR=rR(J0),uR=t=>(t*=2)<1?.5*J0(t):.5*(2-Math.pow(2,-10*(t-1))),ev=t=>1-Math.sin(Math.acos(t)),cR=aR(ev),hR=rR(ev),N3=jc(.42,0,1,1),I3=jc(0,0,.58,1),fR=jc(.42,0,.58,1),D3=t=>Array.isArray(t)&&typeof t[0]!="number",dR=t=>Array.isArray(t)&&typeof t[0]=="number",k3={linear:ri,easeIn:N3,easeInOut:fR,easeOut:I3,circIn:ev,circInOut:hR,circOut:cR,backIn:J0,backInOut:lR,backOut:oR,anticipate:uR},j3=t=>typeof t=="string",KE=t=>{if(dR(t)){X0(t.length===4);const[e,n,s,a]=t;return jc(e,n,s,a)}else if(j3(t))return k3[t];return t},wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,_=!1,b=!1)=>{const D=b&&a?n:s;return _&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const V3=40;function mR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=wf.reduce((F,oe)=>(F[oe]=M3(l),F),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:b,render:w,postRender:D}=c,N=()=>{const F=Ls.useManualTiming?a.timestamp:performance.now();n=!1,Ls.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,V3),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),_.process(a),b.process(a),w.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(N))},k=()=>{n=!0,s=!0,a.isProcessing||t(N)};return{schedule:wf.reduce((F,oe)=>{const ae=c[oe];return F[oe]=(ie,I=!1,C=!1)=>(n||k(),ae.schedule(ie,I,C)),F},{}),cancel:F=>{for(let oe=0;oe<wf.length;oe++)c[wf[oe]].cancel(F)},state:a,steps:c}}const{schedule:ft,cancel:Gr,state:en,steps:Eg}=mR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let Ff;function O3(){Ff=void 0}const Cn={now:()=>(Ff===void 0&&Cn.set(en.isProcessing||Ls.useManualTiming?en.timestamp:performance.now()),Ff),set:t=>{Ff=t,queueMicrotask(O3)}},pR=t=>e=>typeof e=="string"&&e.startsWith(t),tv=pR("--"),P3=pR("var(--"),nv=t=>P3(t)?L3.test(t.split("/*")[0].trim()):!1,L3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hc={...Tl,transform:t=>Ps(0,1,t)},Sf={...Tl,default:1},Ku=t=>Math.round(t*1e5)/1e5,iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U3(t){return t==null}const z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sv=(t,e)=>n=>!!(typeof n=="string"&&z3.test(n)&&n.startsWith(t)||e&&!U3(n)&&Object.prototype.hasOwnProperty.call(n,e)),gR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(iv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},B3=t=>Ps(0,255,t),wg={...Tl,transform:t=>Math.round(B3(t))},Va={test:sv("rgb","red"),parse:gR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+wg.transform(t)+", "+wg.transform(e)+", "+wg.transform(n)+", "+Ku(hc.transform(s))+")"};function F3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const yy={test:sv("#"),parse:F3,transform:Va.transform},Mc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=Mc("deg"),ss=Mc("%"),Te=Mc("px"),H3=Mc("vh"),q3=Mc("vw"),$E={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},$o={test:sv("hsl","hue"),parse:gR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ss.transform(Ku(e))+", "+ss.transform(Ku(n))+", "+Ku(hc.transform(s))+")"},Ot={test:t=>Va.test(t)||yy.test(t)||$o.test(t),parse:t=>Va.test(t)?Va.parse(t):$o.test(t)?$o.parse(t):yy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):$o.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},G3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K3(t){return isNaN(t)&&typeof t=="string"&&(t.match(iv)?.length||0)+(t.match(G3)?.length||0)>0}const yR="number",vR="color",$3="var",Y3="var(",YE="${}",Q3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(Q3,m=>(Ot.test(m)?(s.color.push(l),a.push(vR),n.push(Ot.parse(m))):m.startsWith(Y3)?(s.var.push(l),a.push($3),n.push(m)):(s.number.push(l),a.push(yR),n.push(parseFloat(m))),++l,YE)).split(YE);return{values:n,split:f,indexes:s,types:a}}function _R(t){return fc(t).values}function xR(t){const{split:e,types:n}=fc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===yR?l+=Ku(a[c]):f===vR?l+=Ot.transform(a[c]):l+=a[c]}return l}}const X3=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function W3(t){const e=_R(t);return xR(t)(e.map(X3))}const Kr={test:K3,parse:_R,createTransformer:xR,getAnimatableNone:W3};function Sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Z3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Sg(m,f,t+1/3),l=Sg(m,f,t),c=Sg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function gd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Ag=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},J3=[yy,Va,$o],e6=t=>J3.find(e=>e.test(t));function QE(t){const e=e6(t);if(!e)return!1;let n=e.parse(t);return e===$o&&(n=Z3(n)),n}const XE=(t,e)=>{const n=QE(t),s=QE(e);if(!n||!s)return gd(t,e);const a={...n};return l=>(a.red=Ag(n.red,s.red,l),a.green=Ag(n.green,s.green,l),a.blue=Ag(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Va.transform(a))},vy=new Set(["none","hidden"]);function t6(t,e){return vy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function n6(t,e){return n=>mt(t,e,n)}function rv(t){return typeof t=="number"?n6:typeof t=="string"?nv(t)?gd:Ot.test(t)?XE:r6:Array.isArray(t)?bR:typeof t=="object"?Ot.test(t)?XE:i6:gd}function bR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>rv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function i6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=rv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function s6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const r6=(t,e)=>{const n=Kr.createTransformer(e),s=fc(t),a=fc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?vy.has(t)&&!a.values.length||vy.has(e)&&!s.values.length?t6(t,e):kc(bR(s6(s,a),a.values),n):gd(t,e)};function TR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):rv(t)(t,e)}const a6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Gr(e),now:()=>en.isProcessing?en.timestamp:Cn.now()}},ER=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},yd=2e4;function av(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<yd;)e+=n,s=t.next(e);return e>=yd?1/0:e}function o6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(av(s),yd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:si(a)}}const l6=5;function wR(t,e,n){const s=Math.max(e-l6,0);return iR(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rg=.001;function u6({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,c=1-e;c=Ps(vt.minDamping,vt.maxDamping,c),t=Ps(vt.minDuration,vt.maxDuration,si(t)),c<1?(a=p=>{const v=p*c,_=v*t,b=v-n,w=_y(p,c),D=Math.exp(-_);return Rg-b/w*D},l=p=>{const _=p*c*t,b=_*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,D=Math.exp(-_),N=_y(Math.pow(p,2),c);return(-a(p)+Rg>0?-1:1)*((b-w)*D)/N}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-Rg+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const f=5/t,m=h6(a,l,f);if(t=is(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const c6=12;function h6(t,e,n){let s=n;for(let a=1;a<c6;a++)s=s-t(s)/e(s);return s}function _y(t,e){return t*Math.sqrt(1-e*e)}const f6=["duration","bounce"],d6=["stiffness","damping","mass"];function WE(t,e){return e.some(n=>t[n]!==void 0)}function m6(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!WE(t,d6)&&WE(t,f6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=u6(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function vd(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:b,isResolvedFromDuration:w}=m6({...n,velocity:-si(n.velocity||0)}),D=b||0,N=p/(2*Math.sqrt(m*v)),k=c-l,L=si(Math.sqrt(m/v)),q=Math.abs(k)<5;s||(s=q?vt.restSpeed.granular:vt.restSpeed.default),a||(a=q?vt.restDelta.granular:vt.restDelta.default);let F;if(N<1){const ae=_y(L,N);F=ie=>{const I=Math.exp(-N*L*ie);return c-I*((D+N*L*k)/ae*Math.sin(ae*ie)+k*Math.cos(ae*ie))}}else if(N===1)F=ae=>c-Math.exp(-L*ae)*(k+(D+L*k)*ae);else{const ae=L*Math.sqrt(N*N-1);F=ie=>{const I=Math.exp(-N*L*ie),C=Math.min(ae*ie,300);return c-I*((D+N*L*k)*Math.sinh(C)+ae*k*Math.cosh(C))/ae}}const oe={calculatedDuration:w&&_||null,next:ae=>{const ie=F(ae);if(w)f.done=ae>=_;else{let I=ae===0?D:0;N<1&&(I=ae===0?is(D):wR(F,ae,ie));const C=Math.abs(I)<=s,j=Math.abs(c-ie)<=a;f.done=C&&j}return f.value=f.done?c:ie,f},toString:()=>{const ae=Math.min(av(oe),yd),ie=ER(I=>oe.next(ae*I).value,ae,30);return ae+"ms "+ie},toTransition:()=>{}};return oe}vd.applyToOptions=t=>{const e=o6(t,100,vd);return t.ease=e.ease,t.duration=is(e.duration),t.type="keyframes",t};function xy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],b={done:!1,value:_},w=C=>f!==void 0&&C<f||m!==void 0&&C>m,D=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let N=n*e;const k=_+N,L=c===void 0?k:c(k);L!==k&&(N=L-_);const q=C=>-N*Math.exp(-C/s),F=C=>L+q(C),oe=C=>{const j=q(C),P=F(C);b.done=Math.abs(j)<=p,b.value=b.done?L:P};let ae,ie;const I=C=>{w(b.value)&&(ae=C,ie=vd({keyframes:[b.value,D(b.value)],velocity:wR(F,C,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return I(0),{calculatedDuration:null,next:C=>{let j=!1;return!ie&&ae===void 0&&(j=!0,oe(C),I(C)),ae!==void 0&&C>=ae?ie.next(C-ae):(!j&&oe(C),b)}}}function p6(t,e,n){const s=[],a=n||Ls.mix||TR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ri:e;f=kc(m,f)}s.push(f)}return s}function g6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(X0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=p6(e,s,a),m=f.length,p=v=>{if(c&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const b=cc(t[_],t[_+1],v);return f[_](b)};return n?v=>p(Ps(t[0],t[l-1],v)):p}function y6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=cc(0,e,s);t.push(mt(n,1,a))}}function v6(t){const e=[0];return y6(e,t.length-1),e}function _6(t,e){return t.map(n=>n*e)}function x6(t,e){return t.map(()=>e||fR).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=D3(s)?s.map(KE):KE(s),l={done:!1,value:e[0]},c=_6(n&&n.length===e.length?n:v6(e),t),f=g6(c,e,{ease:Array.isArray(a)?a:x6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const b6=t=>t!==null;function ov(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(b6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const T6={decay:xy,inertia:xy,tween:$u,keyframes:$u,spring:vd};function SR(t){typeof t.type=="string"&&(t.type=T6[t.type])}class lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const E6=t=>t/100;class uv extends lv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SR(e);const{type:n=$u,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||$u;m!==$u&&typeof f[0]!="number"&&(this.mixKeyframes=kc(E6,TR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=av(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:b,repeatDelay:w,type:D,onUpdate:N,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,oe=s;if(_){const C=Math.min(this.currentTime,a)/f;let j=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&j--,j=Math.min(j,_+1),!!(j%2)&&(b==="reverse"?(P=1-P,w&&(P-=w/f)):b==="mirror"&&(oe=c)),F=Ps(0,1,P)*f}const ae=q?{done:!1,value:v[0]}:oe.next(F);l&&(ae.value=l(ae.value));let{done:ie}=ae;!q&&m!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return I&&D!==xy&&(ae.value=ov(v,this.options,k,this.speed)),N&&N(ae.value),I&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return si(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(this.currentTime)}set time(e){e=is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=a6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function w6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oa=t=>t*180/Math.PI,by=t=>{const e=Oa(Math.atan2(t[1],t[0]));return Ty(e)},S6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:by,rotateZ:by,skewX:t=>Oa(Math.atan(t[1])),skewY:t=>Oa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ty=t=>(t=t%360,t<0&&(t+=360),t),ZE=by,JE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ew=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),A6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JE,scaleY:ew,scale:t=>(JE(t)+ew(t))/2,rotateX:t=>Ty(Oa(Math.atan2(t[6],t[5]))),rotateY:t=>Ty(Oa(Math.atan2(-t[2],t[0]))),rotateZ:ZE,rotate:ZE,skewX:t=>Oa(Math.atan(t[4])),skewY:t=>Oa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ey(t){return t.includes("scale")?1:0}function wy(t,e){if(!t||t==="none")return Ey(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=A6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=S6,a=f}if(!a)return Ey(e);const l=s[e],c=a[1].split(",").map(C6);return typeof l=="function"?l(c):c[l]}const R6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wy(n,e)};function C6(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wl=new Set(El),tw=t=>t===Tl||t===Te,N6=new Set(["x","y","z"]),I6=El.filter(t=>!N6.has(t));function D6(t){const e=[];return I6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wy(e,"x"),y:(t,{transform:e})=>wy(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const za=new Set;let Sy=!1,Ay=!1,Ry=!1;function AR(){if(Ay){const t=Array.from(za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=D6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ay=!1,Sy=!1,za.forEach(t=>t.complete(Ry)),za.clear()}function RR(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ay=!0)})}function k6(){Ry=!0,RR(),AR(),Ry=!1}class cv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),Sy||(Sy=!0,ft.read(RR),ft.resolveKeyframes(AR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}w6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j6=t=>t.startsWith("--");function M6(t,e,n){j6(e)?t.style.setProperty(e,n):t.style[e]=n}const V6=W0(()=>window.ScrollTimeline!==void 0),O6={};function P6(t,e){const n=W0(t);return()=>O6[e]??n()}const CR=P6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function NR(t,e){if(t)return typeof t=="function"?CR()?ER(t,e):"ease-out":dR(t)?Uu(t):Array.isArray(t)?t.map(n=>NR(n,e)||nw.easeOut):nw[t]}function L6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=NR(f,a);Array.isArray(_)&&(v.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(v,b)}function IR(t){return typeof t=="function"&&"applyToOptions"in t}function U6({type:t,...e}){return IR(t)&&CR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class z6 extends lv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,X0(typeof e.type!="string");const p=U6(e);this.animation=L6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=ov(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):M6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&V6()?(this.animation.timeline=e,ri):n(this)}}const DR={anticipate:uR,backInOut:lR,circInOut:hR};function B6(t){return t in DR}function F6(t){typeof t.ease=="string"&&B6(t.ease)&&(t.ease=DR[t.ease])}const iw=10;class H6 extends z6{constructor(e){F6(e),SR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new uv({...c,autoplay:!1}),m=is(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-iw).value,f.sample(m).value,iw),f.stop()}}const sw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Kr.test(t)||t==="0")&&!t.startsWith("url("));function q6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=sw(a,e),f=sw(l,e);return!c||!f?!1:q6(t)||(n==="spring"||IR(n))&&s}function Cy(t){t.duration=0,t.type="keyframes"}const K6=new Set(["opacity","clipPath","filter","transform"]),$6=W0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return $6()&&n&&K6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const Q6=40;class X6 extends lv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,..._},w=v?.KeyframeResolver||cv;this.keyframeResolver=new w(f,(D,N,k)=>this.onKeyframesResolved(D,N,b,!k),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Cn.now(),G6(e,l,c,f)||((Ls.instantAnimations||!m)&&v?.(ov(e,s,n)),e[0]=e[e.length-1],Cy(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Q6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&Y6(b)?new H6({...b,element:b.motionValue.owner.current}):new uv(b);w.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),k6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const W6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z6(t){const e=W6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function kR(t,e,n=1){const[s,a]=Z6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return eR(c)?parseFloat(c):c}return nv(a)?kR(a,e,n+1):a}function hv(t,e){return t?.[e]??t?.default??t}const jR=new Set(["width","height","top","left","right","bottom",...El]),J6={test:t=>t==="auto",parse:t=>t},MR=t=>e=>e.test(t),VR=[Tl,Te,ss,Sr,q3,H3,J6],rw=t=>VR.find(MR(t));function eL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nR(t):!0}const tL=new Set(["brightness","contrast","saturate","opacity"]);function nL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(iv)||[];if(!s)return t;const a=n.replace(s,"");let l=tL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const iL=/\b([a-z-]*)\(.*?\)/gu,Ny={...Kr,getAnimatableNone:t=>{const e=t.match(iL);return e?e.map(nL).join(" "):t}},aw={...Tl,transform:Math.round},sL={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:Sf,scaleX:Sf,scaleY:Sf,scaleZ:Sf,skew:Sr,skewX:Sr,skewY:Sr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:hc,originX:$E,originY:$E,originZ:Te},fv={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...sL,zIndex:aw,fillOpacity:hc,strokeOpacity:hc,numOctaves:aw},rL={...fv,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Ny,WebkitFilter:Ny},OR=t=>rL[t];function PR(t,e){let n=OR(t);return n!==Ny&&(n=Kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aL=new Set(["auto","none","0"]);function oL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!aL.has(l)&&fc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=PR(n,a)}class lL extends cv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),nv(p))){const v=kR(p,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jR.has(s)||e.length!==2)return;const[a,l]=e,c=rw(a),f=rw(l);if(c!==f)if(tw(c)&&tw(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||eL(e[a]))&&s.push(a);s.length&&oL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function uL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const LR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function cL(t){return tR(t)&&"offsetHeight"in t}const ow=30,hL=t=>!isNaN(parseFloat(t));class fL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ow)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ow);return iR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cl(t,e){return new fL(t,e)}const{schedule:dv}=mR(queueMicrotask,!1),Ti={x:!1,y:!1};function UR(){return Ti.x||Ti.y}function dL(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function zR(t,e){const n=uL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function lw(t){return!(t.pointerType==="touch"||UR())}function mL(t,e,n={}){const[s,a,l]=zR(t,n),c=f=>{if(!lw(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=_=>{lw(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const BR=(t,e)=>e?t===e?!0:BR(t,e.parentElement):!1,mv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gL(t){return pL.has(t.tagName)||t.tabIndex!==-1}const Hf=new WeakSet;function uw(t){return e=>{e.key==="Enter"&&t(e)}}function Cg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=uw(()=>{if(Hf.has(n))return;Cg(n,"down");const a=uw(()=>{Cg(n,"up")}),l=()=>Cg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function cw(t){return mv(t)&&!UR()}function vL(t,e,n={}){const[s,a,l]=zR(t,n),c=f=>{const m=f.currentTarget;if(!cw(f))return;Hf.add(m);const p=e(m,f),v=(w,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Hf.has(m)&&Hf.delete(m),cw(w)&&typeof p=="function"&&p(w,{success:D})},_=w=>{v(w,m===window||m===document||n.useGlobalTarget||BR(m,w.target))},b=w=>{v(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),cL(f)&&(f.addEventListener("focus",p=>yL(p,a)),!gL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function FR(t){return tR(t)&&"ownerSVGElement"in t}function _L(t){return FR(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),xL=[...VR,Ot,Kr],bL=t=>xL.find(MR(t)),HR=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TL(t=!0){const e=A.useContext($0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=A.useId();A.useEffect(()=>{if(t)return a(l)},[t]);const c=A.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const qR=A.createContext({strict:!1}),hw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in hw)hl[t]={isEnabled:e=>hw[t].some(n=>!!e[n])};function EL(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const wL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _d(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wL.has(t)}let GR=t=>!_d(t);function SL(t){typeof t=="function"&&(GR=e=>e.startsWith("on")?!_d(e):t(e))}try{SL(require("@emotion/is-prop-valid").default)}catch{}function AL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(GR(a)||n===!0&&_d(a)||!e&&!_d(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Jd=A.createContext({});function em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dc(t){return typeof t=="string"||Array.isArray(t)}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gv=["initial",...pv];function tm(t){return em(t.animate)||gv.some(e=>dc(t[e]))}function KR(t){return!!(tm(t)||t.variants)}function RL(t,e){if(tm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dc(n)?n:void 0,animate:dc(s)?s:void 0}}return t.inherit!==!1?e:{}}function CL(t){const{initial:e,animate:n}=RL(t,A.useContext(Jd));return A.useMemo(()=>({initial:e,animate:n}),[fw(e),fw(n)])}function fw(t){return Array.isArray(t)?t.join(" "):t}const mc={};function NL(t){for(const e in t)mc[e]=t[e],tv(e)&&(mc[e].isCSSVariable=!0)}function $R(t,{layout:e,layoutId:n}){return wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mc[t]||t==="opacity")}const IL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DL=El.length;function kL(t,e,n){let s="",a=!0;for(let l=0;l<DL;l++){const c=El[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=LR(f,fv[c]);if(!m){a=!1;const v=IL[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function yv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(wl.has(m)){c=!0;continue}else if(tv(m)){a[m]=p;continue}else{const v=LR(p,fv[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=kL(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}const vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YR(t,e,n){for(const s in e)!hn(e[s])&&!$R(s,n)&&(t[s]=e[s])}function jL({transformTemplate:t},e){return A.useMemo(()=>{const n=vv();return yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ML(t,e){const n=t.style||{},s={};return YR(s,n,t),Object.assign(s,jL(t,e)),s}function VL(t,e){const n={},s=ML(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const OL={offset:"stroke-dashoffset",array:"stroke-dasharray"},PL={offset:"strokeDashoffset",array:"strokeDasharray"};function LL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?OL:PL;t[l.offset]=Te.transform(-s);const c=Te.transform(e),f=Te.transform(n);t[l.array]=`${c} ${f}`}function QR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,v){if(yv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&LL(_,a,l,c,!1)}const XR=()=>({...vv(),attrs:{}}),WR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UL(t,e,n,s){const a=A.useMemo(()=>{const l=XR();return QR(l,e,WR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};YR(l,t.style,t),a.style={...l,...a.style}}return a}const zL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(t){return typeof t!="string"||t.includes("-")?!1:!!(zL.indexOf(t)>-1||/[A-Z]/u.test(t))}function BL(t,e,n,{latestValues:s},a,l=!1){const f=(_v(t)?UL:VL)(e,s,a,t),m=AL(e,typeof t=="string",l),p=t!==A.Fragment?{...m,...f,ref:n}:{},{children:v}=e,_=A.useMemo(()=>hn(v)?v.get():v,[v]);return A.createElement(t,{...p,children:_})}function dw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function xv(t,e,n,s){if(typeof e=="function"){const[a,l]=dw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=dw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function qf(t){return hn(t)?t.get():t}function FL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:HL(n,s,a,t),renderState:e()}}function HL(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=qf(l[b]);let{initial:c,animate:f}=t;const m=tm(t),p=KR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?f:c;if(_&&typeof _!="boolean"&&!em(_)){const b=Array.isArray(_)?_:[_];for(let w=0;w<b.length;w++){const D=xv(t,b[w]);if(D){const{transitionEnd:N,transition:k,...L}=D;for(const q in L){let F=L[q];if(Array.isArray(F)){const oe=v?F.length-1:0;F=F[oe]}F!==null&&(a[q]=F)}for(const q in N)a[q]=N[q]}}}return a}const ZR=t=>(e,n)=>{const s=A.useContext(Jd),a=A.useContext($0),l=()=>FL(t,e,s,a);return n?l():E3(l)};function bv(t,e,n){const{style:s}=t,a={};for(const l in s)(hn(s[l])||e.style&&hn(e.style[l])||$R(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const qL=ZR({scrapeMotionValuesFromProps:bv,createRenderState:vv});function JR(t,e,n){const s=bv(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const GL=ZR({scrapeMotionValuesFromProps:JR,createRenderState:XR}),KL=Symbol.for("motionComponentSymbol");function Yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $L(t,e,n){return A.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Yo(n)&&(n.current=s))},[e])}const Tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YL="framerAppearId",e2="data-"+Tv(YL),t2=A.createContext({});function QL(t,e,n,s,a){const{visualElement:l}=A.useContext(Jd),c=A.useContext(qR),f=A.useContext($0),m=A.useContext(HR).reducedMotion,p=A.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=p.current,_=A.useContext(t2);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&XL(p.current,n,a,_);const b=A.useRef(!1);A.useInsertionEffect(()=>{v&&b.current&&v.update(n,f)});const w=n[e2],D=A.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return w3(()=>{v&&(b.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),A.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),D.current=!1),v.enteringChildren=void 0)}),v}function XL(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:n2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Yo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:p})}function n2(t){if(t)return t.options.allowProjection!==!1?t.projection:n2(t.parent)}function Ng(t,{forwardMotionProps:e=!1}={},n,s){n&&EL(n);const a=_v(t)?GL:qL;function l(f,m){let p;const v={...A.useContext(HR),...f,layoutId:WL(f)},{isStatic:_}=v,b=CL(f),w=a(f,_);if(!_&&K0){ZL();const D=JL(v);p=D.MeasureLayout,b.visualElement=QL(t,w,v,s,D.ProjectionNode)}return g.jsxs(Jd.Provider,{value:b,children:[p&&b.visualElement?g.jsx(p,{visualElement:b.visualElement,...v}):null,BL(t,f,$L(w,b.visualElement,m),w,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(l);return c[KL]=t,c}function WL({layoutId:t}){const e=A.useContext(JA).id;return e&&t!==void 0?e+"-"+t:t}function ZL(t,e){A.useContext(qR).strict}function JL(t){const{drag:e,layout:n}=hl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function e5(t,e){if(typeof Proxy>"u")return Ng;const n=new Map,s=(l,c)=>Ng(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Ng(c,void 0,t,e)),n.get(c))})}function i2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function t5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ig(t){return t===void 0||t===1}function Iy({scale:t,scaleX:e,scaleY:n}){return!Ig(t)||!Ig(e)||!Ig(n)}function ja(t){return Iy(t)||s2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s2(t){return mw(t.x)||mw(t.y)}function mw(t){return t&&t!=="0%"}function xd(t,e,n){const s=t-n,a=e*s;return n+a}function pw(t,e,n,s,a){return a!==void 0&&(t=xd(t,a,s)),xd(t,n,s)+e}function Dy(t,e=0,n=1,s,a){t.min=pw(t.min,e,n,s,a),t.max=pw(t.max,e,n,s,a)}function r2(t,{x:e,y:n}){Dy(t.x,e.translate,e.scale,e.originPoint),Dy(t.y,n.translate,n.scale,n.originPoint)}const gw=.999999999999,yw=1.0000000000001;function i5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,r2(t,c)),s&&ja(l.latestValues)&&Xo(t,l.latestValues))}e.x<yw&&e.x>gw&&(e.x=1),e.y<yw&&e.y>gw&&(e.y=1)}function Qo(t,e){t.min=t.min+e,t.max=t.max+e}function vw(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);Dy(t,e,n,l,s)}function Xo(t,e){vw(t.x,e.x,e.scaleX,e.scale,e.originX),vw(t.y,e.y,e.scaleY,e.scale,e.originY)}function a2(t,e){return i2(n5(t.getBoundingClientRect(),e))}function s5(t,e,n){const s=a2(t,n),{scroll:a}=e;return a&&(Qo(s.x,a.offset.x),Qo(s.y,a.offset.y)),s}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wo=()=>({x:_w(),y:_w()}),xw=()=>({min:0,max:0}),Ft=()=>({x:xw(),y:xw()}),ky={current:null},o2={current:!1};function r5(){if(o2.current=!0,!!K0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ky.current=t.matches;t.addEventListener("change",e),e()}else ky.current=!1}const a5=new WeakMap;function o5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(hn(a))t.addValue(s,a);else if(hn(l))t.addValue(s,cl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,cl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Cn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=tm(n),this.isVariantNode=KR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const w=_[b];m[b]!==void 0&&hn(w)&&w.set(m[b])}}mount(e){this.current=e,a5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),o2.current||r5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ky.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gr(this.notifyUpdate),Gr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=wl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<bw.length;s++){const a=bw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=o5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=cl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(eR(s)||nR(s))?s=parseFloat(s):!bL(s)&&Kr.test(n)&&(s=PR(e,n)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=xv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dv.render(this.render)}}class l2 extends l5{constructor(){super(...arguments),this.KeyframeResolver=lL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function u2(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function u5(t){return window.getComputedStyle(t)}class c5 extends l2{constructor(){super(...arguments),this.type="html",this.renderInstance=u2}readValueFromInstance(e,n){if(wl.has(n))return this.projection?.isProjecting?Ey(n):R6(e,n);{const s=u5(e),a=(tv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a2(e,n)}build(e,n,s){yv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return bv(e,n,s)}}const c2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h5(t,e,n,s){u2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(c2.has(a)?a:Tv(a),e.attrs[a])}class f5 extends l2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wl.has(n)){const s=OR(n);return s&&s.default||0}return n=c2.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return JR(e,n,s)}build(e,n,s){QR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){h5(e,n,s,a)}mount(e){this.isSVGTag=WR(e.tagName),super.mount(e)}}const d5=(t,e)=>_v(t)?new f5(e):new c5(e,{allowProjection:t!==A.Fragment});function nl(t,e,n){const s=t.getProps();return xv(s,e,n!==void 0?n:s.custom,t)}const jy=t=>Array.isArray(t);function m5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cl(n))}function p5(t){return jy(t)?t[t.length-1]||0:t}function g5(t,e){const n=nl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=p5(l[c]);m5(t,c,f)}}function y5(t){return!!(hn(t)&&t.add)}function My(t,e){const n=t.getValue("willChange");if(y5(n))return n.add(e);if(!n&&Ls.WillChange){const s=new Ls.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function h2(t){return t.props[e2]}const v5=t=>t!==null;function _5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(v5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const x5={type:"spring",stiffness:500,damping:25,restSpeed:10},b5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T5={type:"keyframes",duration:.8},E5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w5=(t,{keyframes:e})=>e.length>2?T5:wl.has(t)?t.startsWith("scale")?b5(e[1]):x5:E5;function S5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Ev=(t,e,n,s={},a,l)=>c=>{const f=hv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-is(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};S5(f)||Object.assign(v,w5(t,v)),v.duration&&(v.duration=is(v.duration)),v.repeatDelay&&(v.repeatDelay=is(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Cy(v),v.delay===0&&(_=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(_=!0,Cy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=_5(v.keyframes,f);if(b!==void 0){ft.update(()=>{v.onUpdate(b),v.onComplete()});return}}return f.isSync?new uv(v):new X6(v)};function A5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function f2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),b=f[v];if(b===void 0||p&&A5(p,v))continue;const w={delay:n,...hv(l||{},v)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===D&&!w.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const L=h2(t);if(L){const q=window.MotionHandoffAnimation(L,v,ft);q!==null&&(w.startTime=q,N=!0)}}My(t,v),_.start(Ev(v,_,b,t.shouldReduceMotion&&jR.has(v)?{type:!1}:w,t,N));const k=_.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{ft.update(()=>{c&&g5(t,c)})}),m}function d2(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Vy(t,e,n={}){const s=nl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(f2(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:_}=a;return R5(t,e,m,p,v,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function R5(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Vy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+d2(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function C5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Vy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Vy(t,e,n);else{const a=typeof e=="function"?nl(t,e,n.custom):e;s=Promise.all(f2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function m2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const N5=gv.length;function p2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?p2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N5;n++){const s=gv[n],a=t.props[s];(dc(a)||a===!1)&&(e[s]=a)}return e}const I5=[...pv].reverse(),D5=pv.length;function k5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>C5(t,n,s)))}function j5(t){let e=k5(t),n=Tw(),s=!0;const a=m=>(p,v)=>{const _=nl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:w,...D}=_;p={...p,...D,...w}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=p2(t.parent)||{},_=[],b=new Set;let w={},D=1/0;for(let k=0;k<D5;k++){const L=I5[k],q=n[L],F=p[L]!==void 0?p[L]:v[L],oe=dc(F),ae=L===m?q.isActive:null;ae===!1&&(D=k);let ie=F===v[L]&&F!==p[L]&&oe;if(ie&&s&&t.manuallyAnimateOnMount&&(ie=!1),q.protectedKeys={...w},!q.isActive&&ae===null||!F&&!q.prevProp||em(F)||typeof F=="boolean")continue;const I=M5(q.prevProp,F);let C=I||L===m&&q.isActive&&!ie&&oe||k>D&&oe,j=!1;const P=Array.isArray(F)?F:[F];let O=P.reduce(a(L),{});ae===!1&&(O={});const{prevResolvedValues:B={}}=q,M={...B,...O},Se=re=>{C=!0,b.has(re)&&(j=!0,b.delete(re)),q.needsAnimating[re]=!0;const he=t.getValue(re);he&&(he.liveStyle=!1)};for(const re in M){const he=O[re],Ie=B[re];if(w.hasOwnProperty(re))continue;let Ve=!1;jy(he)&&jy(Ie)?Ve=!m2(he,Ie):Ve=he!==Ie,Ve?he!=null?Se(re):b.add(re):he!==void 0&&b.has(re)?Se(re):q.protectedKeys[re]=!0}q.prevProp=F,q.prevResolvedValues=O,q.isActive&&(w={...w,...O}),s&&t.blockInitialAnimation&&(C=!1);const _e=ie&&I;C&&(!_e||j)&&_.push(...P.map(re=>{const he={type:L};if(typeof re=="string"&&s&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,Ve=nl(Ie,re);if(Ie.enteringChildren&&Ve){const{delayChildren:z}=Ve.transition||{};he.delay=d2(Ie.enteringChildren,t,z)}}return{animation:re,options:he}}))}if(b.size){const k={};if(typeof p.initial!="boolean"){const L=nl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(k.transition=L.transition)}b.forEach(L=>{const q=t.getBaseTarget(L),F=t.getValue(L);F&&(F.liveStyle=!0),k[L]=q??null}),_.push({animation:k})}let N=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const v=c(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Tw()}}}function M5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!m2(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tw(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class Jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V5 extends Jr{constructor(e){super(e),e.animationState||(e.animationState=j5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let O5=0;class P5 extends Jr{constructor(){super(...arguments),this.id=O5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L5={animation:{Feature:V5},exit:{Feature:P5}};function pc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Vc(t){return{point:{x:t.pageX,y:t.pageY}}}const U5=t=>e=>mv(e)&&t(e,Vc(e));function Yu(t,e,n,s){return pc(t,e,U5(n),s)}const g2=1e-4,z5=1-g2,B5=1+g2,y2=.01,F5=0-y2,H5=0+y2;function gn(t){return t.max-t.min}function q5(t,e,n){return Math.abs(t-e)<=n}function Ew(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=z5&&t.scale<=B5||isNaN(t.scale))&&(t.scale=1),(t.translate>=F5&&t.translate<=H5||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,s){Ew(t.x,e.x,n.x,s?s.originX:void 0),Ew(t.y,e.y,n.y,s?s.originY:void 0)}function ww(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function G5(t,e,n){ww(t.x,e.x,n.x),ww(t.y,e.y,n.y)}function Sw(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function bd(t,e,n){Sw(t.x,e.x,n.x),Sw(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const v2=({current:t})=>t?t.ownerDocument.defaultView:null,Aw=(t,e)=>Math.abs(t-e);function K5(t,e){const n=Aw(t.x,e.x),s=Aw(t.y,e.y);return Math.sqrt(n**2+s**2)}class _2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=kg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,D=K5(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!D)return;const{point:N}=b,{timestamp:k}=en;this.history.push({...N,timestamp:k});const{onStart:L,onMove:q}=this.handlers;w||(L&&L(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Dg(w,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:D,onSessionEnd:N,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=kg(b.type==="pointercancel"?this.lastMoveEventInfo:Dg(w,this.transformPagePoint),this.history);this.startEvent&&D&&D(b,L),N&&N(b,L)},!mv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Vc(e),m=Dg(f,this.transformPagePoint),{point:p}=m,{timestamp:v}=en;this.history=[{...p,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,kg(m,this.history)),this.removeListeners=kc(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gr(this.updatePoint)}}function Dg(t,e){return e?{point:e(t.point)}:t}function Rw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kg({point:t},e){return{point:t,delta:Rw(t,x2(e)),offset:Rw(t,$5(e)),velocity:Y5(e,.1)}}function $5(t){return t[0]}function x2(t){return t[t.length-1]}function Y5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=x2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>is(e)));)n--;if(!s)return{x:0,y:0};const l=si(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Q5(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function Cw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function X5(t,{top:e,left:n,bottom:s,right:a}){return{x:Cw(t.x,n,a),y:Cw(t.y,e,s)}}function Nw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function W5(t,e){return{x:Nw(t.x,e.x),y:Nw(t.y,e.y)}}function Z5(t,e){let n=.5;const s=gn(t),a=gn(e);return a>s?n=cc(e.min,e.max-s,t.min):s>a&&(n=cc(t.min,t.max-a,e.min)),Ps(0,1,n)}function J5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Oy=.35;function eU(t=Oy){return t===!1?t=0:t===!0&&(t=Oy),{x:Iw(t,"left","right"),y:Iw(t,"top","bottom")}}function Iw(t,e,n){return{min:Dw(t,e),max:Dw(t,n)}}function Dw(t,e){return typeof t=="number"?t:t[e]||0}const tU=new WeakMap;class nU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vc(_).point)},c=(_,b)=>{const{drag:w,dragPropagation:D,onDragStart:N}=this.getProps();if(w&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dL(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(L=>{let q=this.getAxisMotionValue(L).get()||0;if(ss.test(q)){const{projection:F}=this.visualElement;if(F&&F.layout){const oe=F.layout.layoutBox[L];oe&&(q=gn(oe)*(parseFloat(q)/100))}}this.originPoint[L]=q}),N&&ft.postRender(()=>N(_,b)),My(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:D,onDirectionLock:N,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:L}=b;if(D&&this.currentDirection===null){this.currentDirection=iU(L),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",b.point,L),this.updateAxis("y",b.point,L),this.visualElement.render(),k&&k(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new _2(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:v2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ft.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Af(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Q5(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Yo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=X5(s.layoutBox,e):this.constraints=!1,this.elastic=eU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=J5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=s5(s,a.root,this.visualElement.getTransformPagePoint());let c=W5(a.layout.layoutBox,l);if(n){const f=n(t5(c));this.hasMutatedConstraints=!!f,f&&(c=i2(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ni(v=>{if(!Af(v,n,this.currentDirection))return;let _=m&&m[v]||{};c&&(_={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,D={type:"inertia",velocity:s?e[v]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,D)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return My(this.visualElement,e),s.start(Ev(e,s,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:s}=this.getProps();if(!Af(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-mt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Z5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(c=>{if(!Af(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(mt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;tU.set(this.visualElement,this);const e=this.visualElement.current,n=Yu(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Yo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Oy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Af(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sU extends Jr{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new nU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const kw=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class rU extends Jr{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new _2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:kw(e),onStart:kw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ft.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=jw(t,e.target.x),s=jw(t,e.target.y);return`${n}% ${s}%`}},aU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Kr.parse(t);if(a.length>5)return s;const l=Kr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=mt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let jg=!1;class oU extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;NL(lU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),jg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,jg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ft.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;jg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function b2(t){const[e,n]=TL(),s=A.useContext(JA);return g.jsx(oU,{...t,layoutGroup:s,switchLayoutGroup:A.useContext(t2),isPresent:e,safeToRemove:n})}const lU={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:aU};function uU(t,e,n){const s=hn(t)?t:cl(t);return s.start(Ev("",s,e,n)),s.animation}const cU=(t,e)=>t.depth-e.depth;class hU{constructor(){this.children=[],this.isDirty=!1}add(e){Y0(this.children,e),this.isDirty=!0}remove(e){Q0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cU),this.isDirty=!1,this.children.forEach(e)}}function fU(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Gr(s),t(l-e))};return ft.setup(s,!0),()=>Gr(s)}const T2=["TopLeft","TopRight","BottomLeft","BottomRight"],dU=T2.length,Mw=t=>typeof t=="string"?parseFloat(t):t,Vw=t=>typeof t=="number"||Te.test(t);function mU(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,pU(s)),t.opacityExit=mt(e.opacity??1,0,gU(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<dU;c++){const f=`border${T2[c]}Radius`;let m=Ow(e,f),p=Ow(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Vw(m)===Vw(p)?(t[f]=Math.max(mt(Mw(m),Mw(p),s),0),(ss.test(p)||ss.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function Ow(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pU=E2(0,.5,cR),gU=E2(.5,.95,ri);function E2(t,e,n){return s=>s<t?0:s>e?1:n(cc(t,e,s))}function Pw(t,e){t.min=e.min,t.max=e.max}function bi(t,e){Pw(t.x,e.x),Pw(t.y,e.y)}function Lw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Uw(t,e,n,s,a){return t-=e,t=xd(t,1/n,s),a!==void 0&&(t=xd(t,1/a,s)),t}function yU(t,e=0,n=1,s=.5,a,l=t,c=t){if(ss.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=mt(l.min,l.max,s);t===l&&(f-=e),t.min=Uw(t.min,e,n,f,a),t.max=Uw(t.max,e,n,f,a)}function zw(t,e,[n,s,a],l,c){yU(t,e[n],e[s],e[a],e.scale,l,c)}const vU=["x","scaleX","originX"],_U=["y","scaleY","originY"];function Bw(t,e,n,s){zw(t.x,e,vU,n?n.x:void 0,s?s.x:void 0),zw(t.y,e,_U,n?n.y:void 0,s?s.y:void 0)}function Fw(t){return t.translate===0&&t.scale===1}function w2(t){return Fw(t.x)&&Fw(t.y)}function Hw(t,e){return t.min===e.min&&t.max===e.max}function xU(t,e){return Hw(t.x,e.x)&&Hw(t.y,e.y)}function qw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function S2(t,e){return qw(t.x,e.x)&&qw(t.y,e.y)}function Gw(t){return gn(t.x)/gn(t.y)}function Kw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bU{constructor(){this.members=[]}add(e){Y0(this.members,e),e.scheduleRender()}remove(e){if(Q0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:b,skewX:w,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Mg=["","X","Y","Z"],EU=1e3;let wU=0;function Vg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function A2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=h2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&A2(s)}function R2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=wU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RU),this.nodes.forEach(DU),this.nodes.forEach(kU),this.nodes.forEach(CU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new hU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Z0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=FR(c)&&!_L(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const b=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{_=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,v&&v(),v=fU(b,250),Gf.hasAnimatedSinceResize&&(Gf.hasAnimatedSinceResize=!1,this.nodes.forEach(Qw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||PU,{onLayoutAnimationStart:N,onLayoutAnimationComplete:k}=p.getProps(),L=!this.targetLayout||!S2(this.targetLayout,w),q=!_&&b;if(this.options.layoutRoot||this.resumeFrom||q||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...hv(D,"layout"),onPlay:N,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,q)}else _||Qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($w);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Yw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IU),this.nodes.forEach(SU),this.nodes.forEach(AU)):this.nodes.forEach(Yw),this.clearAllSnapshots();const f=Cn.now();en.delta=Ps(0,1e3/60,f-en.timestamp),en.timestamp=f,en.isProcessing=!0,Eg.update.process(en),Eg.preRender.process(en),Eg.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NU),this.sharedNodes.forEach(MU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!w2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ja(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),LU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ft();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UU))){const{scroll:p}=this.root;p&&(Qo(f.x,p.offset.x),Qo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=Ft();if(bi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:_}=p;p!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&bi(f,c),Qo(f.x,v.offset.x),Qo(f.y,v.offset.y))}return f}applyTransform(c,f=!1){const m=Ft();bi(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Xo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ja(v.latestValues)&&Xo(m,v.latestValues)}return ja(this.latestValues)&&Xo(m,this.latestValues),m}removeTransform(c){const f=Ft();bi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ja(p.latestValues))continue;Iy(p.latestValues)&&p.updateSnapshot();const v=Ft(),_=p.measurePageBox();bi(v,_),Bw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ja(this.latestValues)&&Bw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=en.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),r2(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Iy(this.parent.latestValues)||s2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),bd(this.relativeTargetOrigin,f,m),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;bi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;i5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ft());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lw(this.prevProjectionDelta.x,this.projectionDelta.x),Lw(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!Kw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wo(),this.projectionDelta=Wo(),this.projectionDeltaWithTransform=Wo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=Wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Ft(),w=m?m.source:void 0,D=this.layout?this.layout.source:void 0,N=w!==D,k=this.getStack(),L=!k||k.members.length<=1,q=!!(N&&!L&&this.options.crossfade===!0&&!this.path.some(OU));this.animationProgress=0;let F;this.mixTargetDelta=oe=>{const ae=oe/1e3;Xw(_.x,c.x,ae),Xw(_.y,c.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VU(this.relativeTarget,this.relativeTargetOrigin,b,ae),F&&xU(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ft()),bi(F,this.relativeTarget)),N&&(this.animationValues=v,mU(v,p,this.latestValues,ae,q,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cl(0)),this.currentAnimation=uU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&C2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ft();const _=gn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=gn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}bi(f,m),Xo(f,v),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Vg("z",c,p,this.animationValues);for(let v=0;v<Mg.length;v++)Vg(`rotate${Mg[v]}`,c,p,this.animationValues),Vg(`skew${Mg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=qf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=qf(f?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=TU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),c.transform=_;const{x:b,y:w}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in mc){if(v[D]===void 0)continue;const{correct:N,applyTo:k,isCSSVariable:L}=mc[D],q=_==="none"?v[D]:N(v[D],p);if(k){const F=k.length;for(let oe=0;oe<F;oe++)c[k[oe]]=q}else L?this.options.visualElement.renderState.vars[D]=q:c[D]=q}this.options.layoutId&&(c.pointerEvents=p===this?qf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach($w),this.root.sharedNodes.clear()}}}function SU(t){t.updateLayout()}function AU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=gn(_);_.min=n[v].min,_.max=_.min+b}):C2(a,e.layoutBox,n)&&ni(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=gn(n[v]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const c=Wo();Qu(c,n,e.layoutBox);const f=Wo();l?Qu(f,t.applyTransform(s,!0),e.measuredBox):Qu(f,n,e.layoutBox);const m=!w2(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:b}=v;if(_&&b){const w=Ft();bd(w,e.layoutBox,_.layoutBox);const D=Ft();bd(D,n,b.layoutBox),S2(w,D)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function RU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NU(t){t.clearSnapshot()}function $w(t){t.clearMeasurements()}function Yw(t){t.isLayoutDirty=!1}function IU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DU(t){t.resolveTargetDelta()}function kU(t){t.calcProjection()}function jU(t){t.resetSkewAndRotation()}function MU(t){t.removeLeadSnapshot()}function Xw(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ww(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function VU(t,e,n,s){Ww(t.x,e.x,n.x,s),Ww(t.y,e.y,n.y,s)}function OU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PU={duration:.45,ease:[.4,0,.1,1]},Zw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jw=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:ri;function eS(t){t.min=Jw(t.min),t.max=Jw(t.max)}function LU(t){eS(t.x),eS(t.y)}function C2(t,e,n){return t==="position"||t==="preserve-aspect"&&!q5(Gw(e),Gw(n),.2)}function UU(t){return t!==t.root&&t.scroll?.wasRoot}const zU=R2({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Og={current:void 0},N2=R2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Og.current){const t=new zU({});t.mount(window),t.setOptions({layoutScroll:!0}),Og.current=t}return Og.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BU={pan:{Feature:rU},drag:{Feature:sU,ProjectionNode:N2,MeasureLayout:b2}};function tS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Vc(e)))}class FU extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=mL(e,(n,s)=>(tS(this.node,s,"Start"),a=>tS(this.node,a,"End"))))}unmount(){}}class HU extends Jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Vc(e)))}class qU extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=vL(e,(n,s)=>(nS(this.node,s,"Start"),(a,{success:l})=>nS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Py=new WeakMap,Pg=new WeakMap,GU=t=>{const e=Py.get(t.target);e&&e(t)},KU=t=>{t.forEach(GU)};function $U({root:t,...e}){const n=t||document;Pg.has(n)||Pg.set(n,{});const s=Pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(KU,{root:t,...e})),s[a]}function YU(t,e,n){const s=$U(e);return Py.set(t,n),s.observe(t),()=>{Py.delete(t),s.unobserve(t)}}const QU={some:0,all:1};class XU extends Jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:QU[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),b=p?v:_;b&&b(m)};return YU(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WU(e,n))&&this.startObserver()}unmount(){}}function WU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZU={inView:{Feature:XU},tap:{Feature:qU},focus:{Feature:HU},hover:{Feature:FU}},JU={layout:{ProjectionNode:N2,MeasureLayout:b2}},e9={...L5,...ZU,...BU,...JU},Dr=e5(e9,d5);function I2({label:t="System wird initialisiert...",theme:e="light"}){const n=e==="dark",s=n?"bg-[#050505]":"bg-[#f8f9fa]",a=n?"text-white/60":"text-black/60",l=n?"bg-indigo-500/20":"bg-blue-400/20",c=n?"bg-white":"bg-gray-900",f={animate:{rotate:[0,90,180,270,360],transition:{duration:4,ease:"linear",repeat:1/0}}};return g.jsxs("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center overflow-hidden ${s}`,children:[g.jsx(Dr.div,{className:`absolute h-[400px] w-[400px] rounded-full blur-[100px] ${l}`,animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-12",children:[g.jsx(Dr.div,{className:"grid h-16 w-16 grid-cols-2 grid-rows-2 gap-2",variants:f,animate:"animate",children:[0,1,2,3].map(m=>g.jsx(Dr.div,{className:`h-full w-full rounded-lg shadow-2xl ${c}`,animate:{scale:[1,.5,1],borderRadius:["30%","50%","30%"],x:m%2===0?[0,-4,0]:[0,4,0],y:m<2?[0,-4,0]:[0,4,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:m*.1},style:{backdropFilter:"blur(10px)"}},m))}),g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx("p",{className:`text-sm font-medium tracking-[0.2em] uppercase ${a}`,children:t}),g.jsx(Dr.div,{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/50 to-transparent",animate:{translateX:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",repeatDelay:.5}})]})]}),g.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]})}function t9({children:t}){const{user:e,ready:n}=Fn();return n?e?t:g.jsx(Ba,{to:"/login",replace:!0}):g.jsx(I2,{label:"Profil wird geladen"})}function n9({children:t}){const{user:e,role:n,ready:s}=Fn();return s?e?n!=="admin"?g.jsx(Ba,{to:"/",replace:!0}):t:g.jsx(Ba,{to:"/login",replace:!0}):g.jsx(I2,{label:"Adminrechte werden geprft"})}function D2(){const{user:t}=Fn(),[e,n]=A.useState({}),[s,a]=A.useState(!0);return A.useEffect(()=>{if(!t?.uid)return;async function l(){a(!0);try{const c=an(st,"users",t.uid),f=await Fs(c),p=(f.exists()?f.data():{})?.lastSearch??null;if(!p){const v={offerTypes:[],priceRange:{},propertySpaceRange:{}};await Wd(c,{lastSearch:v},{merge:!0}),n(v);return}n(p)}catch(c){console.error("Fehler beim Laden der Filters:",c),n({})}finally{a(!1)}}l()},[t?.uid]),{filters:e,loading:s}}function i9(){const{user:t}=Fn(),[e,n]=A.useState("loading"),[s,a]=A.useState(null);return A.useEffect(()=>{if(!t)return;(async()=>{const f=(await Fs(an(st,"users",t.uid))).data();a(f),f?.stripeStatus?n(f.stripeStatus):n("free")})()},[t]),{status:e,userDoc:s,isPaid:e==="paid",loading:e==="loading"}}function s9({loading:t,error:e,onSelectMonthly:n,onSelectYearly:s}){return g.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex justify-center items-center z-50 px-4",children:g.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-3xl shadow-xl border border-slate-100 p-8",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-900 text-center mb-2",children:"Fast geschafft!"}),g.jsx("p",{className:"text-slate-600 text-center mb-6",children:"Whle dein ImmobotPro-Abo aus und starte direkt mit deiner automatischen Immobiliensuche."}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[g.jsxs("button",{type:"button",onClick:n,disabled:t,className:"group border rounded-2xl p-5 text-left hover:border-sky-500 hover:shadow-md transition flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600 mb-1",children:"Monatlich"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"6,99 "}),g.jsx("p",{className:"text-sm text-slate-500",children:"pro Monat, flexibel kndbar"})]}),g.jsx("span",{className:"mt-4 inline-flex items-center text-sm font-medium text-sky-600 group-hover:translate-x-0.5 transition",children:"Monatlich starten "})]}),g.jsxs("button",{type:"button",onClick:s,disabled:t,className:"group border rounded-2xl p-5 text-left hover:border-amber-500 hover:shadow-md transition flex flex-col justify-between bg-slate-50",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-amber-600 mb-1",children:"Jhrlich"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"59,90 "}),g.jsx("p",{className:"text-sm text-slate-500",children:"12 Monate ImmobotPro  gnstiger als monatlich"})]}),g.jsx("span",{className:"mt-4 inline-flex items-center text-sm font-medium text-amber-600 group-hover:translate-x-0.5 transition",children:"Jhrlich abschlieen "})]})]}),e&&g.jsx("p",{className:"text-sm text-red-600 text-center mb-2",children:e}),t&&g.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Weiterleitung zu Stripe"})]})})}const r9="price_1SaeE9DhGVwiGXJYxm5oZdI6",a9="price_1SaeGDDhGVwiGXJYn2kbMjuh";function k2({children:t}){const{isPaid:e,loading:n}=i9(),[s,a]=A.useState(!1),[l,c]=A.useState("");async function f(m){c(""),a(!0);try{const _=(await RP(NP,"createCheckoutSession")({priceId:m})).data?.url;if(!_)throw new Error("Keine Checkout-URL erhalten");window.location.href=_}catch(p){console.error(p),c(p.message||"Fehler beim Starten des Checkouts"),a(!1)}}return n?g.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Prfe deinen Zugang"}):e?t:g.jsx(s9,{loading:s,error:l,onSelectMonthly:()=>f(r9),onSelectYearly:()=>f(a9)})}function o9(){const t=new Date().getHours();return t<11?"Guten Morgen":t<18?"Guten Tag":"Guten Abend"}function l9(t){return t?Object.values(t).filter(e=>Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:e!==null&&e!==""&&e!==!1).length:0}function u9(){const{user:t}=Fn(),{filters:e,loading:n}=D2(),[s,a]=A.useState("");A.useEffect(()=>{let p=!1;async function v(){if(t?.uid)try{const _=an(st,"users",t.uid),b=await Fs(_);if(p)return;if(b.exists()){const w=b.data()||{};a(typeof w.firstName=="string"?w.firstName:"")}else a("")}catch(_){console.error("Fehler beim Laden des Userprofils:",_),p||a("")}}return v(),()=>{p=!0}},[t?.uid]);const l=A.useMemo(()=>l9(e),[e]),c=o9(),f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[g.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-4"}),g.jsx("div",{className:"h-64 w-64 bg-gray-200 rounded-3xl"})]})}):g.jsx(k2,{children:g.jsx(Dr.div,{className:"min-h-screen bg-[#FDFDFD] p-6 md:p-12 font-sans text-gray-900",variants:f,initial:"hidden",animate:"visible",children:g.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[g.jsxs(Dr.div,{variants:m,className:"space-y-1",children:[g.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight",children:[c,", ",g.jsx("br",{className:"md:hidden"}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-600",children:s}),g.jsx(Dr.span,{className:"inline-block ml-4",animate:{rotate:[0,14,-8,14,-4,10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:1},children:""})]}),g.jsx("p",{className:"text-lg md:text-xl text-gray-400 font-medium",children:"Schn, dich wiederzusehen. Hier ist dein Status."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx(iS,{to:"/dashboard/filters",variant:"dark",children:g.jsxs("div",{className:"flex flex-col h-full justify-between",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("div",{className:"p-3 rounded-2xl bg-white/10 backdrop-blur-md border border-white/5",children:g.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),g.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-white/20 text-white backdrop-blur-sm border border-white/10",children:"Konfiguration"})]}),g.jsxs("div",{className:"space-y-2 mt-8",children:[g.jsx("div",{className:"text-6xl font-black text-white tracking-tighter",children:l}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Aktive Suchfilter"}),g.jsx("p",{className:"text-white/60 text-sm leading-relaxed max-w-xs",children:"Deine Kriterien fr Standort, Preis und Ausstattung."})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-bold text-white/80 group-hover:text-white transition-colors",children:["Bearbeiten ",g.jsx(sS,{})]})]})}),g.jsx(iS,{to:"/dashboard/results",variant:"light",children:g.jsxs("div",{className:"flex flex-col h-full justify-between relative overflow-hidden",children:[g.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none mix-blend-multiply"}),g.jsxs("div",{className:"flex justify-between items-start z-10",children:[g.jsx("div",{className:"p-3 rounded-2xl bg-indigo-50 border border-indigo-100",children:g.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),g.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700 border border-green-200",children:"Live Suche"})]}),g.jsxs("div",{className:"space-y-2 mt-8 z-10",children:[g.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Suchergebnisse"}),g.jsx("p",{className:"text-gray-500 text-sm leading-relaxed max-w-xs",children:"Wir haben den Markt gescannt. Schau dir die Treffer an, die zu deinen Filtern passen."})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-bold text-indigo-600 group-hover:text-indigo-700 transition-colors z-10",children:["Ergebnisse ffnen ",g.jsx(sS,{})]})]})})]})]})})})}function iS({children:t,to:e,variant:n}){const s=n==="dark";return g.jsx(Dr.div,{variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}},whileHover:{y:-8},whileTap:{scale:.98},children:g.jsxs(sn,{to:e,className:`
          group relative block h-full p-8 md:p-10 rounded-[2.5rem] overflow-hidden transition-all duration-500 shadow-xl
          ${s?"bg-gray-900 border border-gray-800 shadow-2xl shadow-gray-900/20":"bg-white border border-gray-100 shadow-2xl shadow-indigo-100/50"}
        `,children:[s&&g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 via-transparent to-purple-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),g.jsx("div",{className:"relative z-10 h-full",children:t})]})})}function sS(){return g.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}function c9(){return g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-8 md:p-12",children:g.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:["Immobot ",g.jsx("span",{className:"text-indigo-600",children:"Admin"})]}),g.jsx("p",{className:"text-lg text-gray-500",children:"Willkommen zurck. Whle einen Bereich zur Verwaltung."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(Lg,{title:"User Management",desc:"Benutzerliste, Rollen & Zugriffsrechte verwalten.",to:"/admin/users",icon:g.jsx(h9,{}),color:"text-blue-600",bg:"bg-blue-50"}),g.jsx(Lg,{title:"Klick-Events",desc:"Tracking-Daten und Klick-Analysen einsehen.",to:"/admin/clicks",icon:g.jsx(f9,{}),color:"text-violet-600",bg:"bg-violet-50"}),g.jsx(Lg,{title:"Offer Redirects",desc:"Weiterleitungen zu Partner-Angeboten steuern.",to:"/admin/offers",icon:g.jsx(d9,{}),color:"text-emerald-600",bg:"bg-emerald-50"})]})]})})}function Lg({title:t,desc:e,to:n,icon:s,color:a,bg:l}){return g.jsxs(sn,{to:n,className:"group relative flex flex-col justify-between p-8 bg-white rounded-2xl border border-gray-200 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-indigo-100 overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${l} rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity duration-500 -mr-10 -mt-10 pointer-events-none`}),g.jsxs("div",{children:[g.jsx("div",{className:`w-12 h-12 rounded-xl ${l} ${a} flex items-center justify-center mb-6 transition-transform group-hover:scale-110`,children:s}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:t}),g.jsx("p",{className:"text-sm text-gray-500 mt-2 leading-relaxed",children:e})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-medium text-gray-400 group-hover:text-indigo-600 transition-colors",children:["ffnen",g.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}function h9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}function f9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}function d9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}const rS="VUVj9lGbHQAdYVsF04k8";function m9({filters:t}){const{user:e}=Fn(),[n,s]=A.useState(!1),[a,l]=A.useState(""),[c,f]=A.useState([]),[m,p]=A.useState(t?.coordinate?.lat??52.52),[v,_]=A.useState(t?.coordinate?.lon??13.405),[b,w]=A.useState(t?.radiusInKm??10),D=A.useRef(null),N=A.useRef({L:null,map:null,marker:null,circle:null});A.useEffect(()=>{t&&(t.coordinate?.lat!=null&&p(t.coordinate.lat),t.coordinate?.lon!=null&&_(t.coordinate.lon),t.radiusInKm!=null&&w(t.radiusInKm))},[t]);async function k(F){if(!F||F.length<3){f([]);return}const oe=`https://api.maptiler.com/geocoding/${encodeURIComponent(F)}.json?key=${rS}&language=de`,ie=await(await fetch(oe)).json();f(ie.features?.map(I=>({label:I.place_name,lat:I.center[1],lon:I.center[0]}))??[])}function L(F){l(F.label),p(F.lat),_(F.lon),f([])}A.useEffect(()=>{let F=!1;async function oe(){if(!document.querySelector("link[data-leaflet]")){const I=document.createElement("link");I.rel="stylesheet",I.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",I.setAttribute("data-leaflet","1"),document.head.appendChild(I)}return window.L||await new Promise(I=>{const C=document.createElement("script");C.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",C.onload=I,document.body.appendChild(C)}),window.L}async function ae(){if(!D.current)return;const I=await oe();if(!F){if(N.current.L=I,!N.current.map){const C=I.map(D.current).setView([m,v],11);N.current.map=C,I.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${rS}`,{attribution:"&copy; MapTiler"}).addTo(C)}ie(m,v,b)}}function ie(I,C,j){const{L:P,map:O,marker:B,circle:M}=N.current;if(!P||!O)return;B&&B.remove(),M&&M.remove();const Se=P.marker([I,C]).addTo(O),_e=P.circle([I,C],{radius:j*1e3,color:"#1d4ed8",fillOpacity:.2}).addTo(O);N.current.marker=Se,N.current.circle=_e,O.fitBounds(_e.getBounds(),{padding:[20,20]})}return ae(),()=>{F=!0}},[m,v,b]);async function q(){if(e?.uid)try{const F=an(st,"users",e.uid);await Zd(F,{lastSearch:{...t||{},coordinate:{lat:m,lon:v},radiusInKm:b}}),s(!1)}catch(F){console.error("LocationCard save failed",F)}}return g.jsxs("section",{className:"mb-6 rounded-2xl border border-gray-200 bg-slate-50 p-5",children:[g.jsxs("header",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Standort & Radius"}),g.jsx("button",{onClick:()=>s(F=>!F),className:"rounded-full border border-gray-900 px-3 py-1 text-xs font-medium",children:n?"Fertig":"Bearbeiten"})]}),n&&g.jsxs("div",{className:"relative mb-3",children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adresse eingeben"}),g.jsx("input",{type:"text",value:a,onChange:F=>{l(F.target.value),k(F.target.value)},placeholder:"z.B. Berlin Alexanderplatz",className:"w-full rounded-xl border px-3 py-2 text-sm"}),c.length>0&&g.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-xl border bg-white shadow z-10 max-h-40 overflow-auto",children:c.map((F,oe)=>g.jsx("button",{onClick:()=>L(F),className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:F.label},oe))})]}),n&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Radius"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:[5,7.5,10,12.5,15,20].map(F=>g.jsxs("button",{onClick:()=>w(F),className:`px-3 py-1 rounded-full text-xs border ${b===F?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800"}`,children:[F," km"]},F))})]}),g.jsx("div",{ref:D,className:"h-72 w-full rounded-xl border bg-gray-200"}),n&&g.jsx("div",{className:"flex justify-end mt-4",children:g.jsx("button",{onClick:q,className:"px-4 py-2 rounded-full bg-gray-900 text-white text-xs",children:"Speichern"})})]})}function p9({filters:t,user:e}){const[n,s]=A.useState(t.objectClasses||[]),[a,l]=A.useState(t.offerTypes||[]),[c,f]=A.useState(!1);A.useEffect(()=>{s(t.objectClasses||[]),l(t.offerTypes||[])},[t]);const m=async(v,_,b,w)=>{if(!c)return;const D=_.includes(v)?_.filter(N=>N!==v):[..._,v];b(D),await Zd(an(st,"users",e.uid),{lastSearch:{...t,[w]:D}})},p=v=>{const _="px-4 py-2 text-sm rounded-full font-medium transition-all duration-200 ease-in-out flex items-center gap-2 border";return v?c?`${_} bg-blue-600 border-blue-600 text-white shadow-md hover:bg-blue-700 hover:shadow-lg cursor-pointer hover:-translate-y-0.5`:`${_} bg-blue-600 border-blue-600 text-white opacity-90 cursor-default`:c?`${_} bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400 cursor-pointer hover:-translate-y-0.5`:`${_} bg-gray-100 text-gray-500 border-transparent cursor-default`};return g.jsxs("section",{className:`rounded-[20px] border bg-white p-6 md:p-8 shadow-sm transition-all duration-300 relative overflow-hidden ${c?"border-blue-200 shadow-md ring-4 ring-blue-50":"border-gray-200"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-8 relative z-20",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Objekt & Angebot"}),!c&&g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Klicke auf "Bearbeiten", um zu ndern.'})]}),g.jsx("button",{onClick:()=>f(!c),className:`px-5 py-2 text-sm font-semibold rounded-xl transition-all duration-200 flex items-center gap-2 cursor-pointer ${c?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:c?g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),"Fertig"]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:[g.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),g.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]}),"Bearbeiten"]})})]}),g.jsxs("div",{className:"space-y-8 relative z-20",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("div",{className:`p-1.5 rounded-lg ${c?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"} transition-colors`,children:g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4zm3 1h6v4H7V5zm8 6H5v3h10v-3zm-10 5h10v1H5v-1z",clipRule:"evenodd"})})}),g.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Objektarten auswhlen"})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:["Wohnung","Haus","Gewerbe","Grundstueck"].map(v=>{const _=n.includes(v);return g.jsxs("button",{onClick:()=>m(v,n,s,"objectClasses"),disabled:!c,className:p(_),children:[_&&c&&g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),v]},v)})})]}),!c&&g.jsx("hr",{className:"border-gray-100"}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("div",{className:`p-1.5 rounded-lg ${c?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"} transition-colors`,children:g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M5.5 3A2.5 2.5 0 003 5.5v2.879a2.5 2.5 0 00.732 1.767l6.5 6.5a2.5 2.5 0 003.536 0l2.878-2.878a2.5 2.5 0 000-3.536l-6.5-6.5A2.5 2.5 0 008.38 3H5.5zM6 7a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),g.jsx("h3",{className:"text-base font-bold text-gray-800",children:"Angebotsart"})]}),g.jsx("div",{className:"flex flex-wrap gap-3",children:["Kauf","Miete"].map(v=>{const _=a.includes(v);return g.jsxs("button",{onClick:()=>m(v,a,l,"offerTypes"),disabled:!c,className:p(_),children:[_&&c&&g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),v]},v)})})]})]}),!c&&g.jsx("div",{className:"absolute inset-0 bg-white/10 z-10 cursor-not-allowed","aria-hidden":"true"})]})}function aS({active:t,onClick:e,children:n}){return g.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 rounded-full border text-sm ${t?"bg-blue-600 text-white":"bg-white"}`,children:n})}const g9=[600,800,1e3,1200,1500,null],y9=[2e5,3e5,4e5,5e5,75e4,1e6,null],v9=[40,60,80,100,120,150,200,null];function _9({filters:t}){const{user:e}=Fn(),n=t.offerTypes?.includes("Miete")&&!t.offerTypes?.includes("Kauf"),s=A.useMemo(()=>n?g9:y9,[n]),[a,l]=A.useState(t.priceRange?.to??null),[c,f]=A.useState(t.propertySpaceRange?.to??null);A.useEffect(()=>{l(t.priceRange?.to??null),f(t.propertySpaceRange?.to??null)},[t]);const m=n?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?",p=N=>typeof N=="number"?`bis ${N.toLocaleString("de-DE")} `:"beliebig",v=N=>typeof N=="number"?`bis ${N} qm`:"beliebig",_=e?.uid&&an(st,"users",e.uid);async function b(N){_&&await Wd(_,{lastSearch:N},{merge:!0})}const w=async N=>{l(N),await b({...t,priceRange:{...t.priceRange||{},to:N}})},D=async N=>{f(N),await b({...t,propertySpaceRange:{...t.propertySpaceRange||{},to:N}})};return A.useEffect(()=>{_&&(l(null),b({...t,priceRange:{...t.priceRange||{},to:null}}))},[n]),g.jsxs("section",{className:"space-y-4 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[g.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Preis & Flche"}),g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:m}),g.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((N,k)=>g.jsx(aS,{active:a===N,onClick:()=>w(N),children:p(N)},k))}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Flche:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:v9.map((N,k)=>g.jsx(aS,{active:c===N,onClick:()=>D(N),children:v(N)},k))})]})]})}const j2=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function oS(t){return j2.reduce((e,n)=>({...e,[n.key]:t?.[n.key]??!1}),{})}function x9({filters:t}){const{user:e}=Fn(),[n,s]=A.useState(()=>oS(t));A.useEffect(()=>{s(oS(t))},[t]);const a=async l=>{const c=!n[l],f={...n,[l]:c};s(f),await Zd(an(st,"users",e.uid),{lastSearch:{...t,...f}})};return g.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Ausstattung & Extras"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:j2.map(l=>{const c=n[l.key];return g.jsx("button",{onClick:()=>a(l.key),className:`px-3 py-1.5 text-xs rounded-full border transition ${c?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:l.label},l.key)})})]})}const b9=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],T9=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],E9=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],w9=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function S9({filters:t,user:e}){const[n,s]=A.useState(!1),[a,l]=A.useState(t.energySources||[]),[c,f]=A.useState(t.heatingTypes||[]),[m,p]=A.useState(t.energyRatings||[]),[v,_]=A.useState(t.energyEfficiencyStandards||[]),[b,w]=A.useState(t.pricePerSqmRange?.from??""),[D,N]=A.useState(t.pricePerSqmRange?.to??""),[k,L]=A.useState(t.yieldRange?.from??""),[q,F]=A.useState(t.yieldRange?.to??""),[oe,ae]=A.useState(t.energyConsumptionRange?.from??""),[ie,I]=A.useState(t.energyConsumptionRange?.to??""),[C,j]=A.useState(t.constructionYearRange?.from??""),[P,O]=A.useState(t.constructionYearRange?.to??"");A.useEffect(()=>{l(t.energySources||[]),f(t.heatingTypes||[]),p(t.energyRatings||[]),_(t.energyEfficiencyStandards||[]),w(t.pricePerSqmRange?.from??""),N(t.pricePerSqmRange?.to??""),L(t.yieldRange?.from??""),F(t.yieldRange?.to??""),ae(t.energyConsumptionRange?.from??""),I(t.energyConsumptionRange?.to??""),j(t.constructionYearRange?.from??""),O(t.constructionYearRange?.to??"")},[t]);const B=(_e,W,re)=>{re(W.includes(_e)?W.filter(he=>he!==_e):[...W,_e])};async function M(){const _e=an(st,"users",e.uid);await Zd(_e,{lastSearch:{...t,energySources:a,heatingTypes:c,energyRatings:m,energyEfficiencyStandards:v,pricePerSqmRange:{from:b,to:D},yieldRange:{from:k,to:q},energyConsumptionRange:{from:oe,to:ie},constructionYearRange:{from:C,to:P}}}),s(!1)}const Se=(_e,W,re="")=>_e&&W?`von ${_e}${re} bis ${W}${re}`:_e?`ab ${_e}${re}`:W?`bis ${W}${re}`:"";return g.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[g.jsxs("header",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Erweiterte Filter"}),g.jsx("button",{onClick:()=>s(!n),className:"text-sm px-4 py-1.5 rounded-full border border-gray-300 hover:bg-gray-100",children:n?"Fertig":"Bearbeiten"})]}),n?g.jsxs("div",{className:"space-y-6",children:[g.jsx(wr,{title:"Energietrger",children:g.jsx(Rf,{options:b9,active:a,onToggle:_e=>B(_e,a,l)})}),g.jsx(wr,{title:"Heizung",children:g.jsx(Rf,{options:T9,active:c,onToggle:_e=>B(_e,c,f)})}),g.jsx(wr,{title:"Energieklasse",children:g.jsx(Rf,{options:E9,active:m,onToggle:_e=>B(_e,m,p)})}),g.jsx(wr,{title:"Energiestandard",children:g.jsx(Rf,{options:w9,active:v,onToggle:_e=>B(_e,v,_)})}),g.jsx(wr,{title:"Preis pro m",children:g.jsx(Cf,{from:b,to:D,setFrom:w,setTo:N,unit:"/m"})}),g.jsx(wr,{title:"Rendite",children:g.jsx(Cf,{from:k,to:q,setFrom:L,setTo:F,unit:"%",step:"0.1"})}),g.jsx(wr,{title:"Energieverbrauch",children:g.jsx(Cf,{from:oe,to:ie,setFrom:ae,setTo:I,unit:"kWh/m*a"})}),g.jsx(wr,{title:"Baujahr",children:g.jsx(Cf,{from:C,to:P,setFrom:j,setTo:O})})]}):g.jsxs("div",{className:"text-gray-800 text-sm space-y-2 leading-relaxed",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Energietrger:"})," ",a.join(", ")||""]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Heizung:"})," ",c.join(", ")||""]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Energieklasse:"})," ",m.join(", ")||""]}),g.jsxs("p",{children:[g.jsx("strong",{children:"KfW-Standard:"})," ",v.join(", ")||""]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Preis pro m:"})," ",Se(b,D," /m")]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Rendite:"})," ",Se(k,q,"%")]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Energieverbrauch:"})," ",Se(oe,ie," kWh/m*a")]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Baujahr:"})," ",Se(C,P)]})]}),n&&g.jsx("div",{className:"flex justify-end mt-4",children:g.jsx("button",{onClick:M,className:"px-4 py-2 rounded-full bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Speichern"})})]})}function wr({title:t,children:e}){return g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-sm mb-2",children:t}),e]})}function Rf({options:t,active:e,onToggle:n}){return g.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(s=>{const a=e.includes(s);return g.jsx("button",{onClick:()=>n(s),className:`px-3 py-1.5 text-xs rounded-full border transition ${a?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:s},s)})})}function Cf({from:t,to:e,setFrom:n,setTo:s,unit:a,step:l="1"}){return g.jsxs("div",{className:"flex flex-col gap-2 max-w-xs",children:[g.jsx("input",{type:"number",step:l,value:t,onChange:c=>n(c.target.value),className:"rounded-lg border px-3 py-2",placeholder:"von"}),g.jsx("input",{type:"number",step:l,value:e,onChange:c=>s(c.target.value),className:"rounded-lg border px-3 py-2",placeholder:"bis"}),a&&g.jsx("span",{className:"text-xs text-gray-500",children:a})]})}function A9(){const{user:t}=Fn(),{filters:e,loading:n}=D2();return n?g.jsx("div",{style:{padding:30},children:"Lade Filter"}):g.jsx(k2,{children:g.jsxs("div",{style:{padding:30},children:[g.jsx("h1",{style:{fontSize:36,marginBottom:20},children:"Meine Filter"}),g.jsxs("div",{style:{display:"grid",gap:20},children:[g.jsx(m9,{filters:e,user:t}),g.jsx(p9,{filters:e,user:t}),g.jsx(_9,{filters:e,user:t}),g.jsx(x9,{filters:e,user:t}),g.jsx(S9,{filters:e,user:t})]})]})})}async function R9({redirectId:t,geomapOfferId:e,redirectUrl:n,userId:s,source:a="web-app"}){if(!t||!n){console.error("trackAndRedirect: missing data",{redirectId:t,redirectUrl:n,geomapOfferId:e,userId:s,source:a});return}try{const l={redirectId:t,source:a,timestamp:fd()};e&&(l.geomapOfferId=e),s&&(l.userId=s),await sP(as(st,"clickEvents"),l)}catch(l){console.error("Click tracking failed",l)}window.open(n,"_blank","noopener,noreferrer")}const C9="VUVj9lGbHQAdYVsF04k8";function N9({offers:t=[],onMarkerClick:e}){const n=A.useRef(null),s=A.useRef({map:null,L:null,markers:[]});return A.useEffect(()=>{let a=!1;async function l(){if(!window.L){const m=document.createElement("link");m.rel="stylesheet",m.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(m),await new Promise(p=>{const v=document.createElement("script");v.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",v.onload=p,document.body.appendChild(v)})}return window.L}async function c(){const m=await l();a||!n.current||(s.current.map||(s.current.map=m.map(n.current).setView([51,10],6),s.current.L=m,m.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${C9}`,{attribution:"&copy; MapTiler"}).addTo(s.current.map)),f())}function f(){const{map:m,L:p}=s.current;if(!m||!p)return;s.current.markers.forEach(_=>_.remove()),s.current.markers=[];const v=t.filter(_=>typeof _.latitude=="number"&&typeof _.longitude=="number"&&_.docId);if(v.forEach(_=>{const b=p.marker([_.latitude,_.longitude]).addTo(m).bindPopup(`
            <div style="min-width:180px">
              <strong>${_.title||"Ohne Titel"}</strong><br/>
              ${_.price?_.price+" ":""}<br/>
              ${_.rooms?_.rooms+" Zimmer":""}
            </div>
          `);b.on("click",()=>{b.openPopup(),e?.(_.docId)}),s.current.markers.push(b)}),v.length>0){const _=p.latLngBounds(v.map(b=>[b.latitude,b.longitude]));m.fitBounds(_,{padding:[30,30],maxZoom:14})}}return c(),()=>a=!0},[t,e]),g.jsx("div",{ref:n,className:"h-full w-full rounded-2xl border border-gray-200"})}const I9=t=>{if(!t)return"Preis auf Anfrage";const e=parseFloat(String(t).replace(/[^0-9.,-]/g,""));return isNaN(e)?t:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)},D9=t=>{if(!t)return!1;const e=t.toDate?t.toDate():new Date(t),n=new Date;return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()};function k9(){const{user:t}=Fn(),[e,n]=A.useState([]),[s,a]=A.useState(!0),[l,c]=A.useState(null),[f,m]=A.useState(!1),p=A.useRef({});A.useEffect(()=>{if(!t?.uid)return;async function b(){a(!0);try{const w=Zr(as(st,"offerRedirects"),Ic("uid","==",t.uid)),N=(await qr(w)).docs.map(k=>({docId:k.id,...k.data()}));N.sort((k,L)=>{const q=k.createdAt?.seconds||0;return(L.createdAt?.seconds||0)-q}),n(N)}catch(w){console.error("Load offers failed",w)}finally{a(!1)}}b()},[t]),A.useEffect(()=>{l&&p.current[l]&&p.current[l].scrollIntoView({behavior:"smooth",block:"center"})},[l]);const v=[],_=[];return e.forEach(b=>{b.createdAt&&!D9(b.createdAt)?_.push(b):v.push(b)}),g.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 p-6 max-w-[1800px] mx-auto min-h-screen",children:[g.jsxs("div",{className:"order-2 xl:order-1 flex flex-col gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Deine Ergebnisse"}),g.jsxs("p",{className:"text-gray-500 mt-1",children:[e.length," Angebote"]})]}),s&&g.jsx("div",{className:"p-10 text-center text-gray-400 animate-pulse",children:"Lade Angebote"}),!s&&e.length===0&&g.jsx("div",{className:"p-8 rounded-2xl border border-dashed text-center text-gray-500",children:"Keine Angebote gefunden."}),!s&&v.length>0&&g.jsxs("section",{className:"space-y-4",children:[g.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase",children:"Neu von heute"}),v.map(b=>g.jsx(lS,{offer:b,user:t,isHighlighted:l===b.docId,setRef:w=>p.current[b.docId]=w},b.docId))]}),!s&&_.length>0&&g.jsxs("section",{className:"space-y-4",children:[g.jsx("button",{onClick:()=>m(!f),className:"flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-indigo-600",children:f?"ltere verbergen":`ltere anzeigen (${_.length})`}),f&&_.map(b=>g.jsx(lS,{offer:b,user:t,isHighlighted:l===b.docId,setRef:w=>p.current[b.docId]=w},b.docId))]})]}),g.jsx("div",{className:"order-1 xl:order-2",children:g.jsx("div",{className:"sticky top-6",children:g.jsx("div",{className:"h-[360px] xl:h-[520px] rounded-2xl overflow-hidden border border-gray-200 bg-white shadow-sm",children:g.jsx(N9,{offers:e,onMarkerClick:c})})})})]})}function lS({offer:t,user:e,isHighlighted:n,setRef:s}){const a=!!t.docId&&!!t.redirectUrl;return g.jsx("div",{ref:s,className:`rounded-2xl p-5 transition-all
        ${n?"bg-indigo-50 border-2 border-indigo-500 shadow-lg":"bg-white border hover:shadow"}
      `,children:g.jsxs("div",{className:"flex justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900",children:t.title||"Kein Titel"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[t.vendor?.name,"  ",t.rooms," Zi."]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-lg font-bold",children:I9(t.price)}),g.jsx("button",{disabled:!a,onClick:()=>R9({redirectId:t.docId,redirectUrl:t.redirectUrl,geomapOfferId:t.geomapOfferId,userId:e?.uid,source:"web-app"}),className:`mt-2 px-4 py-2 rounded-xl text-sm font-bold
              ${a?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}
            `,children:"Zum Angebot "})]})]})})}function j9(){const{user:t,ready:e}=Fn();return e?t?g.jsx(Ba,{to:"/dashboard",replace:!0}):g.jsx(Ba,{to:"/login",replace:!0}):null}function M9(){const{user:t,logout:e}=Fn(),[n,s]=A.useState(null),[a,l]=A.useState(!0);if(A.useEffect(()=>{async function w(){if(t?.uid)try{const D=an(st,"users",t.uid),N=await Fs(D);N.exists()&&s(N.data())}catch(D){console.error("Fehler beim Laden des Profils:",D)}finally{l(!1)}}w()},[t]),a)return g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Profil..."});const c=n?.firstName||n?.FirstName||"User",f=n?.lastName||n?.LastName||"",m=c.charAt(0).toUpperCase(),p=n?.stripeStatus||"free",v=p==="active"||p==="paid",_=v?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-600 border-gray-200",b=()=>{alert("Hier wrde sich das Stripe Portal ffnen.")};return g.jsx("div",{className:"min-h-[80vh] bg-gray-50/50 p-6 md:p-12",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"Mein Profil"}),g.jsx("p",{className:"text-gray-500 mt-1",children:"Verwalte deine persnlichen Daten und dein Abonnement."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-2 space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[g.jsx("h2",{className:"font-bold text-gray-900",children:"Persnliche Daten"}),g.jsx("button",{className:"text-sm text-indigo-600 font-medium hover:underline",children:"Bearbeiten"})]}),g.jsxs("div",{className:"p-8 flex flex-col sm:flex-row gap-8 items-start",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg ring-4 ring-white",children:m})}),g.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsx(Nf,{label:"Vorname",value:c}),g.jsx(Nf,{label:"Nachname",value:f}),g.jsx(Nf,{label:"E-Mail Adresse",value:t.email,fullWidth:!0}),g.jsx(Nf,{label:"Kundennummer (UID)",value:t.uid,fullWidth:!0,copyable:!0})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("button",{onClick:e,className:"text-red-600 font-medium text-sm hover:bg-red-50 px-4 py-2 rounded-lg transition-colors border border-transparent hover:border-red-100",children:"Vom Konto abmelden"})})]}),g.jsx("div",{className:"md:col-span-1 space-y-6",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 flex flex-col h-full relative overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl opacity-20 -mr-10 -mt-10 pointer-events-none ${v?"bg-emerald-400":"bg-gray-400"}`}),g.jsx("h2",{className:"font-bold text-gray-900 mb-6 relative z-10",children:"Mitgliedschaft"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"flex items-center gap-3 mb-2",children:g.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border ${_}`,children:p==="paid"?"PRO PLAN":p.toUpperCase()})}),g.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6",children:v?"Du hast vollen Zugriff auf alle Premium-Features. Deine nchste Abrechnung erfolgt am Monatsende.":"Du nutzt aktuell den kostenlosen Basis-Plan. Upgrade fr mehr Features."}),v&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(V9,{}),g.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" 4242"})]}),g.jsx("p",{className:"text-xs text-gray-400",children:"Nchste Zahlung: 01.01.2024"})]})]}),g.jsx("button",{onClick:b,className:"w-full py-2.5 rounded-xl font-semibold text-sm transition-all shadow-sm hover:shadow active:scale-95 bg-gray-900 text-white hover:bg-black",children:v?"Abo verwalten":"Jetzt upgraden"})]})})]})]})})}function Nf({label:t,value:e,fullWidth:n,copyable:s}){const a=()=>{navigator.clipboard.writeText(e),alert("Kopiert!")};return g.jsxs("div",{className:`${n?"col-span-1 sm:col-span-2":"col-span-1"}`,children:[g.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:t}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"font-medium text-gray-900 break-all",children:e||""}),s&&g.jsx("button",{onClick:a,className:"text-gray-300 hover:text-indigo-600 transition-colors",title:"Kopieren",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})}function V9(){return g.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function O9(){return g.jsxs(pI,{children:[g.jsxs(ot,{element:g.jsx(DP,{}),children:[g.jsx(ot,{index:!0,element:g.jsx(j9,{})}),g.jsx(ot,{path:"/login",element:g.jsx(KP,{})}),g.jsxs(ot,{path:"/register",children:[g.jsx(ot,{index:!0,element:g.jsx(Ba,{to:"/register/step1",replace:!0})}),g.jsx(ot,{path:"step1",element:g.jsx(e3,{})}),g.jsx(ot,{path:"step2",element:g.jsx(s3,{})}),g.jsx(ot,{path:"step3",element:g.jsx(u3,{})}),g.jsx(ot,{path:"step4",element:g.jsx(f3,{})}),g.jsx(ot,{path:"step5",element:g.jsx(_3,{})}),g.jsx(ot,{path:"finish",element:g.jsx(T3,{})})]})]}),g.jsxs(ot,{element:g.jsx(t9,{children:g.jsx(kP,{})}),children:[g.jsx(ot,{path:"/dashboard",element:g.jsx(u9,{})}),g.jsx(ot,{path:"/dashboard/filters",element:g.jsx(A9,{})}),g.jsx(ot,{path:"/dashboard/results",element:g.jsx(k9,{})}),g.jsx(ot,{path:"/dashboard/profile",element:g.jsx(M9,{})})]}),g.jsxs(ot,{element:g.jsx(n9,{children:g.jsx(jP,{})}),children:[g.jsx(ot,{path:"/admin",element:g.jsx(c9,{})}),g.jsx(ot,{path:"/admin/users",element:g.jsx(GP,{})}),g.jsx(ot,{path:"/admin/user/:uid",element:g.jsx(qP,{})}),g.jsx(ot,{path:"/admin/clicks",element:g.jsx(YP,{})}),g.jsx(ot,{path:"/admin/offers",element:g.jsx(QP,{})}),g.jsx(ot,{path:"/admin/offers/:offerId",element:g.jsx(XP,{})})]}),g.jsx(ot,{path:"*",element:g.jsx(Ba,{to:"/",replace:!0})})]})}bN.createRoot(document.getElementById("root")).render(g.jsx(dN.StrictMode,{children:g.jsx(IP,{children:g.jsx(LI,{children:g.jsx(O9,{})})})}));
