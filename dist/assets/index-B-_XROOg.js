(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function yS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},Iu={};var Y_;function x2(){if(Y_)return Iu;Y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Iu.Fragment=e,Iu.jsx=n,Iu.jsxs=n,Iu}var Q_;function _2(){return Q_||(Q_=1,rg.exports=x2()),rg.exports}var g=_2(),ag={exports:{}},Ae={};var W_;function E2(){if(W_)return Ae;W_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function O(z,ie,le){this.props=z,this.context=ie,this.refs=D,this.updater=le||C}O.prototype.isReactComponent={},O.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=O.prototype;function q(z,ie,le){this.props=z,this.context=ie,this.refs=D,this.updater=le||C}var oe=q.prototype=new F;oe.constructor=q,I(oe,O.prototype),oe.isPureReactComponent=!0;var J=Array.isArray;function X(){}var k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function j(z,ie,le){var ce=le.ref;return{$$typeof:t,type:z,key:ie,ref:ce!==void 0?ce:null,props:le}}function L(z,ie){return j(z.type,ie,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ie[le]})}var M=/\/+/g;function we(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ie.toString(36)}function Ve(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(X,X):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,ie,le,ce,be){var Ie=typeof z;(Ie==="undefined"||Ie==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(Ie){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case t:case e:Fe=!0;break;case v:return Fe=z._init,Z(Fe(z._payload),ie,le,ce,be)}}if(Fe)return be=be(z),Fe=ce===""?"."+we(z,0):ce,J(be)?(le="",Fe!=null&&(le=Fe.replace(M,"$&/")+"/"),Z(be,ie,le,"",function(ta){return ta})):be!=null&&(P(be)&&(be=L(be,le+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(M,"$&/")+"/")+Fe)),ie.push(be)),1;Fe=0;var Ut=ce===""?".":ce+":";if(J(z))for(var ut=0;ut<z.length;ut++)ce=z[ut],Ie=Ut+we(ce,ut),Fe+=Z(ce,ie,le,Ie,be);else if(ut=w(z),typeof ut=="function")for(z=ut.call(z),ut=0;!(ce=z.next()).done;)ce=ce.value,Ie=Ut+we(ce,ut++),Fe+=Z(ce,ie,le,Ie,be);else if(Ie==="object"){if(typeof z.then=="function")return Z(Ve(z),ie,le,ce,be);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ae(z,ie,le){if(z==null)return z;var ce=[],be=0;return Z(z,ce,"","",function(Ie){return ie.call(le,Ie,be++)}),ce}function de(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var Ee=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ke={map:ae,forEach:function(z,ie,le){ae(z,function(){ie.apply(this,arguments)},le)},count:function(z){var ie=0;return ae(z,function(){ie++}),ie},toArray:function(z){return ae(z,function(ie){return ie})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ae.Activity=b,Ae.Children=ke,Ae.Component=O,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=q,Ae.StrictMode=s,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},Ae.cache=function(z){return function(){return z.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(z,ie,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=I({},z.props),be=z.key;if(ie!=null)for(Ie in ie.key!==void 0&&(be=""+ie.key),ie)!R.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(ce[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=le;else if(1<Ie){for(var Fe=Array(Ie),Ut=0;Ut<Ie;Ut++)Fe[Ut]=arguments[Ut+2];ce.children=Fe}return j(z.type,be,ce)},Ae.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ae.createElement=function(z,ie,le){var ce,be={},Ie=null;if(ie!=null)for(ce in ie.key!==void 0&&(Ie=""+ie.key),ie)R.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ie[ce]);var Fe=arguments.length-2;if(Fe===1)be.children=le;else if(1<Fe){for(var Ut=Array(Fe),ut=0;ut<Fe;ut++)Ut[ut]=arguments[ut+2];be.children=Ut}if(z&&z.defaultProps)for(ce in Fe=z.defaultProps,Fe)be[ce]===void 0&&(be[ce]=Fe[ce]);return j(z,Ie,be)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(z){return{$$typeof:d,render:z}},Ae.isValidElement=P,Ae.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:de}},Ae.memo=function(z,ie){return{$$typeof:p,type:z,compare:ie===void 0?null:ie}},Ae.startTransition=function(z){var ie=k.T,le={};k.T=le;try{var ce=z(),be=k.S;be!==null&&be(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(X,Ee)}catch(Ie){Ee(Ie)}finally{ie!==null&&le.types!==null&&(ie.types=le.types),k.T=ie}},Ae.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ae.use=function(z){return k.H.use(z)},Ae.useActionState=function(z,ie,le){return k.H.useActionState(z,ie,le)},Ae.useCallback=function(z,ie){return k.H.useCallback(z,ie)},Ae.useContext=function(z){return k.H.useContext(z)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(z,ie){return k.H.useDeferredValue(z,ie)},Ae.useEffect=function(z,ie){return k.H.useEffect(z,ie)},Ae.useEffectEvent=function(z){return k.H.useEffectEvent(z)},Ae.useId=function(){return k.H.useId()},Ae.useImperativeHandle=function(z,ie,le){return k.H.useImperativeHandle(z,ie,le)},Ae.useInsertionEffect=function(z,ie){return k.H.useInsertionEffect(z,ie)},Ae.useLayoutEffect=function(z,ie){return k.H.useLayoutEffect(z,ie)},Ae.useMemo=function(z,ie){return k.H.useMemo(z,ie)},Ae.useOptimistic=function(z,ie){return k.H.useOptimistic(z,ie)},Ae.useReducer=function(z,ie,le){return k.H.useReducer(z,ie,le)},Ae.useRef=function(z){return k.H.useRef(z)},Ae.useState=function(z){return k.H.useState(z)},Ae.useSyncExternalStore=function(z,ie,le){return k.H.useSyncExternalStore(z,ie,le)},Ae.useTransition=function(){return k.H.useTransition()},Ae.version="19.2.1",Ae}var X_;function Fy(){return X_||(X_=1,ag.exports=E2()),ag.exports}var A=Fy();const T2=yS(A);var og={exports:{}},Du={},lg={exports:{}},ug={};var Z_;function w2(){return Z_||(Z_=1,(function(t){function e(Z,ae){var de=Z.length;Z.push(ae);e:for(;0<de;){var Ee=de-1>>>1,ke=Z[Ee];if(0<a(ke,ae))Z[Ee]=ae,Z[de]=ke,de=Ee;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ae=Z[0],de=Z.pop();if(de!==ae){Z[0]=de;e:for(var Ee=0,ke=Z.length,z=ke>>>1;Ee<z;){var ie=2*(Ee+1)-1,le=Z[ie],ce=ie+1,be=Z[ce];if(0>a(le,de))ce<ke&&0>a(be,le)?(Z[Ee]=be,Z[ce]=de,Ee=ce):(Z[Ee]=le,Z[ie]=de,Ee=ie);else if(ce<ke&&0>a(be,de))Z[Ee]=be,Z[ce]=de,Ee=ce;else break e}}return ae}function a(Z,ae){var de=Z.sortIndex-ae.sortIndex;return de!==0?de:Z.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],v=1,b=null,_=3,w=!1,C=!1,I=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function oe(Z){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=Z)s(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(p)}}function J(Z){if(I=!1,oe(Z),!C)if(n(f)!==null)C=!0,X||(X=!0,B());else{var ae=n(p);ae!==null&&Ve(J,ae.startTime-Z)}}var X=!1,k=-1,R=5,j=-1;function L(){return D?!0:!(t.unstable_now()-j<R)}function P(){if(D=!1,X){var Z=t.unstable_now();j=Z;var ae=!0;try{e:{C=!1,I&&(I=!1,F(k),k=-1),w=!0;var de=_;try{t:{for(oe(Z),b=n(f);b!==null&&!(b.expirationTime>Z&&L());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,_=b.priorityLevel;var ke=Ee(b.expirationTime<=Z);if(Z=t.unstable_now(),typeof ke=="function"){b.callback=ke,oe(Z),ae=!0;break t}b===n(f)&&s(f),oe(Z)}else s(f);b=n(f)}if(b!==null)ae=!0;else{var z=n(p);z!==null&&Ve(J,z.startTime-Z),ae=!1}}break e}finally{b=null,_=de,w=!1}ae=void 0}}finally{ae?B():X=!1}}}var B;if(typeof q=="function")B=function(){q(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,we=M.port2;M.port1.onmessage=P,B=function(){we.postMessage(null)}}else B=function(){O(P,0)};function Ve(Z,ae){k=O(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var de=_;_=ae;try{return Z()}finally{_=de}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=_;_=Z;try{return ae()}finally{_=de}},t.unstable_scheduleCallback=function(Z,ae,de){var Ee=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,Z){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,Z={id:v++,callback:ae,priorityLevel:Z,startTime:de,expirationTime:ke,sortIndex:-1},de>Ee?(Z.sortIndex=de,e(p,Z),n(f)===null&&Z===n(p)&&(I?(F(k),k=-1):I=!0,Ve(J,de-Ee))):(Z.sortIndex=ke,e(f,Z),C||w||(C=!0,X||(X=!0,B()))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var ae=_;return function(){var de=_;_=ae;try{return Z.apply(this,arguments)}finally{_=de}}}})(ug)),ug}var J_;function S2(){return J_||(J_=1,lg.exports=w2()),lg.exports}var cg={exports:{}},ln={};var eE;function A2(){if(eE)return ln;eE=1;var t=Fy();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},ln.flushSync=function(f){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=v,s.d.f()}},ln.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},ln.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},ln.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):v==="script"&&s.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ln.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},ln.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);s.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ln.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},ln.requestFormReset=function(f){s.d.r(f)},ln.unstable_batchedUpdates=function(f,p){return f(p)},ln.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.1",ln}var tE;function C2(){if(tE)return cg.exports;tE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=A2(),cg.exports}var nE;function R2(){if(nE)return Du;nE=1;var t=S2(),e=Fy(),n=C2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),i;if(y===u)return f(m),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=y;else{for(var E=!1,S=m.child;S;){if(S===o){E=!0,o=m,u=y;break}if(S===u){E=!0,u=m,o=y;break}S=S.sibling}if(!E){for(S=y.child;S;){if(S===o){E=!0,o=y,u=m;break}if(S===u){E=!0,u=y,o=m;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case X:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:we(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return we(i(r))}catch{}}return null}var Ve=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],ke=-1;function z(i){return{current:i}}function ie(i){0>ke||(i.current=Ee[ke],Ee[ke]=null,ke--)}function le(i,r){ke++,Ee[ke]=i.current,i.current=r}var ce=z(null),be=z(null),Ie=z(null),Fe=z(null);function Ut(i,r){switch(le(Ie,r),le(be,i),le(ce,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?y_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=y_(r),i=v_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(ce),le(ce,i)}function ut(){ie(ce),ie(be),ie(Ie)}function ta(i){i.memoizedState!==null&&le(Fe,i);var r=ce.current,o=v_(r,i.type);r!==o&&(le(be,i),le(ce,o))}function Xa(i){be.current===i&&(ie(ce),ie(be)),Fe.current===i&&(ie(Fe),Au._currentValue=de)}var Za,Ja;function Ci(i){if(Za===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Za=r&&r[1]||"",Ja=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+i+Ja}var Al=!1;function na(i,r){if(!i||Al)return"";Al=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Y=W}Reflect.construct(i,[],se)}else{try{se.call()}catch(W){Y=W}i.call(se.prototype)}}else{try{throw Error()}catch(W){Y=W}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],S=y[1];if(E&&S){var V=E.split(`
`),$=S.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===$.length)for(u=V.length-1,m=$.length-1;1<=u&&0<=m&&V[u]!==$[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==$[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==$[m]){var ee=`
`+V[u].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=u&&0<=m);break}}}finally{Al=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ci(o):""}function Cl(i,r){switch(i.tag){case 26:case 27:case 5:return Ci(i.type);case 16:return Ci("Lazy");case 13:return i.child!==r&&r!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return na(i.type,!1);case 11:return na(i.type.render,!1);case 1:return na(i.type,!0);case 31:return Ci("Activity");default:return""}}function Rl(i){try{var r="",o=null;do r+=Cl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,om=t.unstable_shouldYield,Uc=t.unstable_requestPaint,mn=t.unstable_now,ia=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,Il=t.unstable_UserBlockingPriority,Ks=t.unstable_NormalPriority,lm=t.unstable_LowPriority,zc=t.unstable_IdlePriority,Bc=t.log,Fc=t.unstable_setDisableYieldValue,ui=null,Qt=null;function Hn(i){if(typeof Bc=="function"&&Fc(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ui,i)}catch{}}var _t=Math.clz32?Math.clz32:qc,Hc=Math.log,eo=Math.LN2;function qc(i){return i>>>=0,i===0?32:31-(Hc(i)/eo|0)|0}var Ri=256,sa=262144,Ct=4194304;function Ni(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=Ni(u):(E&=S,E!==0?m=Ni(E):o||(o=S&~i,o!==0&&(m=Ni(o))))):(S=u&~y,S!==0?m=Ni(S):E!==0?m=Ni(E):o||(o=u&~i,o!==0&&(m=Ni(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function um(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function Di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ra(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cm(i,r,o,u,m,y){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,$=i.hiddenUpdates;for(o=E&~o;0<o;){var ee=31-_t(o),se=1<<ee;S[ee]=0,V[ee]=-1;var Y=$[ee];if(Y!==null)for($[ee]=null,ee=0;ee<Y.length;ee++){var W=Y[ee];W!==null&&(W.lane&=-536870913)}o&=~se}u!==0&&aa(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~r))}function aa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_t(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Dl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_t(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function kl(i,r){var o=r&-r;return o=(o&42)!==0?1:oa(o),(o&(i.suspendedLanes|r))!==0?0:o}function oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Kc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:B_(i.type))}function hi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var di=Math.random().toString(36).slice(2),Rt="__reactFiber$"+di,qt="__reactProps$"+di,ki="__reactContainer$"+di,to="__reactEvents$"+di,hm="__reactListeners$"+di,$c="__reactHandles$"+di,Yc="__reactResources$"+di,ji="__reactMarker$"+di;function no(i){delete i[Rt],delete i[qt],delete i[to],delete i[hm],delete i[$c]}function Mi(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ki]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=S_(i);i!==null;){if(o=i[Rt])return o;i=S_(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[Rt]||i[ki]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[Yc];return r||(r=i[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(i){i[ji]=!0}var jl=new Set,Ml={};function Oi(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(Ml[i]=r,i=0;i<r.length;i++)jl.add(r[i])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Pl={};function Qc(i){return At.call(Pl,i)?!0:At.call(Ol,i)?!1:Vl.test(i)?Pl[i]=!0:(Ol[i]=!0,!1)}function io(i,r,o){if(Qc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Dn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function It(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $s(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ll(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=$s(i)?"checked":"value";i._valueTracker=Ll(i,r,""+i[r])}}function la(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=$s(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ua=/[\n"\\]/g;function vn(i){return i.replace(ua,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,u,m,y,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Ul(i,E,Gt(r)):o!=null?Ul(i,E,Gt(o)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Gt(S):i.removeAttribute("name")}function Wc(i,r,o,u,m,y,E,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Qe(i)}function Ul(i,r,o){r==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ys(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Xc(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function Qs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Zc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Bl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&zl(i,m,u)}else for(var y in r)r.hasOwnProperty(y)&&zl(i,y,r[y])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Ws.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var Fl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,Ui=null;function ca(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[qt]||null;if(!m)throw Error(s(90));so(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&la(u)}break e;case"textarea":Xc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ys(i,!!o.multiple,r,!1)}}}var oo=!1;function Zs(i,r,o){if(oo)return i(r,o);oo=!0;try{var u=i(r);return u}finally{if(oo=!1,(Xs!==null||Ui!==null)&&(Kh(),Xs&&(r=Xs,i=Ui,Ui=Xs=null,ca(r),i)))for(r=0;r<i.length;r++)ca(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ha=!1}var zi=null,Hl=null,da=null;function ql(){if(da)return da;var i,r=Hl,o=r.length,u,m="value"in zi?zi.value:zi.textContent,y=m.length;for(i=0;i<o&&r[i]===m[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===m[y-u];u++);return da=m.slice(i,1<u?1-u:void 0)}function fa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ds(){return!0}function pi(){return!1}function Wt(i){function r(o,u,m,y,E){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ds:pi,this.isPropagationStopped=pi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),r}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Wt(fs),Js=b({},fs,{view:0,detail:0}),Gl=Wt(Js),er,lo,Fi,uo=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(er=i.screenX-Fi.screenX,lo=i.screenY-Fi.screenY):lo=er=0,Fi=i),er)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),Kl=Wt(uo),ma=b({},uo,{dataTransfer:0}),eh=Wt(ma),th=b({},Js,{relatedTarget:0}),pa=Wt(th),$l=b({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=Wt($l),co=b({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ih=Wt(co),sh=b({},fs,{data:0}),Hi=Wt(sh),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=oh[i])?!!r[i]:!1}function tr(){return lh}var pn=b({},Js,{key:function(i){if(i.key){var r=rh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ah[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uh=Wt(pn),ch=b({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=Wt(ch),h=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),x=Wt(h),T=b({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Wt(T),G=b({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Wt(G),ue=b({},fs,{newState:0,oldState:0}),Re=Wt(ue),Et=[9,13,27,32],Ke=Kn&&"CompositionEvent"in window,ct=null;Kn&&"documentMode"in document&&(ct=document.documentMode);var $n=Kn&&"TextEvent"in window&&!ct,qi=Kn&&(!Ke||ct&&8<ct&&11>=ct),gi=" ",yi=!1;function ga(i,r){switch(i){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function qR(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function GR(i,r){if(fo)return i==="compositionend"||!Ke&&ga(i,r)?(i=ql(),da=Hl=zi=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var KR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!KR[i.type]:r==="textarea"}function Nv(i,r,o,u){Xs?Ui?Ui.push(u):Ui=[u]:Xs=u,r=Jh(r,"onChange"),0<r.length&&(o=new Bi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Yl=null,Ql=null;function $R(i){h_(i,0)}function hh(i){var r=In(i);if(la(r))return i}function Iv(i,r){if(i==="change")return r}var Dv=!1;if(Kn){var dm;if(Kn){var fm="oninput"in document;if(!fm){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),fm=typeof kv.oninput=="function"}dm=fm}else dm=!1;Dv=dm&&(!document.documentMode||9<document.documentMode)}function jv(){Yl&&(Yl.detachEvent("onpropertychange",Mv),Ql=Yl=null)}function Mv(i){if(i.propertyName==="value"&&hh(Ql)){var r=[];Nv(r,Ql,i,Gn(i)),Zs($R,r)}}function YR(i,r,o){i==="focusin"?(jv(),Yl=r,Ql=o,Yl.attachEvent("onpropertychange",Mv)):i==="focusout"&&jv()}function QR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hh(Ql)}function WR(i,r){if(i==="click")return hh(r)}function XR(i,r){if(i==="input"||i==="change")return hh(r)}function ZR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:ZR;function Wl(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!At.call(r,m)||!kn(i[m],r[m]))return!1}return!0}function Vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ov(i,r){var o=Vv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vv(o)}}function Pv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Pv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Lv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Li(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Li(i.document)}return r}function mm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var JR=Kn&&"documentMode"in document&&11>=document.documentMode,mo=null,pm=null,Xl=null,gm=!1;function Uv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||mo==null||mo!==Li(u)||(u=mo,"selectionStart"in u&&mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xl&&Wl(Xl,u)||(Xl=u,u=Jh(pm,"onSelect"),0<u.length&&(r=new Bi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=mo)))}function ya(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},ym={},zv={};Kn&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function va(i){if(ym[i])return ym[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in zv)return ym[i]=r[o];return i}var Bv=va("animationend"),Fv=va("animationiteration"),Hv=va("animationstart"),eN=va("transitionrun"),tN=va("transitionstart"),nN=va("transitioncancel"),qv=va("transitionend"),Gv=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function vi(i,r){Gv.set(i,r),Oi(r,[i])}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],go=0,bm=0;function fh(){for(var i=go,r=bm=go=0;r<i;){var o=Yn[r];Yn[r++]=null;var u=Yn[r];Yn[r++]=null;var m=Yn[r];Yn[r++]=null;var y=Yn[r];if(Yn[r++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}y!==0&&Kv(o,m,y)}}function mh(i,r,o,u){Yn[go++]=i,Yn[go++]=r,Yn[go++]=o,Yn[go++]=u,bm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function xm(i,r,o,u){return mh(i,r,o,u),ph(i)}function ba(i,r){return mh(i,null,null,r),ph(i)}function Kv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&r!==null&&(m=31-_t(o),i=y.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function ph(i){if(50<bu)throw bu=0,Np=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function iN(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,u){return new iN(i,r,o,u)}function _m(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function $v(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function gh(i,r,o,u,m,y){var E=0;if(u=i,typeof i=="function")_m(i)&&(E=1);else if(typeof i=="string")E=l2(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=jn(31,o,r,m),i.elementType=j,i.lanes=y,i;case I:return xa(o.children,m,y,r);case D:E=8,m|=24;break;case O:return i=jn(12,o,r,m|2),i.elementType=O,i.lanes=y,i;case J:return i=jn(13,o,r,m),i.elementType=J,i.lanes=y,i;case X:return i=jn(19,o,r,m),i.elementType=X,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:E=10;break e;case F:E=9;break e;case oe:E=11;break e;case k:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=jn(E,o,r,m),r.elementType=i,r.type=u,r.lanes=y,r}function xa(i,r,o,u){return i=jn(7,i,u,r),i.lanes=o,i}function Em(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function Yv(i){var r=jn(18,null,null,0);return r.stateNode=i,r}function Tm(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Qv=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=Qv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Rl(r)},Qv.set(i,r),r)}return{value:i,source:r,stack:Rl(r)}}var vo=[],bo=0,yh=null,Zl=0,Wn=[],Xn=0,nr=null,Gi=1,Ki="";function gs(i,r){vo[bo++]=Zl,vo[bo++]=yh,yh=i,Zl=r}function Wv(i,r,o){Wn[Xn++]=Gi,Wn[Xn++]=Ki,Wn[Xn++]=nr,nr=i;var u=Gi;i=Ki;var m=32-_t(u)-1;u&=~(1<<m),o+=1;var y=32-_t(r)+m;if(30<y){var E=m-m%5;y=(u&(1<<E)-1).toString(32),u>>=E,m-=E,Gi=1<<32-_t(r)+m|o<<m|u,Ki=y+i}else Gi=1<<y|o<<m|u,Ki=i}function wm(i){i.return!==null&&(gs(i,1),Wv(i,1,0))}function Sm(i){for(;i===yh;)yh=vo[--bo],vo[bo]=null,Zl=vo[--bo],vo[bo]=null;for(;i===nr;)nr=Wn[--Xn],Wn[Xn]=null,Ki=Wn[--Xn],Wn[Xn]=null,Gi=Wn[--Xn],Wn[Xn]=null}function Xv(i,r){Wn[Xn++]=Gi,Wn[Xn++]=Ki,Wn[Xn++]=nr,Gi=r.id,Ki=r.overflow,nr=i}var Xt=null,rt=null,Be=!1,ir=null,Zn=!1,Am=Error(s(519));function sr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Qn(r,i)),Am}function Zv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Rt]=i,r[qt]=u,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<_u.length;o++)Me(_u[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Wc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Qs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||p_(r.textContent,o)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||sr(i,!0)}function Jv(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Xt=Xt.return}}function xo(i){if(i!==Xt)return!1;if(!Be)return Jv(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||qp(i.type,i.memoizedProps)),o=!o),o&&rt&&sr(i),Jv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=w_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=w_(i)}else r===27?(r=rt,vr(i.type)?(i=Qp,Qp=null,rt=i):rt=r):rt=Xt?ei(i.stateNode.nextSibling):null;return!0}function _a(){rt=Xt=null,Be=!1}function Cm(){var i=ir;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),ir=null),i}function Jl(i){ir===null?ir=[i]:ir.push(i)}var Rm=z(null),Ea=null,ys=null;function rr(i,r,o){le(Rm,r._currentValue),r._currentValue=o}function vs(i){i._currentValue=Rm.current,ie(Rm)}function Nm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Im(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var V=0;V<r.length;V++)if(S.context===r[V]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Nm(y.return,o,i),u||(E=null);break e}y=S.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Nm(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function _o(i,r,o,u){i=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=m.type;kn(m.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(m===Fe.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Au):i=[Au])}m=m.return}i!==null&&Im(r,i,o,u),r.flags|=262144}function vh(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){Ea=i,ys=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return eb(Ea,i)}function bh(i,r){return Ea===null&&Ta(i),eb(i,r)}function eb(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ys===null){if(i===null)throw Error(s(308));ys=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ys=ys.next=r;return o}var sN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},rN=t.unstable_scheduleCallback,aN=t.unstable_NormalPriority,Dt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new sN,data:new Map,refCount:0}}function eu(i){i.refCount--,i.refCount===0&&rN(aN,function(){i.controller.abort()})}var tu=null,km=0,Eo=0,To=null;function oN(i,r){if(tu===null){var o=tu=[];km=0,Eo=Vp(),To={status:"pending",value:void 0,then:function(u){o.push(u)}}}return km++,r.then(tb,tb),r}function tb(){if(--km===0&&tu!==null){To!==null&&(To.status="fulfilled");var i=tu;tu=null,Eo=0,To=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function lN(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var nb=Z.S;Z.S=function(i,r){Ux=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&oN(i,r),nb!==null&&nb(i,r)};var wa=z(null);function jm(){var i=wa.current;return i!==null?i:nt.pooledCache}function xh(i,r){r===null?le(wa,wa.current):le(wa,r.pool)}function ib(){var i=jm();return i===null?null:{parent:Dt._currentValue,pool:i}}var wo=Error(s(460)),Mm=Error(s(474)),_h=Error(s(542)),Eh={then:function(){}};function sb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(fi,fi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,ob(i),i;default:if(typeof r.status=="string")r.then(fi,fi);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,ob(i),i}throw Aa=r,wo}}function Sa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Aa=o,wo):o}}var Aa=null;function ab(){if(Aa===null)throw Error(s(459));var i=Aa;return Aa=null,i}function ob(i){if(i===wo||i===_h)throw Error(s(483))}var So=null,nu=0;function Th(i){var r=nu;return nu+=1,So===null&&(So=[]),rb(So,i,r)}function iu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function wh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function lb(i){function r(H,U){if(i){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function m(H,U){return H=ps(H,U),H.index=0,H.sibling=null,H}function y(H,U,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=67108866,U):K):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function E(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,K,te){return U===null||U.tag!==6?(U=Em(K,H.mode,te),U.return=H,U):(U=m(U,K),U.return=H,U)}function V(H,U,K,te){var ge=K.type;return ge===I?ee(H,U,K.props.children,te,K.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Sa(ge)===U.type)?(U=m(U,K.props),iu(U,K),U.return=H,U):(U=gh(K.type,K.key,K.props,null,H.mode,te),iu(U,K),U.return=H,U)}function $(H,U,K,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Tm(K,H.mode,te),U.return=H,U):(U=m(U,K.children||[]),U.return=H,U)}function ee(H,U,K,te,ge){return U===null||U.tag!==7?(U=xa(K,H.mode,te,ge),U.return=H,U):(U=m(U,K),U.return=H,U)}function se(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Em(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return K=gh(U.type,U.key,U.props,null,H.mode,K),iu(K,U),K.return=H,K;case C:return U=Tm(U,H.mode,K),U.return=H,U;case R:return U=Sa(U),se(H,U,K)}if(Ve(U)||B(U))return U=xa(U,H.mode,K,null),U.return=H,U;if(typeof U.then=="function")return se(H,Th(U),K);if(U.$$typeof===q)return se(H,bh(H,U),K);wh(H,U)}return null}function Y(H,U,K,te){var ge=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:S(H,U,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ge?V(H,U,K,te):null;case C:return K.key===ge?$(H,U,K,te):null;case R:return K=Sa(K),Y(H,U,K,te)}if(Ve(K)||B(K))return ge!==null?null:ee(H,U,K,te,null);if(typeof K.then=="function")return Y(H,U,Th(K),te);if(K.$$typeof===q)return Y(H,U,bh(H,K),te);wh(H,K)}return null}function W(H,U,K,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(K)||null,S(U,H,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return H=H.get(te.key===null?K:te.key)||null,V(U,H,te,ge);case C:return H=H.get(te.key===null?K:te.key)||null,$(U,H,te,ge);case R:return te=Sa(te),W(H,U,K,te,ge)}if(Ve(te)||B(te))return H=H.get(K)||null,ee(U,H,te,ge,null);if(typeof te.then=="function")return W(H,U,K,Th(te),ge);if(te.$$typeof===q)return W(H,U,K,bh(U,te),ge);wh(U,te)}return null}function me(H,U,K,te){for(var ge=null,qe=null,pe=U,De=U=0,Pe=null;pe!==null&&De<K.length;De++){pe.index>De?(Pe=pe,pe=null):Pe=pe.sibling;var Ge=Y(H,pe,K[De],te);if(Ge===null){pe===null&&(pe=Pe);break}i&&pe&&Ge.alternate===null&&r(H,pe),U=y(Ge,U,De),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge,pe=Pe}if(De===K.length)return o(H,pe),Be&&gs(H,De),ge;if(pe===null){for(;De<K.length;De++)pe=se(H,K[De],te),pe!==null&&(U=y(pe,U,De),qe===null?ge=pe:qe.sibling=pe,qe=pe);return Be&&gs(H,De),ge}for(pe=u(pe);De<K.length;De++)Pe=W(pe,H,De,K[De],te),Pe!==null&&(i&&Pe.alternate!==null&&pe.delete(Pe.key===null?De:Pe.key),U=y(Pe,U,De),qe===null?ge=Pe:qe.sibling=Pe,qe=Pe);return i&&pe.forEach(function(Tr){return r(H,Tr)}),Be&&gs(H,De),ge}function ve(H,U,K,te){if(K==null)throw Error(s(151));for(var ge=null,qe=null,pe=U,De=U=0,Pe=null,Ge=K.next();pe!==null&&!Ge.done;De++,Ge=K.next()){pe.index>De?(Pe=pe,pe=null):Pe=pe.sibling;var Tr=Y(H,pe,Ge.value,te);if(Tr===null){pe===null&&(pe=Pe);break}i&&pe&&Tr.alternate===null&&r(H,pe),U=y(Tr,U,De),qe===null?ge=Tr:qe.sibling=Tr,qe=Tr,pe=Pe}if(Ge.done)return o(H,pe),Be&&gs(H,De),ge;if(pe===null){for(;!Ge.done;De++,Ge=K.next())Ge=se(H,Ge.value,te),Ge!==null&&(U=y(Ge,U,De),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return Be&&gs(H,De),ge}for(pe=u(pe);!Ge.done;De++,Ge=K.next())Ge=W(pe,H,De,Ge.value,te),Ge!==null&&(i&&Ge.alternate!==null&&pe.delete(Ge.key===null?De:Ge.key),U=y(Ge,U,De),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return i&&pe.forEach(function(b2){return r(H,b2)}),Be&&gs(H,De),ge}function tt(H,U,K,te){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ge=K.key;U!==null;){if(U.key===ge){if(ge=K.type,ge===I){if(U.tag===7){o(H,U.sibling),te=m(U,K.props.children),te.return=H,H=te;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Sa(ge)===U.type){o(H,U.sibling),te=m(U,K.props),iu(te,K),te.return=H,H=te;break e}o(H,U);break}else r(H,U);U=U.sibling}K.type===I?(te=xa(K.props.children,H.mode,te,K.key),te.return=H,H=te):(te=gh(K.type,K.key,K.props,null,H.mode,te),iu(te,K),te.return=H,H=te)}return E(H);case C:e:{for(ge=K.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(H,U.sibling),te=m(U,K.children||[]),te.return=H,H=te;break e}else{o(H,U);break}else r(H,U);U=U.sibling}te=Tm(K,H.mode,te),te.return=H,H=te}return E(H);case R:return K=Sa(K),tt(H,U,K,te)}if(Ve(K))return me(H,U,K,te);if(B(K)){if(ge=B(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),ve(H,U,K,te)}if(typeof K.then=="function")return tt(H,U,Th(K),te);if(K.$$typeof===q)return tt(H,U,bh(H,K),te);wh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(H,U.sibling),te=m(U,K),te.return=H,H=te):(o(H,U),te=Em(K,H.mode,te),te.return=H,H=te),E(H)):o(H,U)}return function(H,U,K,te){try{nu=0;var ge=tt(H,U,K,te);return So=null,ge}catch(pe){if(pe===wo||pe===_h)throw pe;var qe=jn(29,pe,null,H.mode);return qe.lanes=te,qe.return=H,qe}finally{}}}var Ca=lb(!0),ub=lb(!1),ar=!1;function Vm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function lr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=ph(i),Kv(i,null,o),r}return mh(i,u,r,o),ph(i)}function su(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Dl(i,o)}}function Pm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Lm=!1;function ru(){if(Lm){var i=To;if(i!==null)throw i}}function au(i,r,o,u){Lm=!1;var m=i.updateQueue;ar=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,$=V.next;V.next=null,E===null?y=$:E.next=$,E=V;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==E&&(S===null?ee.firstBaseUpdate=$:S.next=$,ee.lastBaseUpdate=V))}if(y!==null){var se=m.baseState;E=0,ee=$=V=null,S=y;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Oe&Y)===Y:(u&Y)===Y){Y!==0&&Y===Eo&&(Lm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,ve=S;Y=r;var tt=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){se=me.call(tt,se,Y);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,Y=typeof me=="function"?me.call(tt,se,Y):me,Y==null)break e;se=b({},se,Y);break e;case 2:ar=!0}}Y=S.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?($=ee=W,V=se):ee=ee.next=W,E|=Y;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);ee===null&&(V=se),m.baseState=V,m.firstBaseUpdate=$,m.lastBaseUpdate=ee,y===null&&(m.shared.lanes=0),fr|=E,i.lanes=E,i.memoizedState=se}}function cb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function hb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)cb(o[i],r)}var Ao=z(null),Sh=z(0);function db(i,r){i=Cs,le(Sh,i),le(Ao,r),Cs=i|r.baseLanes}function Um(){le(Sh,Cs),le(Ao,Ao.current)}function zm(){Cs=Sh.current,ie(Ao),ie(Sh)}var Mn=z(null),Jn=null;function ur(i){var r=i.alternate;le(Tt,Tt.current&1),le(Mn,i),Jn===null&&(r===null||Ao.current!==null||r.memoizedState!==null)&&(Jn=i)}function Bm(i){le(Tt,Tt.current),le(Mn,i),Jn===null&&(Jn=i)}function fb(i){i.tag===22?(le(Tt,Tt.current),le(Mn,i),Jn===null&&(Jn=i)):cr()}function cr(){le(Tt,Tt.current),le(Mn,Mn.current)}function Vn(i){ie(Mn),Jn===i&&(Jn=null),ie(Tt)}var Tt=z(0);function Ah(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$p(o)||Yp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var bs=0,Ne=null,Je=null,kt=null,Ch=!1,Co=!1,Ra=!1,Rh=0,ou=0,Ro=null,uN=0;function yt(){throw Error(s(321))}function Fm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function Hm(i,r,o,u,m,y){return bs=y,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Wb:sp,Ra=!1,y=o(u,m),Ra=!1,Co&&(y=pb(r,o,u,m)),mb(i),y}function mb(i){Z.H=cu;var r=Je!==null&&Je.next!==null;if(bs=0,kt=Je=Ne=null,Ch=!1,ou=0,Ro=null,r)throw Error(s(300));i===null||jt||(i=i.dependencies,i!==null&&vh(i)&&(jt=!0))}function pb(i,r,o,u){Ne=i;var m=0;do{if(Co&&(Ro=null),ou=0,Co=!1,25<=m)throw Error(s(301));if(m+=1,kt=Je=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=Xb,y=r(o,u)}while(Co);return y}function cN(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?lu(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ne.flags|=1024),r}function qm(){var i=Rh!==0;return Rh=0,i}function Gm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Km(i){if(Ch){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ch=!1}bs=0,kt=Je=Ne=null,Co=!1,ou=Rh=0,Ro=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=i:kt=kt.next=i,kt}function wt(){if(Je===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=kt===null?Ne.memoizedState:kt.next;if(r!==null)kt=r,Je=i;else{if(i===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},kt===null?Ne.memoizedState=kt=i:kt=kt.next=i}return kt}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(i){var r=ou;return ou+=1,Ro===null&&(Ro=[]),i=rb(Ro,i,r),r=Ne,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Wb:sp),i}function Ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return lu(i);if(i.$$typeof===q)return Zt(i)}throw Error(s(438,String(i)))}function $m(i){var r=null,o=Ne.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nh(),Ne.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function xs(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=wt();return Ym(r,Je,i)}function Ym(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}r.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{r=m.next;var S=E=null,V=null,$=r,ee=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Oe&se)===se:(bs&se)===se){var Y=$.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===Eo&&(ee=!0);else if((bs&Y)===Y){$=$.next,Y===Eo&&(ee=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=se,E=y):V=V.next=se,Ne.lanes|=Y,fr|=Y;se=$.action,Ra&&o(y,se),y=$.hasEagerState?$.eagerState:o(y,se)}else Y={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=Y,E=y):V=V.next=Y,Ne.lanes|=se,fr|=se;$=$.next}while($!==null&&$!==r);if(V===null?E=y:V.next=S,!kn(y,i.memoizedState)&&(jt=!0,ee&&(o=To,o!==null)))throw o;i.memoizedState=y,i.baseState=E,i.baseQueue=V,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Qm(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do y=i(y,E.action),E=E.next;while(E!==m);kn(y,r.memoizedState)||(jt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function gb(i,r,o){var u=Ne,m=wt(),y=Be;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!kn((Je||m).memoizedState,o);if(E&&(m.memoizedState=o,jt=!0),m=m.queue,Zm(bb.bind(null,u,m,i),[i]),m.getSnapshot!==r||E||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,No(9,{destroy:void 0},vb.bind(null,u,m,o,r),null),nt===null)throw Error(s(349));y||(bs&127)!==0||yb(u,r,o)}return o}function yb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r=Nh(),Ne.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function vb(i,r,o,u){r.value=o,r.getSnapshot=u,xb(r)&&_b(i)}function bb(i,r,o){return o(function(){xb(r)&&_b(i)})}function xb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function _b(i){var r=ba(i,2);r!==null&&wn(r,i,2)}function Wm(i){var r=gn();if(typeof i=="function"){var o=i;if(i=o(),Ra){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},r}function Eb(i,r,o,u){return i.baseState=o,Ym(i,Je,typeof u=="function"?u:xs)}function hN(i,r,o,u,m){if(Mh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};Z.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Tb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Tb(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var y=Z.T,E={};Z.T=E;try{var S=o(m,u),V=Z.S;V!==null&&V(E,S),wb(i,r,S)}catch($){Xm(i,r,$)}finally{y!==null&&E.types!==null&&(y.types=E.types),Z.T=y}}else try{y=o(m,u),wb(i,r,y)}catch($){Xm(i,r,$)}}function wb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Sb(i,r,u)},function(u){return Xm(i,r,u)}):Sb(i,r,o)}function Sb(i,r,o){r.status="fulfilled",r.value=o,Ab(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Tb(i,o)))}function Xm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Ab(r),r=r.next;while(r!==u)}i.action=null}function Ab(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Cb(i,r){return r}function Rb(i,r){if(Be){var o=nt.formState;if(o!==null){e:{var u=Ne;if(Be){if(rt){t:{for(var m=rt,y=Zn;m.nodeType!==8;){if(!y){m=null;break t}if(m=ei(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){rt=ei(m.nextSibling),u=m.data==="F!";break e}}sr(u)}u=!1}u&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cb,lastRenderedState:r},o.queue=u,o=$b.bind(null,Ne,u),u.dispatch=o,u=Wm(!1),y=ip.bind(null,Ne,!1,u.queue),u=gn(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=hN.bind(null,Ne,m,y,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function Nb(i){var r=wt();return Ib(r,Je,i)}function Ib(i,r,o){if(r=Ym(i,r,Cb)[0],i=Dh(xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=lu(r)}catch(E){throw E===wo?_h:E}else u=r;r=wt();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ne.flags|=2048,No(9,{destroy:void 0},dN.bind(null,m,o),null)),[u,y,i]}function dN(i,r){i.action=r}function Db(i){var r=wt(),o=Je;if(o!==null)return Ib(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function No(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Nh(),Ne.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function kb(){return wt().memoizedState}function kh(i,r,o,u){var m=gn();Ne.flags|=i,m.memoizedState=No(1|r,{destroy:void 0},o,u===void 0?null:u)}function jh(i,r,o,u){var m=wt();u=u===void 0?null:u;var y=m.memoizedState.inst;Je!==null&&u!==null&&Fm(u,Je.memoizedState.deps)?m.memoizedState=No(r,y,o,u):(Ne.flags|=i,m.memoizedState=No(1|r,y,o,u))}function jb(i,r){kh(8390656,8,i,r)}function Zm(i,r){jh(2048,8,i,r)}function fN(i){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=Nh(),Ne.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Mb(i){var r=wt().memoizedState;return fN({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Vb(i,r){return jh(4,2,i,r)}function Ob(i,r){return jh(4,4,i,r)}function Pb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Lb(i,r,o){o=o!=null?o.concat([i]):null,jh(4,4,Pb.bind(null,r,i),o)}function Jm(){}function Ub(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Fm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function zb(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Fm(r,u[1]))return u[0];if(u=i(),Ra){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u}function ep(i,r,o){return o===void 0||(bs&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Bx(),Ne.lanes|=i,fr|=i,o)}function Bb(i,r,o,u){return kn(o,r)?o:Ao.current!==null?(i=ep(i,o,u),kn(i,r)||(jt=!0),i):(bs&42)===0||(bs&1073741824)!==0&&(Oe&261930)===0?(jt=!0,i.memoizedState=o):(i=Bx(),Ne.lanes|=i,fr|=i,r)}function Fb(i,r,o,u,m){var y=ae.p;ae.p=y!==0&&8>y?y:8;var E=Z.T,S={};Z.T=S,ip(i,!1,r,o);try{var V=m(),$=Z.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=lN(V,u);uu(i,r,ee,Ln(i))}else uu(i,r,u,Ln(i))}catch(se){uu(i,r,{then:function(){},status:"rejected",reason:se},Ln())}finally{ae.p=y,E!==null&&S.types!==null&&(E.types=S.types),Z.T=E}}function mN(){}function tp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=Hb(i).queue;Fb(i,m,r,de,o===null?mN:function(){return qb(i),o(u)})}function Hb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function qb(i){var r=Hb(i);r.next===null&&(r=i.alternate.memoizedState),uu(i,r.next.queue,{},Ln())}function np(){return Zt(Au)}function Gb(){return wt().memoizedState}function Kb(){return wt().memoizedState}function pN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=or(o);var u=lr(r,i,o);u!==null&&(wn(u,r,o),su(u,r,o)),r={cache:Dm()},i.payload=r;return}r=r.return}}function gN(i,r,o){var u=Ln();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mh(i)?Yb(r,o):(o=xm(i,r,o,u),o!==null&&(wn(o,i,u),Qb(o,r,u)))}function $b(i,r,o){var u=Ln();uu(i,r,o,u)}function uu(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mh(i))Yb(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,S=y(E,o);if(m.hasEagerState=!0,m.eagerState=S,kn(S,E))return mh(i,r,m,0),nt===null&&fh(),!1}catch{}finally{}if(o=xm(i,r,m,u),o!==null)return wn(o,i,u),Qb(o,r,u),!0}return!1}function ip(i,r,o,u){if(u={lane:2,revertLane:Vp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Mh(i)){if(r)throw Error(s(479))}else r=xm(i,o,u,2),r!==null&&wn(r,i,2)}function Mh(i){var r=i.alternate;return i===Ne||r!==null&&r===Ne}function Yb(i,r){Co=Ch=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Qb(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Dl(i,o)}}var cu={readContext:Zt,use:Ih,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};cu.useEffectEvent=yt;var Wb={readContext:Zt,use:Ih,useCallback:function(i,r){return gn().memoizedState=[i,r===void 0?null:r],i},useContext:Zt,useEffect:jb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,kh(4194308,4,Pb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return kh(4194308,4,i,r)},useInsertionEffect:function(i,r){kh(4,2,i,r)},useMemo:function(i,r){var o=gn();r=r===void 0?null:r;var u=i();if(Ra){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=gn();if(o!==void 0){var m=o(r);if(Ra){Hn(!0);try{o(r)}finally{Hn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=gN.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var r=gn();return i={current:i},r.memoizedState=i},useState:function(i){i=Wm(i);var r=i.queue,o=$b.bind(null,Ne,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jm,useDeferredValue:function(i,r){var o=gn();return ep(o,i,r)},useTransition:function(){var i=Wm(!1);return i=Fb.bind(null,Ne,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ne,m=gn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(Oe&127)!==0||yb(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,jb(bb.bind(null,u,y,i),[i]),u.flags|=2048,No(9,{destroy:void 0},vb.bind(null,u,y,o,r),null),o},useId:function(){var i=gn(),r=nt.identifierPrefix;if(Be){var o=Ki,u=Gi;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Rh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=uN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:np,useFormState:Rb,useActionState:Rb,useOptimistic:function(i){var r=gn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ip.bind(null,Ne,!0,o),o.dispatch=r,[i,r]},useMemoCache:$m,useCacheRefresh:function(){return gn().memoizedState=pN.bind(null,Ne)},useEffectEvent:function(i){var r=gn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},sp={readContext:Zt,use:Ih,useCallback:Ub,useContext:Zt,useEffect:Zm,useImperativeHandle:Lb,useInsertionEffect:Vb,useLayoutEffect:Ob,useMemo:zb,useReducer:Dh,useRef:kb,useState:function(){return Dh(xs)},useDebugValue:Jm,useDeferredValue:function(i,r){var o=wt();return Bb(o,Je.memoizedState,i,r)},useTransition:function(){var i=Dh(xs)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:lu(i),r]},useSyncExternalStore:gb,useId:Gb,useHostTransitionStatus:np,useFormState:Nb,useActionState:Nb,useOptimistic:function(i,r){var o=wt();return Eb(o,Je,i,r)},useMemoCache:$m,useCacheRefresh:Kb};sp.useEffectEvent=Mb;var Xb={readContext:Zt,use:Ih,useCallback:Ub,useContext:Zt,useEffect:Zm,useImperativeHandle:Lb,useInsertionEffect:Vb,useLayoutEffect:Ob,useMemo:zb,useReducer:Qm,useRef:kb,useState:function(){return Qm(xs)},useDebugValue:Jm,useDeferredValue:function(i,r){var o=wt();return Je===null?ep(o,i,r):Bb(o,Je.memoizedState,i,r)},useTransition:function(){var i=Qm(xs)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:lu(i),r]},useSyncExternalStore:gb,useId:Gb,useHostTransitionStatus:np,useFormState:Db,useActionState:Db,useOptimistic:function(i,r){var o=wt();return Je!==null?Eb(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:$m,useCacheRefresh:Kb};Xb.useEffectEvent=Mb;function rp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ap={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ln(),m=or(u);m.payload=r,o!=null&&(m.callback=o),r=lr(i,m,u),r!==null&&(wn(r,i,u),su(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ln(),m=or(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=lr(i,m,u),r!==null&&(wn(r,i,u),su(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),u=or(o);u.tag=2,r!=null&&(u.callback=r),r=lr(i,u,o),r!==null&&(wn(r,i,o),su(r,i,o))}};function Zb(i,r,o,u,m,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,E):r.prototype&&r.prototype.isPureReactComponent?!Wl(o,u)||!Wl(m,y):!0}function Jb(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&ap.enqueueReplaceState(r,r.state,null)}function Na(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function ex(i){dh(i)}function tx(i){console.error(i)}function nx(i){dh(i)}function Vh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function ix(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function op(i,r,o){return o=or(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(i,r)},o}function sx(i){return i=or(i),i.tag=3,i}function rx(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){ix(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){ix(r,o,u),typeof m!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function yN(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&_o(r,o,m,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?$h():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),kp(i,u,m)),!1;case 22:return o.flags|=65536,u===Eh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),kp(i,u,m)),!1}throw Error(s(435,o.tag))}return kp(i,u,m),$h(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Am&&(i=Error(s(422),{cause:u}),Jl(Qn(i,o)))):(u!==Am&&(r=Error(s(423),{cause:u}),Jl(Qn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Qn(u,o),m=op(i.stateNode,u,m),Pm(i,m),vt!==4&&(vt=2)),!1;var y=Error(s(520),{cause:u});if(y=Qn(y,o),vu===null?vu=[y]:vu.push(y),vt!==4&&(vt=2),r===null)return!0;u=Qn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=op(o.stateNode,u,i),Pm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mr===null||!mr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=sx(m),rx(m,i,o,u),Pm(o,m),!1}o=o.return}while(o!==null);return!1}var lp=Error(s(461)),jt=!1;function Jt(i,r,o,u){r.child=i===null?ub(r,null,o,u):Ca(r,i.child,o,u)}function ax(i,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Ta(r),u=Hm(i,r,o,E,y,m),S=qm(),i!==null&&!jt?(Gm(i,r,m),_s(i,r,m)):(Be&&S&&wm(r),r.flags|=1,Jt(i,r,u,m),r.child)}function ox(i,r,o,u,m){if(i===null){var y=o.type;return typeof y=="function"&&!_m(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,lx(i,r,y,u,m)):(i=gh(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!gp(i,m)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:Wl,o(E,u)&&i.ref===r.ref)return _s(i,r,m)}return r.flags|=1,i=ps(y,u),i.ref=r.ref,i.return=r,r.child=i}function lx(i,r,o,u,m){if(i!==null){var y=i.memoizedProps;if(Wl(y,u)&&i.ref===r.ref)if(jt=!1,r.pendingProps=u=y,gp(i,m))(i.flags&131072)!==0&&(jt=!0);else return r.lanes=i.lanes,_s(i,r,m)}return up(i,r,o,u,m)}function ux(i,r,o,u){var m=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return cx(i,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&xh(r,y!==null?y.cachePool:null),y!==null?db(r,y):Um(),fb(r);else return u=r.lanes=536870912,cx(i,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(xh(r,y.cachePool),db(r,y),cr(),r.memoizedState=null):(i!==null&&xh(r,null),Um(),cr());return Jt(i,r,m,o),r.child}function hu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cx(i,r,o,u,m){var y=jm();return y=y===null?null:{parent:Dt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&xh(r,null),Um(),fb(r),i!==null&&_o(i,r,u,!0),r.childLanes=m,null}function Oh(i,r){return r=Lh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function hx(i,r,o){return Ca(r,i.child,null,o),i=Oh(r,r.pendingProps),i.flags|=2,Vn(r),r.memoizedState=null,i}function vN(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=Oh(r,u),r.lanes=536870912,hu(null,i);if(Bm(r),(i=rt)?(i=T_(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:nr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=Yv(i),o.return=r,r.child=o,Xt=r,rt=null)):i=null,i===null)throw sr(r);return r.lanes=536870912,null}return Oh(r,u)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(Bm(r),m)if(r.flags&256)r.flags&=-257,r=hx(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||_o(i,r,o,!1),m=(o&i.childLanes)!==0,jt||m){if(u=nt,u!==null&&(E=kl(u,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,ba(i,E),wn(u,i,E),lp;$h(),r=hx(i,r,o)}else i=y.treeContext,rt=ei(E.nextSibling),Xt=r,Be=!0,ir=null,Zn=!1,i!==null&&Xv(r,i),r=Oh(r,u),r.flags|=4096;return r}return i=ps(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ph(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function up(i,r,o,u,m){return Ta(r),o=Hm(i,r,o,u,void 0,m),u=qm(),i!==null&&!jt?(Gm(i,r,m),_s(i,r,m)):(Be&&u&&wm(r),r.flags|=1,Jt(i,r,o,m),r.child)}function dx(i,r,o,u,m,y){return Ta(r),r.updateQueue=null,o=pb(r,u,o,m),mb(i),u=qm(),i!==null&&!jt?(Gm(i,r,y),_s(i,r,y)):(Be&&u&&wm(r),r.flags|=1,Jt(i,r,o,y),r.child)}function fx(i,r,o,u,m){if(Ta(r),r.stateNode===null){var y=yo,E=o.contextType;typeof E=="object"&&E!==null&&(y=Zt(E)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ap,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Vm(r),E=o.contextType,y.context=typeof E=="object"&&E!==null?Zt(E):yo,y.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(rp(r,o,E,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&ap.enqueueReplaceState(y,y.state,null),au(r,u,y,m),ru(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var S=r.memoizedProps,V=Na(o,S);y.props=V;var $=y.context,ee=o.contextType;E=yo,typeof ee=="object"&&ee!==null&&(E=Zt(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||$!==E)&&Jb(r,y,u,E),ar=!1;var Y=r.memoizedState;y.state=Y,au(r,u,y,m),ru(),$=r.memoizedState,S||Y!==$||ar?(typeof se=="function"&&(rp(r,o,se,u),$=r.memoizedState),(V=ar||Zb(r,o,V,u,Y,$,E))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),y.props=u,y.state=$,y.context=E,u=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Om(i,r),E=r.memoizedProps,ee=Na(o,E),y.props=ee,se=r.pendingProps,Y=y.context,$=o.contextType,V=yo,typeof $=="object"&&$!==null&&(V=Zt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==se||Y!==V)&&Jb(r,y,u,V),ar=!1,Y=r.memoizedState,y.state=Y,au(r,u,y,m),ru();var W=r.memoizedState;E!==se||Y!==W||ar||i!==null&&i.dependencies!==null&&vh(i.dependencies)?(typeof S=="function"&&(rp(r,o,S,u),W=r.memoizedState),(ee=ar||Zb(r,o,ee,u,Y,W,V)||i!==null&&i.dependencies!==null&&vh(i.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=V,u=ee):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,Ph(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=Ca(r,i.child,null,m),r.child=Ca(r,null,o,m)):Jt(i,r,o,m),r.memoizedState=y.state,i=r.child):i=_s(i,r,m),i}function mx(i,r,o,u){return _a(),r.flags|=256,Jt(i,r,o,u),r.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(i){return{baseLanes:i,cachePool:ib()}}function dp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function px(i,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(m?ur(r):cr(),(i=rt)?(i=T_(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:nr!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=Yv(i),o.return=r,r.child=o,Xt=r,rt=null)):i=null,i===null)throw sr(r);return Yp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(cr(),m=r.mode,S=Lh({mode:"hidden",children:S},m),u=xa(u,m,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=hp(o),u.childLanes=dp(i,E,o),r.memoizedState=cp,hu(null,u)):(ur(r),fp(r,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(y)r.flags&256?(ur(r),r.flags&=-257,r=mp(i,r,o)):r.memoizedState!==null?(cr(),r.child=i.child,r.flags|=128,r=null):(cr(),S=u.fallback,m=r.mode,u=Lh({mode:"visible",children:u.children},m),S=xa(S,m,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ca(r,i.child,null,o),u=r.child,u.memoizedState=hp(o),u.childLanes=dp(i,E,o),r.memoizedState=cp,r=hu(null,u));else if(ur(r),Yp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,Jl({value:u,source:null,stack:null}),r=mp(i,r,o)}else if(jt||_o(i,r,o,!1),E=(o&i.childLanes)!==0,jt||E){if(E=nt,E!==null&&(u=kl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ba(i,u),wn(E,i,u),lp;$p(S)||$h(),r=mp(i,r,o)}else $p(S)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,rt=ei(S.nextSibling),Xt=r,Be=!0,ir=null,Zn=!1,i!==null&&Xv(r,i),r=fp(r,u.children),r.flags|=4096);return r}return m?(cr(),S=u.fallback,m=r.mode,V=i.child,$=V.sibling,u=ps(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?S=ps($,S):(S=xa(S,m,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,hu(null,u),u=r.child,S=i.child.memoizedState,S===null?S=hp(o):(m=S.cachePool,m!==null?(V=Dt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=ib(),S={baseLanes:S.baseLanes|o,cachePool:m}),u.memoizedState=S,u.childLanes=dp(i,E,o),r.memoizedState=cp,hu(i.child,u)):(ur(r),o=i.child,i=o.sibling,o=ps(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function fp(i,r){return r=Lh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Lh(i,r){return i=jn(22,i,null,r),i.lanes=0,i}function mp(i,r,o){return Ca(r,i.child,null,o),i=fp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function gx(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Nm(i.return,r,o)}function pp(i,r,o,u,m,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=m,E.treeForkCount=y)}function yx(i,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var E=Tt.current,S=(E&2)!==0;if(S?(E=E&1|2,r.flags|=128):E&=1,le(Tt,E),Jt(i,r,u,o),u=Be?Zl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gx(i,o,r);else if(i.tag===19)gx(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Ah(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),pp(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ah(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}pp(r,!0,o,null,y,u);break;case"together":pp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function _s(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),fr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(_o(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ps(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ps(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function gp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&vh(i)))}function bN(i,r,o){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),rr(r,Dt,i.memoizedState.cache),_a();break;case 27:case 5:ta(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:rr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?px(i,r,o):(ur(r),i=_s(i,r,o),i!==null?i.sibling:null);ur(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(_o(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return yx(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Tt,Tt.current),u)break;return null;case 22:return r.lanes=0,ux(i,r,o,r.pendingProps);case 24:rr(r,Dt,i.memoizedState.cache)}return _s(i,r,o)}function vx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)jt=!0;else{if(!gp(i,o)&&(r.flags&128)===0)return jt=!1,bN(i,r,o);jt=(i.flags&131072)!==0}else jt=!1,Be&&(r.flags&1048576)!==0&&Wv(r,Zl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Sa(r.elementType),r.type=i,typeof i=="function")_m(i)?(u=Na(i,u),r.tag=1,r=fx(null,r,i,u,o)):(r.tag=0,r=up(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===oe){r.tag=11,r=ax(null,r,i,u,o);break e}else if(m===k){r.tag=14,r=ox(null,r,i,u,o);break e}}throw r=we(i)||i,Error(s(306,r,""))}}return r;case 0:return up(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Na(u,r.pendingProps),fx(i,r,u,m,o);case 3:e:{if(Ut(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,Om(i,r),au(r,u,null,o);var E=r.memoizedState;if(u=E.cache,rr(r,Dt,u),u!==y.cache&&Im(r,[Dt],o,!0),ru(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=mx(i,r,u,o);break e}else if(u!==m){m=Qn(Error(s(424)),r),Jl(m),r=mx(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=ei(i.firstChild),Xt=r,Be=!0,ir=null,Zn=!0,o=ub(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_a(),u===m){r=_s(i,r,o);break e}Jt(i,r,u,o)}r=r.child}return r;case 26:return Ph(i,r),i===null?(o=N_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,u=ed(Ie.current).createElement(o),u[Rt]=r,u[qt]=i,en(u,o,i),Nt(u),r.stateNode=u):r.memoizedState=N_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ta(r),i===null&&Be&&(u=r.stateNode=A_(r.type,r.pendingProps,Ie.current),Xt=r,Zn=!0,m=rt,vr(r.type)?(Qp=m,rt=ei(u.firstChild)):rt=m),Jt(i,r,r.pendingProps.children,o),Ph(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((m=u=rt)&&(u=QN(u,r.type,r.pendingProps,Zn),u!==null?(r.stateNode=u,Xt=r,rt=ei(u.firstChild),Zn=!1,m=!0):m=!1),m||sr(r)),ta(r),m=r.type,y=r.pendingProps,E=i!==null?i.memoizedProps:null,u=y.children,qp(m,y)?u=null:E!==null&&qp(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=Hm(i,r,cN,null,null,o),Au._currentValue=m),Ph(i,r),Jt(i,r,u,o),r.child;case 6:return i===null&&Be&&((i=o=rt)&&(o=WN(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,Xt=r,rt=null,i=!0):i=!1),i||sr(r)),null;case 13:return px(i,r,o);case 4:return Ut(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ca(r,null,u,o):Jt(i,r,u,o),r.child;case 11:return ax(i,r,r.type,r.pendingProps,o);case 7:return Jt(i,r,r.pendingProps,o),r.child;case 8:return Jt(i,r,r.pendingProps.children,o),r.child;case 12:return Jt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,rr(r,r.type,u.value),Jt(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Ta(r),m=Zt(m),u=u(m),r.flags|=1,Jt(i,r,u,o),r.child;case 14:return ox(i,r,r.type,r.pendingProps,o);case 15:return lx(i,r,r.type,r.pendingProps,o);case 19:return yx(i,r,o);case 31:return vN(i,r,o);case 22:return ux(i,r,o,r.pendingProps);case 24:return Ta(r),u=Zt(Dt),i===null?(m=jm(),m===null&&(m=nt,y=Dm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},Vm(r),rr(r,Dt,m)):((i.lanes&o)!==0&&(Om(i,r),au(r,null,null,o),ru()),m=i.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),rr(r,Dt,u)):(u=y.cache,rr(r,Dt,u),u!==m.cache&&Im(r,[Dt],o,!0))),Jt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Es(i){i.flags|=4}function yp(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Gx())i.flags|=8192;else throw Aa=Eh,Mm}else i.flags&=-16777217}function bx(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!M_(r))if(Gx())i.flags|=8192;else throw Aa=Eh,Mm}function Uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Gc():536870912,i.lanes|=r,jo|=r)}function du(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function at(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function xN(i,r,o){var u=r.pendingProps;switch(Sm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),vs(Dt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xo(r)?Es(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cm())),at(r),null;case 26:var m=r.type,y=r.memoizedState;return i===null?(Es(r),y!==null?(at(r),bx(r,y)):(at(r),yp(r,m,null,u,o))):y?y!==i.memoizedState?(Es(r),at(r),bx(r,y)):(at(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Es(r),at(r),yp(r,m,i,u,o)),null;case 27:if(Xa(r),o=Ie.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return at(r),null}i=ce.current,xo(r)?Zv(r):(i=A_(m,u,o),r.stateNode=i,Es(r))}return at(r),null;case 5:if(Xa(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(y=ce.current,xo(r))Zv(r);else{var E=ed(Ie.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(m,{is:u.is}):E.createElement(m)}}y[Rt]=r,y[qt]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(en(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Es(r)}}return at(r),yp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,xo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=Xt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||p_(i.nodeValue,o)),i||sr(r,!0)}else i=ed(i).createTextNode(u),i[Rt]=r,r.stateNode=i}return at(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=xo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),i=!1}else o=Cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=xo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Rt]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),m=!1}else m=Cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),at(r),null);case 4:return ut(),i===null&&Up(r.stateNode.containerInfo),at(r),null;case 10:return vs(r.type),at(r),null;case 19:if(ie(Tt),u=r.memoizedState,u===null)return at(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)du(u,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Ah(i),y!==null){for(r.flags|=128,du(u,!1),i=y.updateQueue,r.updateQueue=i,Uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)$v(o,i),o=o.sibling;return le(Tt,Tt.current&1|2),Be&&gs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&mn()>qh&&(r.flags|=128,m=!0,du(u,!1),r.lanes=4194304)}else{if(!m)if(i=Ah(y),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Uh(r,i),du(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Be)return at(r),null}else 2*mn()-u.renderingStartTime>qh&&o!==536870912&&(r.flags|=128,m=!0,du(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=mn(),i.sibling=null,o=Tt.current,le(Tt,m?o&1|2:o&1),Be&&gs(r,u.treeForkCount),i):(at(r),null);case 22:case 23:return Vn(r),zm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ie(wa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),vs(Dt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _N(i,r){switch(Sm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return vs(Dt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Xa(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));_a()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Vn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_a()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ie(Tt),null;case 4:return ut(),null;case 10:return vs(r.type),null;case 22:case 23:return Vn(r),zm(),i!==null&&ie(wa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return vs(Dt),null;case 25:return null;default:return null}}function xx(i,r){switch(Sm(r),r.tag){case 3:vs(Dt),ut();break;case 26:case 27:case 5:Xa(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:ie(Tt);break;case 10:vs(r.type);break;case 22:case 23:Vn(r),zm(),i!==null&&ie(wa);break;case 24:vs(Dt)}}function fu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var y=o.create,E=o.inst;u=y(),E.destroy=u}o=o.next}while(o!==m)}}catch(S){Xe(r,r.return,S)}}function hr(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,m=r;var V=o,$=S;try{$()}catch(ee){Xe(m,V,ee)}}}u=u.next}while(u!==y)}}catch(ee){Xe(r,r.return,ee)}}function _x(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{hb(r,o)}catch(u){Xe(i,i.return,u)}}}function Ex(i,r,o){o.props=Na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(i,r,u)}}function mu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){Xe(i,r,m)}}function $i(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Xe(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Xe(i,r,m)}else o.current=null}function Tx(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Xe(i,i.return,m)}}function vp(i,r,o){try{var u=i.stateNode;HN(u,i.type,o,r),u[qt]=r}catch(m){Xe(i,i.return,m)}}function wx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vr(i.type)||i.tag===4}function bp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=fi));else if(u!==4&&(u===27&&vr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(xp(i,r,o),i=i.sibling;i!==null;)xp(i,r,o),i=i.sibling}function zh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&vr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(zh(i,r,o),i=i.sibling;i!==null;)zh(i,r,o),i=i.sibling}function Sx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);en(r,u,o),r[Rt]=i,r[qt]=o}catch(y){Xe(i,i.return,y)}}var Ts=!1,Mt=!1,_p=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function EN(i,r){if(i=i.containerInfo,Fp=od,i=Lv(i),mm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,S=-1,V=-1,$=0,ee=0,se=i,Y=null;t:for(;;){for(var W;se!==o||m!==0&&se.nodeType!==3||(S=E+m),se!==y||u!==0&&se.nodeType!==3||(V=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(W=se.firstChild)!==null;)Y=se,se=W;for(;;){if(se===i)break t;if(Y===o&&++$===m&&(S=E),Y===y&&++ee===u&&(V=E),(W=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=W}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:i,selectionRange:o},od=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var me=Na(o.type,m);i=u.getSnapshotBeforeUpdate(me,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Xe(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Kp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}}function Cx(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ss(i,o),u&4&&fu(5,o);break;case 1:if(Ss(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Xe(o,o.return,E)}else{var m=Na(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(o,o.return,E)}}u&64&&_x(o),u&512&&mu(o,o.return);break;case 3:if(Ss(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{hb(i,r)}catch(E){Xe(o,o.return,E)}}break;case 27:r===null&&u&4&&Sx(o);case 26:case 5:Ss(i,o),r===null&&u&4&&Tx(o),u&512&&mu(o,o.return);break;case 12:Ss(i,o);break;case 31:Ss(i,o),u&4&&Ix(i,o);break;case 13:Ss(i,o),u&4&&Dx(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=DN.bind(null,o),XN(i,o))));break;case 22:if(u=o.memoizedState!==null||Ts,!u){r=r!==null&&r.memoizedState!==null||Mt,m=Ts;var y=Mt;Ts=u,(Mt=r)&&!y?As(i,o,(o.subtreeFlags&8772)!==0):Ss(i,o),Ts=m,Mt=y}break;case 30:break;default:Ss(i,o)}}function Rx(i){var r=i.alternate;r!==null&&(i.alternate=null,Rx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,xn=!1;function ws(i,r,o){for(o=o.child;o!==null;)Nx(i,r,o),o=o.sibling}function Nx(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 26:Mt||$i(o,r),ws(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||$i(o,r);var u=ht,m=xn;vr(o.type)&&(ht=o.stateNode,xn=!1),ws(i,r,o),Tu(o.stateNode),ht=u,xn=m;break;case 5:Mt||$i(o,r);case 6:if(u=ht,m=xn,ht=null,ws(i,r,o),ht=u,xn=m,ht!==null)if(xn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(y){Xe(o,r,y)}else try{ht.removeChild(o.stateNode)}catch(y){Xe(o,r,y)}break;case 18:ht!==null&&(xn?(i=ht,__(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Bo(i)):__(ht,o.stateNode));break;case 4:u=ht,m=xn,ht=o.stateNode.containerInfo,xn=!0,ws(i,r,o),ht=u,xn=m;break;case 0:case 11:case 14:case 15:hr(2,o,r),Mt||hr(4,o,r),ws(i,r,o);break;case 1:Mt||($i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Ex(o,r,u)),ws(i,r,o);break;case 21:ws(i,r,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,ws(i,r,o),Mt=u;break;default:ws(i,r,o)}}function Ix(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bo(i)}catch(o){Xe(r,r.return,o)}}}function Dx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bo(i)}catch(o){Xe(r,r.return,o)}}function TN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Ax),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Ax),r;default:throw Error(s(435,i.tag))}}function Bh(i,r){var o=TN(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=kN.bind(null,i,u);u.then(m,m)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=i,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(vr(S.type)){ht=S.stateNode,xn=!1;break e}break;case 5:ht=S.stateNode,xn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));Nx(y,E,m),ht=null,xn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)kx(r,i),r=r.sibling}var bi=null;function kx(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),En(i),u&4&&(hr(3,i,i.return),fu(3,i),hr(5,i,i.return));break;case 1:_n(r,i),En(i),u&512&&(Mt||o===null||$i(o,o.return)),u&64&&Ts&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=bi;if(_n(r,i),En(i),u&512&&(Mt||o===null||$i(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ji]||y[Rt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),en(y,u,o),y[Rt]=i,Nt(y),u=y;break e;case"link":var E=k_("link","href",m).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(y=E[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}y=m.createElement(u),en(y,u,o),m.head.appendChild(y);break;case"meta":if(E=k_("meta","content",m).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(y=E[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}y=m.createElement(u),en(y,u,o),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[Rt]=i,Nt(y),u=y}i.stateNode=u}else j_(m,i.type,i.stateNode);else i.stateNode=D_(m,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?j_(m,i.type,i.stateNode):D_(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&vp(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),En(i),u&512&&(Mt||o===null||$i(o,o.return)),o!==null&&u&4&&vp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),En(i),u&512&&(Mt||o===null||$i(o,o.return)),i.flags&32){m=i.stateNode;try{bn(m,"")}catch(me){Xe(i,i.return,me)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,vp(i,m,o!==null?o.memoizedProps:m)),u&1024&&(_p=!0);break;case 6:if(_n(r,i),En(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Xe(i,i.return,me)}}break;case 3:if(id=null,m=bi,bi=td(r.containerInfo),_n(r,i),bi=m,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bo(r.containerInfo)}catch(me){Xe(i,i.return,me)}_p&&(_p=!1,jx(i));break;case 4:u=bi,bi=td(i.stateNode.containerInfo),_n(r,i),En(i),bi=u;break;case 12:_n(r,i),En(i);break;case 31:_n(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 13:_n(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hh=mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=Ts,ee=Mt;if(Ts=$||m,Mt=ee||V,_n(r,i),Mt=ee,Ts=$,En(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||Ts||Mt||Ia(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(y=V.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=V.stateNode;var se=V.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Xe(V,V.return,me)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(me){Xe(V,V.return,me)}}}else if(r.tag===18){if(o===null){V=r;try{var W=V.stateNode;m?E_(W,!0):E_(V.stateNode,!1)}catch(me){Xe(V,V.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bh(i,o))));break;case 19:_n(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bh(i,u)));break;case 30:break;case 21:break;default:_n(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(wx(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=bp(i);zh(i,y,m);break;case 5:var E=o.stateNode;o.flags&32&&(bn(E,""),o.flags&=-33);var S=bp(i);zh(i,S,E);break;case 3:case 4:var V=o.stateNode.containerInfo,$=bp(i);xp(i,$,V);break;default:throw Error(s(161))}}catch(ee){Xe(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function jx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;jx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ss(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cx(i,r.alternate,r),r=r.sibling}function Ia(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:hr(4,r,r.return),Ia(r);break;case 1:$i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Ex(r,r.return,o),Ia(r);break;case 27:Tu(r.stateNode);case 26:case 5:$i(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}i=i.sibling}}function As(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:As(m,y,o),fu(4,y);break;case 1:if(As(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){Xe(u,u.return,$)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)cb(V[m],S)}catch($){Xe(u,u.return,$)}}o&&E&64&&_x(y),mu(y,y.return);break;case 27:Sx(y);case 26:case 5:As(m,y,o),o&&u===null&&E&4&&Tx(y),mu(y,y.return);break;case 12:As(m,y,o);break;case 31:As(m,y,o),o&&E&4&&Ix(m,y);break;case 13:As(m,y,o),o&&E&4&&Dx(m,y);break;case 22:y.memoizedState===null&&As(m,y,o),mu(y,y.return);break;case 30:break;default:As(m,y,o)}r=r.sibling}}function Ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&eu(o))}function Tp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&eu(i))}function xi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mx(i,r,o,u),r=r.sibling}function Mx(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:xi(i,r,o,u),m&2048&&fu(9,r);break;case 1:xi(i,r,o,u);break;case 3:xi(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&eu(i)));break;case 12:if(m&2048){xi(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,E=y.id,S=y.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Xe(r,r.return,V)}}else xi(i,r,o,u);break;case 31:xi(i,r,o,u);break;case 13:xi(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?xi(i,r,o,u):pu(i,r):y._visibility&2?xi(i,r,o,u):(y._visibility|=2,Io(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ep(E,r);break;case 24:xi(i,r,o,u),m&2048&&Tp(r.alternate,r);break;default:xi(i,r,o,u)}}function Io(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,E=r,S=o,V=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:Io(y,E,S,V,m),fu(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?Io(y,E,S,V,m):pu(y,E):(ee._visibility|=2,Io(y,E,S,V,m)),m&&$&2048&&Ep(E.alternate,E);break;case 24:Io(y,E,S,V,m),m&&$&2048&&Tp(E.alternate,E);break;default:Io(y,E,S,V,m)}r=r.sibling}}function pu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:pu(o,u),m&2048&&Ep(u.alternate,u);break;case 24:pu(o,u),m&2048&&Tp(u.alternate,u);break;default:pu(o,u)}r=r.sibling}}var gu=8192;function Do(i,r,o){if(i.subtreeFlags&gu)for(i=i.child;i!==null;)Vx(i,r,o),i=i.sibling}function Vx(i,r,o){switch(i.tag){case 26:Do(i,r,o),i.flags&gu&&i.memoizedState!==null&&u2(o,bi,i.memoizedState,i.memoizedProps);break;case 5:Do(i,r,o);break;case 3:case 4:var u=bi;bi=td(i.stateNode.containerInfo),Do(i,r,o),bi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=gu,gu=16777216,Do(i,r,o),gu=u):Do(i,r,o));break;default:Do(i,r,o)}}function Ox(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function yu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Lx(u,i)}Ox(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Px(i),i=i.sibling}function Px(i){switch(i.tag){case 0:case 11:case 15:yu(i),i.flags&2048&&hr(9,i,i.return);break;case 3:yu(i);break;case 12:yu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Fh(i)):yu(i);break;default:yu(i)}}function Fh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Lx(u,i)}Ox(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:hr(8,r,r.return),Fh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Fh(r));break;default:Fh(r)}i=i.sibling}}function Lx(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:hr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:eu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=i;Kt!==null;){u=Kt;var m=u.sibling,y=u.return;if(Rx(u),u===o){Kt=null;break e}if(m!==null){m.return=y,Kt=m;break e}Kt=y}}}var wN={getCacheForType:function(i){var r=Zt(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Zt(Dt).controller.signal}},SN=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,je=null,Oe=0,We=0,On=null,dr=!1,ko=!1,wp=!1,Cs=0,vt=0,fr=0,Da=0,Sp=0,Pn=0,jo=0,vu=null,Tn=null,Ap=!1,Hh=0,Ux=0,qh=1/0,Gh=null,mr=null,Bt=0,pr=null,Mo=null,Rs=0,Cp=0,Rp=null,zx=null,bu=0,Np=null;function Ln(){return($e&2)!==0&&Oe!==0?Oe&-Oe:Z.T!==null?Vp():Kc()}function Bx(){if(Pn===0)if((Oe&536870912)===0||Be){var i=sa;sa<<=1,(sa&3932160)===0&&(sa=262144),Pn=i}else Pn=536870912;return i=Mn.current,i!==null&&(i.flags|=32),Pn}function wn(i,r,o){(i===nt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),gr(i,Oe,Pn,!1)),ra(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(Da|=o),vt===4&&gr(i,Oe,Pn,!1)),Yi(i))}function Fx(i,r,o){if(($e&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),m=u?RN(i,r):Dp(i,r,!0),y=u;do{if(m===0){ko&&!u&&gr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!AN(o)){m=Dp(i,r,!1),y=!1;continue}if(m===2){if(y=r,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=i;m=vu;var V=S.current.memoizedState.isDehydrated;if(V&&(Vo(S,E).flags|=256),E=Dp(S,E,!1),E!==2){if(wp&&!V){S.errorRecoveryDisabledLanes|=y,Da|=y,m=4;break e}y=Tn,Tn=m,y!==null&&(Tn===null?Tn=y:Tn.push.apply(Tn,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){Vo(i,0),gr(i,r,0,!0);break}e:{switch(u=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gr(u,r,Pn,!dr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Hh+300-mn(),10<m)){if(gr(u,r,Pn,!dr),Ii(u,0,!0)!==0)break e;Rs=r,u.timeoutHandle=b_(Hx.bind(null,u,o,Tn,Gh,Ap,r,Pn,Da,jo,dr,y,"Throttled",-0,0),m);break e}Hx(u,o,Tn,Gh,Ap,r,Pn,Da,jo,dr,y,null,-0,0)}}break}while(!0);Yi(i)}function Hx(i,r,o,u,m,y,E,S,V,$,ee,se,Y,W){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Vx(r,y,se);var me=(y&62914560)===y?Hh-mn():(y&4194048)===y?Ux-mn():0;if(me=c2(se,me),me!==null){Rs=y,i.cancelPendingCommit=me(Xx.bind(null,i,r,y,o,u,m,E,S,V,ee,se,null,Y,W)),gr(i,y,E,!$);return}}Xx(i,r,y,o,u,m,E,S,V)}function AN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!kn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(i,r,o,u){r&=~Sp,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var y=31-_t(m),E=1<<y;u[y]=-1,m&=~E}o!==0&&aa(i,o,r)}function Kh(){return($e&6)===0?(xu(0),!1):!0}function Ip(){if(je!==null){if(We===0)var i=je.return;else i=je,ys=Ea=null,Km(i),So=null,nu=0,i=je;for(;i!==null;)xx(i.alternate,i),i=i.return;je=null}}function Vo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,KN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rs=0,Ip(),nt=i,je=o=ps(i.current,null),Oe=r,We=0,On=null,dr=!1,ko=ci(i,r),wp=!1,jo=Pn=Sp=Da=fr=vt=0,Tn=vu=null,Ap=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-_t(u),y=1<<m;r|=i[m],u&=~y}return Cs=r,fh(),o}function qx(i,r){Ne=null,Z.H=cu,r===wo||r===_h?(r=ab(),We=3):r===Mm?(r=ab(),We=4):We=r===lp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,je===null&&(vt=1,Vh(i,Qn(r,i.current)))}function Gx(){var i=Mn.current;return i===null?!0:(Oe&4194048)===Oe?Jn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Jn:!1}function Kx(){var i=Z.H;return Z.H=cu,i===null?cu:i}function $x(){var i=Z.A;return Z.A=wN,i}function $h(){vt=4,dr||(Oe&4194048)!==Oe&&Mn.current!==null||(ko=!0),(fr&134217727)===0&&(Da&134217727)===0||nt===null||gr(nt,Oe,Pn,!1)}function Dp(i,r,o){var u=$e;$e|=2;var m=Kx(),y=$x();(nt!==i||Oe!==r)&&(Gh=null,Vo(i,r)),r=!1;var E=vt;e:do try{if(We!==0&&je!==null){var S=je,V=On;switch(We){case 8:Ip(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var $=We;if(We=0,On=null,Oo(i,S,V,$),o&&ko){E=0;break e}break;default:$=We,We=0,On=null,Oo(i,S,V,$)}}CN(),E=vt;break}catch(ee){qx(i,ee)}while(!0);return r&&i.shellSuspendCounter++,ys=Ea=null,$e=u,Z.H=m,Z.A=y,je===null&&(nt=null,Oe=0,fh()),E}function CN(){for(;je!==null;)Yx(je)}function RN(i,r){var o=$e;$e|=2;var u=Kx(),m=$x();nt!==i||Oe!==r?(Gh=null,qh=mn()+500,Vo(i,r)):ko=ci(i,r);e:do try{if(We!==0&&je!==null){r=je;var y=On;t:switch(We){case 1:We=0,On=null,Oo(i,r,y,1);break;case 2:case 9:if(sb(y)){We=0,On=null,Qx(r);break}r=function(){We!==2&&We!==9||nt!==i||(We=7),Yi(i)},y.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:sb(y)?(We=0,On=null,Qx(r)):(We=0,On=null,Oo(i,r,y,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var S=je;if(E?M_(E):S.stateNode.complete){We=0,On=null;var V=S.sibling;if(V!==null)je=V;else{var $=S.return;$!==null?(je=$,Yh($)):je=null}break t}}We=0,On=null,Oo(i,r,y,5);break;case 6:We=0,On=null,Oo(i,r,y,6);break;case 8:Ip(),vt=6;break e;default:throw Error(s(462))}}NN();break}catch(ee){qx(i,ee)}while(!0);return ys=Ea=null,Z.H=u,Z.A=m,$e=o,je!==null?0:(nt=null,Oe=0,fh(),vt)}function NN(){for(;je!==null&&!om();)Yx(je)}function Yx(i){var r=vx(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,r===null?Yh(i):je=r}function Qx(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=dx(o,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=dx(o,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Km(r);default:xx(o,r),r=je=$v(r,Cs),r=vx(o,r,Cs)}i.memoizedProps=i.pendingProps,r===null?Yh(i):je=r}function Oo(i,r,o,u){ys=Ea=null,Km(r),So=null,nu=0;var m=r.return;try{if(yN(i,m,r,o,Oe)){vt=1,Vh(i,Qn(o,i.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;vt=1,Vh(i,Qn(o,i.current)),je=null;return}r.flags&32768?(Be||u===1?i=!0:ko||(Oe&536870912)!==0?i=!1:(dr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wx(r,i)):Yh(r)}function Yh(i){var r=i;do{if((r.flags&32768)!==0){Wx(r,dr);return}i=r.return;var o=xN(r.alternate,r,Cs);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);vt===0&&(vt=5)}function Wx(i,r){do{var o=_N(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);vt=6,je=null}function Xx(i,r,o,u,m,y,E,S,V){i.cancelPendingCommit=null;do Qh();while(Bt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=bm,cm(i,o,y,E,S,V),i===nt&&(je=nt=null,Oe=0),Mo=r,pr=i,Rs=o,Cp=y,Rp=m,zx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jN(Ks,function(){return n_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,m=ae.p,ae.p=2,E=$e,$e|=4;try{EN(i,r,o)}finally{$e=E,ae.p=m,Z.T=u}}Bt=1,Zx(),Jx(),e_()}}function Zx(){if(Bt===1){Bt=0;var i=pr,r=Mo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ae.p;ae.p=2;var m=$e;$e|=4;try{kx(r,i);var y=Hp,E=Lv(i.containerInfo),S=y.focusedElem,V=y.selectionRange;if(E!==S&&S&&S.ownerDocument&&Pv(S.ownerDocument.documentElement,S)){if(V!==null&&mm(S)){var $=V.start,ee=V.end;if(ee===void 0&&(ee=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(ee,S.value.length);else{var se=S.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),me=S.textContent.length,ve=Math.min(V.start,me),tt=V.end===void 0?ve:Math.min(V.end,me);!W.extend&&ve>tt&&(E=tt,tt=ve,ve=E);var H=Ov(S,ve),U=Ov(S,tt);if(H&&U&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var K=se.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),ve>tt?(W.addRange(K),W.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),W.addRange(K))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var te=se[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}od=!!Fp,Hp=Fp=null}finally{$e=m,ae.p=u,Z.T=o}}i.current=r,Bt=2}}function Jx(){if(Bt===2){Bt=0;var i=pr,r=Mo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ae.p;ae.p=2;var m=$e;$e|=4;try{Cx(i,r.alternate,r)}finally{$e=m,ae.p=u,Z.T=o}}Bt=3}}function e_(){if(Bt===4||Bt===3){Bt=0,Uc();var i=pr,r=Mo,o=Rs,u=zx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Mo=pr=null,t_(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(mr=null),hs(o),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ui,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,m=ae.p,ae.p=2,Z.T=null;try{for(var y=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];y(S.value,{componentStack:S.stack})}}finally{Z.T=r,ae.p=m}}(Rs&3)!==0&&Qh(),Yi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Np?bu++:(bu=0,Np=i):bu=0,xu(0)}}function t_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,eu(r)))}function Qh(){return Zx(),Jx(),e_(),n_()}function n_(){if(Bt!==5)return!1;var i=pr,r=Cp;Cp=0;var o=hs(Rs),u=Z.T,m=ae.p;try{ae.p=32>o?32:o,Z.T=null,o=Rp,Rp=null;var y=pr,E=Rs;if(Bt=0,Mo=pr=null,Rs=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,Px(y.current),Mx(y,y.current,E,o),$e=S,xu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ui,y)}catch{}return!0}finally{ae.p=m,Z.T=u,t_(i,r)}}function i_(i,r,o){r=Qn(o,r),r=op(i.stateNode,r,2),i=lr(i,r,2),i!==null&&(ra(i,2),Yi(i))}function Xe(i,r,o){if(i.tag===3)i_(i,i,o);else for(;r!==null;){if(r.tag===3){i_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(mr===null||!mr.has(u))){i=Qn(o,i),o=sx(2),u=lr(r,o,2),u!==null&&(rx(o,u,r,i),ra(u,2),Yi(u));break}}r=r.return}}function kp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new SN;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(wp=!0,m.add(o),i=IN.bind(null,i,r,o),r.then(i,i))}function IN(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Oe&o)===o&&(vt===4||vt===3&&(Oe&62914560)===Oe&&300>mn()-Hh?($e&2)===0&&Vo(i,0):Sp|=o,jo===Oe&&(jo=0)),Yi(i)}function s_(i,r){r===0&&(r=Gc()),i=ba(i,r),i!==null&&(ra(i,r),Yi(i))}function DN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),s_(i,o)}function kN(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),s_(i,o)}function jN(i,r){return zt(i,r)}var Wh=null,Po=null,jp=!1,Xh=!1,Mp=!1,yr=0;function Yi(i){i!==Po&&i.next===null&&(Po===null?Wh=Po=i:Po=Po.next=i),Xh=!0,jp||(jp=!0,VN())}function xu(i,r){if(!Mp&&Xh){Mp=!0;do for(var o=!1,u=Wh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var E=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-_t(42|i)+1)-1,y&=m&~(E&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,l_(u,y))}else y=Oe,y=Ii(u,u===nt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ci(u,y)||(o=!0,l_(u,y));u=u.next}while(o);Mp=!1}}function MN(){r_()}function r_(){Xh=jp=!1;var i=0;yr!==0&&GN()&&(i=yr);for(var r=mn(),o=null,u=Wh;u!==null;){var m=u.next,y=a_(u,r);y===0?(u.next=null,o===null?Wh=m:o.next=m,m===null&&(Po=o)):(o=u,(i!==0||(y&3)!==0)&&(Xh=!0)),u=m}Bt!==0&&Bt!==5||xu(i),yr!==0&&(yr=0)}function a_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-_t(y),S=1<<E,V=m[E];V===-1?((S&o)===0||(S&u)!==0)&&(m[E]=um(S,r)):V<=r&&(i.expiredLanes|=S),y&=~S}if(r=nt,o=Oe,o=Ii(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Gs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Gs(u),hs(o)){case 2:case 8:o=Il;break;case 32:o=Ks;break;case 268435456:o=zc;break;default:o=Ks}return u=o_.bind(null,i),o=zt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Gs(u),i.callbackPriority=2,i.callbackNode=null,2}function o_(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Qh()&&i.callbackNode!==o)return null;var u=Oe;return u=Ii(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Fx(i,u,r),a_(i,mn()),i.callbackNode!=null&&i.callbackNode===o?o_.bind(null,i):null)}function l_(i,r){if(Qh())return null;Fx(i,r,!0)}function VN(){$N(function(){($e&6)!==0?zt(Nl,MN):r_()})}function Vp(){if(yr===0){var i=Eo;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),yr=i}return yr}function u_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function c_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function ON(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=u_((m[qt]||null).action),E=u.submitter;E&&(r=(r=E[qt]||null)?u_(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var S=new Bi("action","action",null,u,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(yr!==0){var V=E?c_(m,E):new FormData(m);tp(o,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(S.preventDefault(),V=E?c_(m,E):new FormData(m),tp(o,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var Op=0;Op<vm.length;Op++){var Pp=vm[Op],PN=Pp.toLowerCase(),LN=Pp[0].toUpperCase()+Pp.slice(1);vi(PN,"on"+LN)}vi(Bv,"onAnimationEnd"),vi(Fv,"onAnimationIteration"),vi(Hv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(eN,"onTransitionRun"),vi(tN,"onTransitionStart"),vi(nN,"onTransitionCancel"),vi(qv,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function h_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=$;try{y(m)}catch(ee){dh(ee)}m.currentTarget=null,y=V}else for(E=0;E<u.length;E++){if(S=u[E],V=S.instance,$=S.currentTarget,S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=$;try{y(m)}catch(ee){dh(ee)}m.currentTarget=null,y=V}}}}function Me(i,r){var o=r[to];o===void 0&&(o=r[to]=new Set);var u=i+"__bubble";o.has(u)||(d_(r,i,2,!1),o.add(u))}function Lp(i,r,o){var u=0;r&&(u|=4),d_(o,i,u,r)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Up(i){if(!i[Zh]){i[Zh]=!0,jl.forEach(function(o){o!=="selectionchange"&&(UN.has(o)||Lp(o,!1,i),Lp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Zh]||(r[Zh]=!0,Lp("selectionchange",!1,r))}}function d_(i,r,o,u){switch(B_(r)){case 2:var m=f2;break;case 8:m=m2;break;default:m=eg}o=m.bind(null,r,o,i),m=void 0,!ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function zp(i,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===m)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;S!==null;){if(E=Mi(S),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=y=E;continue e}S=S.parentNode}}u=u.return}Zs(function(){var $=y,ee=Gn(o),se=[];e:{var Y=Gv.get(i);if(Y!==void 0){var W=Bi,me=i;switch(i){case"keypress":if(fa(o)===0)break e;case"keydown":case"keyup":W=uh;break;case"focusin":me="focus",W=pa;break;case"focusout":me="blur",W=pa;break;case"beforeblur":case"afterblur":W=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case Bv:case Fv:case Hv:W=nh;break;case qv:W=N;break;case"scroll":case"scrollend":W=Gl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ms;break;case"toggle":case"beforetoggle":W=Re}var ve=(r&4)!==0,tt=!ve&&(i==="scroll"||i==="scrollend"),H=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var U=$,K;U!==null;){var te=U;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||H===null||(te=mi(U,H),te!=null&&ve.push(Eu(U,te,K))),tt)break;U=U.return}0<ve.length&&(Y=new W(Y,me,null,o,ee),se.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&o!==Fl&&(me=o.relatedTarget||o.fromElement)&&(Mi(me)||me[ki]))break e;if((W||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=$,me=me?Mi(me):null,me!==null&&(tt=l(me),ve=me.tag,me!==tt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(W=null,me=$),W!==me)){if(ve=Kl,te="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ve=ms,te="onPointerLeave",H="onPointerEnter",U="pointer"),tt=W==null?Y:In(W),K=me==null?Y:In(me),Y=new ve(te,U+"leave",W,o,ee),Y.target=tt,Y.relatedTarget=K,te=null,Mi(ee)===$&&(ve=new ve(H,U+"enter",me,o,ee),ve.target=K,ve.relatedTarget=tt,te=ve),tt=te,W&&me)t:{for(ve=zN,H=W,U=me,K=0,te=H;te;te=ve(te))K++;te=0;for(var ge=U;ge;ge=ve(ge))te++;for(;0<K-te;)H=ve(H),K--;for(;0<te-K;)U=ve(U),te--;for(;K--;){if(H===U||U!==null&&H===U.alternate){ve=H;break t}H=ve(H),U=ve(U)}ve=null}else ve=null;W!==null&&f_(se,Y,W,ve,!1),me!==null&&tt!==null&&f_(se,tt,me,ve,!0)}}e:{if(Y=$?In($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var qe=Iv;else if(Rv(Y))if(Dv)qe=XR;else{qe=QR;var pe=YR}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&ro($.elementType)&&(qe=Iv):qe=WR;if(qe&&(qe=qe(i,$))){Nv(se,qe,o,ee);break e}pe&&pe(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Ul(Y,"number",Y.value)}switch(pe=$?In($):window,i){case"focusin":(Rv(pe)||pe.contentEditable==="true")&&(mo=pe,pm=$,Xl=null);break;case"focusout":Xl=pm=mo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Uv(se,o,ee);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":Uv(se,o,ee)}var De;if(Ke)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else fo?ga(i,o)&&(Pe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(qi&&o.locale!=="ko"&&(fo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&fo&&(De=ql()):(zi=ee,Hl="value"in zi?zi.value:zi.textContent,fo=!0)),pe=Jh($,Pe),0<pe.length&&(Pe=new Hi(Pe,i,null,o,ee),se.push({event:Pe,listeners:pe}),De?Pe.data=De:(De=ho(o),De!==null&&(Pe.data=De)))),(De=$n?qR(i,o):GR(i,o))&&(Pe=Jh($,"onBeforeInput"),0<Pe.length&&(pe=new Hi("onBeforeInput","beforeinput",null,o,ee),se.push({event:pe,listeners:Pe}),pe.data=De)),ON(se,i,$,o,ee)}h_(se,r)})}function Eu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jh(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=mi(i,o),m!=null&&u.unshift(Eu(i,m,y)),m=mi(i,r),m!=null&&u.push(Eu(i,m,y))),i.tag===3)return u;i=i.return}return[]}function zN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function f_(i,r,o,u,m){for(var y=r._reactName,E=[];o!==null&&o!==u;){var S=o,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||$===null||(V=$,m?($=mi(o,y),$!=null&&E.unshift(Eu(o,$,V))):m||($=mi(o,y),$!=null&&E.push(Eu(o,$,V)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var BN=/\r\n?/g,FN=/\u0000|\uFFFD/g;function m_(i){return(typeof i=="string"?i:""+i).replace(BN,`
`).replace(FN,"")}function p_(i,r){return r=m_(r),m_(i)===r}function et(i,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||bn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&bn(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":Bl(i,u,y);break;case"data":if(r!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",m.name,m,null),et(i,r,"formEncType",m.formEncType,m,null),et(i,r,"formMethod",m.formMethod,m,null),et(i,r,"formTarget",m.formTarget,m,null)):(et(i,r,"encType",m.encType,m,null),et(i,r,"method",m.method,m,null),et(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=fi);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Me("beforetoggle",i),Me("toggle",i),io(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jc.get(o)||o,io(i,o,u))}}function Bp(i,r,o,u,m,y){switch(o){case"style":Bl(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?bn(i,u):(typeof u=="number"||typeof u=="bigint")&&bn(i,""+u);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"onClick":u!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=i[qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):io(i,o,u)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,y,E,o,null)}}m&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":Me("invalid",i);var S=y=E=m=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":m=ee;break;case"type":E=ee;break;case"checked":V=ee;break;case"defaultChecked":$=ee;break;case"value":y=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:et(i,r,u,ee,o,null)}}Wc(i,y,S,V,$,E,m,!1);return;case"select":Me("invalid",i),u=E=y=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:et(i,r,m,S,o,null)}r=y,o=E,i.multiple=!!u,r!=null?Ys(i,!!u,r,!1):o!=null&&Ys(i,!!u,o,!0);return;case"textarea":Me("invalid",i),y=m=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(i,r,E,S,o,null)}Qs(i,u,m,y);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,V,u,o,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(u=0;u<_u.length;u++)Me(_u[u],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,$,u,o,null)}return;default:if(ro(r)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&Bp(i,r,ee,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&et(i,r,S,u,o,null))}function HN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,S=null,V=null,$=null,ee=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(W)||et(i,r,W,null,u,se)}}for(var Y in u){var W=u[Y];if(se=o[Y],u.hasOwnProperty(Y)&&(W!=null||se!=null))switch(Y){case"type":y=W;break;case"name":m=W;break;case"checked":$=W;break;case"defaultChecked":ee=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==se&&et(i,r,Y,W,u,se)}}so(i,E,S,V,$,ee,y,m);return;case"select":W=E=S=Y=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(y)||et(i,r,y,null,u,V)}for(m in u)if(y=u[m],V=o[m],u.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":E=y;default:y!==V&&et(i,r,m,y,u,V)}r=S,o=E,u=W,Y!=null?Ys(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ys(i,!!o,r,!0):Ys(i,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(i,r,S,null,u,m)}for(E in u)if(m=u[E],y=o[E],u.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":Y=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&et(i,r,E,m,u,y)}Xc(i,Y,W);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:et(i,r,me,null,u,Y)}for(V in u)if(Y=u[V],W=o[V],u.hasOwnProperty(V)&&Y!==W&&(Y!=null||W!=null))switch(V){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(i,r,V,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&et(i,r,ve,null,u,Y);for($ in u)if(Y=u[$],W=o[$],u.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,$,Y,u,W)}return;default:if(ro(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!u.hasOwnProperty(tt)&&Bp(i,r,tt,void 0,u,Y);for(ee in u)Y=u[ee],W=o[ee],!u.hasOwnProperty(ee)||Y===W||Y===void 0&&W===void 0||Bp(i,r,ee,Y,u,W);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&et(i,r,H,null,u,Y);for(se in u)Y=u[se],W=o[se],!u.hasOwnProperty(se)||Y===W||Y==null&&W==null||et(i,r,se,Y,u,W)}function g_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,E=m.initiatorType,S=m.duration;if(y&&S&&g_(E)){for(E=0,S=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>S)break;var ee=V.transferSize,se=V.initiatorType;ee&&g_(se)&&(V=V.responseEnd,E+=ee*(V<S?1:(S-$)/(V-$)))}if(--u,r+=8*(y+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fp=null,Hp=null;function ed(i){return i.nodeType===9?i:i.ownerDocument}function y_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gp=null;function GN(){var i=window.event;return i&&i.type==="popstate"?i===Gp?!1:(Gp=i,!0):(Gp=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,$N=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(i){return x_.resolve(null).then(i).catch(YN)}:b_;function YN(i){setTimeout(function(){throw i})}function vr(i){return i==="head"}function __(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Bo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Tu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Tu(o);for(var y=o.firstChild;y;){var E=y.nextSibling,S=y.nodeName;y[ji]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&Tu(i.ownerDocument.body);o=m}while(o);Bo(r)}function E_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Kp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kp(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function QN(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ji])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function WN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function T_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function $p(i){return i.data==="$?"||i.data==="$~"}function Yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function XN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Qp=null;function w_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function S_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function A_(i,r,o){switch(r=ed(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Tu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var ti=new Map,C_=new Set;function td(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ns=ae.d;ae.d={f:ZN,r:JN,D:e2,C:t2,L:n2,m:i2,X:r2,S:s2,M:a2};function ZN(){var i=Ns.f(),r=Kh();return i||r}function JN(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?qb(r):Ns.r(i)}var Lo=typeof document>"u"?null:document;function R_(i,r,o){var u=Lo;if(u&&typeof r=="string"&&r){var m=vn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),C_.has(m)||(C_.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),en(r,"link",i),Nt(r),u.head.appendChild(r)))}}function e2(i){Ns.D(i),R_("dns-prefetch",i,null)}function t2(i,r){Ns.C(i,r),R_("preconnect",i,r)}function n2(i,r,o){Ns.L(i,r,o);var u=Lo;if(u&&i&&r){var m='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var y=m;switch(r){case"style":y=Uo(i);break;case"script":y=zo(i)}ti.has(y)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(y,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(wu(y))||r==="script"&&u.querySelector(Su(y))||(r=u.createElement("link"),en(r,"link",i),Nt(r),u.head.appendChild(r)))}}function i2(i,r){Ns.m(i,r);var o=Lo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zo(i)}if(!ti.has(y)&&(i=b({rel:"modulepreload",href:i},r),ti.set(y,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Su(y)))return}u=o.createElement("link"),en(u,"link",i),Nt(u),o.head.appendChild(u)}}}function s2(i,r,o){Ns.S(i,r,o);var u=Lo;if(u&&i){var m=Vi(u).hoistableStyles,y=Uo(i);r=r||"default";var E=m.get(y);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(wu(y)))S.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(y))&&Wp(i,o);var V=E=u.createElement("link");Nt(V),en(V,"link",i),V._p=new Promise(function($,ee){V.onload=$,V.onerror=ee}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,nd(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},m.set(y,E)}}}function r2(i,r){Ns.X(i,r);var o=Lo;if(o&&i){var u=Vi(o).hoistableScripts,m=zo(i),y=u.get(m);y||(y=o.querySelector(Su(m)),y||(i=b({src:i,async:!0},r),(r=ti.get(m))&&Xp(i,r),y=o.createElement("script"),Nt(y),en(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function a2(i,r){Ns.M(i,r);var o=Lo;if(o&&i){var u=Vi(o).hoistableScripts,m=zo(i),y=u.get(m);y||(y=o.querySelector(Su(m)),y||(i=b({src:i,async:!0,type:"module"},r),(r=ti.get(m))&&Xp(i,r),y=o.createElement("script"),Nt(y),en(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function N_(i,r,o,u){var m=(m=Ie.current)?td(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Uo(o.href),o=Vi(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Uo(o.href);var y=Vi(m).hoistableStyles,E=y.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=m.querySelector(wu(i)))&&!y._p&&(E.instance=y,E.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),y||o2(m,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zo(o),o=Vi(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Uo(i){return'href="'+vn(i)+'"'}function wu(i){return'link[rel="stylesheet"]['+i+"]"}function I_(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function o2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),en(r,"link",o),Nt(r),i.head.appendChild(r))}function zo(i){return'[src="'+vn(i)+'"]'}function Su(i){return"script[async]"+i}function D_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(u)return r.instance=u,Nt(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Nt(u),en(u,"style",m),nd(u,o.precedence,i),r.instance=u;case"stylesheet":m=Uo(o.href);var y=i.querySelector(wu(m));if(y)return r.state.loading|=4,r.instance=y,Nt(y),y;u=I_(o),(m=ti.get(m))&&Wp(u,m),y=(i.ownerDocument||i).createElement("link"),Nt(y);var E=y;return E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),en(y,"link",u),r.state.loading|=4,nd(y,o.precedence,i),r.instance=y;case"script":return y=zo(o.src),(m=i.querySelector(Su(y)))?(r.instance=m,Nt(m),m):(u=o,(m=ti.get(y))&&(u=b({},o),Xp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Nt(m),en(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,nd(u,o.precedence,i));return r.instance}function nd(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Wp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var id=null;function k_(i,r,o){if(id===null){var u=new Map,m=id=new Map;m.set(o,u)}else m=id,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[ji]||y[Rt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(y):u.set(E,[y])}}return u}function j_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function l2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function M_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function u2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Uo(u.href),y=r.querySelector(wu(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,Nt(y);return}y=r.ownerDocument||r,u=I_(u),(m=ti.get(m))&&Wp(u,m),y=y.createElement("link"),Nt(y);var E=y;E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),en(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Zp=0;function c2(i,r){return i.stylesheets&&i.count===0&&ad(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Zp===0&&(Zp=62500*qN());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Zp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rd=null;function ad(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rd=new Map,r.forEach(h2,i),rd=null,sd.call(i))}function h2(i,r){if(!(r.state.loading&4)){var o=rd.get(i);if(o)var u=o.get(null);else{o=new Map,rd.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}m=r.instance,E=m.getAttribute("data-precedence"),y=o.get(E)||u,y===u&&o.set(null,m),o.set(E,m),this.count++,u=sd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Au={$$typeof:q,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function d2(i,r,o,u,m,y,E,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function V_(i,r,o,u,m,y,E,S,V,$,ee,se){return i=new d2(i,r,o,E,V,$,ee,se,S),r=1,y===!0&&(r|=24),y=jn(3,null,null,r),i.current=y,y.stateNode=i,r=Dm(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Vm(y),i}function O_(i){return i?(i=yo,i):yo}function P_(i,r,o,u,m,y){m=O_(m),u.context===null?u.context=m:u.pendingContext=m,u=or(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=lr(i,u,r),o!==null&&(wn(o,i,r),su(o,i,r))}function L_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Jp(i,r){L_(i,r),(i=i.alternate)&&L_(i,r)}function U_(i){if(i.tag===13||i.tag===31){var r=ba(i,67108864);r!==null&&wn(r,i,67108864),Jp(i,67108864)}}function z_(i){if(i.tag===13||i.tag===31){var r=Ln();r=oa(r);var o=ba(i,r);o!==null&&wn(o,i,r),Jp(i,r)}}var od=!0;function f2(i,r,o,u){var m=Z.T;Z.T=null;var y=ae.p;try{ae.p=2,eg(i,r,o,u)}finally{ae.p=y,Z.T=m}}function m2(i,r,o,u){var m=Z.T;Z.T=null;var y=ae.p;try{ae.p=8,eg(i,r,o,u)}finally{ae.p=y,Z.T=m}}function eg(i,r,o,u){if(od){var m=tg(u);if(m===null)zp(i,r,u,ld,o),F_(i,u);else if(g2(m,i,r,o,u))u.stopPropagation();else if(F_(i,u),r&4&&-1<p2.indexOf(i)){for(;m!==null;){var y=qn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Ni(y.pendingLanes);if(E!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var V=1<<31-_t(E);S.entanglements[1]|=V,E&=~V}Yi(y),($e&6)===0&&(qh=mn()+500,xu(0))}}break;case 31:case 13:S=ba(y,2),S!==null&&wn(S,y,2),Kh(),Jp(y,2)}if(y=tg(u),y===null&&zp(i,r,u,ld,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else zp(i,r,u,null,o)}}function tg(i){return i=Gn(i),ng(i)}var ld=null;function ng(i){if(ld=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ld=i,null}function B_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case Nl:return 2;case Il:return 8;case Ks:case lm:return 32;case zc:return 268435456;default:return 32}default:return 32}}var ig=!1,br=null,xr=null,_r=null,Cu=new Map,Ru=new Map,Er=[],p2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(i,r){switch(i){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Cu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(r.pointerId)}}function Nu(i,r,o,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=qn(r),r!==null&&U_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function g2(i,r,o,u,m){switch(r){case"focusin":return br=Nu(br,i,r,o,u,m),!0;case"dragenter":return xr=Nu(xr,i,r,o,u,m),!0;case"mouseover":return _r=Nu(_r,i,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return Cu.set(y,Nu(Cu.get(y)||null,i,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Ru.set(y,Nu(Ru.get(y)||null,i,r,o,u,m)),!0}return!1}function H_(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,hi(i.priority,function(){z_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,hi(i.priority,function(){z_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ud(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Fl=u,o.target.dispatchEvent(u),Fl=null}else return r=qn(o),r!==null&&U_(r),i.blockedOn=o,!1;r.shift()}return!0}function q_(i,r,o){ud(i)&&o.delete(r)}function y2(){ig=!1,br!==null&&ud(br)&&(br=null),xr!==null&&ud(xr)&&(xr=null),_r!==null&&ud(_r)&&(_r=null),Cu.forEach(q_),Ru.forEach(q_)}function cd(i,r){i.blockedOn===r&&(i.blockedOn=null,ig||(ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,y2)))}var hd=null;function G_(i){hd!==i&&(hd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hd===i&&(hd=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(ng(u||o)===null)continue;break}var y=qn(o);y!==null&&(i.splice(r,3),r-=3,tp(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Bo(i){function r(V){return cd(V,i)}br!==null&&cd(br,i),xr!==null&&cd(xr,i),_r!==null&&cd(_r,i),Cu.forEach(r),Ru.forEach(r);for(var o=0;o<Er.length;o++){var u=Er[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Er.length&&(o=Er[0],o.blockedOn===null);)H_(o),o.blockedOn===null&&Er.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],E=m[qt]||null;if(typeof y=="function")E||G_(o);else if(E){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[qt]||null)S=E.formAction;else if(ng(m)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),G_(o)}}}function K_(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function sg(i){this._internalRoot=i}dd.prototype.render=sg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ln();P_(o,u,i,r,null,null)},dd.prototype.unmount=sg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;P_(i.current,2,null,i,null,null),Kh(),r[ki]=null}};function dd(i){this._internalRoot=i}dd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Kc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Er.length&&r!==0&&r<Er[o].priority;o++);Er.splice(o,0,i),o===0&&H_(i)}};var $_=e.version;if($_!=="19.2.1")throw Error(s(527,$_,"19.2.1"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var v2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{ui=fd.inject(v2),Qt=fd}catch{}}return Du.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=ex,y=tx,E=nx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=V_(i,1,!1,null,null,o,u,null,m,y,E,K_),i[ki]=r.current,Up(i),new sg(r)},Du.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",y=ex,E=tx,S=nx,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=V_(i,1,!0,r,o??null,u,m,V,y,E,S,K_),r.context=O_(null),o=r.current,u=Ln(),u=oa(u),m=or(u),m.callback=null,lr(o,m,u),o=u,r.current.lanes=o,ra(r,o),Yi(r),i[ki]=r.current,Up(i),new dd(r)},Du.version="19.2.1",Du}var iE;function N2(){if(iE)return og.exports;iE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=R2(),og.exports}var I2=N2();const D2=yS(I2);var sE="popstate";function k2(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return qg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xu(a)}return M2(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j2(){return Math.random().toString(36).substring(2,10)}function rE(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||j2()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function M2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let D=v(),O=D==null?null:D-p;p=D,f&&f({action:d,location:I.location,delta:O})}function _(D,O){d="PUSH";let F=qg(I.location,D,O);p=v()+1;let q=rE(F,p),oe=I.createHref(F);try{c.pushState(q,"",oe)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(oe)}l&&f&&f({action:d,location:I.location,delta:1})}function w(D,O){d="REPLACE";let F=qg(I.location,D,O);p=v();let q=rE(F,p),oe=I.createHref(F);c.replaceState(q,"",oe),l&&f&&f({action:d,location:I.location,delta:0})}function C(D){return V2(D)}let I={get action(){return d},get location(){return t(a,c)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(sE,b),f=D,()=>{a.removeEventListener(sE,b),f=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let O=C(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:w,go(D){return c.go(D)}};return I}function V2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function vS(t,e,n="/"){return O2(t,e,n,!1)}function O2(t,e,n,s){let a=typeof e=="string"?fl(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let c=bS(t);P2(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=Y2(l);d=K2(c[f],p,s)}return d}function bS(t,e=[],n=[],s="",a=!1){let l=(c,d,f=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&f)return;ft(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=ks([s,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),bS(c.children,e,_,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:q2(b,c.index),routesMeta:_})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of xS(c.path))l(c,d,!0,f)}),e}function xS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=xS(s.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function P2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var L2=/^:[\w-]+$/,U2=3,z2=2,B2=1,F2=10,H2=-2,aE=t=>t==="*";function q2(t,e){let n=t.split("/"),s=n.length;return n.some(aE)&&(s+=H2),e&&(s+=z2),n.filter(a=>!aE(a)).reduce((a,l)=>a+(L2.test(l)?U2:l===""?B2:F2),s)}function G2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function K2(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],p=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),_=f.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ks([l,b.pathname]),pathnameBase:J2(ks([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=ks([l,b.pathnameBase]))}return c}function Yd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=$2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let C=d[_]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[_];return b&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function $2(t,e=!1,n=!0){ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Y2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W2=t=>Q2.test(t);function X2(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?fl(t):t,l;if(n)if(W2(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=oE(n.substring(1),"/"):l=oE(n,e)}else l=e;return{pathname:l,search:eI(s),hash:tI(a)}}function oE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t){let e=Z2(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qy(t,e,n,s=!1){let a;typeof t=="string"?a=fl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=X2(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var ks=t=>t.join("/").replace(/\/\/+/g,"/"),J2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function iI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _S=["POST","PUT","PATCH","DELETE"];new Set(_S);var sI=["GET",..._S];new Set(sI);var ml=A.createContext(null);ml.displayName="DataRouter";var Nf=A.createContext(null);Nf.displayName="DataRouterState";A.createContext(!1);var ES=A.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var rI=A.createContext(new Map);rI.displayName="Fetchers";var aI=A.createContext(null);aI.displayName="Await";var oi=A.createContext(null);oi.displayName="Navigation";var vc=A.createContext(null);vc.displayName="Location";var li=A.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Gy=A.createContext(null);Gy.displayName="RouteError";function oI(t,{relative:e}={}){ft(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=A.useContext(oi),{hash:a,pathname:l,search:c}=bc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ks([n,l])),s.createHref({pathname:d,search:c,hash:a})}function pl(){return A.useContext(vc)!=null}function Bs(){return ft(pl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(vc).location}var TS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wS(t){A.useContext(oi).static||A.useLayoutEffect(t)}function Fs(){let{isDataRoute:t}=A.useContext(li);return t?EI():lI()}function lI(){ft(pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(ml),{basename:e,navigator:n}=A.useContext(oi),{matches:s}=A.useContext(li),{pathname:a}=Bs(),l=JSON.stringify(Hy(s)),c=A.useRef(!1);return wS(()=>{c.current=!0}),A.useCallback((f,p={})=>{if(ai(c.current,TS),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=qy(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ks([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var uI=A.createContext(null);function cI(t){let e=A.useContext(li).outlet;return A.useMemo(()=>e&&A.createElement(uI.Provider,{value:t},e),[e,t])}function SS(){let{matches:t}=A.useContext(li),e=t[t.length-1];return e?e.params:{}}function bc(t,{relative:e}={}){let{matches:n}=A.useContext(li),{pathname:s}=Bs(),a=JSON.stringify(Hy(n));return A.useMemo(()=>qy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function hI(t,e){return AS(t,e)}function AS(t,e,n,s,a){ft(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(oi),{matches:c}=A.useContext(li),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let F=b&&b.path||"";CS(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Bs(),w;if(e){let F=typeof e=="string"?fl(e):e;ft(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=_;let C=w.pathname||"/",I=C;if(v!=="/"){let F=v.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let D=vS(t,{pathname:I});ai(b||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ai(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=gI(D&&D.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:ks([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:ks([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,s,a);return e&&O?A.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function dI(){let t=_I(),e=nI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:a},n):null,c)}var fI=A.createElement(dI,null),mI=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(li.Provider,{value:this.props.routeContext},A.createElement(Gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pI({routeContext:t,match:e,children:n}){let s=A.useContext(ml);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(li.Provider,{value:t},n)}function gI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=v),b.route.id){let{loaderData:_,errors:w}=n,C=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||C){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:iI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let w,C=!1,I=null,D=null;n&&(w=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||fI,d&&(f<0&&_===0?(CS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,D=null):f===_&&(C=!0,D=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),F=()=>{let q;return w?q=I:C?q=D:b.route.Component?q=A.createElement(b.route.Component,null):b.route.element?q=b.route.element:q=v,A.createElement(pI,{match:b,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:q})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?A.createElement(mI,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:F(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):F()},null)}function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yI(t){let e=A.useContext(ml);return ft(e,Ky(t)),e}function vI(t){let e=A.useContext(Nf);return ft(e,Ky(t)),e}function bI(t){let e=A.useContext(li);return ft(e,Ky(t)),e}function $y(t){let e=bI(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xI(){return $y("useRouteId")}function _I(){let t=A.useContext(Gy),e=vI("useRouteError"),n=$y("useRouteError");return t!==void 0?t:e.errors?.[n]}function EI(){let{router:t}=yI("useNavigate"),e=$y("useNavigate"),n=A.useRef(!1);return wS(()=>{n.current=!0}),A.useCallback(async(a,l={})=>{ai(n.current,TS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var lE={};function CS(t,e,n){!e&&!lE[t]&&(lE[t]=!0,ai(!1,n))}A.memo(TI);function TI({routes:t,future:e,state:n,unstable_onError:s}){return AS(t,void 0,n,s,e)}function Fa({to:t,replace:e,state:n,relative:s}){ft(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(oi);ai(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(li),{pathname:c}=Bs(),d=Fs(),f=qy(t,Hy(l),c,s==="path"),p=JSON.stringify(f);return A.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function Yy(t){return cI(t.context)}function ot(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=fl(n));let{pathname:p="/",search:v="",hash:b="",state:_=null,key:w="default"}=n,C=A.useMemo(()=>{let I=Ms(p,d);return I==null?null:{location:{pathname:I,search:v,hash:b,state:_,key:w},navigationType:s}},[d,p,v,b,_,w,s]);return ai(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:A.createElement(oi.Provider,{value:f},A.createElement(vc.Provider,{children:e,value:C}))}function SI({children:t,location:e}){return hI(Gg(t),e)}function Gg(t,e=[]){let n=[];return A.Children.forEach(t,(s,a)=>{if(!A.isValidElement(s))return;let l=[...e,a];if(s.type===A.Fragment){n.push.apply(n,Gg(s.props.children,l));return}ft(s.type===ot,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Gg(s.props.children,l)),n.push(c)}),n}var kd="get",jd="application/x-www-form-urlencoded";function If(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function AI(t){return If(t)&&t.tagName.toLowerCase()==="button"}function CI(t){return If(t)&&t.tagName.toLowerCase()==="form"}function RI(t){return If(t)&&t.tagName.toLowerCase()==="input"}function NI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function II(t,e){return t.button===0&&(!e||e==="_self")&&!NI(t)}var md=null;function DI(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(t){return t!=null&&!kI.has(t)?(ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jd}"`),null):t}function jI(t,e){let n,s,a,l,c;if(CI(t)){let d=t.getAttribute("action");s=d?Ms(d,e):null,n=t.getAttribute("method")||kd,a=dg(t.getAttribute("enctype"))||jd,l=new FormData(t)}else if(AI(t)||RI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?Ms(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||kd,a=dg(t.getAttribute("formenctype"))||dg(d.getAttribute("enctype"))||jd,l=new FormData(d,t),!DI()){let{name:p,type:v,value:b}=t;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,b)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kd,s=null,a=jd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ms(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function VI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await VI(l,n);return c.links?c.links():[]}return[]}));return BI(s.flat(1).filter(OI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function uE(t,e,n,s,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{let v=s.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function LI(t,e,{includeHydrateFallback:n}={}){return UI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function UI(t){return[...new Set(t)]}function zI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function BI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(zI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function RS(){let t=A.useContext(ml);return Qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FI(){let t=A.useContext(Nf);return Qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wy=A.createContext(void 0);Wy.displayName="FrameworkContext";function NS(){let t=A.useContext(Wy);return Qy(t,"You must render this element inside a <HydratedRouter> element"),t}function HI(t,e){let n=A.useContext(Wy),[s,a]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,_=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=O=>{O.forEach(F=>{c(F.isIntersecting)})},D=new IntersectionObserver(I,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),A.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let w=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:ku(d,w),onBlur:ku(f,C),onMouseEnter:ku(p,w),onMouseLeave:ku(v,C),onTouchStart:ku(b,w)}]:[!1,_,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qI({page:t,...e}){let{router:n}=RS(),s=A.useMemo(()=>vS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?A.createElement(KI,{page:t,matches:s,...e}):null}function GI(t){let{manifest:e,routeModules:n}=NS(),[s,a]=A.useState([]);return A.useEffect(()=>{let l=!1;return PI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function KI({page:t,matches:e,...n}){let s=Bs(),{manifest:a,routeModules:l}=NS(),{basename:c}=RS(),{loaderData:d,matches:f}=FI(),p=A.useMemo(()=>uE(t,e,f,a,s,"data"),[t,e,f,a,s]),v=A.useMemo(()=>uE(t,e,f,a,s,"assets"),[t,e,f,a,s]),b=A.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,I=!1;if(e.forEach(O=>{let F=a.routes[O.route.id];!F||!F.hasLoader||(!p.some(q=>q.route.id===O.route.id)&&O.route.id in d&&l[O.route.id]?.shouldRevalidate||F.hasClientLoader?I=!0:C.add(O.route.id))}),C.size===0)return[];let D=MI(t,c,"data");return I&&C.size>0&&D.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[c,d,s,a,p,e,t,l]),_=A.useMemo(()=>LI(v,a),[v,a]),w=GI(v);return A.createElement(A.Fragment,null,b.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),_.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:I})=>A.createElement("link",{key:C,nonce:n.nonce,...I})))}function $I(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IS&&(window.__reactRouterVersion="7.10.1")}catch{}function YI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=A.useRef();a.current==null&&(a.current=k2({window:s,v5Compat:!0}));let l=a.current,[c,d]=A.useState({action:l.action,location:l.location}),f=A.useCallback(p=>{n===!1?d(p):A.startTransition(()=>d(p))},[n]);return A.useLayoutEffect(()=>l.listen(f),[l,f]),A.createElement(wI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=A.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:v,viewTransition:b,..._},w){let{basename:C,unstable_useTransitions:I}=A.useContext(oi),D=typeof p=="string"&&DS.test(p),O,F=!1;if(typeof p=="string"&&D&&(O=p,IS))try{let L=new URL(window.location.href),P=p.startsWith("//")?new URL(L.protocol+p):new URL(p),B=Ms(P.pathname,C);P.origin===L.origin&&B!=null?p=B+P.search+P.hash:F=!0}catch{ai(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=oI(p,{relative:a}),[oe,J,X]=HI(s,_),k=ZI(p,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:b,unstable_useTransitions:I});function R(L){e&&e(L),L.defaultPrevented||k(L)}let j=A.createElement("a",{..._,...X,href:O||q,onClick:F||l?e:R,ref:$I(w,J),target:f,"data-discover":!D&&n==="render"?"true":void 0});return oe&&!D?A.createElement(A.Fragment,null,j,A.createElement(qI,{page:q})):j});rn.displayName="Link";var QI=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...p},v){let b=bc(c,{relative:p.relative}),_=Bs(),w=A.useContext(Nf),{navigator:C,basename:I}=A.useContext(oi),D=w!=null&&iD(b)&&d===!0,O=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,F=_.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(F=F.toLowerCase(),q=q?q.toLowerCase():null,O=O.toLowerCase()),q&&I&&(q=Ms(q,I)||q);const oe=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=F===O||!a&&F.startsWith(O)&&F.charAt(oe)==="/",X=q!=null&&(q===O||!a&&q.startsWith(O)&&q.charAt(O.length)==="/"),k={isActive:J,isPending:X,isTransitioning:D},R=J?e:void 0,j;typeof s=="function"?j=s(k):j=[s,J?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return A.createElement(rn,{...p,"aria-current":R,className:j,ref:v,style:L,to:c,viewTransition:d},typeof f=="function"?f(k):f)});QI.displayName="NavLink";var WI=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=kd,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:b,..._},w)=>{let{unstable_useTransitions:C}=A.useContext(oi),I=tD(),D=nD(d,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&DS.test(d),q=oe=>{if(f&&f(oe),oe.defaultPrevented)return;oe.preventDefault();let J=oe.nativeEvent.submitter,X=J?.getAttribute("formmethod")||c,k=()=>I(J||oe.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b});C&&n!==!1?A.startTransition(()=>k()):k()};return A.createElement("form",{ref:w,method:O,action:D,onSubmit:s?f:q,..._,"data-discover":!F&&t==="render"?"true":void 0})});WI.displayName="Form";function XI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(t){let e=A.useContext(ml);return ft(e,XI(t)),e}function ZI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let f=Fs(),p=Bs(),v=bc(t,{relative:l});return A.useCallback(b=>{if(II(b,e)){b.preventDefault();let _=n!==void 0?n:Xu(p)===Xu(v),w=()=>f(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c});d?A.startTransition(()=>w()):w()}},[p,f,v,n,s,e,t,a,l,c,d])}var JI=0,eD=()=>`__${String(++JI)}__`;function tD(){let{router:t}=kS("useSubmit"),{basename:e}=A.useContext(oi),n=xI(),s=t.fetch,a=t.navigate;return A.useCallback(async(l,c={})=>{let{action:d,method:f,encType:p,formData:v,body:b}=jI(l,e);if(c.navigate===!1){let _=c.fetcherKey||eD();await s(_,n,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function nD(t,{relative:e}={}){let{basename:n}=A.useContext(oi),s=A.useContext(li);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...bc(t||".",{relative:e})},c=Bs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ks([n,l.pathname])),Xu(l)}function iD(t,{relative:e}={}){let n=A.useContext(ES);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kS("useViewTransitionState"),a=bc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yd(a.pathname,c)!=null||Yd(a.pathname,l)!=null}const sD=()=>{};var cE={};const jS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,w=p&63;f||(w=64,c||(_=64)),s.push(n[v],n[b],n[_],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new aD;const _=l<<2|d>>4;if(s.push(_),p!==64){const w=d<<4&240|p>>2;if(s.push(w),b!==64){const C=p<<6&192|b;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oD=function(t){const e=jS(t);return MS.encodeByteArray(e,!0)},Qd=function(t){return oD(t).replace(/\./g,"")},VS=function(t){try{return MS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uD=()=>lD().__FIREBASE_DEFAULTS__,cD=()=>{if(typeof process>"u"||typeof cE>"u")return;const t=cE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VS(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return sD()||uD()||cD()||hD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>Df()?.emulatorHosts?.[t],PS=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LS=()=>Df()?.config,US=t=>Df()?.[`_${t}`];class dD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Qr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xy(t){return(await fetch(t,{credentials:"include"})).ok}function fD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qd(JSON.stringify(n)),Qd(JSON.stringify(c)),""].join(".")}const Bu={};function mD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function pD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hE=!1;function Zy(t,e){if(typeof window>"u"||typeof document>"u"||!Qr(window.location.host)||Bu[t]===e||Bu[t]||hE)return;Bu[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",l=mD().prod.length>0;function c(){const _=document.getElementById(s);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{hE=!0,c()},_}function v(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=pD(s),w=n("text"),C=document.getElementById(w)||document.createElement("span"),I=n("learnmore"),D=document.getElementById(I)||document.createElement("a"),O=n("preprendIcon"),F=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;d(q),v(D,I);const oe=p();f(F,O),q.append(F,C,D,oe),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function yD(){const t=Df()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _D(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ED(){return!yD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TD(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const SD="FirebaseError";class us extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SD,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?AD(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new us(a,d,s)}}function AD(t,e){return t.replace(CD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const CD=/\{\$([^}]+)}/g;function RD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(dE(l)&&dE(c)){if(!Ha(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}function _c(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ND(t,e){const n=new ID(t,e);return n.subscribe.bind(n)}class ID{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=fg),a.error===void 0&&(a.error=fg),a.complete===void 0&&(a.complete=fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}function pt(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class kD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(t){return t===ja?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}class VD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const OD={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},PD=Le.INFO,LD={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},UD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=LD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=PD,this._logHandler=UD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const zD=(t,e)=>e.some(n=>t instanceof n);let fE,mE;function BD(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,Kg=new WeakMap,BS=new WeakMap,mg=new WeakMap,e0=new WeakMap;function HD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Mr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&zS.set(n,t)}).catch(()=>{}),e0.set(e,t),e}function qD(t){if(Kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Kg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GD(t){$g=t($g)}function KD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(pg(this),e,...n);return BS.set(s,e.sort?e.sort():[e]),Mr(s)}:FD().includes(t)?function(...e){return t.apply(pg(this),e),Mr(zS.get(this))}:function(...e){return Mr(t.apply(pg(this),e))}}function $D(t){return typeof t=="function"?KD(t):(t instanceof IDBTransaction&&qD(t),zD(t,BD())?new Proxy(t,$g):t)}function Mr(t){if(t instanceof IDBRequest)return HD(t);if(mg.has(t))return mg.get(t);const e=$D(t);return e!==t&&(mg.set(t,e),e0.set(e,t)),e}const pg=t=>e0.get(t);function YD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Mr(c);return s&&c.addEventListener("upgradeneeded",f=>{s(Mr(c.result),f.oldVersion,f.newVersion,Mr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const QD=["get","getKey","getAll","getAllKeys","count"],WD=["put","add","delete","clear"],gg=new Map;function pE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=WD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||QD.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&f.done]))[0]};return gg.set(e,l),l}GD(t=>({...t,get:(e,n,s)=>pE(e,n)||t.get(e,n,s),has:(e,n)=>!!pE(e,n)||t.has(e,n)}));class XD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZD(t){return t.getComponent()?.type==="VERSION"}const Yg="@firebase/app",gE="0.14.6";const Vs=new Jy("@firebase/app"),JD="@firebase/app-compat",ek="@firebase/analytics-compat",tk="@firebase/analytics",nk="@firebase/app-check-compat",ik="@firebase/app-check",sk="@firebase/auth",rk="@firebase/auth-compat",ak="@firebase/database",ok="@firebase/data-connect",lk="@firebase/database-compat",uk="@firebase/functions",ck="@firebase/functions-compat",hk="@firebase/installations",dk="@firebase/installations-compat",fk="@firebase/messaging",mk="@firebase/messaging-compat",pk="@firebase/performance",gk="@firebase/performance-compat",yk="@firebase/remote-config",vk="@firebase/remote-config-compat",bk="@firebase/storage",xk="@firebase/storage-compat",_k="@firebase/firestore",Ek="@firebase/ai",Tk="@firebase/firestore-compat",wk="firebase",Sk="12.6.0";const Qg="[DEFAULT]",Ak={[Yg]:"fire-core",[JD]:"fire-core-compat",[tk]:"fire-analytics",[ek]:"fire-analytics-compat",[ik]:"fire-app-check",[nk]:"fire-app-check-compat",[sk]:"fire-auth",[rk]:"fire-auth-compat",[ak]:"fire-rtdb",[ok]:"fire-data-connect",[lk]:"fire-rtdb-compat",[uk]:"fire-fn",[ck]:"fire-fn-compat",[hk]:"fire-iid",[dk]:"fire-iid-compat",[fk]:"fire-fcm",[mk]:"fire-fcm-compat",[pk]:"fire-perf",[gk]:"fire-perf-compat",[yk]:"fire-rc",[vk]:"fire-rc-compat",[bk]:"fire-gcs",[xk]:"fire-gcs-compat",[_k]:"fire-fst",[Tk]:"fire-fst-compat",[Ek]:"fire-vertex","fire-js":"fire-js",[wk]:"fire-js-all"};const Zu=new Map,Ck=new Map,Wg=new Map;function yE(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(Wg.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of Zu.values())yE(n,t);for(const n of Ck.values())yE(n,t);return!0}function kf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t==null?!1:t.settings!==void 0}const Rk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new xc("app","Firebase",Rk);class Nk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const gl=Sk;function FS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Qg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Vr.create("bad-app-name",{appName:String(a)});if(n||(n=LS()),!n)throw Vr.create("no-options");const l=Zu.get(a);if(l){if(Ha(n,l.options)&&Ha(s,l.config))return l;throw Vr.create("duplicate-app",{appName:a})}const c=new VD(a);for(const f of Wg.values())c.addComponent(f);const d=new Nk(n,s,c);return Zu.set(a,d),d}function jf(t=Qg){const e=Zu.get(t);if(!e&&t===Qg&&LS())return FS();if(!e)throw Vr.create("no-app",{appName:t});return e}function Ik(){return Array.from(Zu.values())}function Wi(t,e,n){let s=Ak[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}qa(new Lr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Dk="firebase-heartbeat-database",kk=1,Ju="firebase-heartbeat-store";let yg=null;function HS(){return yg||(yg=YD(Dk,kk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),yg}async function jk(t){try{const n=(await HS()).transaction(Ju),s=await n.objectStore(Ju).get(qS(t));return await n.done,s}catch(e){if(e instanceof us)Vs.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function vE(t,e){try{const s=(await HS()).transaction(Ju,"readwrite");await s.objectStore(Ju).put(e,qS(t)),await s.done}catch(n){if(n instanceof us)Vs.warn(n.message);else{const s=Vr.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(s.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}const Mk=1024,Vk=30;class Ok{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Vk){const a=Uk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bE(),{heartbeatsToSend:n,unsentEntries:s}=Pk(this._heartbeatsCache.heartbeats),a=Qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vs.warn(e),""}}}function bE(){return new Date().toISOString().substring(0,10)}function Pk(t,e=Mk){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Lk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TD()?wD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xE(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function Uk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function zk(t){qa(new Lr("platform-logger",e=>new XD(e),"PRIVATE")),qa(new Lr("heartbeat",e=>new Ok(e),"PRIVATE")),Wi(Yg,gE,t),Wi(Yg,gE,"esm2020"),Wi("fire-js","")}zk("");function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bk=GS,KS=new xc("auth","Firebase",GS());const Wd=new Jy("@firebase/auth");function Fk(t,...e){Wd.logLevel<=Le.WARN&&Wd.warn(`Auth (${gl}): ${t}`,...e)}function Md(t,...e){Wd.logLevel<=Le.ERROR&&Wd.error(`Auth (${gl}): ${t}`,...e)}function Si(t,...e){throw t0(t,...e)}function Xi(t,...e){return t0(t,...e)}function $S(t,e,n){const s={...Bk(),[e]:n};return new xc("auth","Firebase",s).create(e,{appName:t.name})}function Zi(t){return $S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return KS.create(t,...e)}function xe(t,e,...n){if(!t)throw t0(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Md(e),new Error(e)}function Os(t,e){t||Is(e)}function Xg(){return typeof self<"u"&&self.location?.href||""}function Hk(){return _E()==="http:"||_E()==="https:"}function _E(){return typeof self<"u"&&self.location?.protocol||null}function qk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hk()||bD()||"connection"in navigator)?navigator.onLine:!0}function Gk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=gD()||xD()}get(){return qk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function n0(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class YS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $k=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Yk=new Ec(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cs(t,e,n,s,a={}){return QS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=_c({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return vD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(p.credentials="include"),YS.fetch()(await WS(t,t.config.apiHost,n,d),p)})}async function QS(t,e,n){t._canInitEmulator=!1;const s={...Kk,...e};try{const a=new Wk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw pd(t,"user-disabled",c);const v=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $S(t,v,p);Si(t,v)}}catch(a){if(a instanceof us)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function Tc(t,e,n,s,a={}){const l=await cs(t,e,n,s,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function WS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?n0(t.config,a):`${t.config.apiScheme}://${a}`;return $k.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Qk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),Yk.get())})}}function pd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Xi(t,e,s);return a.customData._tokenResponse=n,a}function EE(t){return t!==void 0&&t.enterprise!==void 0}class Xk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zk(t,e){return cs(t,"GET","/v2/recaptchaConfig",Hs(t,e))}async function Jk(t,e){return cs(t,"POST","/v1/accounts:delete",e)}async function Xd(t,e){return cs(t,"POST","/v1/accounts:lookup",e)}function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ej(t,e=!1){const n=pt(t),s=await n.getIdToken(e),a=i0(s);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Fu(vg(a.auth_time)),issuedAtTime:Fu(vg(a.iat)),expirationTime:Fu(vg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vg(t){return Number(t)*1e3}function i0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const a=VS(n);return a?JSON.parse(a):(Md("Failed to decode base64 JWT payload"),null)}catch(a){return Md("Caught error parsing JWT payload as JSON",a?.toString()),null}}function TE(t){const e=i0(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function il(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof us&&tj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class nj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zd(t){const e=t.auth,n=await t.getIdToken(),s=await il(t,Xd(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?XS(a.providerUserInfo):[],c=sj(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!c?.length,p=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function ij(t){const e=pt(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function XS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rj(t,e){const n=await QS(t,{},async()=>{const s=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await WS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:s};return t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(f.credentials="include"),YS.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aj(t,e){return cs(t,"POST","/v2/accounts:revokeToken",Hs(t,e))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=TE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await rj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Zo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Is("not implemented")}}function wr(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await il(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ej(this,e)}reload(){return ij(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await il(this,Jk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:C,stsTokenManager:I}=n;xe(b&&I,e,"internal-error");const D=Zo.fromJSON(this.name,I);xe(typeof b=="string",e,"internal-error"),wr(s,e.name),wr(a,e.name),xe(typeof _=="boolean",e,"internal-error"),xe(typeof w=="boolean",e,"internal-error"),wr(l,e.name),wr(c,e.name),wr(d,e.name),wr(f,e.name),wr(p,e.name),wr(v,e.name);const O=new Ti({uid:b,auth:e,email:a,emailVerified:_,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:D,createdAt:p,lastLoginAt:v});return C&&Array.isArray(C)&&(O.providerData=C.map(F=>({...F}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new Zo;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Zd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?XS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Zo;d.updateFromIdToken(s);const f=new Ti({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const wE=new Map;function Ds(t){Os(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const SE=ZS;function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Vd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xd(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Jo(Ds(SE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ds(SE);const c=Vd(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const _=await Xd(e,{idToken:v}).catch(()=>{});if(!_)break;b=await Ti._fromGetAccountInfoResponse(e,_,v)}else b=Ti._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Jo(l,e,s):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Jo(l,e,s))}}function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sA(e))return"Blackberry";if(rA(e))return"Webos";if(eA(e))return"Safari";if((e.includes("chrome/")||tA(e))&&!e.includes("edge/"))return"Chrome";if(iA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function JS(t=fn()){return/firefox\//i.test(t)}function eA(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tA(t=fn()){return/crios\//i.test(t)}function nA(t=fn()){return/iemobile/i.test(t)}function iA(t=fn()){return/android/i.test(t)}function sA(t=fn()){return/blackberry/i.test(t)}function rA(t=fn()){return/webos/i.test(t)}function s0(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oj(t=fn()){return s0(t)&&!!window.navigator?.standalone}function lj(){return _D()&&document.documentMode===10}function aA(t=fn()){return s0(t)||iA(t)||rA(t)||sA(t)||/windows phone/i.test(t)||nA(t)}function oA(t,e=[]){let n;switch(t){case"Browser":n=AE(fn());break;case"Worker":n=`${AE(fn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${s}`}class uj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cj(t,e={}){return cs(t,"GET","/v2/passwordPolicy",Hs(t,e))}const hj=6;class dj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class fj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new uj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xd(this,{idToken:e}),s=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Zi(this));const n=e?pt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cj(this),n=new dj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Fk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wr(t){return pt(t)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ND(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mj(t){Mf=t}function lA(t){return Mf.loadJS(t)}function pj(){return Mf.recaptchaEnterpriseScript}function gj(){return Mf.gapiScript}function yj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vj{constructor(){this.enterprise=new bj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xj="recaptcha-enterprise",uA="NO_RECAPTCHA";class _j{constructor(e){this.type=xj,this.auth=Wr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{Zk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Xk(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{d(f)})})}function a(l,c,d){const f=window.grecaptcha;EE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(uA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vj().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&EE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=pj();f.length!==0&&(f+=d),lA(f).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function RE(t,e,n,s=!1,a=!1){const l=new _j(t);let c;if(a)c=uA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Jd(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await RE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await RE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function Ej(t,e){const n=kf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ha(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function Tj(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ds);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function wj(t,e,n){const s=Wr(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=cA(e),{host:c,port:d}=Sj(e),f=d===null?"":`:${d}`,p={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Ha(p,s.config.emulator)&&Ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Qr(c)?(Xy(`${l}//${c}${f}`),Zy("Auth",!0)):Aj()}function cA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sj(t){const e=cA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:NE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:NE(c)}}}function NE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Aj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class r0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function Cj(t,e){return cs(t,"POST","/v1/accounts:update",e)}async function Rj(t,e){return cs(t,"POST","/v1/accounts:signUp",e)}async function Nj(t,e){return Tc(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}async function Ij(t,e){return cs(t,"POST","/v1/accounts:sendOobCode",Hs(t,e))}async function Dj(t,e){return Ij(t,e)}async function kj(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function jj(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}class ec extends r0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ec(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(e,n,"signInWithPassword",Nj);case"emailLink":return kj(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(e,s,"signUpPassword",Rj);case"emailLink":return jj(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function el(t,e){return Tc(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}const Mj="http://localhost";class Ga extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ga(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return el(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,el(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,el(e,n)}buildRequest(){const e={requestUri:Mj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}function Vj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oj(t){const e=Mu(Vu(t)).link,n=e?Mu(Vu(e)).deep_link_id:null,s=Mu(Vu(t)).deep_link_id;return(s?Mu(Vu(s)).link:null)||s||n||e||t}class a0{constructor(e){const n=Mu(Vu(e)),s=n.apiKey??null,a=n.oobCode??null,l=Vj(n.mode??null);xe(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Oj(e);try{return new a0(n)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=a0.parseLink(n);return xe(s,"argument-error"),ec._fromEmailAndCode(e,s.code,s.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wc extends hA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends wc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class Nr extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Ir extends wc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";class Dr extends wc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";async function Pj(t,e){return Tc(t,"POST","/v1/accounts:signUp",Hs(t,e))}class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ti._fromIdTokenResponse(e,s,a),c=IE(s);return new Ka({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=IE(s);return new Ka({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function IE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ef extends us{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new ef(e,n,s,a)}}function dA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,l,e,s):l})}async function Lj(t,e,n=!1){const s=await il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",s)}async function Uj(t,e,n=!1){const{auth:s}=t;if(An(s.app))return Promise.reject(Zi(s));const a="reauthenticate";try{const l=await il(t,dA(s,a,e,t),n);xe(l.idToken,s,"internal-error");const c=i0(l.idToken);xe(c,s,"internal-error");const{sub:d}=c;return xe(t.uid===d,s,"user-mismatch"),Ka._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}async function fA(t,e,n=!1){if(An(t.app))return Promise.reject(Zi(t));const s="signIn",a=await dA(t,s,e),l=await Ka._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function zj(t,e){return fA(Wr(t),e)}async function mA(t){const e=Wr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pA(t,e,n){const s=Wr(t);await Jd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dj)}async function Bj(t,e,n){if(An(t.app))return Promise.reject(Zi(t));const s=Wr(t),c=await Jd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pj).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mA(t),f}),d=await Ka._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function Fj(t,e,n){return An(t.app)?Promise.reject(Zi(t)):zj(pt(t),yl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mA(t),s})}function Hj(t,e){const n=pt(t);return An(n.auth.app)?Promise.reject(Zi(n.auth)):qj(n,e)}async function qj(t,e,n){const{auth:s}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(l.email=e);const c=await il(t,Cj(s,l));await t._updateTokensIfNecessary(c,!0)}function Gj(t,e,n,s){return pt(t).onIdTokenChanged(e,n,s)}function Kj(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function $j(t,e,n,s){return pt(t).onAuthStateChanged(e,n,s)}function Yj(t){return pt(t).signOut()}const tf="__sak";class gA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qj=1e3,Wj=10;class yA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);lj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Wj):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yA.type="LOCAL";const Xj=yA;class vA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vA.type="SESSION";const bA=vA;function Zj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Vf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),f=await Zj(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];function o0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Jj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const p=o0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ji(){return window}function eM(t){Ji().location.href=t}function xA(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function tM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nM(){return navigator?.serviceWorker?.controller||null}function iM(){return xA()?self:null}const _A="firebaseLocalStorageDb",sM=1,nf="firebaseLocalStorage",EA="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function rM(){const t=indexedDB.deleteDatabase(_A);return new Sc(t).toPromise()}function Jg(){const t=indexedDB.open(_A,sM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(nf,{keyPath:EA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(nf)?e(s):(s.close(),await rM(),e(await Jg()))})})}async function DE(t,e,n){const s=Of(t,!0).put({[EA]:e,value:n});return new Sc(s).toPromise()}async function aM(t,e){const n=Of(t,!1).get(e),s=await new Sc(n).toPromise();return s===void 0?null:s.value}function kE(t,e){const n=Of(t,!0).delete(e);return new Sc(n).toPromise()}const oM=800,lM=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new Jj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await DE(e,tf,"1"),await kE(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>DE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>aM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Of(a,!1).getAll();return new Sc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const uM=TA;new Ec(3e4,6e4);function cM(t,e){return e?Ds(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class l0 extends r0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,n){return el(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hM(t){return fA(t.auth,new l0(t),t.bypassAuthState)}function dM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Uj(n,new l0(t),t.bypassAuthState)}async function fM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Lj(n,new l0(t),t.bypassAuthState)}class wA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hM;case"linkViaPopup":case"linkViaRedirect":return fM;case"reauthViaPopup":case"reauthViaRedirect":return dM;default:Si(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mM=new Ec(2e3,1e4);class Ko extends wA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=o0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mM.get())};e()}}Ko.currentPopupAction=null;const pM="pendingRedirect",Od=new Map;class gM extends wA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const s=await yM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yM(t,e){const n=xM(e),s=bM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function vM(t,e){Od.set(t._key(),e)}function bM(t){return Ds(t._redirectPersistence)}function xM(t){return Vd(pM,t.config.apiKey,t.name)}async function _M(t,e,n=!1){if(An(t.app))return Promise.reject(Zi(t));const s=Wr(t),a=cM(s,e),c=await new gM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const EM=600*1e3;class TM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!SA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EM&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(e))}saveEventToCache(e){this.cachedEventUids.add(jE(e)),this.lastProcessedEventTime=Date.now()}}function jE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SA(t);default:return!1}}async function SM(t,e={}){return cs(t,"GET","/v1/projects",e)}const AM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CM=/^https?/;async function RM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SM(t);for(const n of e)try{if(NM(n))return}catch{}Si(t,"unauthorized-domain")}function NM(t){const e=Xg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!CM.test(n))return!1;if(AM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const IM=new Ec(3e4,6e4);function ME(){const t=Ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DM(t){return new Promise((e,n)=>{function s(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(Xi(t,"network-request-failed"))},timeout:IM.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const a=yj("iframefcb");return Ji()[a]=()=>{gapi.load?s():n(Xi(t,"network-request-failed"))},lA(`${gj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function kM(t){return Pd=Pd||DM(t),Pd}const jM=new Ec(5e3,15e3),MM="__/auth/iframe",VM="emulator/auth/iframe",OM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LM(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n0(e,VM):`https://${t.config.authDomain}/${MM}`,s={apiKey:e.apiKey,appName:t.name,v:gl},a=PM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${_c(s).slice(1)}`}async function UM(t){const e=await kM(t),n=Ji().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:LM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Xi(t,"network-request-failed"),d=Ji().setTimeout(()=>{l(c)},jM.get());function f(){Ji().clearTimeout(d),a(s)}s.ping(f).then(f,()=>{l(c)})}))}const zM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BM=500,FM=600,HM="_blank",qM="http://localhost";class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(t,e,n,s=BM,a=FM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const f={...zM,width:s.toString(),height:a.toString(),top:l,left:c},p=fn().toLowerCase();n&&(d=tA(p)?HM:n),JS(p)&&(e=e||qM,f.scrollbars="yes");const v=Object.entries(f).reduce((_,[w,C])=>`${_}${w}=${C},`,"");if(oj(p)&&d!=="_self")return KM(e||"",d),new VE(null);const b=window.open(e||"",d,v);xe(b,t,"popup-blocked");try{b.focus()}catch{}return new VE(b)}function KM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const $M="__/auth/handler",YM="emulator/auth/handler",QM=encodeURIComponent("fac");async function OE(t,e,n,s,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:gl,eventId:a};if(e instanceof hA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",RD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof wc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),p=f?`#${QM}=${encodeURIComponent(f)}`:"";return`${WM(t)}?${_c(d).slice(1)}${p}`}function WM({config:t}){return t.emulator?n0(t,YM):`https://${t.authDomain}/${$M}`}const bg="webStorageSupport";class XM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=_M,this._overrideRedirectResult=vM}async _openPopup(e,n,s,a){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await OE(e,n,s,Xg(),a);return GM(e,l,o0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await OE(e,n,s,Xg(),a);return eM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UM(e),s=new TM(e);return n.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},a=>{const l=a?.[0]?.[bg];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aA()||eA()||s0()}}const ZM=XM;var PE="@firebase/auth",LE="1.11.1";class JM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tV(t){qa(new Lr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(t)},p=new fj(s,a,l,f);return Tj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qa(new Lr("auth-internal",e=>{const n=Wr(e.getProvider("auth").getImmediate());return(s=>new JM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(PE,LE,eV(t)),Wi(PE,LE,"esm2020")}const nV=300,iV=US("authIdTokenMaxAge")||nV;let UE=null;const sV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iV)return;const a=n?.token;UE!==a&&(UE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AA(t=jf()){const e=kf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ej(t,{popupRedirectResolver:ZM,persistence:[uM,Xj,bA]}),s=US("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=sV(l.toString());Kj(n,c,()=>c(n.currentUser)),Gj(n,d=>c(d))}}const a=OS("auth");return a&&wj(n,`http://${a}`),n}function rV(){return document.getElementsByTagName("head")?.[0]??document}mj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Xi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",rV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tV("Browser");var aV="firebase",oV="12.6.0";Wi(aV,oV,"app");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Or,CA;(function(){var t;function e(k,R){function j(){}j.prototype=R.prototype,k.F=R.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(L,P,B){for(var M=Array(arguments.length-2),we=2;we<arguments.length;we++)M[we-2]=arguments[we];return R.prototype[P].apply(L,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,R,j){j||(j=0);const L=Array(16);if(typeof R=="string")for(var P=0;P<16;++P)L[P]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(P=0;P<16;++P)L[P]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=k.g[0],j=k.g[1],P=k.g[2];let B=k.g[3],M;M=R+(B^j&(P^B))+L[0]+3614090360&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[2]+606105819&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[3]+3250441966&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(B^j&(P^B))+L[4]+4118548399&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[6]+2821735955&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[7]+4249261313&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(B^j&(P^B))+L[8]+1770035416&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[10]+4294925233&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[11]+2304563134&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(B^j&(P^B))+L[12]+1804603682&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[14]+2792965006&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[15]+1236535329&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(P^B&(j^P))+L[1]+4129170786&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[11]+643717713&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[0]+3921069994&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(j^P))+L[5]+3593408605&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[15]+3634488961&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[4]+3889429448&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(j^P))+L[9]+568446438&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[3]+4107603335&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[8]+1163531501&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(j^P))+L[13]+2850285829&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[7]+1735328473&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[12]+2368359562&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(j^P^B)+L[5]+4294588738&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[11]+1839030562&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[14]+4259657740&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(j^P^B)+L[1]+2763975236&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[7]+4139469664&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[10]+3200236656&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(j^P^B)+L[13]+681279174&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[3]+3572445317&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[6]+76029189&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(j^P^B)+L[9]+3654602809&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[15]+530742520&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[2]+3299628645&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(P^(j|~B))+L[0]+4096336452&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[14]+2878612391&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[5]+4237533241&4294967295,j=P+(M<<21&4294967295|M>>>11),M=R+(P^(j|~B))+L[12]+1700485571&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[10]+4293915773&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[1]+2240044497&4294967295,j=P+(M<<21&4294967295|M>>>11),M=R+(P^(j|~B))+L[8]+1873313359&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[6]+2734768916&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[13]+1309151649&4294967295,j=P+(M<<21&4294967295|M>>>11),M=R+(P^(j|~B))+L[4]+4149444226&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[2]+718787259&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+B&4294967295}s.prototype.v=function(k,R){R===void 0&&(R=k.length);const j=R-this.blockSize,L=this.C;let P=this.h,B=0;for(;B<R;){if(P==0)for(;B<=j;)a(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<R;)if(L[P++]=k.charCodeAt(B++),P==this.blockSize){a(this,L),P=0;break}}else for(;B<R;)if(L[P++]=k[B++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=R},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;R=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=R&255,R/=256;for(this.v(k),k=Array(16),R=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)k[R++]=this.g[j]>>>L&255;return k};function l(k,R){var j=d;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=R(k)}function c(k,R){this.h=R;const j=[];let L=!0;for(let P=k.length-1;P>=0;P--){const B=k[P]|0;L&&B==R||(j[P]=B,L=!1)}this.g=j}var d={};function f(k){return-128<=k&&k<128?l(k,function(R){return new c([R|0],R<0?-1:0)}):new c([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return D(p(-k));const R=[];let j=1;for(let L=0;k>=j;L++)R[L]=k/j|0,j*=4294967296;return new c(R,0)}function v(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return D(v(k.substring(1),R));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=p(Math.pow(R,8));let L=b;for(let B=0;B<k.length;B+=8){var P=Math.min(8,k.length-B);const M=parseInt(k.substring(B,B+P),R);P<8?(P=p(Math.pow(R,P)),L=L.j(P).add(p(M))):(L=L.j(j),L=L.add(p(M)))}return L}var b=f(0),_=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(I(this))return-D(this).m();let k=0,R=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);k+=(L>=0?L:4294967296+L)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C(this))return"0";if(I(this))return"-"+D(this).toString(k);const R=p(Math.pow(k,6));var j=this;let L="";for(;;){const P=oe(j,R).g;j=O(j,P.j(R));let B=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=P,C(j))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function C(k){if(k.h!=0)return!1;for(let R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function I(k){return k.h==-1}t.l=function(k){return k=O(this,k),I(k)?-1:C(k)?0:1};function D(k){const R=k.g.length,j=[];for(let L=0;L<R;L++)j[L]=~k.g[L];return new c(j,~k.h).add(_)}t.abs=function(){return I(this)?D(this):this},t.add=function(k){const R=Math.max(this.g.length,k.g.length),j=[];let L=0;for(let P=0;P<=R;P++){let B=L+(this.i(P)&65535)+(k.i(P)&65535),M=(B>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);L=M>>>16,B&=65535,M&=65535,j[P]=M<<16|B}return new c(j,j[j.length-1]&-2147483648?-1:0)};function O(k,R){return k.add(D(R))}t.j=function(k){if(C(this)||C(k))return b;if(I(this))return I(k)?D(this).j(D(k)):D(D(this).j(k));if(I(k))return D(this.j(D(k)));if(this.l(w)<0&&k.l(w)<0)return p(this.m()*k.m());const R=this.g.length+k.g.length,j=[];for(var L=0;L<2*R;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<k.g.length;P++){const B=this.i(L)>>>16,M=this.i(L)&65535,we=k.i(P)>>>16,Ve=k.i(P)&65535;j[2*L+2*P]+=M*Ve,F(j,2*L+2*P),j[2*L+2*P+1]+=B*Ve,F(j,2*L+2*P+1),j[2*L+2*P+1]+=M*we,F(j,2*L+2*P+1),j[2*L+2*P+2]+=B*we,F(j,2*L+2*P+2)}for(k=0;k<R;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=R;k<2*R;k++)j[k]=0;return new c(j,0)};function F(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function q(k,R){this.g=k,this.h=R}function oe(k,R){if(C(R))throw Error("division by zero");if(C(k))return new q(b,b);if(I(k))return R=oe(D(k),R),new q(D(R.g),D(R.h));if(I(R))return R=oe(k,D(R)),new q(D(R.g),R.h);if(k.g.length>30){if(I(k)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var j=_,L=R;L.l(k)<=0;)j=J(j),L=J(L);var P=X(j,1),B=X(L,1);for(L=X(L,2),j=X(j,2);!C(L);){var M=B.add(L);M.l(k)<=0&&(P=P.add(j),B=M),L=X(L,1),j=X(j,1)}return R=O(k,P.j(R)),new q(P,R)}for(P=b;k.l(R)>=0;){for(j=Math.max(1,Math.floor(k.m()/R.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=p(j),M=B.j(R);I(M)||M.l(k)>0;)j-=L,B=p(j),M=B.j(R);C(B)&&(B=_),P=P.add(B),k=O(k,M)}return new q(P,k)}t.B=function(k){return oe(this,k).h},t.and=function(k){const R=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)&k.i(L);return new c(j,this.h&k.h)},t.or=function(k){const R=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)|k.i(L);return new c(j,this.h|k.h)},t.xor=function(k){const R=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)^k.i(L);return new c(j,this.h^k.h)};function J(k){const R=k.g.length+1,j=[];for(let L=0;L<R;L++)j[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(j,k.h)}function X(k,R){const j=R>>5;R%=32;const L=k.g.length-j,P=[];for(let B=0;B<L;B++)P[B]=R>0?k.i(B+j)>>>R|k.i(B+j+1)<<32-R:k.i(B+j);return new c(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Or=c}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RA,Ou,NA,Ld,ey,IA,DA,kA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var T=s;h=h.split(".");for(var N=0;N<h.length-1;N++){var G=h[N];if(!(G in T))break e;T=T[G]}h=h[h.length-1],N=T[h],x=x(N),x!=N&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&T.push([N,x[N]]);return T}});var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function f(h,x,T){return h.call.apply(h.bind,arguments)}function p(h,x,T){return p=f,p.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(N,G,Q){for(var ue=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ue[Re-2]=arguments[Re];return x.prototype[G].apply(N,ue)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const x=h.length;if(x>0){const T=Array(x);for(let N=0;N<x;N++)T[N]=h[N];return T}return[]}function C(h,x){for(let N=1;N<arguments.length;N++){const G=arguments[N];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const Q=G.length||0;h.length=T+Q;for(let ue=0;ue<Q;ue++)h[T+ue]=G[ue]}else h.push(G)}}class I{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(h){c.setTimeout(()=>{throw h},0)}function O(){var h=k;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const N=q.get();N.set(x,T),this.h?this.h.next=N:this.g=N,this.h=N}}var q=new I(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let J,X=!1,k=new F,R=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(j)}};function j(){for(var h;h=O();){try{h.h.call(h.g)}catch(T){D(T)}var x=q;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}X=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function we(h,x){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(we,P),we.prototype.init=function(h,x){const T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ae(h,x,T,N,G){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!N,this.ha=G,this.key=++Z,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h,x,T){for(const N in h)x.call(T,h[N],N,h)}function ke(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function z(h){const x={};for(const T in h)x[T]=h[T];return x}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,x){let T,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(T in N)h[T]=N[T];for(let Q=0;Q<ie.length;Q++)T=ie[Q],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,x,T,N,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ue=Ie(h,x,N,G);return ue>-1?(x=h[ue],T||(x.fa=!1)):(x=new ae(x,this.src,Q,!!N,G),x.fa=T,h.push(x)),x};function be(h,x){const T=x.type;if(T in h.g){var N=h.g[T],G=Array.prototype.indexOf.call(N,x,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(N,G,1),Q&&(de(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,x,T,N){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==x&&Q.capture==!!T&&Q.ha==N)return G}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ut={};function ut(h,x,T,N,G){if(Array.isArray(x)){for(let Q=0;Q<x.length;Q++)ut(h,x[Q],T,N,G);return null}return T=Rl(T),h&&h[Ve]?h.J(x,T,d(N)?!!N.capture:!1,G):ta(h,x,T,!1,N,G)}function ta(h,x,T,N,G,Q){if(!x)throw Error("Invalid event type");const ue=d(G)?!!G.capture:!!G;let Re=na(h);if(Re||(h[Fe]=Re=new ce(h)),T=Re.add(x,T,N,ue,Q),T.proxy)return T;if(N=Xa(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)B||(G=ue),G===void 0&&(G=!1),h.addEventListener(x.toString(),N,G);else if(h.attachEvent)h.attachEvent(Ci(x.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Xa(){function h(T){return x.call(h.src,h.listener,T)}const x=Al;return h}function Za(h,x,T,N,G){if(Array.isArray(x))for(var Q=0;Q<x.length;Q++)Za(h,x[Q],T,N,G);else N=d(N)?!!N.capture:!!N,T=Rl(T),h&&h[Ve]?(h=h.i,Q=String(x).toString(),Q in h.g&&(x=h.g[Q],T=Ie(x,T,N,G),T>-1&&(de(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[Q],h.h--)))):h&&(h=na(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ie(x,T,N,G)),(T=h>-1?x[h]:null)&&Ja(T))}function Ja(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ve])be(x.i,h);else{var T=h.type,N=h.proxy;x.removeEventListener?x.removeEventListener(T,N,h.capture):x.detachEvent?x.detachEvent(Ci(T),N):x.addListener&&x.removeListener&&x.removeListener(N),(T=na(x))?(be(T,h),T.h==0&&(T.src=null,x[Fe]=null)):de(h)}}}function Ci(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Al(h,x){if(h.da)h=!0;else{x=new we(x,this);const T=h.listener,N=h.ha||h.src;h.fa&&Ja(h),h=T.call(N,x)}return h}function na(h){return h=h[Fe],h instanceof ce?h:null}var Cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rl(h){return typeof h=="function"?h:(h[Cl]||(h[Cl]=function(x){return h.handleEvent(x)}),h[Cl])}function At(){L.call(this),this.i=new ce(this),this.M=this,this.G=null}b(At,L),At.prototype[Ve]=!0,At.prototype.removeEventListener=function(h,x,T,N){Za(this,h,x,T,N)};function zt(h,x){var T,N=h.G;if(N)for(T=[];N;N=N.G)T.push(N);if(h=h.M,N=x.type||x,typeof x=="string")x=new P(x,h);else if(x instanceof P)x.target=x.target||h;else{var G=x;x=new P(N,h),le(x,G)}G=!0;let Q,ue;if(T)for(ue=T.length-1;ue>=0;ue--)Q=x.g=T[ue],G=Gs(Q,N,!0,x)&&G;if(Q=x.g=h,G=Gs(Q,N,!0,x)&&G,G=Gs(Q,N,!1,x)&&G,T)for(ue=0;ue<T.length;ue++)Q=x.g=T[ue],G=Gs(Q,N,!1,x)&&G}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let N=0;N<T.length;N++)de(T[N]);delete h.g[x],h.h--}}this.G=null},At.prototype.J=function(h,x,T,N){return this.i.add(String(h),x,!1,T,N)},At.prototype.K=function(h,x,T,N){return this.i.add(String(h),x,!0,T,N)};function Gs(h,x,T,N){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let Q=0;Q<x.length;++Q){const ue=x[Q];if(ue&&!ue.da&&ue.capture==T){const Re=ue.listener,Et=ue.ha||ue.src;ue.fa&&be(h.i,ue),G=Re.call(Et,N)!==!1&&G}}return G&&!N.defaultPrevented}function om(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Uc(h){h.g=om(()=>{h.g=null,h.i&&(h.i=!1,Uc(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class mn extends L{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(h){L.call(this),this.h=h,this.g={}}b(ia,L);var Nl=[];function Il(h){Ee(h.g,function(x,T){this.g.hasOwnProperty(T)&&Ja(x)},h),h.g={}}ia.prototype.N=function(){ia.Z.N.call(this),Il(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=c.JSON.stringify,lm=c.JSON.parse,zc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bc(){}function Fc(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){P.call(this,"d")}b(Qt,P);function Hn(){P.call(this,"c")}b(Hn,P);var _t={},Hc=null;function eo(){return Hc=Hc||new At}_t.Ia="serverreachability";function qc(h){P.call(this,_t.Ia,h)}b(qc,P);function Ri(h){const x=eo();zt(x,new qc(x))}_t.STAT_EVENT="statevent";function sa(h,x){P.call(this,_t.STAT_EVENT,h),this.stat=x}b(sa,P);function Ct(h){const x=eo();zt(x,new sa(x,h))}_t.Ja="timingevent";function Ni(h,x){P.call(this,_t.Ja,h),this.size=x}b(Ni,P);function Ii(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function um(h,x,T,N,G,Q){h.info(function(){if(h.g)if(Q){var ue="",Re=Q.split("&");for(let Ke=0;Ke<Re.length;Ke++){var Et=Re[Ke].split("=");if(Et.length>1){const ct=Et[0];Et=Et[1];const $n=ct.split("_");ue=$n.length>=2&&$n[1]=="type"?ue+(ct+"="+Et+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+x+`
`+T+`
`+ue})}function Gc(h,x,T,N,G,Q,ue){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+x+`
`+T+`
`+Q+" "+ue})}function Di(h,x,T,N){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+cm(h,T)+(N?" "+N:"")})}function ra(h,x){h.info(function(){return"TIMEOUT: "+x})}ci.prototype.info=function(){};function cm(h,x){if(!h.g)return x;if(!x)return null;try{const Q=JSON.parse(x);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<N.length;ue++)N[ue]=""}}}}return Ks(Q)}catch{return x}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kl;function oa(){}b(oa,Bc),oa.prototype.g=function(){return new XMLHttpRequest},kl=new oa;function hs(h){return encodeURIComponent(String(h))}function Kc(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function hi(h,x,T,N){this.j=h,this.i=x,this.l=T,this.S=N||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function ki(h,x,T){h.M=1,h.A=la(It(x)),h.u=T,h.R=!0,to(h,null)}function to(h,x){h.F=Date.now(),ji(h),h.B=It(h.A);var T=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),ro(T.i,"t",N),h.C=0,T=h.j.L,h.h=new di,h.g=oh(h.j,T?x:null,!h.u),h.P>0&&(h.O=new mn(p(h.Y,h,h.g),h.P)),x=h.V,T=h.g,N=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Nl[0]=G.toString()),G=Nl);for(let Q=0;Q<G.length;Q++){const ue=ut(T,G[Q],N||x.handleEvent,!1,x.h||x);if(!ue)break;x.g[ue.key]=ue}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Ri(),um(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const x=this.O;x&&pi(h)==3?x.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Re=pi(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Re!=4||Et==7||(Et==8||Ke<=0?Ri(3):Ri(2)),Mi(this);var x=this.g.ca();this.X=x;var T=hm(this);if(this.o=x==200,Gc(this.i,this.v,this.B,this.l,this.S,Re,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(N)){var Q=N;break t}}Q=null}if(h=Q)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,Ct(12),In(this),qn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<T.length;)if(ct=Yc(this,T),ct==qt){Re==4&&(this.m=4,Ct(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,Ct(15),Di(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,ct,null),Vi(this,ct);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,T,"[Invalid Chunked Response]"),In(this),qn(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),$l(ue),ue.P=!0,Ct(11))}}else Di(this.i,this.l,T,null),Vi(this,T);Re==4&&In(this),this.o&&!this.K&&(Re==4?ih(this.j,this):(this.o=!1,ji(this)))}else fs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),qn(this)}}}catch{}finally{}};function hm(h){if(!$c(h))return h.g.la();const x=Wt(h.g);if(x==="")return"";let T="";const N=x.length,G=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),qn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<N;Q++)h.h.h=!0,T+=h.h.i.decode(x[Q],{stream:!(G&&Q==N-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function $c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yc(h,x){var T=h.C,N=x.indexOf(`
`,T);return N==-1?qt:(T=Number(x.substring(T,N)),isNaN(T)?Rt:(N+=1,N+T>x.length?qt:(x=x.slice(N,N+T),h.C=N+T,x)))}hi.prototype.cancel=function(){this.K=!0,In(this)};function ji(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(p(h.aa,h),x)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ra(this.i,this.B),this.M!=2&&(Ri(),Ct(17)),In(this),this.m=2,qn(this)):no(this,this.T-h)};function qn(h){h.j.I==0||h.K||ih(h.j,h)}function In(h){Mi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Il(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Vi(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||Pi(T.h,h))){if(!h.L&&Pi(T.h,h)&&T.I==3){try{var N=T.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)co(T),er(T);else break e;pa(T),Ct(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ii(p(T.Va,T),6e3));Oi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Hi(T,11)}else if((h.L||T.g==h)&&co(T),!M(x))for(G=T.Ba.g.parse(x),x=0;x<G.length;x++){let Ke=G[x];const ct=Ke[0];if(!(ct<=T.K))if(T.K=ct,Ke=Ke[1],T.I==2)if(Ke[0]=="c"){T.M=Ke[1],T.ba=Ke[2];const $n=Ke[3];$n!=null&&(T.ka=$n,T.j.info("VER="+T.ka));const qi=Ke[4];qi!=null&&(T.za=qi,T.j.info("SVER="+T.za));const gi=Ke[5];gi!=null&&typeof gi=="number"&&gi>0&&(N=1.5*gi,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const yi=h.g;if(yi){const ga=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var Q=N.h;Q.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Vl(Q,Q.h),Q.h=null))}if(N.G){const ho=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(N.wa=ho,Qe(N.J,N.G,ho))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var ue=h;if(N.na=ah(N,N.L?N.ba:null,N.W),ue.L){Ol(N.h,ue);var Re=ue,Et=N.O;Et&&(Re.H=Et),Re.D&&(Mi(Re),ji(Re)),N.g=ue}else th(N);T.i.length>0&&Fi(T)}else Ke[0]!="stop"&&Ke[0]!="close"||Hi(T,7);else T.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Hi(T,7):Gl(T):Ke[0]!="noop"&&T.l&&T.l.qa(Ke),T.A=0)}}Ri(4)}catch{}}var Nt=class{constructor(h,x){this.g=h,this.map=x}};function jl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oi(h){return h.h?1:h.g?h.g.size:0}function Pi(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Vl(h,x){h.g?h.g.add(x):h.h=x}function Ol(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}jl.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return w(h.i)}var Qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const N=h[T].indexOf("=");let G,Q=null;N>=0?(G=h[T].substring(0,N),Q=h[T].substring(N+1)):G=h[T],x(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Dn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.u),this.h=h.h,Ll(this,Jc(h.i)),this.m=h.m):h&&(x=String(h).match(Qc))?(this.l=!1,Gt(this,x[1]||"",!0),this.o=Li(x[2]||""),this.g=Li(x[3]||"",!0),$s(this,x[4]),this.h=Li(x[5]||"",!0),Ll(this,x[6]||"",!0),this.m=Li(x[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}Dn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ua(x,so,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ua(x,so,!0),"@"),h.push(hs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ua(T,T.charAt(0)=="/"?Ul:Wc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ua(T,Xc)),h.join("")},Dn.prototype.resolve=function(h){const x=It(this);let T=!!h.j;T?Gt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var N=h.h;if(T)$s(x,h.u);else if(T=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=x.h.lastIndexOf("/");G!=-1&&(N=x.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let ue=0;ue<G.length;){const Re=G[ue++];Re=="."?N&&ue==G.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),N&&ue==G.length&&Q.push("")):(Q.push(Re),N=!0)}N=Q.join("/")}else N=G}return T?x.h=N:T=h.i.toString()!=="",T?Ll(x,Jc(h.i)):T=!!h.m,T&&(x.m=h.m),x};function It(h){return new Dn(h)}function Gt(h,x,T){h.j=T?Li(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ll(h,x,T){x instanceof Qs?(h.i=x,ao(h.i,h.l)):(T||(x=ua(x,Ys)),h.i=new Qs(x,h.l))}function Qe(h,x,T){h.i.set(x,T)}function la(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ua(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,vn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,Wc=/[#\?:]/g,Ul=/[#\?]/g,Ys=/[#\?@]/g,Xc=/#/g;function Qs(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Qs.prototype,t.add=function(h,x){bn(this),this.i=null,h=Ws(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function Zc(h,x){bn(h),x=Ws(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function zl(h,x){return bn(h),x=Ws(h,x),h.g.has(x)}t.forEach=function(h,x){bn(this),this.g.forEach(function(T,N){T.forEach(function(G){h.call(x,G,N,this)},this)},this)};function Bl(h,x){bn(h);let T=[];if(typeof x=="string")zl(h,x)&&(T=T.concat(h.g.get(Ws(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return bn(this),this.i=null,h=Ws(this,h),zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Bl(this,h),h.length>0?String(h[0]):x):x};function ro(h,x,T){Zc(h,x),T.length>0&&(h.i=null,h.g.set(Ws(h,x),w(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var T=x[N];const G=hs(T);T=Bl(this,T);for(let Q=0;Q<T.length;Q++){let ue=G;T[Q]!==""&&(ue+="="+hs(T[Q])),h.push(ue)}}return this.i=h.join("&")};function Jc(h){const x=new Qs;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Ws(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function ao(h,x){x&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(T,N){const G=N.toLowerCase();N!=G&&(Zc(this,N),ro(this,G,T))},h)),h.j=x}function fi(h,x){const T=new ci;if(c.Image){const N=new Image;N.onload=v(Gn,T,"TestLoadImage: loaded",!0,x,N),N.onerror=v(Gn,T,"TestLoadImage: error",!1,x,N),N.onabort=v(Gn,T,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(Gn,T,"TestLoadImage: timeout",!1,x,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else x(!1)}function Fl(h,x){const T=new ci,N=new AbortController,G=setTimeout(()=>{N.abort(),Gn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:N.signal}).then(Q=>{clearTimeout(G),Q.ok?Gn(T,"TestPingServer: ok",!0,x):Gn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),Gn(T,"TestPingServer: error",!1,x)})}function Gn(h,x,T,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(T)}catch{}}function Xs(){this.g=new zc}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ui,Bc),Ui.prototype.g=function(){return new ca(this.i,this.h)};function ca(h,x){At.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ca,At),t=ca.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Zs(this):mi(this),this.readyState==3&&oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Zs(this))},t.Na=function(h){this.g&&(this.response=h,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let x="";return Ee(h,function(T,N){x+=N,x+=":",x+=T,x+=`\r
`}),x}function ha(h,x,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Kn(T),typeof h=="string"?T!=null&&hs(T):Qe(h,x,T))}function Ze(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,At);var zi=/^https?$/i,Hl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kl.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(Q){da(this,Q);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)T.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Q of N.keys())T.set(Q,N.get(Q));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Hl,x,void 0)>=0)||N||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of T)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){da(this,Q)}};function da(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,ql(h),ds(h)}function ql(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},t.Xa=function(){fa(this)};function fa(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),pi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var N;if(N=Q===0){let ue=String(h.D).match(Qc)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),N=!zi.test(ue?ue.toLowerCase():"")}T=N}if(T)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var G=pi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",ql(h)}}finally{ds(h)}}}}function ds(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||zt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),lm(x)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const x={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(M(h[N]))continue;var T=Kc(h[N]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=x[G]||[];x[G]=Q,Q.push(T)}ke(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function Js(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,h),this.Za=Bi("retryDelaySeedMs",1e4,h),this.Ta=Bi("forwardChannelMaxRetries",2,h),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new jl(h&&h.concurrentRequestLimit),this.Ba=new Xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Js.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,N){Ct(0),this.W=h,this.H=x||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=ah(this,null,this.W),Fi(this)};function Gl(h){if(lo(h),h.I==3){var x=h.V++,T=It(h.J);if(Qe(T,"SID",h.M),Qe(T,"RID",x),Qe(T,"TYPE","terminate"),ma(h,T),x=new hi(h,h.j,x),x.M=2,x.A=la(It(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=oh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ji(x)}rh(h)}function er(h){h.g&&($l(h),h.g.cancel(),h.g=null)}function lo(h){er(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!Ml(h.h)&&!h.m){h.m=!0;var x=h.Ea;J||R(),X||(J(),X=!0),k.add(x,h),h.D=0}}function uo(h,x){return Oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(p(h.Ea,h,x),sh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new hi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=z(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=eh(this,G,x),T=It(this.J),Qe(T,"RID",h),Qe(T,"CVER",22),this.G&&Qe(T,"X-HTTP-Session-Id",this.G),ma(this,T),Q&&(this.R?x="headers="+hs(Kn(Q))+"&"+x:this.u&&ha(T,this.u,Q)),Vl(this.h,G),this.Ra&&Qe(T,"TYPE","init"),this.S?(Qe(T,"$req",x),Qe(T,"SID","null"),G.U=!0,ki(G,T,null)):ki(G,T,x),this.I=2}}else this.I==3&&(h?Kl(this,h):this.i.length==0||Ml(this.h)||Kl(this))};function Kl(h,x){var T;x?T=x.l:T=h.V++;const N=It(h.J);Qe(N,"SID",h.M),Qe(N,"RID",T),Qe(N,"AID",h.K),ma(h,N),h.u&&h.o&&ha(N,h.u,h.o),T=new hi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=eh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Vl(h.h,T),ki(T,N,x)}function ma(h,x){h.H&&Ee(h.H,function(T,N){Qe(x,N,T)}),h.l&&Ee({},function(T,N){Qe(x,N,T)})}function eh(h,x,T){T=Math.min(h.i.length,T);const N=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Re=-1;for(;;){const Et=["count="+T];Re==-1?T>0?(Re=G[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Ke=!0;for(let ct=0;ct<T;ct++){var Q=G[ct].g;const $n=G[ct].map;if(Q-=Re,Q<0)Re=Math.max(0,G[ct].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var ue=$n instanceof Map?$n:Object.entries($n);for(const[qi,gi]of ue){let yi=gi;d(gi)&&(yi=Ks(gi)),Et.push(Q+qi+"="+encodeURIComponent(yi))}}catch(qi){throw Et.push(Q+"type="+encodeURIComponent("_badmap")),qi}}catch{N&&N($n)}}if(Ke){ue=Et.join("&");break e}}ue=void 0}return h=h.i.splice(0,T),x.G=h,ue}function th(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;J||R(),X||(J(),X=!0),k.add(x,h),h.A=0}}function pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(p(h.Da,h),sh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,nh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),er(this),nh(this))};function $l(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function nh(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=It(h.na);Qe(x,"RID","rpc"),Qe(x,"SID",h.M),Qe(x,"AID",h.K),Qe(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(x,"TO",h.ia),Qe(x,"TYPE","xmlhttp"),ma(h,x),h.u&&h.o&&ha(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=la(It(x)),T.u=null,T.R=!0,to(T,h)}t.Va=function(){this.C!=null&&(this.C=null,er(this),pa(this),Ct(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ih(h,x){var T=null;if(h.g==x){co(h),$l(h),h.g=null;var N=2}else if(Pi(h.h,x))T=x.G,Ol(h.h,x),N=1;else return;if(h.I!=0){if(x.o)if(N==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;N=eo(),zt(N,new Ni(N,T)),Fi(h)}else th(h);else if(G=x.m,G==3||G==0&&x.X>0||!(N==1&&uo(h,x)||N==2&&pa(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),G){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function sh(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function Hi(h,x){if(h.j.info("Error code "+x),x==2){var T=p(h.bb,h),N=h.Ua;const G=!N;N=new Dn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(N,"https"),la(N),G?fi(N.toString(),T):Fl(N.toString(),T)}else Ct(2);h.I=0,h.l&&h.l.pa(x),rh(h),lo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function rh(h){if(h.I=0,h.ja=[],h.l){const x=Pl(h.h);(x.length!=0||h.i.length!=0)&&(C(h.ja,x),C(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function ah(h,x,T){var N=T instanceof Dn?It(T):new Dn(T);if(N.g!="")x&&(N.g=x+"."+N.g),$s(N,N.u);else{var G=c.location;N=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const Q=new Dn(null);N&&Gt(Q,N),x&&(Q.g=x),G&&$s(Q,G),T&&(Q.h=T),N=Q}return T=h.G,x=h.wa,T&&x&&Qe(N,T,x),Qe(N,"VER",h.ka),ma(h,N),N}function oh(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Ze(new Ui({ab:T})):new Ze(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}t=lh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tr(){}tr.prototype.g=function(h,x){return new pn(h,x)};function pn(h,x){At.call(this),this.g=new Js(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new ms(this)}b(pn,At),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gl(this.g)},pn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ks(h),h=T);x.i.push(new Nt(x.Ya++,h)),x.I==3&&Fi(x)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,pn.Z.N.call(this)};function uh(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(uh,Qt);function ch(){Hn.call(this),this.status=1}b(ch,Hn);function ms(h){this.g=h}b(ms,lh),ms.prototype.ra=function(){zt(this.g,"a")},ms.prototype.qa=function(h){zt(this.g,new uh(h))},ms.prototype.pa=function(h){zt(this.g,new ch)},ms.prototype.oa=function(){zt(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,kA=function(){return new tr},DA=function(){return eo()},IA=_t,ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Ld=aa,Dl.COMPLETE="complete",NA=Dl,Fc.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",At.prototype.listen=At.prototype.J,Ou=Fc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,RA=Ze}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",FE="4.9.2";class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let vl="12.3.0";const $a=new Jy("@firebase/firestore");function Fo(){return $a.logLevel}function fe(t,...e){if($a.logLevel<=Le.DEBUG){const n=e.map(u0);$a.debug(`Firestore (${vl}): ${t}`,...n)}}function Ps(t,...e){if($a.logLevel<=Le.ERROR){const n=e.map(u0);$a.error(`Firestore (${vl}): ${t}`,...n)}}function sl(t,...e){if($a.logLevel<=Le.WARN){const n=e.map(u0);$a.warn(`Firestore (${vl}): ${t}`,...n)}}function u0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,jA(t,s,n)}function jA(t,e,n){let s=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ps(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||jA(e,a,s)}function Ce(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class MA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class uV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cV{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new js;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new js,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new js)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new MA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class hV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class c0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=mV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function ty(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return xg(a)===xg(l)?Ue(a,l):xg(a)?1:-1}return Ue(t.length,e.length)}const pV=55296,gV=57343;function xg(t){const e=t.charCodeAt(0);return e>=pV&&e<=gV}function rl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const qE="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),a=Qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):ty(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class st extends Qi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const yV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Qi{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return yV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new sn([qE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function VA(t,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vV(t,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GE(t){if(!ye.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KE(t){if(ye.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(t);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ac(t,e){if(!OA(t))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}const $E=-62135596800,YE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*YE);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Lt("string",lt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new lt(0,0))}static max(){return new Se(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function bV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Ur(a,ye.empty(),e)}function xV(t){return new Ur(t.readTime,t.key,tc)}class Ur{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ur(Se.min(),ye.empty(),tc)}static max(){return new Ur(Se.max(),ye.empty(),tc)}}function _V(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const EV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==EV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>s(f)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((v=>{c[p]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function wV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}class Lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lf.ce=-1;const h0=-1;function Uf(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function SV(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const PA="";function AV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QE(e)),e=CV(t.get(n),e);return QE(e)}function CV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case PA:n+="";break;default:n+=l}}return n}function QE(t){return t+PA+""}function WE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new nn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ht(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new UA("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=RV.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const zA="server_timestamp",BA="__type__",FA="__previous_value__",HA="__local_write_time__";function d0(t){return(t?.mapValue?.fields||{})[BA]?.stringValue===zA}function zf(t){const e=t.mapValue.fields[FA];return d0(e)?zf(e):e}function nc(t){const e=zr(t.mapValue.fields[HA].timestampValue);return new lt(e.seconds,e.nanos)}class NV{constructor(e,n,s,a,l,c,d,f,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const rf="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}const qA="__type__",IV="__max__",vd={mapValue:{}},GA="__vector__",af="value";function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d0(t)?4:kV(t)?9007199254740991:DV(t)?10:11:_e(28295,{value:t})}function as(t,e){if(t===e)return!0;const n=Fr(t);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=zr(a.timestampValue),d=zr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Br(a.bytesValue).isEqual(Br(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),d=St(l.doubleValue);return c===d?sf(c)===sf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(WE(c)!==WE(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!as(c[f],d[f])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function sc(t,e){return(t.values||[]).find((n=>as(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=Fr(t),s=Fr(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=St(l.integerValue||l.doubleValue),f=St(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return ZE(t.timestampValue,e.timestampValue);case 4:return ZE(nc(t),nc(e));case 5:return ty(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Br(l),f=Br(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Ue(d[p],f[p]);if(v!==0)return v}return Ue(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ue(St(l.latitude),St(c.latitude));return d!==0?d:Ue(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return JE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},f=c.fields||{},p=d[af]?.arrayValue,v=f[af]?.arrayValue,b=Ue(p?.values?.length||0,v?.values?.length||0);return b!==0?b:JE(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===vd.mapValue&&c===vd.mapValue)return 0;if(l===vd.mapValue)return 1;if(c===vd.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const _=ty(f[b],v[b]);if(_!==0)return _;const w=al(d[f[b]],p[v[b]]);if(w!==0)return w}return Ue(f.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function ZE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=zr(t),s=zr(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function JE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=al(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function ol(t){return ny(t)}function ny(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=zr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ny(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ny(n.fields[c])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function Ud(t){switch(Fr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(t);return e?16+Ud(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Ud(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Xr(s.fields,((l,c)=>{a+=l.length+Ud(c)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function eT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iy(t){return!!t&&"integerValue"in t}function f0(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function nT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function DV(t){return(t?.mapValue?.fields||{})[qA]?.stringValue===GA}function Hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(t.arrayValue.values[n]);return e}return{...t}}function kV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IV}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=sn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Hu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];zd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Cn(Hu(this.value))}}function KA(t){const e=[];return Xr(t.fields,((n,s)=>{const a=new sn([n]);if(zd(s)){const l=KA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Un(e)}class hn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Se.min(),Se.min(),Se.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,a){return new hn(e,1,n,Se.min(),s,a,0)}static newNoDocument(e,n){return new hn(e,2,n,Se.min(),Se.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Se.min(),Se.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class of{constructor(e,n){this.position=e,this.inclusive=n}}function iT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=al(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function sT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function jV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $A{}class Pt extends $A{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new VV(e,n,s):n==="array-contains"?new LV(e,s):n==="in"?new UV(e,s):n==="not-in"?new zV(e,s):n==="array-contains-any"?new BV(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OV(e,s):new PV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends $A{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ai(e,n)}matches(e){return YA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YA(t){return t.op==="and"}function QA(t){return MV(t)&&YA(t)}function MV(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function sy(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(QA(t))return t.filters.map((e=>sy(e))).join(",");{const e=t.filters.map((n=>sy(n))).join(",");return`${t.op}(${e})`}}function WA(t,e){return t instanceof Pt?(function(s,a){return a instanceof Pt&&s.op===a.op&&s.field.isEqual(a.field)&&as(s.value,a.value)})(t,e):t instanceof Ai?(function(s,a){return a instanceof Ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&WA(c,a.filters[d])),!0):!1})(t,e):void _e(19439)}function XA(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`})(t):t instanceof Ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(XA).join(" ,")+"}"})(t):"Filter"}class VV extends Pt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class OV extends Pt{constructor(e,n){super(e,"in",n),this.keys=ZA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PV extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=ZA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZA(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class LV extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f0(n)&&sc(n.arrayValue,this.value)}}class UV extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class zV extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class BV extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>sc(this.value.arrayValue,s)))}}class FV{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function rT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new FV(t,e,n,s,a,l,c)}function m0(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ol(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ol(s))).join(",")),e.Te=n}return e.Te}function p0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sT(t.startAt,e.startAt)&&sT(t.endAt,e.endAt)}function ry(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class _l{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HV(t,e,n,s,a,l,c,d){return new _l(t,e,n,s,a,l,c,d)}function Bf(t){return new _l(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JA(t){return t.collectionGroup!==null}function qu(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ht(sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new rc(l,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new rc(sn.keyField(),s))}return e.Ie}function es(t){const e=Ce(t);return e.Ee||(e.Ee=qV(e,qu(t))),e.Ee}function qV(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new rc(a.field,l)}));const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ay(t,e){const n=t.filters.concat([e]);return new _l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lf(t,e,n){return new _l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ff(t,e){return p0(es(t),es(e))&&t.limitType===e.limitType}function e1(t){return`${m0(es(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>XA(a))).join(", ")}]`),Uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>ol(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>ol(a))).join(",")),`Target(${s})`})(es(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of qu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,f){const p=iT(c,d,f);return c.inclusive?p<=0:p<0})(s.startAt,qu(s),a)||s.endAt&&!(function(c,d,f){const p=iT(c,d,f);return c.inclusive?p>=0:p>0})(s.endAt,qu(s),a))})(t,e)}function GV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t1(t){return(e,n)=>{let s=!1;for(const a of qu(t)){const l=KV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function KV(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?al(f,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:t.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}const $V=new gt(ye.comparator);function Ls(){return $V}const n1=new gt(ye.comparator);function Pu(...t){let e=n1;for(const n of t)e=e.insert(n.key,n);return e}function i1(t){let e=n1;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Va(){return Gu()}function s1(){return Gu()}function Gu(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YV=new gt(ye.comparator),QV=new Ht(ye.comparator);function ze(...t){let e=QV;for(const n of t)e=e.add(n);return e}const WV=new Ht(Ue);function XV(){return WV}function g0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function r1(t){return{integerValue:""+t}}function ZV(t,e){return SV(e)?r1(e):g0(t,e)}class qf{constructor(){this._=void 0}}function JV(t,e,n){return t instanceof ac?(function(a,l){const c={fields:{[BA]:{stringValue:zA},[HA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&d0(l)&&(l=zf(l)),l&&(c.fields[FA]=l),{mapValue:c}})(n,e):t instanceof oc?o1(t,e):t instanceof lc?l1(t,e):(function(a,l){const c=a1(a,l),d=oT(c)+oT(a.Ae);return iy(c)&&iy(a.Ae)?r1(d):g0(a.serializer,d)})(t,e)}function eO(t,e,n){return t instanceof oc?o1(t,e):t instanceof lc?l1(t,e):n}function a1(t,e){return t instanceof uf?(function(s){return iy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ac extends qf{}class oc extends qf{constructor(e){super(),this.elements=e}}function o1(t,e){const n=u1(e);for(const s of t.elements)n.some((a=>as(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends qf{constructor(e){super(),this.elements=e}}function l1(t,e){let n=u1(e);for(const s of t.elements)n=n.filter((a=>!as(a,s)));return{arrayValue:{values:n}}}class uf extends qf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oT(t){return St(t.integerValue||t.doubleValue)}function u1(t){return f0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class tO{constructor(e,n){this.field=e,this.transform=n}}function nO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof oc&&a instanceof oc||s instanceof lc&&a instanceof lc?rl(s.elements,a.elements,as):s instanceof uf&&a instanceof uf?as(s.Ae,a.Ae):s instanceof ac&&a instanceof ac})(t.transform,e.transform)}class iO{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gf{}function c1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d1(t.key,wi.none()):new Cc(t.key,t.data,wi.none());{const n=t.data,s=Cn.empty();let a=new Ht(sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Zr(t.key,s,new Un(a.toArray()),wi.none())}}function sO(t,e,n){t instanceof Cc?(function(a,l,c){const d=a.value.clone(),f=uT(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Zr?(function(a,l,c){if(!Bd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=uT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(h1(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ku(t,e,n,s){return t instanceof Cc?(function(l,c,d,f){if(!Bd(l.precondition,c))return d;const p=l.value.clone(),v=cT(l.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Zr?(function(l,c,d,f){if(!Bd(l.precondition,c))return d;const p=cT(l.fieldTransforms,f,c),v=c.data;return v.setAll(h1(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,d){return Bd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function rO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=a1(s.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,l))}return n||null}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&rl(s,a,((l,c)=>nO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends Gf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zr extends Gf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function h1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function uT(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,eO(c,d,n[a]))}return s}function cT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,JV(l,c,e))}return s}class d1 extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&sO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ku(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ku(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=s1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=c1(c,d);f!==null&&s.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((n,s)=>lT(n,s)))&&rl(this.baseMutations,e.baseMutations,((n,s)=>lT(n,s)))}}class y0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return YV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new y0(e,n,s,a)}}class lO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,He;function cO(t){switch(t){case ne.OK:return _e(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function f1(t){if(t===void 0)return Ps("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Vt.OK:return ne.OK;case Vt.CANCELLED:return ne.CANCELLED;case Vt.UNKNOWN:return ne.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ne.INTERNAL;case Vt.UNAVAILABLE:return ne.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ne.NOT_FOUND;case Vt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Vt.ABORTED:return ne.ABORTED;case Vt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Vt.DATA_LOSS:return ne.DATA_LOSS;default:return _e(39323,{code:t})}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function hO(){return new TextEncoder}const dO=new Or([4294967295,4294967295],0);function hT(t){const e=hO().encode(t),n=new CA;return n.update(e),new Uint8Array(n.digest())}function dT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Or([n,s],0),new Or([a,l],0)]}class v0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lu(`Invalid padding: ${n}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Or.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Or.fromNumber(s)));return a.compare(dO)===1&&(a=new Or([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hT(e),[s,a]=dT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new v0(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=hT(e),[s,a]=dT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kf(Se.min(),a,new gt(Ue),Ls(),ze())}}class Rc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rc(s,n,ze(),ze(),ze())}}class Fd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class m1{constructor(e,n){this.targetId=e,this.Ce=n}}class p1{constructor(e,n,s=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class fT{constructor(){this.ve=0,this.Fe=mT(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_e(38017,{changeType:l})}})),new Rc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=mT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ls(),this.Je=bd(),this.He=bd(),this.Ye=new gt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ry(l))if(s===0){const c=new ye(l.path);this.et(n,c,hn.newNoDocument(c,Se.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Br(s).toUint8Array()}catch(f){if(f instanceof UA)return sl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new v0(c,a,l)}catch(f){return sl(f instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ry(d.target)){const f=new ye(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,hn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Kf(e,n,this.Ye,this.je,s);return this.je=Ls(),this.Je=bd(),this.He=bd(),this.Ye=new gt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bd(){return new gt(ye.comparator)}function mT(){return new gt(ye.comparator)}const mO={asc:"ASCENDING",desc:"DESCENDING"},pO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gO={and:"AND",or:"OR"};class yO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vO(t,e){return cf(t,e.toTimestamp())}function ts(t){return Ye(!!t,49232),Se.fromTimestamp((function(n){const s=zr(n);return new lt(s.seconds,s.nanos)})(t))}function b0(t,e){return ly(t,e).canonicalString()}function ly(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function y1(t){const e=st.fromString(t);return Ye(E1(e),10190,{key:e.toString()}),e}function uy(t,e){return b0(t.databaseId,e.path)}function _g(t,e){const n=y1(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(b1(n))}function v1(t,e){return b0(t.databaseId,e)}function bO(t){const e=y1(t);return e.length===4?st.emptyPath():b1(e)}function cy(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b1(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pT(t,e,n){return{name:uy(t,e),fields:n.value.mapValue.fields}}function xO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?ne.UNKNOWN:f1(p.code);return new he(v,p.message||"")})(c);n=new p1(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=_g(t,s.document.name),l=ts(s.document.updateTime),c=s.document.createTime?ts(s.document.createTime):Se.min(),d=new Cn({mapValue:{fields:s.document.fields}}),f=hn.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Fd(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=_g(t,s.document),l=s.readTime?ts(s.readTime):Se.min(),c=hn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Fd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=_g(t,s.document),l=s.removedTargetIds||[];n=new Fd([],l,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new uO(a,l),d=s.targetId;n=new m1(d,c)}}return n}function _O(t,e){let n;if(e instanceof Cc)n={update:pT(t,e.key,e.value)};else if(e instanceof d1)n={delete:uy(t,e.key)};else if(e instanceof Zr)n={update:pT(t,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof aO))return _e(16599,{Vt:e.type});n={verify:uy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _e(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:vO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e(27497)})(t,e.precondition)),n}function EO(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ts(a.updateTime):ts(l);return c.isEqual(Se.min())&&(c=ts(l)),new iO(c,a.transformResults||[])})(n,e)))):[]}function TO(t,e){return{documents:[v1(t,e.path)]}}function wO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=v1(t,a);const l=(function(p){if(p.length!==0)return _1(Ai.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:qo(_.field),direction:CO(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=oy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function SO(t){let e=bO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=x1(b);return _ instanceof Ai&&QA(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((_=>(function(C){return new rc(Go(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,Uf(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(b){const _=!!b.before,w=b.values||[];return new of(w,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const _=!b.before,w=b.values||[];return new of(w,_)})(n.endAt)),HV(e,a,c,l,d,"F",f,p)}function AO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function x1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Go(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Go(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(n.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Go(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ai.create(n.compositeFilter.filters.map((s=>x1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function CO(t){return mO[t]}function RO(t){return pO[t]}function NO(t){return gO[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return sn.fromServerFormat(t.fieldPath)}function _1(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(nT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:RO(n.op),value:n.value}}})(t):t instanceof Ai?(function(n){const s=n.getFilters().map((a=>_1(a)));return s.length===1?s[0]:{compositeFilter:{op:NO(n.op),filters:s}}})(t):_e(54877,{filter:t})}function IO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function E1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class kr{constructor(e,n,s,a,l=Se.min(),c=Se.min(),d=on.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DO{constructor(e){this.yt=e}}function kO(t){const e=SO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lf(e,e.limit,"L"):e}class jO{constructor(){this.Cn=new MO}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ur.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class MO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ht(st.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ht(st.comparator)).toArray()}}const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T1=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(T1,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}const yT="LruGarbageCollector",VO=1048576;function vT([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class OO{constructor(e){this.Ir=e,this.buffer=new Ht(vT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(yT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?fe(yT,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Vr(3e5)}))}}class LO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Lf.ce);const s=new OO(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(gT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Fo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function UO(t,e){return new LO(t,e)}class zO{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Ku(s.mutation,a,Un.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=Va();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Pu();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Va();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Ls();const c=Gu(),d=(function(){return Gu()})();return n.forEach(((f,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Zr)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Ku(v.mutation,p,v.mutation.getFieldMask(),lt.now())):c.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new BO(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=Gu();let a=new gt(((c,d)=>c-d)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let v=s.get(f)||Un.empty();v=d.applyToLocalView(p,v),s.set(f,v);const b=(a.get(d.batchId)||ze()).add(f);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,b=s1();v.forEach((_=>{if(!l.has(_)){const w=c1(n.get(_),s.get(_));w!==null&&b.set(_,w),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(Va());let d=tc,f=l;return c.next((p=>re.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{f=f.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,ze()))).next((v=>({batchId:d,changes:i1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Pu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Pu();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(f=>{const p=(function(b,_){return new _l(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((b,_)=>{c=c.insert(b,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,hn.newInvalidDocument(v)))}));let d=Pu();return c.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&Ku(v.mutation,p,Un.empty(),lt.now()),Hf(n,p)&&(d=d.insert(f,p))})),d}))}}class HO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ts(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:kO(a.bundledQuery),readTime:ts(a.readTime)}})(n)),re.resolve()}}class qO{constructor(){this.overlays=new gt(ye.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Va();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=Va(),l=n.length+1,c=new ye(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Va(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Va(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return re.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new lO(n,s));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class GO{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class x0{constructor(){this.Qr=new Ht($t.$r),this.Ur=new Ht($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new st([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),s=new $t(n,e),a=new $t(n,e+1);let l=ze();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class KO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht($t.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?h0:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Ue);return n.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ye(l),0);let d=new Ht(Ue);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $O{constructor(e){this.ri=e,this.docs=(function(){return new gt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=Ls();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ls();const c=n.path,d=new ye(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||_V(xV(v),s)<=0||(a.has(v.key)||Hf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){_e(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new YO(this)}getSize(e){return re.resolve(this.size)}}class YO extends zO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class QO{constructor(e){this.persistence=e,this.si=new Qa((n=>m0(n)),p0),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new x0,this.targetCount=0,this.ai=ll.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ll(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class w1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lf(0),this.li=!1,this.li=!0,this.hi=new GO,this.referenceDelegate=e(this),this.Pi=new QO(this),this.indexManager=new jO,this.remoteDocumentCache=(function(a){return new $O(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DO(n),this.Ii=new HO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new KO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new WO(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class WO extends TV{constructor(e){super(),this.currentSequenceNumber=e}}class _0{constructor(e){this.persistence=e,this.Ri=new x0,this.Vi=null}static mi(e){return new _0(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>AV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=UO(this,n)}static mi(e,n){return new hf(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Se.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ud(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class E0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new E0(e,n.fromCache,s,a)}}class XO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ED()?8:wV(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new XO;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Fo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Fo()<=Le.DEBUG&&fe("QueryEngine","Query:",Ho(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Fo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(n))):re.resolve())}ys(e,n){if(aT(n))return re.resolve(null);let s=es(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=lf(n,null,"F"),s=es(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((f=>{const p=this.Ds(n,d);return this.Cs(n,p,c,f.readTime)?this.ys(e,lf(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,s,a){return aT(n)||a.isEqual(Se.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(Fo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ho(n)),this.vs(e,c,n,bV(a,tc)).next((d=>d)))}))}Ds(e,n){let s=new Ht(t1(e));return n.forEach(((a,l)=>{Hf(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Fo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Ur.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const T0="LocalStore",JO=3e8;class eP{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(Ue),this.xs=new Qa((l=>m0(l)),p0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tP(t,e,n,s){return new eP(t,e,n,s)}async function S1(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let f=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(s,f).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function nP(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,v){const b=p.batch,_=b.keys();let w=re.resolve();return _.forEach((C=>{w=w.next((()=>v.getEntry(f,C))).next((I=>{const D=p.docVersions.get(C);Ye(D!==null,48541),I.version.compareTo(D)<0&&(b.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),v.addEntry(I)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let f=ze();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function A1(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iP(t,e){const n=Ce(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let w=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(on.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(b,w),(function(I,D,O){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=JO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,w,v)&&d.push(n.Pi.updateTargetData(l,w))}));let f=Ls(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(sP(l,c,e.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return re.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function sP(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Ls();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):fe(T0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function rP(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=h0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function aP(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new kr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function hy(t,e,n){const s=Ce(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!xl(c))throw c;fe(T0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function bT(t,e,n){const s=Ce(t);let a=Se.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,v){const b=Ce(f),_=b.xs.get(v);return _!==void 0?re.resolve(b.Ms.get(_)):b.Pi.getTargetData(p,v)})(s,c,es(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Se.min(),n?l:ze()))).next((d=>(oP(s,GV(e),d),{documents:d,Qs:l})))))}function oP(t,e,n){let s=t.Os.get(e)||Se.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class xT{constructor(){this.activeTargetIds=XV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uP{Oo(e){}shutdown(){}}const _T="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(_T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xd=null;function dy(){return xd===null?xd=(function(){return 268435456+Math.round(2147483648*Math.random())})():xd++,"0x"+xd.toString(16)}const Eg="RestConnection",cP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=dy(),d=this.zo(e,n.toUriEncodedString());fe(Eg,`Sending RPC '${e}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(d),v=Qr(p);return this.Jo(e,d,f,s,v).then((b=>(fe(Eg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw sl(Eg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=cP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class dP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class fP extends hP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=dy();return new Promise(((d,f)=>{const p=new RA;p.setWithCredentials(!0),p.listenOnce(NA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ld.NO_ERROR:const b=p.getResponseJson();fe(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Ld.TIMEOUT:fe(un,`RPC '${e}' ${c} timed out`),f(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const _=p.getStatus();if(fe(un,`RPC '${e}' ${c} failed with status:`,_,"response text:",p.getResponseText()),_>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const I=(function(O){const F=O.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN})(C.status);f(new he(I,C.message))}else f(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new he(ne.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(un,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);fe(un,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=dy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kA(),d=DA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const v=l.join("");fe(un,`Creating RPC '${e}' stream ${a}: ${v}`,f);const b=c.createWebChannel(v,f);this.I_(b);let _=!1,w=!1;const C=new dP({Yo:D=>{w?fe(un,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(_||(fe(un,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),fe(un,`RPC '${e}' stream ${a} sending:`,D),b.send(D))},Zo:()=>b.close()}),I=(D,O,F)=>{D.listen(O,(q=>{try{F(q)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return I(b,Ou.EventType.OPEN,(()=>{w||(fe(un,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),I(b,Ou.EventType.CLOSE,(()=>{w||(w=!0,fe(un,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(b))})),I(b,Ou.EventType.ERROR,(D=>{w||(w=!0,sl(un,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),I(b,Ou.EventType.MESSAGE,(D=>{if(!w){const O=D.data[0];Ye(!!O,16349);const F=O,q=F?.error||F[0]?.error;if(q){fe(un,`RPC '${e}' stream ${a} received error:`,q);const oe=q.status;let J=(function(R){const j=Vt[R];if(j!==void 0)return f1(j)})(oe),X=q.message;J===void 0&&(J=ne.INTERNAL,X="Unknown error status: "+oe+" with message "+q.message),w=!0,C.a_(new he(J,X)),b.close()}else fe(un,`RPC '${e}' stream ${a} received:`,O),C.u_(O)}})),I(d,IA.STAT_EVENT,(D=>{D.stat===ey.PROXY?fe(un,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===ey.NOPROXY&&fe(un,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Tg(){return typeof document<"u"?document:null}function $f(t){return new yO(t,!0)}class C1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TT="PersistentStream";class R1{constructor(e,n,s,a,l,c,d,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new C1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mP extends R1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?ts(c.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cy(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=ry(f)?{documents:TO(l,f)}:{query:wO(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=g1(l,c.resumeToken);const p=oy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=cf(l,c.snapshotVersion.toTimestamp());const p=oy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=AO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cy(this.serializer),n.removeTarget=e,this.q_(n)}}class pP extends R1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EO(e.writeResults,e.commitTime),s=ts(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>_O(this.serializer,s)))};this.q_(n)}}class gP{}class yP extends gP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ly(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,ly(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class bP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Wa(this)&&(fe(Ya,"Restarting streams for network reachability change."),await(async function(f){const p=Ce(f);p.Ea.add(4),await Nc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yf(p)})(this))}))})),this.Ra=new vP(s,a)}}async function Yf(t){if(Wa(t))for(const e of t.da)await e(!0)}async function Nc(t){for(const e of t.da)await e(!1)}function N1(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),C0(n)?A0(n):El(n).O_()&&S0(n,e))}function w0(t,e){const n=Ce(t),s=El(n);n.Ia.delete(e),s.O_()&&I1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Wa(n)&&n.Ra.set("Unknown"))}function S0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(t).Y_(e)}function I1(t,e){t.Va.Ue(e),El(t).Z_(e)}function A0(t){t.Va=new fO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),El(t).start(),t.Ra.ua()}function C0(t){return Wa(t)&&!El(t).x_()&&t.Ia.size>0}function Wa(t){return Ce(t).Ea.size===0}function D1(t){t.Va=void 0}async function xP(t){t.Ra.set("Online")}async function _P(t){t.Ia.forEach(((e,n)=>{S0(t,e)}))}async function EP(t,e){D1(t),C0(t)?(t.Ra.ha(e),A0(t)):t.Ra.set("Unknown")}async function TP(t,e,n){if(t.Ra.set("Online"),e instanceof p1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){fe(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await df(t,s)}else if(e instanceof Fd?t.Va.Ze(e):e instanceof m1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const s=await A1(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),I1(l,f);const b=new kr(v.target,f,p,v.sequenceNumber);S0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){fe(Ya,"Failed to raise snapshot:",s),await df(t,s)}}async function df(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await Nc(t),t.Ra.set("Offline"),n||(n=()=>A1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yf(t)}))}function k1(t,e){return e().catch((n=>df(t,n,e)))}async function Qf(t){const e=Ce(t),n=Hr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:h0;for(;wP(e);)try{const a=await rP(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,SP(e,a)}catch(a){await df(e,a)}j1(e)&&M1(e)}function wP(t){return Wa(t)&&t.Ta.length<10}function SP(t,e){t.Ta.push(e);const n=Hr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function j1(t){return Wa(t)&&!Hr(t).x_()&&t.Ta.length>0}function M1(t){Hr(t).start()}async function AP(t){Hr(t).ra()}async function CP(t){const e=Hr(t);for(const n of t.Ta)e.ea(n.mutations)}async function RP(t,e,n){const s=t.Ta.shift(),a=y0.from(s,e,n);await k1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Qf(t)}async function NP(t,e){e&&Hr(t).X_&&await(async function(s,a){if((function(c){return cO(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();Hr(s).B_(),await k1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Qf(s)}})(t,e),j1(t)&&M1(t)}async function wT(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),fe(Ya,"RemoteStore received new credentials");const s=Wa(n);n.Ea.add(3),await Nc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yf(n)}async function IP(t,e){const n=Ce(t);e?(n.Ea.delete(2),await Yf(n)):e||(n.Ea.add(2),await Nc(n),n.Ra.set("Unknown"))}function El(t){return t.ma||(t.ma=(function(n,s,a){const l=Ce(n);return l.sa(),new mP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:xP.bind(null,t),t_:_P.bind(null,t),r_:EP.bind(null,t),H_:TP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),C0(t)?A0(t):t.Ra.set("Unknown")):(await t.ma.stop(),D1(t))}))),t.ma}function Hr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ce(n);return l.sa(),new pP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AP.bind(null,t),r_:NP.bind(null,t),ta:CP.bind(null,t),na:RP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Qf(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class R0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new R0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N0(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),xl(t))return new he(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Pu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ST{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ul{constructor(e,n,s,a,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ul(e,n,tl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class DP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kP{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ce(n),l=a.queries;a.queries=AT(),l.forEach(((c,d)=>{for(const f of d.Sa)f.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function AT(){return new Qa((t=>e1(t)),Ff)}async function I0(t,e){const n=Ce(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new DP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=N0(c,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&k0(n)}async function D0(t,e){const n=Ce(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jP(t,e){const n=Ce(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&k0(n)}function MP(t,e,n){const s=Ce(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function k0(t){t.Ca.forEach((e=>{e.next()}))}var fy,CT;(CT=fy||(fy={})).Ma="default",CT.Cache="cache";class j0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ul(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}class V1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class VP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=t1(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ST,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),w=Hf(this.query,b)?b:null,C=!!_&&this.mutatedKeys.has(_.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;_&&w?_.data.isEqual(w.data)?C!==I&&(s.track({type:3,doc:w}),D=!0):this.su(_,w)||(s.track({type:2,doc:w}),D=!0,(f&&this.eu(w,f)>0||p&&this.eu(w,p)<0)&&(d=!0)):!_&&w?(s.track({type:0,doc:w}),D=!0):_&&!w&&(s.track({type:1,doc:_}),D=!0,(f||p)&&(d=!0)),D&&(w?(c=c.add(w),l=I?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(w,C){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:D})}};return I(w)-I(C)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,c.length!==0||p?{snapshot:new ul(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new O1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new V1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M0="SyncEngine";class OP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PP{constructor(e){this.key=e,this.hu=!1}}class LP{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qa((d=>e1(d)),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ye.comparator),this.Au=new Map,this.Ru=new x0,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UP(t,e,n=!0){const s=F1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await P1(s,e,n,!0),a}async function zP(t,e){const n=F1(t);await P1(n,e,!0,!1)}async function P1(t,e,n,s){const a=await aP(t.localStore,es(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await BP(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&N1(t.remoteStore,a),d}async function BP(t,e,n,s,a){t.pu=(b,_,w)=>(async function(I,D,O,F){let q=D.view.ru(O);q.Cs&&(q=await bT(I.localStore,D.query,!1).then((({documents:k})=>D.view.ru(k,q))));const oe=F&&F.targetChanges.get(D.targetId),J=F&&F.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(q,I.isPrimaryClient,oe,J);return NT(I,D.targetId,X.au),X.snapshot})(t,b,_,w);const l=await bT(t.localStore,e,!0),c=new VP(e,l.Qs),d=c.ru(l.documents),f=Rc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,f);NT(t,n,p.au);const v=new OP(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function FP(t,e,n){const s=Ce(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Ff(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&w0(s.remoteStore,a.targetId),my(s,a.targetId)})).catch(bl)):(my(s,a.targetId),await hy(s.localStore,a.targetId,!0))}async function HP(t,e){const n=Ce(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),w0(n.remoteStore,s.targetId))}async function qP(t,e,n){const s=XP(t);try{const a=await(function(c,d){const f=Ce(c),p=lt.now(),v=d.reduce(((w,C)=>w.add(C.key)),ze());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=Ls(),I=ze();return f.Ns.getEntries(w,v).next((D=>{C=D,C.forEach(((O,F)=>{F.isValidDocument()||(I=I.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,C))).next((D=>{b=D;const O=[];for(const F of d){const q=rO(F,b.get(F.key).overlayedDocument);q!=null&&O.push(new Zr(F.key,q,KA(q.value.mapValue),wi.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,O,d)})).next((D=>{_=D;const O=D.applyToLocalDocumentSet(b,I);return f.documentOverlayCache.saveOverlays(w,D.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:i1(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let p=c.Vu[c.currentUser.toKey()];p||(p=new gt(Ue)),p=p.insert(d,f),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Ic(s,a.changes),await Qf(s.remoteStore)}catch(a){const l=N0(a,"Failed to persist write");n.reject(l)}}async function L1(t,e){const n=Ce(t);try{const s=await iP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Ic(n,s,e)}catch(s){await bl(s)}}function RT(t,e,n){const s=Ce(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Ce(c);f.onlineState=d;let p=!1;f.queries.forEach(((v,b)=>{for(const _ of b.Sa)_.va(d)&&(p=!0)})),p&&k0(f)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GP(t,e,n){const s=Ce(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new gt(ye.comparator);c=c.insert(l,hn.newNoDocument(l,Se.min()));const d=ze().add(l),f=new Kf(Se.min(),new Map,new gt(Ue),c,d);await L1(s,f),s.du=s.du.remove(l),s.Au.delete(e),V0(s)}else await hy(s.localStore,e,!1).then((()=>my(s,e,n))).catch(bl)}async function KP(t,e){const n=Ce(t),s=e.batch.batchId;try{const a=await nP(n.localStore,e);z1(n,s,null),U1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,a)}catch(a){await bl(a)}}async function $P(t,e,n){const s=Ce(t);try{const a=await(function(c,d){const f=Ce(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next((b=>(Ye(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);z1(s,e,n),U1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ic(s,a)}catch(a){await bl(a)}}function U1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function z1(t,e,n){const s=Ce(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function my(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||B1(t,s)}))}function B1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(w0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),V0(t))}function NT(t,e,n){for(const s of n)s instanceof V1?(t.Ru.addReference(s.key,e),YP(t,s)):s instanceof O1?(fe(M0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||B1(t,s.key)):_e(19791,{wu:s})}function YP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(M0,"New document in limbo: "+n),t.Eu.add(s),V0(t))}function V0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(st.fromString(e)),s=t.fu.next();t.Au.set(s,new PP(n)),t.du=t.du.insert(n,s),N1(t.remoteStore,new kr(es(Bf(n.path)),s,"TargetPurposeLimboResolution",Lf.ce))}}async function Ic(t,e,n){const s=Ce(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,f)=>{c.push(s.pu(f,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;s.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=E0.As(f.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(f,p){const v=Ce(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(p,(_=>re.forEach(_.Es,(w=>v.persistence.referenceDelegate.addReference(b,_.targetId,w))).next((()=>re.forEach(_.ds,(w=>v.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))))))}catch(b){if(!xl(b))throw b;fe(T0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const w=v.Ms.get(_),C=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(_,I)}}})(s.localStore,l))}async function QP(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){fe(M0,"User change. New user:",e.toKey());const s=await S1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new he(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ls)}}function WP(t,e){const n=Ce(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function F1(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GP.bind(null,e),e.Pu.H_=jP.bind(null,e.eventManager),e.Pu.yu=MP.bind(null,e.eventManager),e}function XP(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$P.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tP(this.persistence,new ZO,e.initialUser,this.serializer)}Cu(e){return new w1(_0.mi,this.serializer)}Du(e){return new lP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class ZP extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof hf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new w1((s=>hf.mi(s,n)),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,this.syncEngine),await IP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kP})()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),s=(function(l){return new fP(l)})(e.databaseInfo);return(function(l,c,d,f){return new yP(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new bP(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>RT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new uP})())}createSyncEngine(e,n){return(function(a,l,c,d,f,p,v){const b=new LP(a,l,c,d,f,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(Ya,"RemoteStore shutting down."),s.Ea.add(5),await Nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}py.provider={build:()=>new py};class O0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class JP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=c0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{fe(qr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(qr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=N0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await S1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e4(t);fe(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>wT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>wT(e.remoteStore,a))),t._onlineComponents=e}async function e4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(qr,"Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new ff)}}else fe(qr,"Using default OfflineComponentProvider"),await wg(t,new ZP(void 0));return t._offlineComponents}async function H1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(qr,"Using user provided OnlineComponentProvider"),await IT(t,t._uninitializedComponentsProvider._online)):(fe(qr,"Using default OnlineComponentProvider"),await IT(t,new py))),t._onlineComponents}function t4(t){return H1(t).then((e=>e.syncEngine))}async function mf(t){const e=await H1(t),n=e.eventManager;return n.onListen=UP.bind(null,e.syncEngine),n.onUnlisten=FP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HP.bind(null,e.syncEngine),n}function n4(t,e,n={}){const s=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const v=new O0({next:_=>{v.Nu(),c.enqueueAndForget((()=>D0(l,b)));const w=_.docs.has(d);!w&&_.fromCache?p.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&f&&f.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new j0(Bf(d.path),v,{includeMetadataChanges:!0,qa:!0});return I0(l,b)})(await mf(t),t.asyncQueue,e,n,s))),s.promise}function i4(t,e,n={}){const s=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const v=new O0({next:_=>{v.Nu(),c.enqueueAndForget((()=>D0(l,b))),_.fromCache&&f.source==="server"?p.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new j0(d,v,{includeMetadataChanges:!0,qa:!0});return I0(l,b)})(await mf(t),t.asyncQueue,e,n,s))),s.promise}function q1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const DT=new Map;const G1="firestore.googleapis.com",kT=!0;class jT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=kT}else this.host=e.host,this.ssl=e.ssl??kT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VO)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lV;switch(s.type){case"firstParty":return new dV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DT.get(n);s&&(fe("ComponentProvider","Removing Datastore"),DT.delete(n),s.terminate())})(this),Promise.resolve()}}function s4(t,e,n,s={}){t=zn(t,Wf);const a=Qr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Xy(`https://${d}`),Zy("Firestore",!0)),l.host!==G1&&l.host!==d&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:s};if(!Ha(f,c)&&(t._setSettings(f),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=cn.MOCK_USER;else{p=fD(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(b)}t._authCredentials=new uV(new MA(p,v))}}class qs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ac(n,xt._jsonSchema))return new xt(e,s||null,new ye(st.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Lt("string",xt._jsonSchemaVersion),referencePath:Lt("string")};class Pr extends qs{constructor(e,n,s){super(e,n,Bf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function os(t,e,...n){if(t=pt(t),VA("collection","path",e),t instanceof Wf){const s=st.fromString(e,...n);return KE(s),new Pr(t,null,s)}{if(!(t instanceof xt||t instanceof Pr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return KE(s),new Pr(t.firestore,null,s)}}function Yt(t,e,...n){if(t=pt(t),arguments.length===1&&(e=c0.newId()),VA("doc","path",e),t instanceof Wf){const s=st.fromString(e,...n);return GE(s),new xt(t,null,new ye(s))}{if(!(t instanceof xt||t instanceof Pr))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return GE(s),new xt(t.firestore,t instanceof Pr?t.converter:null,new ye(s))}}const MT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new C1(this,"async_queue_retry"),this._c=()=>{const s=Tg();s&&fe(MT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;fe(MT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",OT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=R0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:OT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function PT(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Gr extends Wf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new VT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function r4(t,e){const n=typeof t=="object"?t:jf(),s=typeof t=="string"?t:rf,a=kf(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=PS("firestore");l&&s4(a,...l)}return a}function Xf(t){if(t._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a4(t),t._firestoreClient}function a4(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new NV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,q1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(on.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Lt("string",ii._jsonSchemaVersion),bytes:Lt("string")};class Zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jf{constructor(e){this._methodName=e}}class ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Lt("string",ns._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new is(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Lt("string",is._jsonSchemaVersion),vectorValues:Lt("object")};const o4=/^__.*__$/;class l4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class K1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class P0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new P0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($1(this.Ac)&&o4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$f(e)}Cc(e,n,s,a=!1){return new P0({Ac:e,methodName:n,Dc:s,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new u4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y1(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);U0("Data must be an object, but it was:",c,s);const d=Q1(s,c);let f,p;if(l.merge)f=new Un(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=gy(e,b,n);if(!c.contains(_))throw new he(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);X1(v,_)||v.push(_)}f=new Un(v),p=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=c.fieldTransforms;return new l4(new Cn(d),f,p)}class tm extends Jf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}class L0 extends Jf{_toFieldTransform(e){return new tO(e.path,new ac)}isEqual(e){return e instanceof L0}}function c4(t,e,n,s){const a=t.Cc(1,e,n);U0("Data must be an object, but it was:",a,s);const l=[],c=Cn.empty();Xr(s,((f,p)=>{const v=z0(e,f,n);p=pt(p);const b=a.yc(v);if(p instanceof tm)l.push(v);else{const _=Dc(p,b);_!=null&&(l.push(v),c.set(v,_))}}));const d=new Un(l);return new K1(c,d,a.fieldTransforms)}function h4(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[gy(e,s,n)],f=[a];if(l.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(gy(e,l[_])),f.push(l[_+1]);const p=[],v=Cn.empty();for(let _=d.length-1;_>=0;--_)if(!X1(p,d[_])){const w=d[_];let C=f[_];C=pt(C);const I=c.yc(w);if(C instanceof tm)p.push(w);else{const D=Dc(C,I);D!=null&&(p.push(w),v.set(w,D))}}const b=new Un(p);return new K1(v,b,c.fieldTransforms)}function d4(t,e,n,s=!1){return Dc(n,t.Cc(s?4:3,e))}function Dc(t,e){if(W1(t=pt(t)))return U0("Unsupported field value:",e,t),Q1(t,e);if(t instanceof Jf)return(function(s,a){if(!$1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let f=Dc(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:cf(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(a.serializer,l)}}if(s instanceof ns)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ii)return{bytesValue:g1(a.serializer,s._byteString)};if(s instanceof xt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:b0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof is)return(function(c,d){return{mapValue:{fields:{[qA]:{stringValue:GA},[af]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return g0(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Pf(s)}`)})(t,e)}function Q1(t,e){const n={};return LA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(t,((s,a)=>{const l=Dc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function W1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof ns||t instanceof ii||t instanceof xt||t instanceof Jf||t instanceof is)}function U0(t,e,n){if(!W1(n)||!OA(n)){const s=Pf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function gy(t,e,n){if((e=pt(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return z0(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const f4=new RegExp("[~\\*/\\[\\]]");function z0(t,e,n){if(e.search(f4)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zf(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${s}`),c&&(f+=` in document ${a}`),f+=")"),new he(ne.INVALID_ARGUMENT,d+t+f)}function X1(t,e){return t.some((n=>n.isEqual(e)))}class Z1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m4 extends Z1{data(){return super.data()}}function nm(t,e){return typeof e=="string"?z0(t,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}function J1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B0{}class F0 extends B0{}function Jr(t,e,...n){let s=[];e instanceof B0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((f=>f instanceof H0)).length,d=l.filter((f=>f instanceof im)).length;if(c>1||c>0&&d>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class im extends F0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new im(e,n,s)}_apply(e){const n=this._parse(e);return eC(e._query,n),new qs(e.firestore,e.converter,ay(e._query,n))}_parse(e){const n=em(e.firestore);return(function(l,c,d,f,p,v,b){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(b,v);const C=[];for(const I of b)C.push(LT(f,l,I));_={arrayValue:{values:C}}}else _=LT(f,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(b,v),_=d4(d,c,b,v==="in"||v==="not-in");return Pt.create(p,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kc(t,e,n){const s=e,a=nm("where",t);return im._create(a,s,n)}class H0 extends B0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)eC(c,f),c=ay(c,f)})(e._query,n),new qs(e.firestore,e.converter,ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q0 extends F0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new q0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(l,c)})(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new _l(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function jc(t,e="asc"){const n=e,s=nm("orderBy",t);return q0._create(s,n)}class G0 extends F0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new G0(e,n,s)}_apply(e){return new qs(e.firestore,e.converter,lf(e._query,this._limit,this._limitType))}}function p4(t){return G0._create("limit",t,"F")}function LT(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JA(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eT(t,new ye(s))}if(n instanceof xt)return eT(t,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eC(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g4{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[af].arrayValue?.values?.map((s=>St(s.doubleValue)));return new is(n)}convertGeoPoint(e){return new ns(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=zr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ye(E1(s),9688,{name:e});const a=new ic(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function tC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends Z1{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Lt("string",La._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Hd extends La{data(e={}){return super.data(e)}}class Ua{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Uu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Hd(this._firestore,this._userDataWriter,s.key,s,new Uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Hd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Uu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Hd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Uu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:y4(d.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=c0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function ls(t){t=zn(t,xt);const e=zn(t.firestore,Gr);return n4(Xf(e),t._key).then((n=>nC(e,t,n)))}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:Lt("string",Ua._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class K0 extends g4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function Kr(t){t=zn(t,qs);const e=zn(t.firestore,Gr),n=Xf(e),s=new K0(e);return J1(t._query),i4(n,t._query).then((a=>new Ua(e,s,t,a)))}function gf(t,e,n){t=zn(t,xt);const s=zn(t.firestore,Gr),a=tC(t.converter,e,n);return $0(s,[Y1(em(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function yf(t,e,n,...s){t=zn(t,xt);const a=zn(t.firestore,Gr),l=em(a);let c;return c=typeof(e=pt(e))=="string"||e instanceof Zf?h4(l,"updateDoc",t._key,e,n,s):c4(l,"updateDoc",t._key,e),$0(a,[c.toMutation(t._key,wi.exists(!0))])}function v4(t,e){const n=zn(t.firestore,Gr),s=Yt(t),a=tC(t.converter,e);return $0(n,[Y1(em(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function b4(t,...e){t=pt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PT(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(e[s])){const f=e[s];e[s]=f.next?.bind(f),e[s+1]=f.error?.bind(f),e[s+2]=f.complete?.bind(f)}let l,c,d;if(t instanceof xt)c=zn(t.firestore,Gr),d=Bf(t._key.path),l={next:f=>{e[s]&&e[s](nC(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=zn(t,qs);c=zn(f.firestore,Gr),d=f._query;const p=new K0(c);l={next:v=>{e[s]&&e[s](new Ua(c,p,f,v))},error:e[s+1],complete:e[s+2]},J1(t._query)}return(function(p,v,b,_){const w=new O0(_),C=new j0(v,w,b);return p.asyncQueue.enqueueAndForget((async()=>I0(await mf(p),C))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>D0(await mf(p),C)))}})(Xf(c),d,a,l)}function $0(t,e){return(function(s,a){const l=new js;return s.asyncQueue.enqueueAndForget((async()=>qP(await t4(s),a,l))),l.promise})(Xf(t),e)}function nC(t,e,n){const s=n.docs.get(e._key),a=new K0(t);return new La(t,a,e._key,s,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}function vf(){return new L0("serverTimestamp")}(function(e,n=!0){(function(a){vl=a})(gl),qa(new Lr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Gr(new cV(s.getProvider("auth-internal")),new fV(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Wi(BE,FE,e),Wi(BE,FE,"esm2020")})();const x4="type.googleapis.com/google.protobuf.Int64Value",_4="type.googleapis.com/google.protobuf.UInt64Value";function iC(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function bf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>bf(e));if(typeof t=="function"||typeof t=="object")return iC(t,e=>bf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function cl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case x4:case _4:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>cl(e)):typeof t=="function"||typeof t=="object"?iC(t,e=>cl(e)):t}const Y0="functions";const zT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rn extends us{constructor(e,n,s){super(`${Y0}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,Rn.prototype)}}function E4(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function xf(t,e){let n=E4(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!zT[c])return new Rn("internal","internal");n=zT[c],s=c}const d=l.message;typeof d=="string"&&(s=d),a=l.details,a!==void 0&&(a=cl(a))}}catch{}return n==="ok"?null:new Rn(n,s,a)}class T4{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,An(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}const yy="us-central1",w4=/^data: (.*?)(?:\n|$)/;function S4(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new Rn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class A4{constructor(e,n,s,a,l=yy,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new T4(e,n,s,a),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(l);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=yy}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function C4(t,e,n){const s=Qr(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Xy(t.emulatorOrigin+"/backends"),Zy("Functions",!0))}function R4(t,e,n){const s=a=>I4(t,e,a,{});return s.stream=(a,l)=>k4(t,e,a,l),s}function sC(t){return t.emulatorOrigin&&Qr(t.emulatorOrigin)?"include":void 0}async function N4(t,e,n,s,a){n["Content-Type"]="application/json";let l;try{l=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:sC(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function rC(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function I4(t,e,n,s){const a=t._url(e);return D4(t,a,n,s)}async function D4(t,e,n,s){n=bf(n);const a={data:n},l=await rC(t,s),c=s.timeout||7e4,d=S4(c),f=await Promise.race([N4(e,a,l,t.fetchImpl,t),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new Rn("cancelled","Firebase Functions instance was deleted.");const p=xf(f.status,f.json);if(p)throw p;if(!f.json)throw new Rn("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Rn("internal","Response is missing data field.");return{data:cl(v)}}function k4(t,e,n,s){const a=t._url(e);return j4(t,a,n,s||{})}async function j4(t,e,n,s){n=bf(n);const a={data:n},l=await rC(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal,credentials:sC(t)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const C=new Rn("cancelled","Request was cancelled.");return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}const w=xf(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let d,f;const p=new Promise((_,w)=>{d=_,f=w});s?.signal?.addEventListener("abort",()=>{const _=new Rn("cancelled","Request was cancelled.");f(_)});const v=c.body.getReader(),b=M4(v,d,f,s?.signal);return{stream:{[Symbol.asyncIterator](){const _=b.getReader();return{async next(){const{value:w,done:C}=await _.read();return{value:w,done:C}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:p}}function M4(t,e,n,s){const a=(c,d)=>{const f=c.match(w4);if(!f)return;const p=f[1];try{const v=JSON.parse(p);if("result"in v){e(cl(v.result));return}if("message"in v){d.enqueue(cl(v.message));return}if("error"in v){const b=xf(0,v);d.error(b),n(b);return}}catch(v){if(v instanceof Rn){d.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(c){let d="";return f();async function f(){if(s?.aborted){const p=new Rn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:v}=await t.read();if(v){d.trim()&&a(d.trim(),c),c.close();return}if(s?.aborted){const _=new Rn("cancelled","Request was cancelled");c.error(_),n(_),await t.cancel();return}d+=l.decode(p,{stream:!0});const b=d.split(`
`);d=b.pop()||"";for(const _ of b)_.trim()&&a(_.trim(),c);return f()}catch(p){const v=p instanceof Rn?p:xf(0,null);c.error(v),n(v)}}},cancel(){return t.cancel()}})}const BT="@firebase/functions",FT="0.13.1";const V4="auth-internal",O4="app-check-internal",P4="messaging-internal";function L4(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(V4),c=n.getProvider(P4),d=n.getProvider(O4);return new A4(a,l,c,d,s)};qa(new Lr(Y0,e,"PUBLIC").setMultipleInstances(!0)),Wi(BT,FT,t),Wi(BT,FT,"esm2020")}function U4(t=jf(),e=yy){const s=kf(pt(t),Y0).getImmediate({identifier:e}),a=PS("functions");return a&&z4(s,...a),s}function z4(t,e,n){C4(pt(t),e,n)}function _f(t,e,n){return R4(pt(t),e)}L4();const B4={apiKey:"AIzaSyDERq4e6x6pkVvlQEdLdQU0464SVyb_hrE",authDomain:"immobot-dc818.firebaseapp.com",projectId:"immobot-dc818",storageBucket:"immobot-dc818.firebasestorage.app",messagingSenderId:"601427046911",appId:"1:601427046911:web:c8248a89433a711ef8b7ca"},aC=Ik().length?jf():FS(B4),uc=AA(aC),it=r4(aC),Ef=U4(void 0,"europe-west1"),oC=A.createContext(null),Fn=()=>A.useContext(oC);function F4({children:t}){const[e,n]=A.useState(null),[s,a]=A.useState(null),[l,c]=A.useState(!1);A.useEffect(()=>{const f=$j(uc,async p=>{if(n(p||null),p){const v=await ls(Yt(it,"users",p.uid));a(v.exists()&&v.data()?.role||null)}else a(null);c(!0)});return()=>f()},[]);const d={user:e,role:s,ready:l,logout:()=>Yj(uc)};return g.jsx(oC.Provider,{value:d,children:t})}function Q0(){const{user:t,role:e,logout:n,ready:s}=Fn(),[a,l]=A.useState(!1),c=A.useRef(null);if(A.useEffect(()=>{function v(b){c.current&&!c.current.contains(b.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),!s||!t)return null;const d=e==="admin",f=t?.firstName||t?.email?.split("@")[0]||"U",p=f.charAt(0).toUpperCase();return g.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:g.jsxs("div",{className:"flex justify-between items-center h-full",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs(rn,{to:"/dashboard",className:"flex items-center gap-2 group",children:[g.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-sm group-hover:bg-indigo-700 transition",children:"I"}),g.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Immobot"})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[g.jsx(HT,{to:"/dashboard",children:"Dashboard"}),d&&g.jsx(HT,{to:"/admin",activeColor:"text-indigo-600",children:"Admin"})]})]}),g.jsxs("div",{className:"relative ml-auto",ref:c,children:[g.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-3 p-1 rounded-full hover:bg-gray-100 transition focus:outline-none focus:ring-2 focus:ring-indigo-500/20",children:[g.jsxs("div",{className:"hidden sm:block text-right mr-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700 leading-none",children:f}),g.jsx("p",{className:"text-xs text-gray-400 mt-1 uppercase tracking-wide",children:d?"Admin":"User"})]}),g.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white",children:p})]}),a&&g.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-2",children:[g.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 sm:hidden",children:[g.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),g.jsx(rn,{to:"/dashboard/profile",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",children:"Mein Profil"}),d&&g.jsx(rn,{to:"/admin",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 md:hidden",children:"Admin Bereich"}),g.jsx("div",{className:"my-1 border-t border-gray-100"}),g.jsx("button",{onClick:n,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Abmelden"})]})]})]})})})}function HT({to:t,children:e,activeColor:n="text-gray-900"}){return g.jsx(rn,{to:t,className:`text-sm font-medium text-gray-500 hover:${n} hover:bg-gray-50 px-3 py-2 rounded-md transition-all`,children:e})}function H4(){const t=Bs(),n=!["/login"].includes(t.pathname);return g.jsxs("div",{className:"min-h-screen ",children:[n&&g.jsx(Q0,{}),g.jsx("main",{className:"min-h-[calc(100vh-64px)]",children:g.jsx(Yy,{})})]})}function q4(){return g.jsxs("div",{className:"min-h-screen",children:[g.jsx(Q0,{}),g.jsx("main",{className:"p-6",children:g.jsx(Yy,{})})]})}function G4(){return g.jsxs("div",{className:"min-h-screen",children:[g.jsx(Q0,{}),g.jsx("main",{className:"p-6",children:g.jsx(Yy,{})})]})}function cc({value:t}){return t==null?g.jsx("span",{className:"text-gray-400",children:""}):typeof t?.toDate=="function"?g.jsx("span",{children:t.toDate().toLocaleString("de-DE")}):Array.isArray(t)?g.jsx("ul",{className:"list-disc ml-5 space-y-1",children:t.map((e,n)=>g.jsx("li",{children:g.jsx(cc,{value:e})},n))}):typeof t=="object"?g.jsx("div",{className:"space-y-1 ml-4 border-l pl-3",children:Object.entries(t).map(([e,n])=>g.jsxs("div",{children:[g.jsx("div",{className:"text-xs text-gray-500",children:e}),g.jsx(cc,{value:n})]},e))}):typeof t=="boolean"?g.jsx("span",{children:t?"Ja":"Nein"}):g.jsx("span",{children:String(t)})}function K4({user:t}){const e=t.stripeStatus||"unbekannt",n=e==="paid"||e==="active",a=n?"bg-emerald-500":e==="canceled"?"bg-red-500":"bg-gray-400",l=t.stripeCustomerId?`https://dashboard.stripe.com/customers/${t.stripeCustomerId}`:null;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${a} relative z-10`}),n&&g.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-400 animate-ping opacity-75"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Abo-Status"}),g.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:e})]})]}),g.jsxs("div",{className:"sm:text-right",children:[g.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Letzte Zahlung"}),g.jsx("p",{className:"text-sm font-mono text-gray-700",children:t.stripeLastPayment?new Date(t.stripeLastPayment).toLocaleDateString("de-DE"):""})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Sg,{label:"Stripe Customer ID",value:t.stripeCustomerId,icon:g.jsx($4,{})}),g.jsx(Sg,{label:"Subscription ID",value:t.stripeSubscriptionId,icon:g.jsx(Y4,{})}),g.jsx("div",{className:"md:col-span-2",children:g.jsx(Sg,{label:"Checkout Session ID",value:t.stripeCheckoutSessionId,icon:g.jsx(Q4,{}),isWide:!0})})]}),l&&g.jsx("div",{className:"pt-2 border-t border-gray-100",children:g.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors group",children:["Kunde im Stripe Dashboard ffnen",g.jsx("svg",{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})}function Sg({label:t,value:e,icon:n,isWide:s}){const[a,l]=A.useState(!1),c=()=>{e&&(navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3))};return g.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-3 hover:border-indigo-300 transition-all duration-200",children:[g.jsxs("div",{className:"flex items-start justify-between mb-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[n,g.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t})]}),e&&g.jsx("button",{onClick:c,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-indigo-600",title:"Kopieren",children:a?g.jsx("span",{className:"text-[10px] font-bold text-green-600",children:"Kopiert!"}):g.jsx(W4,{})})]}),g.jsx("div",{className:`text-xs font-mono text-gray-700 truncate ${s?"w-full":"max-w-[200px]"}`,title:e,children:e||g.jsx("span",{className:"text-gray-300 italic",children:"Nicht vorhanden"})})]})}function $4(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function Y4(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}function Q4(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function W4(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function X4(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Radius: ${s} km`),(a!==""||l!=="")&&c.push(`Preis: ${a||"0"}${l||""}`),c.join("  ")}function Z4({uid:t}){const[e,n]=A.useState([]),[s,a]=A.useState(!0),[l,c]=A.useState({});A.useEffect(()=>{if(!t)return;(async()=>{try{const p=Jr(os(it,"searchEvents"),kc("uid","==",t),jc("createdAt","desc")),b=(await Kr(p)).docs.map(w=>({id:w.id,...w.data(),createdAtDate:w.data().createdAt?.toDate?w.data().createdAt.toDate():null}));n(b);const _={};b.forEach(w=>_[w.id]=!1),c(_)}catch(p){console.error("Error loading search history:",p)}finally{a(!1)}})()},[t]);const d=f=>{const p={};e.forEach(v=>p[v.id]=f),c(p)};return s?g.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsxs("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:[e.length," ",e.length===1?"Eintrag":"Eintrge"]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"Alle ffnen"}),g.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-xs font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Alle schlieen"})]})]}),g.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white shadow-sm",children:g.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar divide-y divide-gray-100",children:e.map(f=>{let p=null;try{p=f.search?JSON.parse(f.search):null}catch{p={raw:f.search}}const v=!!l[f.id],b=X4(p);return g.jsxs("div",{className:"group bg-white transition-colors",children:[g.jsxs("button",{type:"button",onClick:()=>c(_=>({..._,[f.id]:!_[f.id]})),className:`w-full text-left px-4 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors ${v?"bg-gray-50":""}`,children:[g.jsx("div",{className:`p-1.5 rounded-md text-gray-400 transition-transform duration-200 ${v?"rotate-90 text-indigo-600 bg-indigo-50":"group-hover:text-gray-600"}`,children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-baseline gap-2 mb-0.5",children:[g.jsx("span",{className:"text-xs font-bold text-gray-900",children:f.createdAtDate?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})||""}),g.jsx("span",{className:"text-[10px] text-gray-400",children:f.createdAtDate?.toLocaleDateString("de-DE")||""})]}),g.jsx("div",{className:"text-sm text-gray-600 truncate pr-4",children:b||g.jsx("span",{className:"italic text-gray-400",children:"Leere Suche / Filter reset"})})]}),g.jsx("div",{className:"hidden sm:block",children:g.jsx("span",{className:"text-[10px] font-mono text-gray-300 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 group-hover:border-gray-200 group-hover:text-gray-400 transition-colors",children:f.id.slice(0,6)})})]}),v&&g.jsx("div",{className:"px-4 pb-4 pl-[3.25rem] bg-gray-50 border-t border-gray-100",children:g.jsx("div",{className:"mt-3 text-sm bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:p?g.jsx(cc,{value:p}):g.jsx("div",{className:"text-gray-400 italic",children:"Keine validen Daten gefunden."})})})]},f.id)})})}),g.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
      `})]}):g.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function J4(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Rad: ${s} km`),(a!==""||l!=="")&&c.push(` ${a}${l}`),c.join("  ")}function eL({uid:t}){const[e,n]=A.useState([]),[s,a]=A.useState(!0);return A.useEffect(()=>{if(!t)return;(async()=>{try{const c=Jr(os(it,"searchEvents"),kc("uid","==",t),jc("createdAt","desc")),f=(await Kr(c)).docs.map(p=>({id:p.id,...p.data(),createdAtDate:p.data().createdAt?.toDate?p.data().createdAt.toDate():null}));n(f)}catch(c){console.error("Error loading search history:",c)}finally{a(!1)}})()},[t]),s?g.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?g.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[g.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:g.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider w-32",children:"Zeitpunkt"}),g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider",children:"Such-Parameter (Vorschau)"}),g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider text-right w-16",children:"Details"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(l=>g.jsx(tL,{ev:l},l.id))})]})}),g.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f9fafb; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      `})]}):g.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function tL({ev:t}){const[e,n]=A.useState(!1);let s=null;try{s=t.search?JSON.parse(t.search):null}catch{s={raw:t.search}}const a=J4(s);return g.jsxs(A.Fragment,{children:[g.jsxs("tr",{onClick:()=>n(!e),className:`cursor-pointer transition-colors ${e?"bg-indigo-50/50":"hover:bg-gray-50"}`,children:[g.jsx("td",{className:"px-4 py-3 font-mono text-xs text-gray-700 align-top",children:t.createdAtDate?g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-gray-900",children:t.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}),g.jsx("span",{className:"text-[10px] text-gray-400",children:t.createdAtDate.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}):g.jsx("span",{className:"text-gray-400",children:""})}),g.jsx("td",{className:"px-4 py-3 align-middle",children:g.jsx("div",{className:"text-sm text-gray-700 truncate max-w-md",children:a||g.jsx("span",{className:"text-gray-400 italic",children:"Filter zurckgesetzt / Leer"})})}),g.jsx("td",{className:"px-4 py-3 text-right align-middle",children:g.jsx("button",{className:`text-gray-400 transition-transform duration-200 ${e?"rotate-180 text-indigo-600":""}`,children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),e&&g.jsx("tr",{className:"bg-gray-50 shadow-inner",children:g.jsx("td",{colSpan:"3",className:"px-4 py-4 border-b border-gray-100",children:g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-xs",children:[g.jsx("h4",{className:"font-bold text-gray-500 uppercase tracking-wider mb-2 text-[10px]",children:"Vollstndige Suchdaten"}),s?g.jsx(cc,{value:s}):g.jsx("span",{className:"text-gray-400",children:"Keine Daten verfgbar"})]})})})]})}function nL(){const{uid:t}=SS(),[e,n]=A.useState(null),[s,a]=A.useState(!0),[l,c]=A.useState(null);A.useEffect(()=>{(async()=>{try{const O=await ls(Yt(it,"users",t));if(!O.exists()){c("User nicht gefunden");return}n({uid:t,...O.data()})}catch(O){console.error(O),c("Fehler beim Laden des Users")}finally{a(!1)}})()},[t]);const d=D=>{navigator.clipboard.writeText(D)};if(s)return g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-500",children:"Lade Profil..."});if(l)return g.jsx("div",{className:"p-10 text-center text-red-600 font-bold",children:l});const f=e.firstName??e.FirstName??"Unbekannt",p=e.lastName??e.LastName??"",v=e.email??e.Email??"",b=e.role??"user",_=e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString("de-DE"):"",w=e.stripeStatus||"free",I=w==="paid"||w==="active"?"bg-emerald-100 text-emerald-700 border-emerald-200":w==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10",children:g.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[g.jsx("div",{children:g.jsxs(rn,{to:"/admin/users",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors mb-4",children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Zurck zur bersicht"]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[g.jsxs("div",{className:"space-y-6 lg:sticky lg:top-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"h-24 bg-gradient-to-r from-indigo-500 to-blue-600"}),g.jsxs("div",{className:"px-6 pb-6 relative",children:[g.jsx("div",{className:"-mt-12 mb-4",children:g.jsx("div",{className:"h-24 w-24 rounded-full bg-white p-1 shadow-md",children:g.jsxs("div",{className:"h-full w-full rounded-full bg-gray-100 flex items-center justify-center text-2xl font-bold text-gray-400 uppercase",children:[f[0],p[0]]})})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[f," ",p]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[g.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide border ${I}`,children:w}),g.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide bg-blue-50 text-blue-700 border border-blue-100",children:b})]})]}),g.jsxs("div",{className:"mt-6 space-y-4",children:[g.jsx(qT,{label:"E-Mail",value:v,icon:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsxs("div",{className:"group",children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"User ID"}),g.jsxs("div",{onClick:()=>d(e.uid),className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors",title:"Klicken zum Kopieren",children:[g.jsx("code",{className:"text-xs text-gray-600 font-mono truncate mr-2",children:e.uid}),g.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]})]}),g.jsx(qT,{label:"Mitglied seit",value:_,icon:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[g.jsx("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Aktiver Suchfilter"}),e.lastSearch?g.jsx("div",{className:"text-sm",children:g.jsx(cc,{value:e.lastSearch})}):g.jsx("div",{className:"text-sm text-gray-400 italic",children:"Kein Filter gesetzt."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsx(Ag,{title:"Zahlungen & Abos",children:g.jsx(K4,{user:e})}),g.jsx(Ag,{title:"Klick-Historie",children:g.jsx(eL,{uid:e.uid})}),g.jsx(Ag,{title:"Such-Verlauf",children:g.jsx(Z4,{uid:e.uid})})]})]})]})})}function Ag({title:t,children:e}){return g.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/30",children:g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t})}),g.jsx("div",{className:"p-6",children:e})]})}function qT({label:t,value:e,icon:n}){return g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-0.5",children:t}),g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[n&&g.jsx("span",{className:"text-gray-400",children:n}),e]})]})}function iL(){const[t,e]=A.useState([]),[n,s]=A.useState(!0),[a,l]=A.useState(""),[c,d]=A.useState({key:"createdAt",direction:"desc"});A.useEffect(()=>{(async()=>{const _=Jr(os(it,"users"),jc("createdAt","desc")),C=(await Kr(_)).docs.map(I=>({uid:I.id,...I.data(),firstName:I.data().firstName??I.data().FirstName??"",lastName:I.data().lastName??I.data().LastName??"",email:I.data().email??I.data().Email??"",stripeStatus:I.data().stripeStatus??"",createdAtDate:I.data().createdAt?.toDate?I.data().createdAt.toDate():null}));e(C),s(!1)})()},[]);const f=A.useMemo(()=>{let b=t.filter(_=>`${_.firstName} ${_.lastName} ${_.email}`.toLowerCase().includes(a.toLowerCase()));return c.key&&b.sort((_,w)=>{let C=_[c.key],I=w[c.key];return c.key==="createdAt"&&(C=_.createdAtDate||new Date(0),I=w.createdAtDate||new Date(0)),typeof C=="string"&&(C=C.toLowerCase()),typeof I=="string"&&(I=I.toLowerCase()),C<I?c.direction==="asc"?-1:1:C>I?c.direction==="asc"?1:-1:0}),b},[t,a,c]),p=b=>{let _="asc";c.key===b&&c.direction==="asc"&&(_="desc"),d({key:b,direction:_})},v=({column:b})=>c.key!==b?g.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50",children:""}):g.jsx("span",{className:"ml-2 text-indigo-600",children:c.direction==="asc"?"":""});return n?g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Benutzerdaten..."}):g.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Userbersicht"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[f.length," Benutzer gefunden"]})]}),g.jsxs("div",{className:"relative w-full md:w-72",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"Suchen (Name, E-Mail)...",value:a,onChange:b=>l(b.target.value)})]})]}),g.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:g.jsx("div",{className:"overflow-auto flex-1",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>p("firstName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Name ",g.jsx(v,{column:"firstName"})]}),g.jsxs("th",{onClick:()=>p("email"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["E-Mail ",g.jsx(v,{column:"email"})]}),g.jsxs("th",{onClick:()=>p("stripeStatus"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Status ",g.jsx(v,{column:"stripeStatus"})]}),g.jsxs("th",{onClick:()=>p("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Erstellt am ",g.jsx(v,{column:"createdAt"})]}),g.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Aktion"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:f.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-500",children:"Keine Benutzer gefunden."})}):f.map(b=>{const _=b.stripeStatus==="paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":b.stripeStatus==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:g.jsxs("div",{className:"flex items-center",children:[g.jsxs("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs mr-3",children:[b.firstName?.[0]||"?",b.lastName?.[0]||""]}),`${b.firstName} ${b.lastName}`.trim()||"Unbekannt"]})}),g.jsx("td",{className:"px-6 py-4 text-gray-500",children:b.email}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${_}`,children:b.stripeStatus})}),g.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:b.createdAtDate?.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})??""}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx(rn,{to:`/admin/user/${b.uid}`,className:"text-indigo-600 hover:text-indigo-900 font-medium text-xs border border-indigo-200 hover:border-indigo-400 px-3 py-1.5 rounded-lg transition-all",children:"Verwalten"})})]},b.uid)})})]})})})]})}function sL(){const[t,e]=A.useState(""),[n,s]=A.useState(""),[a,l]=A.useState(""),[c,d]=A.useState(""),[f,p]=A.useState(!1),[v,b]=A.useState(!1),[_,w]=A.useState(""),[C,I]=A.useState(!1),[D,O]=A.useState(""),F=Fs(),q=async X=>{X.preventDefault(),l(""),d(""),p(!0);try{await Fj(uc,t.trim(),n),F("/dashboard")}catch(k){l("Login fehlgeschlagen. Bitte E-Mail und Passwort prfen."),console.error(k)}finally{p(!1)}},oe=()=>{O(""),w(t.trim()),b(!0)},J=async X=>{X.preventDefault(),O(""),l(""),d("");const k=_.trim().toLowerCase();if(!k||!k.includes("@")){O("Bitte gib eine gltige E-Mail-Adresse ein.");return}I(!0);try{await pA(uc,k),O("Reset-Link wurde versendet. Bitte prfe dein Postfach.")}catch(R){console.error(R),O("Wenn die E-Mail existiert, bekommst du gleich einen Reset-Link.")}finally{I(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-sky-100 px-4",children:[g.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute -top-32 -left-24 h-80 w-80 rounded-full bg-sky-300/50 blur-3xl"}),g.jsx("div",{className:"absolute bottom-[-60px] right-[-40px] h-80 w-80 rounded-full bg-indigo-300/50 blur-3xl"}),g.jsx("div",{className:"absolute top-1/2 -right-24 h-64 w-64 -translate-y-1/2 rounded-full bg-emerald-200/60 blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs text-slate-600 border border-slate-200 shadow-sm",children:[g.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-sky-500 text-[9px] font-bold text-white",children:"I"}),g.jsx("span",{children:"Immobot  Login"})]}),g.jsx("h1",{className:"mt-4 text-3xl font-semibold text-slate-900",children:"Willkommen zurck"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Melde dich an, um deine Immobot-Suche und gespeicherten Filter fortzusetzen."})]}),g.jsxs("div",{className:"rounded-2xl bg-white/95 border border-slate-200 shadow-xl backdrop-blur-sm p-6",children:[g.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a&&g.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),c&&g.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:c}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"E-Mail"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"email",placeholder:"beispiel@immobot.pro",value:t,onChange:X=>e(X.target.value),autoComplete:"email",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"Passwort"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"password",placeholder:"",value:n,onChange:X=>s(X.target.value),autoComplete:"current-password",required:!0})]}),g.jsx("div",{className:"-mt-1 text-right",children:g.jsx("button",{type:"button",onClick:oe,className:"text-xs font-medium text-sky-600 hover:text-sky-500",children:"Passwort vergessen?"})}),g.jsx("button",{className:"mt-2 w-full rounded-lg bg-sky-600 py-2.5 text-sm font-medium text-white shadow-md shadow-sky-400/40 hover:bg-sky-500 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:f,children:f?"Einloggen":"Einloggen"})]}),g.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Noch kein Account?"," ",g.jsx(rn,{to:"/register",className:"font-medium text-sky-600 hover:text-sky-500",children:"Jetzt registrieren"})]})]}),g.jsx("p",{className:"mt-6 text-center text-[11px] text-slate-400",children:"Mit dem Login akzeptierst du unsere Nutzungsbedingungen & Datenschutzerklrung."})]}),v&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[g.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-md",onClick:()=>b(!1)}),g.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white/95 border border-slate-200 shadow-xl backdrop-blur-sm p-6",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Passwort zurcksetzen"}),g.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Wir schicken dir einen Reset-Link per E-Mail."})]}),g.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600","aria-label":"Schlieen",children:""})]}),g.jsxs("form",{onSubmit:J,className:"mt-5 space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"E-Mail"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"email",placeholder:"beispiel@immobot.pro",value:_,onChange:X=>w(X.target.value),autoComplete:"email",required:!0})]}),D&&g.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:D}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{type:"button",onClick:()=>b(!1),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Abbrechen"}),g.jsx("button",{disabled:C,className:"rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-md shadow-sky-400/40 hover:bg-sky-500 transition disabled:opacity-60 disabled:cursor-not-allowed",children:C?"Sende":"Reset-Link senden"})]})]})]})]})]})}function rL(){const[t,e]=A.useState([]),[n,s]=A.useState({}),[a,l]=A.useState(!0),[c,d]=A.useState(""),[f,p]=A.useState({key:"timestamp",direction:"desc"});A.useEffect(()=>{const _=Jr(os(it,"clickEvents"),jc("timestamp","desc"),p4(100)),w=b4(_,C=>{const I=C.docs.map(D=>({id:D.id,...D.data(),redirectId:D.data().redirectId||"",source:D.data().source||"",timestampDate:D.data().timestamp?.toDate?D.data().timestamp.toDate():new Date(0)}));e(I),l(!1)});return()=>w()},[]),A.useEffect(()=>{if(!t.length)return;const w=[...new Set(t.map(I=>I.userId).filter(Boolean))].filter(I=>!n[I]);if(!w.length)return;(async()=>{const I={...n};await Promise.all(w.map(async D=>{try{const O=await ls(Yt(it,"users",D));if(O.exists()){const F=O.data();I[D]={firstName:F.firstName??"",lastName:F.lastName??"",email:F.email??""}}else I[D]={firstName:"Gelscht",lastName:"",email:""}}catch{I[D]={firstName:"Fehler",lastName:"",email:""}}})),s(I)})()},[t]);const v=A.useMemo(()=>{let _=t.map(w=>{const C=n[w.userId]||{},I=`${C.firstName||""} ${C.lastName||""}`.trim();return{...w,userLabel:I||w.userId||"Gast",userEmail:C.email||""}});if(c){const w=c.toLowerCase();_=_.filter(C=>C.userLabel.toLowerCase().includes(w)||C.userEmail.toLowerCase().includes(w)||C.redirectId.toLowerCase().includes(w)||C.source.toLowerCase().includes(w))}return f.key&&_.sort((w,C)=>{let I=w[f.key],D=C[f.key];return f.key==="timestamp"&&(I=w.timestampDate,D=C.timestampDate),typeof I=="string"&&(I=I.toLowerCase()),typeof D=="string"&&(D=D.toLowerCase()),I<D?f.direction==="asc"?-1:1:I>D?f.direction==="asc"?1:-1:0}),_},[t,n,c,f]),b=_=>{let w="asc";f.key===_&&f.direction==="asc"&&(w="desc"),p({key:_,direction:w})};return a?g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Events"}):g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col h-[600px]",children:[g.jsxs("div",{className:"p-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Letzte Aktivitten"}),g.jsxs("p",{className:"text-xs text-gray-500",children:[v.length," Events angezeigt"]})]}),g.jsx("div",{className:"relative w-full sm:w-64",children:g.jsx("input",{type:"text",placeholder:"Suche (User, Redirect, Quelle)",value:c,onChange:_=>d(_.target.value),className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})})]}),g.jsx("div",{className:"overflow-auto custom-scrollbar flex-1 rounded-b-2xl",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 text-gray-700 sticky top-0 z-10 border-b border-gray-200",children:g.jsxs("tr",{children:[g.jsx(_d,{label:"Zeitpunkt",sortKey:"timestamp",currentSort:f,onSort:b}),g.jsx(_d,{label:"User",sortKey:"userLabel",currentSort:f,onSort:b}),g.jsx(_d,{label:"Redirect",sortKey:"redirectId",currentSort:f,onSort:b}),g.jsx(_d,{label:"Quelle",sortKey:"source",currentSort:f,onSort:b})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:v.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-400",children:"Keine Events gefunden."})}):v.map(_=>{const w=n[_.userId];return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-3 font-mono text-xs text-gray-500",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-gray-700",children:_.timestampDate.toLocaleTimeString("de-DE")}),g.jsx("span",{className:"opacity-70",children:_.timestampDate.toLocaleDateString("de-DE")})]})}),g.jsx("td",{className:"px-6 py-3",children:_.userId?g.jsxs("div",{className:"flex flex-col",children:[g.jsx(rn,{to:`/admin/user/${_.userId}`,className:"text-indigo-600 font-medium hover:underline text-xs sm:text-sm",children:_.userLabel}),w?.email&&g.jsx("span",{className:"text-[10px] text-gray-400",children:w.email})]}):g.jsx("span",{className:"text-gray-400 italic text-xs",children:"Gast"})}),g.jsx("td",{className:"px-6 py-3",children:_.redirectId?g.jsxs(rn,{to:`/admin/offers/${_.redirectId}`,className:"font-mono text-xs bg-indigo-50 px-2 py-1 rounded text-indigo-700 border border-indigo-100 hover:bg-indigo-100 transition",title:_.redirectId,children:[_.redirectId.slice(0,10),""]}):""}),g.jsx("td",{className:"px-6 py-3",children:g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-indigo-50 text-indigo-700 border border-indigo-100",children:_.source})})]},_.id)})})]})})]})}function _d({label:t,sortKey:e,currentSort:n,onSort:s}){const a=n.key===e,l=n.direction==="asc";return g.jsx("th",{onClick:()=>s(e),className:"px-6 py-3 text-xs font-semibold uppercase tracking-wider cursor-pointer select-none group hover:bg-gray-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-1",children:[t,g.jsxs("span",{className:`text-[10px] flex flex-col leading-none ml-1 ${a?"text-indigo-600":"text-gray-300 group-hover:text-gray-400"}`,children:[g.jsx("span",{className:a&&l?"opacity-100":"opacity-50",children:""}),g.jsx("span",{className:a&&!l?"opacity-100":"opacity-50",children:""})]})]})})}function aL(){const[t,e]=A.useState({today:0,total:0,topOffer:{id:"",count:0}});return A.useEffect(()=>{async function n(){const s=new Date;s.setHours(0,0,0,0);const a=Jr(os(it,"clickEvents"),kc("timestamp",">=",s)),l=await Kr(a),c={};l.docs.forEach(p=>{const v=p.data().offerId||p.data().offer_id||"Unbekannt";c[v]=(c[v]||0)+1});let d="",f=0;Object.entries(c).forEach(([p,v])=>{v>f&&(f=v,d=p)}),e({today:l.size,total:"Live",topOffer:{id:d,count:f}})}n()},[]),g.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10 flex flex-col space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Click-Events & Analyse"}),g.jsx("p",{className:"text-gray-500 mt-1",children:"Echtzeit-Tracking aller User-Interaktionen."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(Cg,{title:"Klicks Heute",value:t.today,icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),color:"text-blue-600 bg-blue-50"}),g.jsx(Cg,{title:"Top Offer (Heute)",value:t.topOffer.id,subValue:`${t.topOffer.count} Klicks`,icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),color:"text-emerald-600 bg-emerald-50"}),g.jsx(Cg,{title:"Live Feed",value:"Aktiv",icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"}),color:"text-purple-600 bg-purple-50"})]}),g.jsx("div",{className:"flex-1 min-h-0",children:g.jsx(rL,{})})]})}function Cg({title:t,value:e,subValue:n,icon:s,color:a}){return g.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm flex items-center justify-between transition-transform hover:-translate-y-1",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),g.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1 truncate max-w-[200px]",title:e,children:e}),n&&g.jsx("p",{className:"text-xs font-semibold text-emerald-600 mt-1",children:n})]}),g.jsx("div",{className:`p-3 rounded-xl ${a}`,children:g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s})})]})}function oL(){const[t,e]=A.useState([]),[n,s]=A.useState({}),[a,l]=A.useState({}),[c,d]=A.useState(!0),[f,p]=A.useState(""),[v,b]=A.useState({key:"createdAt",direction:"desc"});A.useEffect(()=>{(async()=>{const O=(await Kr(Jr(os(it,"offerRedirects"),jc("createdAt","desc")))).docs.map(X=>({docId:X.id,...X.data(),title:X.data().title||"",vendorName:X.data().vendor?.name||"",source:X.data().source||"System",price:Number(X.data().price)||0,rooms:Number(X.data().rooms)||0,createdAtDate:X.data().createdAt?.toDate?X.data().createdAt.toDate():new Date(0)})),F=[...new Set(O.map(X=>X.uid).filter(Boolean))],q={};await Promise.all(F.map(async X=>{const k=await ls(Yt(it,"users",X));if(k.exists()){const R=k.data();q[X]={firstName:R.firstName??"",lastName:R.lastName??"",email:R.email??""}}}));const oe=await Kr(os(it,"clickEvents")),J={};oe.docs.forEach(X=>{const k=X.data().redirectId;k&&(J[k]=(J[k]||0)+1)}),e(O),s(q),l(J),d(!1)})()},[]);const _=A.useMemo(()=>{let I=t.map(D=>{const O=n[D.uid]||{},F=`${O.firstName||""} ${O.lastName||""}`.trim();return{...D,userName:F||"Unbekannt",userEmail:O.email||"",clicks:a[D.docId]||0}});if(f){const D=f.toLowerCase();I=I.filter(O=>O.title.toLowerCase().includes(D)||O.vendorName.toLowerCase().includes(D)||O.userName.toLowerCase().includes(D)||O.userEmail.toLowerCase().includes(D))}return v.key&&I.sort((D,O)=>{let F=D[v.key],q=O[v.key];return v.key==="createdAt"&&(F=D.createdAtDate,q=O.createdAtDate),typeof F=="string"&&(F=F.toLowerCase()),typeof q=="string"&&(q=q.toLowerCase()),F<q?v.direction==="asc"?-1:1:F>q?v.direction==="asc"?1:-1:0}),I},[t,n,a,f,v]),w=I=>{let D="asc";v.key===I&&v.direction==="asc"&&(D="desc"),b({key:I,direction:D})},C=({column:I})=>v.key!==I?g.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50 transition-opacity",children:""}):g.jsx("span",{className:"ml-2 text-indigo-600 font-bold",children:v.direction==="asc"?"":""});return c?g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Angebote..."}):g.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Offer Redirects"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[_.length," Eintrge gefunden"]})]}),g.jsxs("div",{className:"relative w-full md:w-80",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Suchen (Titel, User, Anbieter)...",value:f,onChange:I=>p(I.target.value)})]})]}),g.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:g.jsx("div",{className:"overflow-auto flex-1",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>w("title"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Titel ",g.jsx(C,{column:"title"})]}),g.jsxs("th",{onClick:()=>w("price"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Preis ",g.jsx(C,{column:"price"})]}),g.jsxs("th",{onClick:()=>w("rooms"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Zi. ",g.jsx(C,{column:"rooms"})]}),g.jsxs("th",{onClick:()=>w("clicks"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Klicks ",g.jsx(C,{column:"clicks"})]}),g.jsxs("th",{onClick:()=>w("userName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["User ",g.jsx(C,{column:"userName"})]}),g.jsxs("th",{onClick:()=>w("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Datum ",g.jsx(C,{column:"createdAt"})]}),g.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Link"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(I=>g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsxs("td",{className:"px-6 py-4",children:[g.jsx(rn,{to:`/admin/offers/${I.docId}`,className:"font-medium text-indigo-600 hover:underline block max-w-[180px] truncate",title:I.title,children:I.title||""}),g.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:I.vendorName||"Unbekannt"})]}),g.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:I.price>0?`${I.price} `:""}),g.jsx("td",{className:"px-6 py-4 text-gray-600",children:I.rooms||""}),g.jsx("td",{className:"px-6 py-4 font-mono text-gray-700 text-center",children:I.clicks}),g.jsx("td",{className:"px-6 py-4",children:I.uid?g.jsxs("div",{className:"flex flex-col",children:[g.jsx(rn,{to:`/admin/user/${I.uid}`,className:"text-indigo-600 font-medium hover:underline",children:I.userName}),g.jsx("span",{className:"text-xs text-gray-400",children:I.userEmail})]}):g.jsx("span",{className:"text-gray-400 italic",children:"Gast"})}),g.jsxs("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:[I.createdAtDate.toLocaleDateString("de-DE"),g.jsxs("span",{className:"text-gray-400",children:[" "," | ",I.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]})]}),g.jsx("td",{className:"px-6 py-4 text-right",children:I.redirectUrl?g.jsx("a",{href:I.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 hover:bg-indigo-100 border border-indigo-100 transition-all",children:""}):""})]},I.docId))})]})})})]})}function lL(){const{offerId:t}=SS(),[e,n]=A.useState(null),[s,a]=A.useState([]),[l,c]=A.useState(!0);return A.useEffect(()=>{(async()=>{const f=await ls(Yt(it,"offerRedirects",t));f.exists()&&n({id:f.id,...f.data()});const p=Jr(os(it,"clickEvents"),kc("redirectId","==",t)),v=await Kr(p);a(v.docs.map(b=>({id:b.id,...b.data()}))),c(!1)})()},[t]),l?g.jsx("div",{className:"p-10",children:"Lade Offer"}):e?g.jsxs("div",{className:"p-8 space-y-6 max-w-5xl",children:[g.jsx("h1",{className:"text-2xl font-bold",children:e.title}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("b",{children:"Preis:"})," ",e.price," "]}),g.jsxs("div",{children:[g.jsx("b",{children:"Zimmer:"})," ",e.rooms]}),g.jsxs("div",{children:[g.jsx("b",{children:"Quelle:"})," ",e.source]}),g.jsxs("div",{children:[g.jsx("b",{children:"Vendor:"})," ",e.vendor?.name]})]}),g.jsx("a",{href:e.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-block px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Anzeige ffnen "}),g.jsx("hr",{}),g.jsxs("h2",{className:"text-lg font-semibold",children:["Klicks (",s.length,")"]}),g.jsx("ul",{className:"text-sm space-y-1",children:s.map(d=>g.jsxs("li",{className:"text-gray-600",children:[d.timestamp?.toDate().toLocaleString("de-DE"),"  ",d.source]},d.id))})]}):g.jsx("div",{className:"p-10 text-red-500",children:"Offer nicht gefunden"})}const vy="immobot_register_filters_v1",by=2,Ed={offerTypes:[],objectClasses:[],constructionStatus:[],searchString:"",coordinate:void 0,radiusInKm:10,priceRange:void 0,propertySpaceRange:void 0,includePriceOnRequest:!1,__version:by};function an(){try{const t=localStorage.getItem(vy);if(!t)return{...Ed};const e=JSON.parse(t);if(e.__version!==by){const n={...Ed,...e,__version:by};return localStorage.setItem(vy,JSON.stringify(n)),n}return{...Ed,...e}}catch{return{...Ed}}}function Bn(t){const e={...an(),...t};try{localStorage.setItem(vy,JSON.stringify(e))}catch{}return e}const uL=new Set(["Haus","Wohnung","Grundstueck","StellplatzGarage","BroPraxis","Ferienobjekt","Gastronomie","Gewerbeeinheit","HalleLagerProduktion","Hotel","LandForst","Sonstige","Studenten"]);function cL(t){if(!uL.has(t))return an();const e=an(),n=new Set(e.objectClasses);if(n.has(t))n.delete(t);else{if(n.size>=2)return e;n.add(t)}return Bn({objectClasses:Array.from(n)})}const hL=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}];function dL(){const t=Fs(),[e,n]=A.useState(()=>an()),s=e.objectClasses||[],a=e.offerTypes?.includes("Miete")?"Miete":e.offerTypes?.includes("Kauf")?"Kauf":null,[l,c]=A.useState(a);function d(p){c(p),n(an())}function f(p){cL(p),n(an())}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 1 von 5"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"block text-sm font-medium text-center",children:"Angebotsart"}),g.jsx("div",{className:"flex justify-center gap-2",children:["Kauf","Miete"].map(p=>g.jsx("button",{type:"button",onClick:()=>d(p),className:`px-4 py-2 rounded-full border text-sm transition
                ${l===p?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:p},p))})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("p",{className:"block text-sm font-medium text-center",children:"Objektart (max. 2)"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:hL.map(p=>{const v=s.includes(p.value),b=!v&&s.length>=2;return g.jsx("button",{type:"button",disabled:b,onClick:()=>f(p.value),className:`px-3 py-2 rounded-full border text-xs md:text-sm transition
                  ${v?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}
                  ${b?"opacity-50 cursor-not-allowed":""}
                `,children:p.label},p.value)})})]}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{type:"button",onClick:()=>t("/register/step2"),className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium",children:"Schritt 2 >"})})]})}function fL(t){return Bn({coordinate:t})}function mL(t){const e=Number(t);return Bn({radiusInKm:Number.isFinite(e)?e:10})}function pL(t){return Bn({address:t})}const GT="VUVj9lGbHQAdYVsF04k8",gL=[5,7.5,10,12.5,15];function yL(){const t=Fs(),e=A.useMemo(()=>an(),[]),[n,s]=A.useState(e.address||""),[a,l]=A.useState([]),[c,d]=A.useState(e.radiusInKm??10),f=A.useRef(null),p=A.useRef({L:null,map:null,marker:null,circle:null}),[v,b]=A.useState(!1);A.useEffect(()=>{let C=!1;return(async()=>{if(!document.querySelector("link[data-leaflet]")){const D=document.createElement("link");D.rel="stylesheet",D.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",D.setAttribute("data-leaflet","1"),document.head.appendChild(D)}return window.L||await new Promise(D=>{const O=document.createElement("script");O.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",O.onload=D,document.body.appendChild(O)}),window.L})().then(D=>{if(C||!f.current)return;p.current.L=D;const O=D.map(f.current,{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1}).setView([52.52,13.405],10);p.current.map=O,D.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${GT}`,{attribution:"&copy; MapTiler"}).addTo(O),e.coordinate?.lat&&e.coordinate?.lon&&w(e.coordinate.lat,e.coordinate.lon,c)}),()=>{C=!0}},[]),A.useEffect(()=>{mL(c);const{marker:C}=p.current;if(C){const I=C.getLatLng();w(I.lat,I.lng,c)}},[c]),A.useEffect(()=>{if(n.trim().length<3){l([]);return}const C=setTimeout(async()=>{const I=`https://api.maptiler.com/geocoding/${encodeURIComponent(n.trim())}.json?key=${GT}&language=de&country=DE,AT,CH&limit=5`;try{const F=(await(await fetch(I)).json()).features?.map(q=>({label:q.place_name,lat:q.center?.[1],lon:q.center?.[0]})).filter(q=>Number.isFinite(q.lat)&&Number.isFinite(q.lon))||[];l(F)}catch{l([])}},200);return()=>clearTimeout(C)},[n]);function _(C){s(C.label),l([]),pL(C.label),fL({lat:C.lat,lon:C.lon}),w(C.lat,C.lon,c)}function w(C,I,D){const{L:O,map:F,marker:q,circle:oe}=p.current;if(!O||!F)return;q&&q.remove(),oe&&oe.remove();const J=O.marker([C,I]).addTo(F),X=O.circle([C,I],{radius:(D||0)*1e3,color:"#007bff",fillOpacity:.25}).addTo(F);p.current.marker=J,p.current.circle=X,F.fitBounds(X.getBounds(),{padding:[40,40]})}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6 md:space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 2 von 5"}),g.jsx("h2",{className:"text-lg md:text-xl font-semibold text-center leading-tight",children:"Wo sollen wir etwas fr dich finden?"}),g.jsxs("div",{className:"mx-auto max-w-md relative w-full",children:[g.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Ort/Stadt eingeben"}),g.jsx("input",{value:n,onChange:C=>{s(C.target.value),b(!0)},placeholder:"z. B. Freiburg im Breisgau",className:"w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",onKeyDown:C=>{C.key==="Enter"&&C.preventDefault()}}),a.length>0&&g.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-lg border bg-white shadow-lg z-[9999] max-h-60 overflow-y-auto",children:a.map((C,I)=>g.jsx("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-0",onClick:()=>_(C),children:C.label},I))})]}),g.jsxs("div",{className:"mx-auto max-w-md",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-center",children:"Radius auswhlen:"}),g.jsx("div",{className:"flex justify-center flex-wrap gap-2",children:gL.map(C=>g.jsxs("button",{type:"button",onClick:()=>d(C),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-sm transition
                ${Number(c)===C?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:[C," km"]},C))})]}),g.jsx("div",{className:"w-full h-64 md:h-[400px] rounded-xl border border-gray-300 relative overflow-hidden",style:{pointerEvents:"none"},children:g.jsx("div",{ref:f,className:"w-full h-full"})}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step1"),children:"< Zurck"}),g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step3"),children:"Schritt 3 >"})]})]})}function vL(t){if(t===null)return Bn({propertySpaceRange:void 0});if(t.type==="max")return Bn({propertySpaceRange:{from:0,to:t.value}});if(t.type==="min")return Bn({propertySpaceRange:{from:t.value,to:9999999}})}function bL(t){if(t==null)return Bn({priceRange:void 0});const e=Number(t);return!Number.isFinite(e)||e<=0?an():Bn({priceRange:{from:0,to:e}})}function xL(){const t=an();return t.offerTypes.includes("Miete")&&!t.offerTypes.includes("Kauf")?[300,500,700,900,1200,1500,1800,null]:[15e4,25e4,4e5,6e5,8e5,1e6,15e5,null]}function _L(){return an().objectClasses?.includes("Grundstueck")?[{type:"max",value:500},{type:"min",value:500},null]:[{type:"max",value:100},{type:"min",value:100},null]}function KT({active:t,onClick:e,children:n}){return g.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition transform active:scale-95
        ${t?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:n})}function EL(){const t=Fs(),e=A.useMemo(()=>an(),[]),n=xL(),s=_L(),[a,l]=A.useState(e.priceRange?.to??null),[c,d]=A.useState(e.propertySpaceRange?.to??null),f=e.objectClasses?.includes("Grundstueck"),p=e.offerTypes?.includes("Miete")&&!e.offerTypes?.includes("Kauf"),v=(_,w)=>{if(_==null)return"beliebig";const C=_.toLocaleString("de-DE");return p?`bis ${C} `:w===n.length-2&&n[n.length-1]===null?`ab ${C} `:`bis ${C} `},b=_=>{if(_===null)return"beliebig";if(_.type==="max")return`bis ${_.value} m`;if(_.type==="min")return`ab ${_.value} m`};return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 3 von 5"}),g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center text-gray-800 leading-tight",children:p?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:"Whle deinen maximalen Preis:"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:n.map((_,w)=>g.jsx(KT,{active:a===_,onClick:()=>{l(_),bL(_)},children:v(_,w)},w))})]}),g.jsxs("div",{className:"pt-2",children:[g.jsx("h3",{className:"text-lg md:text-xl font-semibold text-center text-gray-800 mb-1",children:"Flche"}),g.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:f?"Wie gro soll dein Grundstck sein?":"Wie gro soll die Wohnflche sein?"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.map((_,w)=>g.jsx(KT,{active:c===(_?.value??null),onClick:()=>{d(_?.value??null),vL(_)},children:b(_)},w))})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step2"),children:"< Zurck"}),g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step4"),children:"Weiter >"})]})]})}const lC=["balconyTerrace","garden","parkingSpace","cellar","bathroomWithWindow","builtInKitchen","elevator","underfloorHeating","fireplace","furnished","firstTimeUse","refurbished","leased","freeOfCommission","preservationOrder","divisible","barrierFree","airConditioningVentilation"];function TL(){const t=an()||{},e={};for(const n of lC)e[n]=!!t[n];return e}function wL(t){if(!lC.includes(t))return an();const e=an()||{},n=!e[t];return Bn({...e,[t]:n})}const $T=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function SL(){const t=Fs(),e=A.useMemo(()=>TL(),[]),[n,s]=A.useState($T.reduce((d,f)=>({...d,[f.key]:!!e[f.key]}),{})),[a,l]=A.useState(!1);function c(d){wL(d),s(f=>({...f,[d]:!f[d]}))}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 4 von 5 (optional)"}),!a&&g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere Filter nutzen?"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>l(!0),children:"Ja, unbedingt"}),g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),a&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Ausstattung"}),g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",g.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:"Siehe FAQ"}),"."]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto mt-2",children:$T.map(d=>{const f=!!n[d.key];return g.jsx("button",{type:"button",onClick:()=>c(d.key),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition active:scale-95
                    ${f?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:d.key,children:d.label},d.key)})})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step3"),children:"< Zurck"}),a&&g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step5"),children:"Weiter >"})]})]})}function AL(t,e){const n=an(),s=Array.isArray(n[t])?[...n[t]]:[],a=s.indexOf(e);return a>=0?s.splice(a,1):s.push(e),Bn({[t]:s.length?s:void 0})}function Td(t,e,n){const s=YT(e),a=YT(n);return s==null&&a==null?Bn({[t]:void 0}):Bn({[t]:{...s!=null?{from:s}:{},...a!=null?{to:a}:{}}})}function YT(t){if(t===""||t==null)return;const e=Number(t);return Number.isFinite(e)?e:void 0}function CL(){const t=an();return{energySources:t.energySources||[],heatingTypes:t.heatingTypes||[],energyRatings:t.energyRatings||[],energyEfficiencyStandards:t.energyEfficiencyStandards||[],pricePerSqmRange:t.pricePerSqmRange,yieldRange:t.yieldRange,energyConsumptionRange:t.energyConsumptionRange,constructionYearRange:t.constructionYearRange}}const RL=[{value:"Erdgas",label:"Erdgas"},{value:"Erdwaerme",label:"Erdwrme"},{value:"Fernwaerme",label:"Fernwrme"},{value:"Fluessiggas",label:"Flssiggas"},{value:"Gas",label:"Gas"},{value:"Holz",label:"Holz"},{value:"Kohle",label:"Kohle"},{value:"Luftwaerme",label:"Luftwrme"},{value:"Nahwaerme",label:"Nahwrme"},{value:"Oel",label:"l"},{value:"Pellets",label:"Pellets"},{value:"Solar",label:"Solar"},{value:"Strom",label:"Strom"},{value:"Wasserwaerme",label:"Wasserwrme"},{value:"Alternativ",label:"Alternativ"}],NL=[{value:"Blockheizkraftwerk",label:"Blockheizkraftwerk"},{value:"Etagenheizung",label:"Etagenheizung"},{value:"Fernheizung",label:"Fernheizung"},{value:"Fussbodenheizung",label:"Fubodenheizung"},{value:"Kachelofen",label:"Kachelofen"},{value:"Kamin",label:"Kamin"},{value:"Nachtspeicher",label:"Nachtspeicher"},{value:"Ofenheizung",label:"Ofenheizung"},{value:"Solarheizung",label:"Solarheizung"},{value:"Waermepumpe",label:"Wrmepumpe"},{value:"Zentralheizung",label:"Zentralheizung"}],IL=[{value:"A3Plus",label:"A+++"},{value:"A2Plus",label:"A++"},{value:"APlus",label:"A+"},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"},{value:"E",label:"E"},{value:"F",label:"F"},{value:"G",label:"G"},{value:"H",label:"H"}],DL=[{value:"KfwEffizienzhausDenkmal",label:"KfW Effizienzhaus Denkmal"},{value:"KfwEffizienzhaus115",label:"KfW Effizienzhaus 115"},{value:"KfwEffizienzhaus100",label:"KfW Effizienzhaus 100"},{value:"KfwEffizienzhaus85",label:"KfW Effizienzhaus 85"},{value:"KfwEffizienzhaus70",label:"KfW Effizienzhaus 70"},{value:"KfwEffizienzhaus60",label:"KfW Effizienzhaus 60"},{value:"KfwEffizienzhaus55",label:"KfW Effizienzhaus 55"},{value:"KfwEffizienzhaus40",label:"KfW Effizienzhaus 40"},{value:"KfwEffizienzhaus40Plus",label:"KfW Effizienzhaus 40+"},{value:"Passivhaus",label:"Passivhaus"},{value:"Nullenergiehaus",label:"Nullenergiehaus"},{value:"Plusenergiehaus",label:"Plusenergiehaus"}],QT=t=>{if(t===""||t==null)return null;const e=Number(t);return Number.isFinite(e)?e:null},WT=(t,e)=>!e||e<=0?t:Math.round(t/e)*e;function wd(t,e,{step:n=1,min:s=null,max:a=null,integer:l=!1}={}){let c=QT(t),d=QT(e);if(c!=null&&(c=WT(c,n),l&&(c=Math.round(c)),s!=null&&(c=Math.max(s,c)),a!=null&&(c=Math.min(a,c))),d!=null&&(d=WT(d,n),l&&(d=Math.round(d)),s!=null&&(d=Math.max(s,d)),a!=null&&(d=Math.min(a,d))),c!=null&&d!=null&&c>d){const f=c;c=d,d=f}return{from:c,to:d,fromStr:c==null?"":String(c),toStr:d==null?"":String(d)}}function kL(){const t=Fs(),e=A.useMemo(()=>CL(),[]),[n,s]=A.useState(!1),[a,l]=A.useState(e.energySources||[]),[c,d]=A.useState(e.heatingTypes||[]),[f,p]=A.useState(e.energyRatings||[]),[v,b]=A.useState(e.energyEfficiencyStandards||[]),[_,w]=A.useState(e.pricePerSqmRange?.from??""),[C,I]=A.useState(e.pricePerSqmRange?.to??""),[D,O]=A.useState(e.yieldRange?.from??""),[F,q]=A.useState(e.yieldRange?.to??""),[oe,J]=A.useState(e.energyConsumptionRange?.from??""),[X,k]=A.useState(e.energyConsumptionRange?.to??""),[R,j]=A.useState(e.constructionYearRange?.from??""),[L,P]=A.useState(e.constructionYearRange?.to??"");function B(we,Ve,Z){AL(we,Ve),Z(ae=>ae?.includes(Ve)?ae.filter(de=>de!==Ve):[...ae||[],Ve])}function M(){const we=wd(_,C,{step:100,min:0});w(we.fromStr),I(we.toStr),Td("pricePerSqmRange",we.fromStr,we.toStr);const Ve=wd(D,F,{step:1,min:0});O(Ve.fromStr),q(Ve.toStr),Td("yieldRange",Ve.fromStr,Ve.toStr);const Z=wd(oe,X,{step:50,min:0});J(Z.fromStr),k(Z.toStr),Td("energyConsumptionRange",Z.fromStr,Z.toStr);const ae=1800,de=new Date().getFullYear()+1,Ee=wd(R,L,{step:1,min:ae,max:de,integer:!0});j(Ee.fromStr),P(Ee.toStr),Td("constructionYearRange",Ee.fromStr,Ee.toStr)}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 5 von 5 (optional)"}),!n&&g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere technische Filter nutzen?"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>s(!0),children:"Ja, unbedingt"}),g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),n&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Technische Filter"}),g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",g.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600",children:"Siehe FAQ"}),"."]}),g.jsxs("div",{className:"space-y-6 pt-2",children:[g.jsx(Sr,{title:"Energietrger",children:g.jsx(Sd,{options:RL,active:a,onToggle:we=>B("energySources",we,l)})}),g.jsx(Sr,{title:"Heizungsart",children:g.jsx(Sd,{options:NL,active:c,onToggle:we=>B("heatingTypes",we,d)})}),g.jsx(Sr,{title:"Energieklasse",children:g.jsx(Sd,{options:IL,active:f,onToggle:we=>B("energyRatings",we,p)})}),g.jsx(Sr,{title:"Energiestandard",children:g.jsx(Sd,{options:DL,active:v,onToggle:we=>B("energyEfficiencyStandards",we,b)})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsx(Sr,{title:"Preis pro m (/m)",children:g.jsx(Ad,{unit:"",step:"100",from:_,to:C,setFrom:w,setTo:I,onBlurSave:M})}),g.jsx(Sr,{title:"Rendite (%)",children:g.jsx(Ad,{unit:"",step:"1",from:D,to:F,setFrom:O,setTo:q,onBlurSave:M})}),g.jsx(Sr,{title:"Energieverbrauch (kWh/m*a)",children:g.jsx(Ad,{unit:"",step:"50",from:oe,to:X,setFrom:J,setTo:k,onBlurSave:M})}),g.jsx(Sr,{title:"Baujahr",children:g.jsx(Ad,{unit:"",step:"1",from:R,to:L,setFrom:j,setTo:P,onBlurSave:M})})]})]})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step4"),children:"< Zurck"}),n?g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95 text-sm md:text-base",onClick:()=>{M(),t("/register/finish")},children:"Registrieren >"}):g.jsx("div",{})]})]})}function Sr({title:t,children:e}){return g.jsxs("div",{className:"w-full",children:[g.jsx("h3",{className:"mb-3 font-semibold text-sm text-center text-gray-800",children:t}),e]})}function Sd({options:t,active:e=[],onToggle:n}){return g.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto",children:t.map(s=>{const a=typeof s=="string"?s:s.value,l=typeof s=="string"?s:s.label,c=e?.includes(a);return g.jsx("button",{type:"button",onClick:()=>n(a),className:`inline-flex items-center justify-center rounded-full border px-3 py-2 text-xs transition active:scale-95
              ${c?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:a,children:l},a)})})}function Ad({unit:t,from:e,to:n,setFrom:s,setTo:a,step:l="1",onBlurSave:c}){return g.jsxs("div",{className:"flex items-end justify-center gap-3 w-full max-w-sm mx-auto",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"von"}),g.jsx("input",{type:"number",step:l,value:e,onChange:d=>s(d.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0"})]}),g.jsx("span",{className:"text-gray-400 pb-3",children:"-"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"bis"}),g.jsx("input",{type:"number",step:l,value:n,onChange:d=>a(d.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"max"})]}),t&&g.jsx("span",{className:"text-xs text-gray-500 pb-3 w-10",children:t})]})}function XT(t){if(t===""||t===null||t===void 0)return!1;const e=typeof t=="string"?Number(t):t;return typeof e=="number"&&Number.isFinite(e)}function jL(t){if(!t||typeof t!="object")return;const e=XT(t.from),n=XT(t.to);if(!(!e&&!n))return!e&&n?{from:0,to:Number(t.to)}:e&&!n?{from:Number(t.from)}:{from:Number(t.from),to:Number(t.to)}}function xy(t){if(t===null)return null;if(Array.isArray(t))return t.map(xy).filter(e=>e!==void 0);if(typeof t=="object"){const e={};for(const[n,s]of Object.entries(t)){if(s===void 0)continue;if(n.endsWith("Range")){const l=jL(s);l!==void 0&&(e[n]=l);continue}const a=xy(s);a!==void 0&&(e[n]=a)}return Object.keys(e).length===0?void 0:e}return typeof t=="number"?Number.isFinite(t)?t:void 0:t}async function ML(t){const e=an(),n=xy(e),s=Yt(it,"users",t);await gf(s,{lastSearch:n,lastSearchUpdatedAt:vf()},{merge:!0})}function VL(){const t=Fs(),[e,n]=A.useState(""),[s,a]=A.useState(""),[l,c]=A.useState(""),[d,f]=A.useState(""),[p,v]=A.useState(""),[b,_]=A.useState(!1),[w,C]=A.useState(!1),[I,D]=A.useState(!1),[O,F]=A.useState(""),q=!I&&b&&e.trim()&&s.trim()&&l.trim()&&d.trim()&&p.trim();async function oe(X){if(X.preventDefault(),!!q){if(d!==p){F("Die Passwrter stimmen nicht berein.");return}D(!0),F("");try{const{user:k}=await Bj(uc,l.trim(),d);await gf(Yt(it,"users",k.uid),{firstName:e.trim(),lastName:s.trim(),email:l.trim().toLowerCase(),role:"user",stripeStatus:null,stripeCustomerId:null,customEmailVerified:!1,marketingOptIn:w,acceptedTermsAt:vf(),createdAt:vf()},{merge:!0}),await ML(k.uid),await _f(Ef,"sendVerifyEmail")(),t("/dashboard")}catch(k){console.error(k),F(k?.message||"Fehler bei der Registrierung")}finally{D(!1)}}}const J="w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition";return g.jsxs("div",{className:`
      w-full mx-auto max-w-lg bg-white
      p-4 mt-2
      md:p-8 md:mt-10 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-center leading-tight mb-2",children:"Dein Immobot-Konto"}),g.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Lege jetzt dein Konto an. Im nchsten Schritt whlst du dein Abo und aktivierst deinen Zugang."}),g.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-1/2",children:g.jsx("input",{type:"text",className:J,placeholder:"Vorname",value:e,onChange:X=>n(X.target.value),required:!0})}),g.jsx("div",{className:"w-1/2",children:g.jsx("input",{type:"text",className:J,placeholder:"Nachname",value:s,onChange:X=>a(X.target.value),required:!0})})]}),g.jsx("input",{type:"email",className:J,placeholder:"E-Mail",value:l,onChange:X=>c(X.target.value),required:!0,autoComplete:"email"}),g.jsx("input",{type:"password",className:J,placeholder:"Passwort",value:d,onChange:X=>f(X.target.value),required:!0,autoComplete:"new-password"}),g.jsx("input",{type:"password",className:J,placeholder:"Passwort wiederholen",value:p,onChange:X=>v(X.target.value),required:!0,autoComplete:"new-password"}),g.jsxs("div",{className:"space-y-3 pt-2",children:[g.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:b,onChange:X=>_(X.target.checked),required:!0}),g.jsxs("span",{className:"text-gray-700",children:["Ich akzeptiere die"," ",g.jsx(rn,{to:"/terms",className:"underline text-blue-600",target:"_blank",children:"AGB"})," ","und die"," ",g.jsx(rn,{to:"/privacy",className:"underline text-blue-600",target:"_blank",children:"Datenschutzerklrung"}),"."]})]}),g.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:w,onChange:X=>C(X.target.checked)}),g.jsx("span",{className:"text-gray-700",children:"Ich mchte hilfreiche Updates & Angebote per E-Mail erhalten (optional)."})]})]}),O&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg",children:g.jsx("p",{className:"text-sm text-red-600 text-center",children:O})}),g.jsx("button",{type:"submit",disabled:!q,className:"w-full px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed transition active:scale-95",children:I?"Speichere...":"Kostenpflichtig weiter"}),g.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center px-2",children:"Keine Sorge: Du kannst dein Abo im nchsten Schritt whlen und spter jederzeit kndigen."})]})]})}const uC=A.createContext({});function OL(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const W0=typeof window<"u",PL=W0?A.useLayoutEffect:A.useEffect,X0=A.createContext(null);function Z0(t,e){t.indexOf(e)===-1&&t.push(e)}function J0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Us=(t,e,n)=>n>e?e:n<t?t:n;let ev=()=>{};const zs={},cC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hC(t){return typeof t=="object"&&t!==null}const dC=t=>/^0[^.\s]+$/u.test(t);function tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,LL=(t,e)=>n=>e(t(n)),Mc=(...t)=>t.reduce(LL),hc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class nv{constructor(){this.subscriptions=[]}add(e){return Z0(this.subscriptions,e),()=>J0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ss=t=>t*1e3,si=t=>t/1e3;function fC(t,e){return e?t*(1e3/e):0}const mC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UL=1e-7,zL=12;function BL(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=mC(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>UL&&++d<zL);return c}function Vc(t,e,n,s){if(t===e&&n===s)return ri;const a=l=>BL(l,0,1,t,n);return l=>l===0||l===1?l:mC(a(l),e,s)}const pC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gC=t=>e=>1-t(1-e),yC=Vc(.33,1.53,.69,.99),iv=gC(yC),vC=pC(iv),bC=t=>(t*=2)<1?.5*iv(t):.5*(2-Math.pow(2,-10*(t-1))),sv=t=>1-Math.sin(Math.acos(t)),xC=gC(sv),_C=pC(sv),FL=Vc(.42,0,1,1),HL=Vc(0,0,.58,1),EC=Vc(.42,0,.58,1),qL=t=>Array.isArray(t)&&typeof t[0]!="number",TC=t=>Array.isArray(t)&&typeof t[0]=="number",GL={linear:ri,easeIn:FL,easeInOut:EC,easeOut:HL,circIn:sv,circInOut:_C,circOut:xC,backIn:iv,backInOut:vC,backOut:yC,anticipate:bC},KL=t=>typeof t=="string",ZT=t=>{if(TC(t)){ev(t.length===4);const[e,n,s,a]=t;return Vc(e,n,s,a)}else if(KL(t))return GL[t];return t},Cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $L(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,_=!1)=>{const C=_&&a?n:s;return b&&c.add(v),C.has(v)||C.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const YL=40;function wC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Cd.reduce((q,oe)=>(q[oe]=$L(l),q),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:v,update:b,preRender:_,render:w,postRender:C}=c,I=()=>{const q=zs.useManualTiming?a.timestamp:performance.now();n=!1,zs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,YL),1)),a.timestamp=q,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),v.process(a),b.process(a),_.process(a),w.process(a),C.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},D=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:Cd.reduce((q,oe)=>{const J=c[oe];return q[oe]=(X,k=!1,R=!1)=>(n||D(),J.schedule(X,k,R)),q},{}),cancel:q=>{for(let oe=0;oe<Cd.length;oe++)c[Cd[oe]].cancel(q)},state:a,steps:c}}const{schedule:dt,cancel:$r,state:tn,steps:Rg}=wC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let qd;function QL(){qd=void 0}const Nn={now:()=>(qd===void 0&&Nn.set(tn.isProcessing||zs.useManualTiming?tn.timestamp:performance.now()),qd),set:t=>{qd=t,queueMicrotask(QL)}},SC=t=>e=>typeof e=="string"&&e.startsWith(t),rv=SC("--"),WL=SC("var(--"),av=t=>WL(t)?XL.test(t.split("/*")[0].trim()):!1,XL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...Tl,transform:t=>Us(0,1,t)},Rd={...Tl,default:1},$u=t=>Math.round(t*1e5)/1e5,ov=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZL(t){return t==null}const JL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lv=(t,e)=>n=>!!(typeof n=="string"&&JL.test(n)&&n.startsWith(t)||e&&!ZL(n)&&Object.prototype.hasOwnProperty.call(n,e)),AC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(ov);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},e3=t=>Us(0,255,t),Ng={...Tl,transform:t=>Math.round(e3(t))},Oa={test:lv("rgb","red"),parse:AC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ng.transform(t)+", "+Ng.transform(e)+", "+Ng.transform(n)+", "+$u(dc.transform(s))+")"};function t3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const _y={test:lv("#"),parse:t3,transform:Oa.transform},Oc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=Oc("deg"),rs=Oc("%"),Te=Oc("px"),n3=Oc("vh"),i3=Oc("vw"),JT={...rs,parse:t=>rs.parse(t)/100,transform:t=>rs.transform(t*100)},$o={test:lv("hsl","hue"),parse:AC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+rs.transform($u(e))+", "+rs.transform($u(n))+", "+$u(dc.transform(s))+")"},Ot={test:t=>Oa.test(t)||_y.test(t)||$o.test(t),parse:t=>Oa.test(t)?Oa.parse(t):$o.test(t)?$o.parse(t):_y.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):$o.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},s3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r3(t){return isNaN(t)&&typeof t=="string"&&(t.match(ov)?.length||0)+(t.match(s3)?.length||0)>0}const CC="number",RC="color",a3="var",o3="var(",ew="${}",l3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(l3,f=>(Ot.test(f)?(s.color.push(l),a.push(RC),n.push(Ot.parse(f))):f.startsWith(o3)?(s.var.push(l),a.push(a3),n.push(f)):(s.number.push(l),a.push(CC),n.push(parseFloat(f))),++l,ew)).split(ew);return{values:n,split:d,indexes:s,types:a}}function NC(t){return fc(t).values}function IC(t){const{split:e,types:n}=fc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===CC?l+=$u(a[c]):d===RC?l+=Ot.transform(a[c]):l+=a[c]}return l}}const u3=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function c3(t){const e=NC(t);return IC(t)(e.map(u3))}const Yr={test:r3,parse:NC,createTransformer:IC,getAnimatableNone:c3};function Ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=Ig(f,d,t+1/3),l=Ig(f,d,t),c=Ig(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Tf(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Dg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},d3=[_y,Oa,$o],f3=t=>d3.find(e=>e.test(t));function tw(t){const e=f3(t);if(!e)return!1;let n=e.parse(t);return e===$o&&(n=h3(n)),n}const nw=(t,e)=>{const n=tw(t),s=tw(e);if(!n||!s)return Tf(t,e);const a={...n};return l=>(a.red=Dg(n.red,s.red,l),a.green=Dg(n.green,s.green,l),a.blue=Dg(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Oa.transform(a))},Ey=new Set(["none","hidden"]);function m3(t,e){return Ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p3(t,e){return n=>mt(t,e,n)}function uv(t){return typeof t=="number"?p3:typeof t=="string"?av(t)?Tf:Ot.test(t)?nw:v3:Array.isArray(t)?DC:typeof t=="object"?Ot.test(t)?nw:g3:Tf}function DC(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>uv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function g3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=uv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function y3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const v3=(t,e)=>{const n=Yr.createTransformer(e),s=fc(t),a=fc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ey.has(t)&&!a.values.length||Ey.has(e)&&!s.values.length?m3(t,e):Mc(DC(y3(s,a),a.values),n):Tf(t,e)};function kC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):uv(t)(t,e)}const b3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>$r(e),now:()=>tn.isProcessing?tn.timestamp:Nn.now()}},jC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},wf=2e4;function cv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<wf;)e+=n,s=t.next(e);return e>=wf?1/0:e}function x3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(cv(s),wf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:si(a)}}const _3=5;function MC(t,e,n){const s=Math.max(e-_3,0);return fC(n-t(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kg=.001;function E3({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let a,l,c=1-e;c=Us(bt.minDamping,bt.maxDamping,c),t=Us(bt.minDuration,bt.maxDuration,si(t)),c<1?(a=p=>{const v=p*c,b=v*t,_=v-n,w=Ty(p,c),C=Math.exp(-b);return kg-_/w*C},l=p=>{const b=p*c*t,_=b*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-b),I=Ty(Math.pow(p,2),c);return(-a(p)+kg>0?-1:1)*((_-w)*C)/I}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-kg+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,f=w3(a,l,d);if(t=ss(t),isNaN(f))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const T3=12;function w3(t,e,n){let s=n;for(let a=1;a<T3;a++)s=s-t(s)/e(s);return s}function Ty(t,e){return t*Math.sqrt(1-e*e)}const S3=["duration","bounce"],A3=["stiffness","damping","mass"];function iw(t,e){return e.some(n=>t[n]!==void 0)}function C3(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!iw(t,A3)&&iw(t,S3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Us(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=E3(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Sf(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:v,duration:b,velocity:_,isResolvedFromDuration:w}=C3({...n,velocity:-si(n.velocity||0)}),C=_||0,I=p/(2*Math.sqrt(f*v)),D=c-l,O=si(Math.sqrt(f/v)),F=Math.abs(D)<5;s||(s=F?bt.restSpeed.granular:bt.restSpeed.default),a||(a=F?bt.restDelta.granular:bt.restDelta.default);let q;if(I<1){const J=Ty(O,I);q=X=>{const k=Math.exp(-I*O*X);return c-k*((C+I*O*D)/J*Math.sin(J*X)+D*Math.cos(J*X))}}else if(I===1)q=J=>c-Math.exp(-O*J)*(D+(C+O*D)*J);else{const J=O*Math.sqrt(I*I-1);q=X=>{const k=Math.exp(-I*O*X),R=Math.min(J*X,300);return c-k*((C+I*O*D)*Math.sinh(R)+J*D*Math.cosh(R))/J}}const oe={calculatedDuration:w&&b||null,next:J=>{const X=q(J);if(w)d.done=J>=b;else{let k=J===0?C:0;I<1&&(k=J===0?ss(C):MC(q,J,X));const R=Math.abs(k)<=s,j=Math.abs(c-X)<=a;d.done=R&&j}return d.value=d.done?c:X,d},toString:()=>{const J=Math.min(cv(oe),wf),X=jC(k=>oe.next(J*k).value,J,30);return J+"ms "+X},toTransition:()=>{}};return oe}Sf.applyToOptions=t=>{const e=x3(t,100,Sf);return t.ease=e.ease,t.duration=ss(e.duration),t.type="keyframes",t};function wy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},w=R=>d!==void 0&&R<d||f!==void 0&&R>f,C=R=>d===void 0?f:f===void 0||Math.abs(d-R)<Math.abs(f-R)?d:f;let I=n*e;const D=b+I,O=c===void 0?D:c(D);O!==D&&(I=O-b);const F=R=>-I*Math.exp(-R/s),q=R=>O+F(R),oe=R=>{const j=F(R),L=q(R);_.done=Math.abs(j)<=p,_.value=_.done?O:L};let J,X;const k=R=>{w(_.value)&&(J=R,X=Sf({keyframes:[_.value,C(_.value)],velocity:MC(q,R,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return k(0),{calculatedDuration:null,next:R=>{let j=!1;return!X&&J===void 0&&(j=!0,oe(R),k(R)),J!==void 0&&R>=J?X.next(R-J):(!j&&oe(R),_)}}}function R3(t,e,n){const s=[],a=n||zs.mix||kC,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ri:e;d=Mc(f,d)}s.push(d)}return s}function N3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(ev(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=R3(e,s,a),f=d.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=hc(t[b],t[b+1],v);return d[b](_)};return n?v=>p(Us(t[0],t[l-1],v)):p}function I3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=hc(0,e,s);t.push(mt(n,1,a))}}function D3(t){const e=[0];return I3(e,t.length-1),e}function k3(t,e){return t.map(n=>n*e)}function j3(t,e){return t.map(()=>e||EC).splice(0,t.length-1)}function Yu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=qL(s)?s.map(ZT):ZT(s),l={done:!1,value:e[0]},c=k3(n&&n.length===e.length?n:D3(e),t),d=N3(c,e,{ease:Array.isArray(a)?a:j3(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const M3=t=>t!==null;function hv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(M3),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const V3={decay:wy,inertia:wy,tween:Yu,keyframes:Yu,spring:Sf};function VC(t){typeof t.type=="string"&&(t.type=V3[t.type])}class dv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const O3=t=>t/100;class fv extends dv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VC(e);const{type:n=Yu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||Yu;f!==Yu&&typeof d[0]!="number"&&(this.mixKeyframes=Mc(O3,kC(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=cv(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:w,type:C,onUpdate:I,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,oe=s;if(b){const R=Math.min(this.currentTime,a)/d;let j=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&j--,j=Math.min(j,b+1),!!(j%2)&&(_==="reverse"?(L=1-L,w&&(L-=w/d)):_==="mirror"&&(oe=c)),q=Us(0,1,L)*d}const J=F?{done:!1,value:v[0]}:oe.next(q);l&&(J.value=l(J.value));let{done:X}=J;!F&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return k&&C!==wy&&(J.value=hv(v,this.options,D,this.speed)),I&&I(J.value),k&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return si(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(this.currentTime)}set time(e){e=ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function P3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pa=t=>t*180/Math.PI,Sy=t=>{const e=Pa(Math.atan2(t[1],t[0]));return Ay(e)},L3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sy,rotateZ:Sy,skewX:t=>Pa(Math.atan(t[1])),skewY:t=>Pa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ay=t=>(t=t%360,t<0&&(t+=360),t),sw=Sy,rw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rw,scaleY:aw,scale:t=>(rw(t)+aw(t))/2,rotateX:t=>Ay(Pa(Math.atan2(t[6],t[5]))),rotateY:t=>Ay(Pa(Math.atan2(-t[2],t[0]))),rotateZ:sw,rotate:sw,skewX:t=>Pa(Math.atan(t[4])),skewY:t=>Pa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cy(t){return t.includes("scale")?1:0}function Ry(t,e){if(!t||t==="none")return Cy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=U3,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=L3,a=d}if(!a)return Cy(e);const l=s[e],c=a[1].split(",").map(B3);return typeof l=="function"?l(c):c[l]}const z3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ry(n,e)};function B3(t){return parseFloat(t.trim())}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(wl),ow=t=>t===Tl||t===Te,F3=new Set(["x","y","z"]),H3=wl.filter(t=>!F3.has(t));function q3(t){const e=[];return H3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ry(e,"x"),y:(t,{transform:e})=>Ry(e,"y")};za.translateX=za.x;za.translateY=za.y;const Ba=new Set;let Ny=!1,Iy=!1,Dy=!1;function OC(){if(Iy){const t=Array.from(Ba).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=q3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Iy=!1,Ny=!1,Ba.forEach(t=>t.complete(Dy)),Ba.clear()}function PC(){Ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Iy=!0)})}function G3(){Dy=!0,PC(),OC(),Dy=!1}class mv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ba.add(this),Ny||(Ny=!0,dt.read(PC),dt.resolveKeyframes(OC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}P3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ba.delete(this)}cancel(){this.state==="scheduled"&&(Ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K3=t=>t.startsWith("--");function $3(t,e,n){K3(e)?t.style.setProperty(e,n):t.style[e]=n}const Y3=tv(()=>window.ScrollTimeline!==void 0),Q3={};function W3(t,e){const n=tv(t);return()=>Q3[e]??n()}const LC=W3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,lw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zu([0,.65,.55,1]),circOut:zu([.55,0,1,.45]),backIn:zu([.31,.01,.66,-.59]),backOut:zu([.33,1.53,.69,.99])};function UC(t,e){if(t)return typeof t=="function"?LC()?jC(t,e):"ease-out":TC(t)?zu(t):Array.isArray(t)?t.map(n=>UC(n,e)||lw.easeOut):lw[t]}function X3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const b=UC(d,a);Array.isArray(b)&&(v.easing=b);const _={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(v,_)}function zC(t){return typeof t=="function"&&"applyToOptions"in t}function Z3({type:t,...e}){return zC(t)&&LC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class J3 extends dv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,ev(typeof e.type!="string");const p=Z3(e);this.animation=X3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=hv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):$3(n,s,v),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Y3()?(this.animation.timeline=e,ri):n(this)}}const BC={anticipate:bC,backInOut:vC,circInOut:_C};function e6(t){return t in BC}function t6(t){typeof t.ease=="string"&&e6(t.ease)&&(t.ease=BC[t.ease])}const uw=10;class n6 extends J3{constructor(e){t6(e),VC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new fv({...c,autoplay:!1}),f=ss(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-uw).value,d.sample(f).value,uw),d.stop()}}const cw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yr.test(t)||t==="0")&&!t.startsWith("url("));function i6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function s6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=cw(a,e),d=cw(l,e);return!c||!d?!1:i6(t)||(n==="spring"||zC(n))&&s}function ky(t){t.duration=0,t.type="keyframes"}const r6=new Set(["opacity","clipPath","filter","transform"]),a6=tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return a6()&&n&&r6.has(n)&&(n!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const l6=40;class u6 extends dv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const _={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:v,...b},w=v?.KeyframeResolver||mv;this.keyframeResolver=new w(d,(C,I,D)=>this.onKeyframesResolved(C,I,_,!D),f,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Nn.now(),s6(e,l,c,d)||((zs.instantAnimations||!f)&&v?.(hv(e,s,n)),e[0]=e[e.length-1],ky(s),s.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>l6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&o6(_)?new n6({..._,element:_.motionValue.owner.current}):new fv(_);w.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),G3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const c6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h6(t){const e=c6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function FC(t,e,n=1){const[s,a]=h6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return cC(c)?parseFloat(c):c}return av(a)?FC(a,e,n+1):a}function pv(t,e){return t?.[e]??t?.default??t}const HC=new Set(["width","height","top","left","right","bottom",...wl]),d6={test:t=>t==="auto",parse:t=>t},qC=t=>e=>e.test(t),GC=[Tl,Te,rs,Cr,i3,n3,d6],hw=t=>GC.find(qC(t));function f6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dC(t):!0}const m6=new Set(["brightness","contrast","saturate","opacity"]);function p6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ov)||[];if(!s)return t;const a=n.replace(s,"");let l=m6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const g6=/\b([a-z-]*)\(.*?\)/gu,jy={...Yr,getAnimatableNone:t=>{const e=t.match(g6);return e?e.map(p6).join(" "):t}},dw={...Tl,transform:Math.round},y6={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Rd,scaleX:Rd,scaleY:Rd,scaleZ:Rd,skew:Cr,skewX:Cr,skewY:Cr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:dc,originX:JT,originY:JT,originZ:Te},gv={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...y6,zIndex:dw,fillOpacity:dc,strokeOpacity:dc,numOctaves:dw},v6={...gv,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:jy,WebkitFilter:jy},KC=t=>v6[t];function $C(t,e){let n=KC(t);return n!==jy&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const b6=new Set(["auto","none","0"]);function x6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!b6.has(l)&&fc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=$C(n,a)}class _6 extends mv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),av(p))){const v=FC(p,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!HC.has(s)||e.length!==2)return;const[a,l]=e,c=hw(a),d=hw(l);if(c!==d)if(ow(c)&&ow(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else za[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||f6(e[a]))&&s.push(a);s.length&&x6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=za[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function E6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const YC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function T6(t){return hC(t)&&"offsetHeight"in t}const fw=30,w6=t=>!isNaN(parseFloat(t));class S6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nv);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fw);return fC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(t,e){return new S6(t,e)}const{schedule:yv}=wC(queueMicrotask,!1),Ei={x:!1,y:!1};function QC(){return Ei.x||Ei.y}function A6(t){return t==="x"||t==="y"?Ei[t]?null:(Ei[t]=!0,()=>{Ei[t]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function WC(t,e){const n=E6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function mw(t){return!(t.pointerType==="touch"||QC())}function C6(t,e,n={}){const[s,a,l]=WC(t,n),c=d=>{if(!mw(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const v=b=>{mw(b)&&(p(b),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const XC=(t,e)=>e?t===e?!0:XC(t,e.parentElement):!1,vv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N6(t){return R6.has(t.tagName)||t.tabIndex!==-1}const Gd=new WeakSet;function pw(t){return e=>{e.key==="Enter"&&t(e)}}function jg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=pw(()=>{if(Gd.has(n))return;jg(n,"down");const a=pw(()=>{jg(n,"up")}),l=()=>jg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function gw(t){return vv(t)&&!QC()}function D6(t,e,n={}){const[s,a,l]=WC(t,n),c=d=>{const f=d.currentTarget;if(!gw(d))return;Gd.add(f);const p=e(f,d),v=(w,C)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),Gd.has(f)&&Gd.delete(f),gw(w)&&typeof p=="function"&&p(w,{success:C})},b=w=>{v(w,f===window||f===document||n.useGlobalTarget||XC(f,w.target))},_=w=>{v(w,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),T6(d)&&(d.addEventListener("focus",p=>I6(p,a)),!N6(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ZC(t){return hC(t)&&"ownerSVGElement"in t}function k6(t){return ZC(t)&&t.tagName==="svg"}const dn=t=>!!(t&&t.getVelocity),j6=[...GC,Ot,Yr],M6=t=>j6.find(qC(t)),JC=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function V6(t=!0){const e=A.useContext(X0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=A.useId();A.useEffect(()=>{if(t)return a(l)},[t]);const c=A.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const eR=A.createContext({strict:!1}),yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const t in yw)dl[t]={isEnabled:e=>yw[t].some(n=>!!e[n])};function O6(t){for(const e in t)dl[e]={...dl[e],...t[e]}}const P6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||P6.has(t)}let tR=t=>!Af(t);function L6(t){typeof t=="function"&&(tR=e=>e.startsWith("on")?!Af(e):t(e))}try{L6(require("@emotion/is-prop-valid").default)}catch{}function U6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(tR(a)||n===!0&&Af(a)||!e&&!Af(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const sm=A.createContext({});function rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mc(t){return typeof t=="string"||Array.isArray(t)}const bv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xv=["initial",...bv];function am(t){return rm(t.animate)||xv.some(e=>mc(t[e]))}function nR(t){return!!(am(t)||t.variants)}function z6(t,e){if(am(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mc(n)?n:void 0,animate:mc(s)?s:void 0}}return t.inherit!==!1?e:{}}function B6(t){const{initial:e,animate:n}=z6(t,A.useContext(sm));return A.useMemo(()=>({initial:e,animate:n}),[vw(e),vw(n)])}function vw(t){return Array.isArray(t)?t.join(" "):t}const pc={};function F6(t){for(const e in t)pc[e]=t[e],rv(e)&&(pc[e].isCSSVariable=!0)}function iR(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pc[t]||t==="opacity")}const H6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q6=wl.length;function G6(t,e,n){let s="",a=!0;for(let l=0;l<q6;l++){const c=wl[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=YC(d,gv[c]);if(!f){a=!1;const v=H6[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function _v(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Sl.has(f)){c=!0;continue}else if(rv(f)){a[f]=p;continue}else{const v=YC(p,gv[f]);f.startsWith("origin")?(d=!0,l[f]=v):s[f]=v}}if(e.transform||(c||n?s.transform=G6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${f} ${p} ${v}`}}const Ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sR(t,e,n){for(const s in e)!dn(e[s])&&!iR(s,n)&&(t[s]=e[s])}function K6({transformTemplate:t},e){return A.useMemo(()=>{const n=Ev();return _v(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $6(t,e){const n=t.style||{},s={};return sR(s,n,t),Object.assign(s,K6(t,e)),s}function Y6(t,e){const n={},s=$6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Q6={offset:"stroke-dashoffset",array:"stroke-dasharray"},W6={offset:"strokeDashoffset",array:"strokeDasharray"};function X6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Q6:W6;t[l.offset]=Te.transform(-s);const c=Te.transform(e),d=Te.transform(n);t[l.array]=`${c} ${d}`}function rR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p,v){if(_v(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&X6(b,a,l,c,!1)}const aR=()=>({...Ev(),attrs:{}}),oR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Z6(t,e,n,s){const a=A.useMemo(()=>{const l=aR();return rR(l,e,oR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};sR(l,t.style,t),a.style={...l,...a.style}}return a}const J6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tv(t){return typeof t!="string"||t.includes("-")?!1:!!(J6.indexOf(t)>-1||/[A-Z]/u.test(t))}function e5(t,e,n,{latestValues:s},a,l=!1){const d=(Tv(t)?Z6:Y6)(e,s,a,t),f=U6(e,typeof t=="string",l),p=t!==A.Fragment?{...f,...d,ref:n}:{},{children:v}=e,b=A.useMemo(()=>dn(v)?v.get():v,[v]);return A.createElement(t,{...p,children:b})}function bw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function wv(t,e,n,s){if(typeof e=="function"){const[a,l]=bw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=bw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Kd(t){return dn(t)?t.get():t}function t5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:n5(n,s,a,t),renderState:e()}}function n5(t,e,n,s){const a={},l=s(t,{});for(const _ in l)a[_]=Kd(l[_]);let{initial:c,animate:d}=t;const f=am(t),p=nR(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!rm(b)){const _=Array.isArray(b)?b:[b];for(let w=0;w<_.length;w++){const C=wv(t,_[w]);if(C){const{transitionEnd:I,transition:D,...O}=C;for(const F in O){let q=O[F];if(Array.isArray(q)){const oe=v?q.length-1:0;q=q[oe]}q!==null&&(a[F]=q)}for(const F in I)a[F]=I[F]}}}return a}const lR=t=>(e,n)=>{const s=A.useContext(sm),a=A.useContext(X0),l=()=>t5(t,e,s,a);return n?l():OL(l)};function Sv(t,e,n){const{style:s}=t,a={};for(const l in s)(dn(s[l])||e.style&&dn(e.style[l])||iR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const i5=lR({scrapeMotionValuesFromProps:Sv,createRenderState:Ev});function uR(t,e,n){const s=Sv(t,e,n);for(const a in t)if(dn(t[a])||dn(e[a])){const l=wl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const s5=lR({scrapeMotionValuesFromProps:uR,createRenderState:aR}),r5=Symbol.for("motionComponentSymbol");function Yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function a5(t,e,n){return A.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Yo(n)&&(n.current=s))},[e])}const Av=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o5="framerAppearId",cR="data-"+Av(o5),hR=A.createContext({});function l5(t,e,n,s,a){const{visualElement:l}=A.useContext(sm),c=A.useContext(eR),d=A.useContext(X0),f=A.useContext(JC).reducedMotion,p=A.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const v=p.current,b=A.useContext(hR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&u5(p.current,n,a,b);const _=A.useRef(!1);A.useInsertionEffect(()=>{v&&_.current&&v.update(n,d)});const w=n[cR],C=A.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return PL(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),C.current&&v.animationState&&v.animationState.animateChanges())}),A.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),C.current=!1),v.enteringChildren=void 0)}),v}function u5(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Yo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:f,layoutRoot:p})}function dR(t){if(t)return t.options.allowProjection!==!1?t.projection:dR(t.parent)}function Mg(t,{forwardMotionProps:e=!1}={},n,s){n&&O6(n);const a=Tv(t)?s5:i5;function l(d,f){let p;const v={...A.useContext(JC),...d,layoutId:c5(d)},{isStatic:b}=v,_=B6(d),w=a(d,b);if(!b&&W0){h5();const C=d5(v);p=C.MeasureLayout,_.visualElement=l5(t,w,v,s,C.ProjectionNode)}return g.jsxs(sm.Provider,{value:_,children:[p&&_.visualElement?g.jsx(p,{visualElement:_.visualElement,...v}):null,e5(t,d,a5(w,_.visualElement,f),w,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(l);return c[r5]=t,c}function c5({layoutId:t}){const e=A.useContext(uC).id;return e&&t!==void 0?e+"-"+t:t}function h5(t,e){A.useContext(eR).strict}function d5(t){const{drag:e,layout:n}=dl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function f5(t,e){if(typeof Proxy>"u")return Mg;const n=new Map,s=(l,c)=>Mg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Mg(c,void 0,t,e)),n.get(c))})}function fR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function m5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Vg(t){return t===void 0||t===1}function My({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function Ma(t){return My(t)||mR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mR(t){return xw(t.x)||xw(t.y)}function xw(t){return t&&t!=="0%"}function Cf(t,e,n){const s=t-n,a=e*s;return n+a}function _w(t,e,n,s,a){return a!==void 0&&(t=Cf(t,a,s)),Cf(t,n,s)+e}function Vy(t,e=0,n=1,s,a){t.min=_w(t.min,e,n,s,a),t.max=_w(t.max,e,n,s,a)}function pR(t,{x:e,y:n}){Vy(t.x,e.translate,e.scale,e.originPoint),Vy(t.y,n.translate,n.scale,n.originPoint)}const Ew=.999999999999,Tw=1.0000000000001;function g5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,pR(t,c)),s&&Ma(l.latestValues)&&Wo(t,l.latestValues))}e.x<Tw&&e.x>Ew&&(e.x=1),e.y<Tw&&e.y>Ew&&(e.y=1)}function Qo(t,e){t.min=t.min+e,t.max=t.max+e}function ww(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);Vy(t,e,n,l,s)}function Wo(t,e){ww(t.x,e.x,e.scaleX,e.scale,e.originX),ww(t.y,e.y,e.scaleY,e.scale,e.originY)}function gR(t,e){return fR(p5(t.getBoundingClientRect(),e))}function y5(t,e,n){const s=gR(t,n),{scroll:a}=e;return a&&(Qo(s.x,a.offset.x),Qo(s.y,a.offset.y)),s}const Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:Sw(),y:Sw()}),Aw=()=>({min:0,max:0}),Ft=()=>({x:Aw(),y:Aw()}),Oy={current:null},yR={current:!1};function v5(){if(yR.current=!0,!!W0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Oy.current=t.matches;t.addEventListener("change",e),e()}else Oy.current=!1}const b5=new WeakMap;function x5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(dn(a))t.addValue(s,a);else if(dn(l))t.addValue(s,hl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,hl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Nn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,dt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=am(n),this.isVariantNode=nR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const w=b[_];f[_]!==void 0&&dn(w)&&w.set(f[_])}}mount(e){this.current=e,b5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),yR.current||v5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Oy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$r(this.notifyUpdate),$r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dl){const n=dl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Cw.length;s++){const a=Cw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=x5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=hl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cC(s)||dC(s))?s=parseFloat(s):!M6(s)&&Yr.test(n)&&(s=$C(e,n)),this.setBaseTarget(e,dn(s)?s.get():s)),dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=wv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){yv.render(this.render)}}class vR extends _5{constructor(){super(...arguments),this.KeyframeResolver=_6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function E5(t){return window.getComputedStyle(t)}class T5 extends vR{constructor(){super(...arguments),this.type="html",this.renderInstance=bR}readValueFromInstance(e,n){if(Sl.has(n))return this.projection?.isProjecting?Cy(n):z3(e,n);{const s=E5(e),a=(rv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gR(e,n)}build(e,n,s){_v(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Sv(e,n,s)}}const xR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w5(t,e,n,s){bR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(xR.has(a)?a:Av(a),e.attrs[a])}class S5 extends vR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const s=KC(n);return s&&s.default||0}return n=xR.has(n)?n:Av(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return uR(e,n,s)}build(e,n,s){rR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){w5(e,n,s,a)}mount(e){this.isSVGTag=oR(e.tagName),super.mount(e)}}const A5=(t,e)=>Tv(t)?new S5(e):new T5(e,{allowProjection:t!==A.Fragment});function nl(t,e,n){const s=t.getProps();return wv(s,e,n!==void 0?n:s.custom,t)}const Py=t=>Array.isArray(t);function C5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hl(n))}function R5(t){return Py(t)?t[t.length-1]||0:t}function N5(t,e){const n=nl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=R5(l[c]);C5(t,c,d)}}function I5(t){return!!(dn(t)&&t.add)}function Ly(t,e){const n=t.getValue("willChange");if(I5(n))return n.add(e);if(!n&&zs.WillChange){const s=new zs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function _R(t){return t.props[cR]}const D5=t=>t!==null;function k5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(D5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const j5={type:"spring",stiffness:500,damping:25,restSpeed:10},M5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),V5={type:"keyframes",duration:.8},O5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P5=(t,{keyframes:e})=>e.length>2?V5:Sl.has(t)?t.startsWith("scale")?M5(e[1]):j5:O5;function L5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const Cv=(t,e,n,s={},a,l)=>c=>{const d=pv(s,t)||{},f=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ss(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};L5(d)||Object.assign(v,P5(t,v)),v.duration&&(v.duration=ss(v.duration)),v.repeatDelay&&(v.repeatDelay=ss(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(ky(v),v.delay===0&&(b=!0)),(zs.instantAnimations||zs.skipAnimations)&&(b=!0,ky(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const _=k5(v.keyframes,d);if(_!==void 0){dt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new fv(v):new u6(v)};function U5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ER(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const b=t.getValue(v,t.latestValues[v]??null),_=d[v];if(_===void 0||p&&U5(p,v))continue;const w={delay:n,...pv(l||{},v)},C=b.get();if(C!==void 0&&!b.isAnimating&&!Array.isArray(_)&&_===C&&!w.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const O=_R(t);if(O){const F=window.MotionHandoffAnimation(O,v,dt);F!==null&&(w.startTime=F,I=!0)}}Ly(t,v),b.start(Cv(v,b,_,t.shouldReduceMotion&&HC.has(v)?{type:!1}:w,t,I));const D=b.animation;D&&f.push(D)}return c&&Promise.all(f).then(()=>{dt.update(()=>{c&&N5(t,c)})}),f}function TR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Uy(t,e,n={}){const s=nl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(ER(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return z5(t,e,f,p,v,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,p]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function z5(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Uy(f,e,{...c,delay:n+(typeof s=="function"?0:s)+TR(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function B5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Uy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Uy(t,e,n);else{const a=typeof e=="function"?nl(t,e,n.custom):e;s=Promise.all(ER(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function wR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const F5=xv.length;function SR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F5;n++){const s=xv[n],a=t.props[s];(mc(a)||a===!1)&&(e[s]=a)}return e}const H5=[...bv].reverse(),q5=bv.length;function G5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>B5(t,n,s)))}function K5(t){let e=G5(t),n=Rw(),s=!0;const a=f=>(p,v)=>{const b=nl(t,v,f==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:_,transitionEnd:w,...C}=b;p={...p,...C,...w}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,v=SR(t.parent)||{},b=[],_=new Set;let w={},C=1/0;for(let D=0;D<q5;D++){const O=H5[D],F=n[O],q=p[O]!==void 0?p[O]:v[O],oe=mc(q),J=O===f?F.isActive:null;J===!1&&(C=D);let X=q===v[O]&&q!==p[O]&&oe;if(X&&s&&t.manuallyAnimateOnMount&&(X=!1),F.protectedKeys={...w},!F.isActive&&J===null||!q&&!F.prevProp||rm(q)||typeof q=="boolean")continue;const k=$5(F.prevProp,q);let R=k||O===f&&F.isActive&&!X&&oe||D>C&&oe,j=!1;const L=Array.isArray(q)?q:[q];let P=L.reduce(a(O),{});J===!1&&(P={});const{prevResolvedValues:B={}}=F,M={...B,...P},we=ae=>{R=!0,_.has(ae)&&(j=!0,_.delete(ae)),F.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in M){const de=P[ae],Ee=B[ae];if(w.hasOwnProperty(ae))continue;let ke=!1;Py(de)&&Py(Ee)?ke=!wR(de,Ee):ke=de!==Ee,ke?de!=null?we(ae):_.add(ae):de!==void 0&&_.has(ae)?we(ae):F.protectedKeys[ae]=!0}F.prevProp=q,F.prevResolvedValues=P,F.isActive&&(w={...w,...P}),s&&t.blockInitialAnimation&&(R=!1);const Ve=X&&k;R&&(!Ve||j)&&b.push(...L.map(ae=>{const de={type:O};if(typeof ae=="string"&&s&&!Ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ee}=t,ke=nl(Ee,ae);if(Ee.enteringChildren&&ke){const{delayChildren:z}=ke.transition||{};de.delay=TR(Ee.enteringChildren,t,z)}}return{animation:ae,options:de}}))}if(_.size){const D={};if(typeof p.initial!="boolean"){const O=nl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(D.transition=O.transition)}_.forEach(O=>{const F=t.getBaseTarget(O),q=t.getValue(O);q&&(q.liveStyle=!0),D[O]=F??null}),b.push({animation:D})}let I=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(b):Promise.resolve()}function d(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(f,p)),n[f].isActive=p;const v=c(f);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Rw()}}}function $5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wR(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rw(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Y5 extends ea{constructor(e){super(e),e.animationState||(e.animationState=K5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Q5=0;class W5 extends ea{constructor(){super(...arguments),this.id=Q5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const X5={animation:{Feature:Y5},exit:{Feature:W5}};function gc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Pc(t){return{point:{x:t.pageX,y:t.pageY}}}const Z5=t=>e=>vv(e)&&t(e,Pc(e));function Qu(t,e,n,s){return gc(t,e,Z5(n),s)}const AR=1e-4,J5=1-AR,eU=1+AR,CR=.01,tU=0-CR,nU=0+CR;function yn(t){return t.max-t.min}function iU(t,e,n){return Math.abs(t-e)<=n}function Nw(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=J5&&t.scale<=eU||isNaN(t.scale))&&(t.scale=1),(t.translate>=tU&&t.translate<=nU||isNaN(t.translate))&&(t.translate=0)}function Wu(t,e,n,s){Nw(t.x,e.x,n.x,s?s.originX:void 0),Nw(t.y,e.y,n.y,s?s.originY:void 0)}function Iw(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function sU(t,e,n){Iw(t.x,e.x,n.x),Iw(t.y,e.y,n.y)}function Dw(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Rf(t,e,n){Dw(t.x,e.x,n.x),Dw(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const RR=({current:t})=>t?t.ownerDocument.defaultView:null,kw=(t,e)=>Math.abs(t-e);function rU(t,e){const n=kw(t.x,e.x),s=kw(t.y,e.y);return Math.sqrt(n**2+s**2)}class NR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Pg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=rU(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:I}=_,{timestamp:D}=tn;this.history.push({...I,timestamp:D});const{onStart:O,onMove:F}=this.handlers;w||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Og(w,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:C,onSessionEnd:I,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Pg(_.type==="pointercancel"?this.lastMoveEventInfo:Og(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(_,O),I&&I(_,O)},!vv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Pc(e),f=Og(d,this.transformPagePoint),{point:p}=f,{timestamp:v}=tn;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Pg(f,this.history)),this.removeListeners=Mc(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$r(this.updatePoint)}}function Og(t,e){return e?{point:e(t.point)}:t}function jw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pg({point:t},e){return{point:t,delta:jw(t,IR(e)),offset:jw(t,aU(e)),velocity:oU(e,.1)}}function aU(t){return t[0]}function IR(t){return t[t.length-1]}function oU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=IR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ss(e)));)n--;if(!s)return{x:0,y:0};const l=si(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function lU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function Mw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uU(t,{top:e,left:n,bottom:s,right:a}){return{x:Mw(t.x,n,a),y:Mw(t.y,e,s)}}function Vw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function cU(t,e){return{x:Vw(t.x,e.x),y:Vw(t.y,e.y)}}function hU(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=hc(e.min,e.max-s,t.min):s>a&&(n=hc(t.min,t.max-a,e.min)),Us(0,1,n)}function dU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zy=.35;function fU(t=zy){return t===!1?t=0:t===!0&&(t=zy),{x:Ow(t,"left","right"),y:Ow(t,"top","bottom")}}function Ow(t,e,n){return{min:Pw(t,e),max:Pw(t,n)}}function Pw(t,e){return typeof t=="number"?t:t[e]||0}const mU=new WeakMap;class pU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(b).point)},c=(b,_)=>{const{drag:w,dragPropagation:C,onDragStart:I}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A6(w),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(O=>{let F=this.getAxisMotionValue(O).get()||0;if(rs.test(F)){const{projection:q}=this.visualElement;if(q&&q.layout){const oe=q.layout.layoutBox[O];oe&&(F=yn(oe)*(parseFloat(F)/100))}}this.originPoint[O]=F}),I&&dt.postRender(()=>I(b,_)),Ly(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:I,onDrag:D}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:O}=_;if(C&&this.currentDirection===null){this.currentDirection=gU(O),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),D&&D(b,_)},f=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new NR(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:RR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&dt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Nd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=lU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Yo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uU(s.layoutBox,e):this.constraints=!1,this.elastic=fU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=dU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=y5(s,a.root,this.visualElement.getTransformPagePoint());let c=cU(a.layout.layoutBox,l);if(n){const d=n(m5(c));this.hasMutatedConstraints=!!d,d&&(c=fR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=ni(v=>{if(!Nd(v,n,this.currentDirection))return;let b=f&&f[v]||{};c&&(b={min:0,max:0});const _=a?200:1e6,w=a?40:1e7,C={type:"inertia",velocity:s?e[v]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,C)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ly(this.visualElement,e),s.start(Cv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:s}=this.getProps();if(!Nd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-mt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=hU({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(c=>{if(!Nd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(mt(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;mU.set(this.visualElement,this);const e=this.visualElement.current,n=Qu(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Yo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const c=gc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=f[v].translate,b.set(b.get()+f[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=zy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Nd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yU extends ea{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new pU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class vU extends ea{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new NR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&dt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ju={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=Uw(t,e.target.x),s=Uw(t,e.target.y);return`${n}% ${s}%`}},bU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Yr.parse(t);if(a.length>5)return s;const l=Yr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const p=mt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Lg=!1;class xU extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;F6(_U),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Lg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$d.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Lg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Lg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DR(t){const[e,n]=V6(),s=A.useContext(uC);return g.jsx(xU,{...t,layoutGroup:s,switchLayoutGroup:A.useContext(hR),isPresent:e,safeToRemove:n})}const _U={borderRadius:{...ju,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ju,borderTopRightRadius:ju,borderBottomLeftRadius:ju,borderBottomRightRadius:ju,boxShadow:bU};function EU(t,e,n){const s=dn(t)?t:hl(t);return s.start(Cv("",s,e,n)),s.animation}const TU=(t,e)=>t.depth-e.depth;class wU{constructor(){this.children=[],this.isDirty=!1}add(e){Z0(this.children,e),this.isDirty=!0}remove(e){J0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TU),this.isDirty=!1,this.children.forEach(e)}}function SU(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&($r(s),t(l-e))};return dt.setup(s,!0),()=>$r(s)}const kR=["TopLeft","TopRight","BottomLeft","BottomRight"],AU=kR.length,zw=t=>typeof t=="string"?parseFloat(t):t,Bw=t=>typeof t=="number"||Te.test(t);function CU(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,RU(s)),t.opacityExit=mt(e.opacity??1,0,NU(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<AU;c++){const d=`border${kR[c]}Radius`;let f=Fw(e,d),p=Fw(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Bw(f)===Bw(p)?(t[d]=Math.max(mt(zw(f),zw(p),s),0),(rs.test(p)||rs.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function Fw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RU=jR(0,.5,xC),NU=jR(.5,.95,ri);function jR(t,e,n){return s=>s<t?0:s>e?1:n(hc(t,e,s))}function Hw(t,e){t.min=e.min,t.max=e.max}function _i(t,e){Hw(t.x,e.x),Hw(t.y,e.y)}function qw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gw(t,e,n,s,a){return t-=e,t=Cf(t,1/n,s),a!==void 0&&(t=Cf(t,1/a,s)),t}function IU(t,e=0,n=1,s=.5,a,l=t,c=t){if(rs.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=mt(l.min,l.max,s);t===l&&(d-=e),t.min=Gw(t.min,e,n,d,a),t.max=Gw(t.max,e,n,d,a)}function Kw(t,e,[n,s,a],l,c){IU(t,e[n],e[s],e[a],e.scale,l,c)}const DU=["x","scaleX","originX"],kU=["y","scaleY","originY"];function $w(t,e,n,s){Kw(t.x,e,DU,n?n.x:void 0,s?s.x:void 0),Kw(t.y,e,kU,n?n.y:void 0,s?s.y:void 0)}function Yw(t){return t.translate===0&&t.scale===1}function MR(t){return Yw(t.x)&&Yw(t.y)}function Qw(t,e){return t.min===e.min&&t.max===e.max}function jU(t,e){return Qw(t.x,e.x)&&Qw(t.y,e.y)}function Ww(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VR(t,e){return Ww(t.x,e.x)&&Ww(t.y,e.y)}function Xw(t){return yn(t.x)/yn(t.y)}function Zw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MU{constructor(){this.members=[]}add(e){Z0(this.members,e),e.scheduleRender()}remove(e){if(J0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:_,skewX:w,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),_&&(s+=`rotateY(${_}deg) `),w&&(s+=`skewX(${w}deg) `),C&&(s+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Ug=["","X","Y","Z"],OU=1e3;let PU=0;function zg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function OR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_R(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&OR(s)}function PR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=PU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zU),this.nodes.forEach(qU),this.nodes.forEach(GU),this.nodes.forEach(BU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new wU)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new nv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ZC(c)&&!k6(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{b=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==b&&(b=w,this.root.updateBlockedByResize=!0,v&&v(),v=SU(_,250),$d.hasAnimatedSinceResize&&($d.hasAnimatedSinceResize=!1,this.nodes.forEach(tS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||WU,{onLayoutAnimationStart:I,onLayoutAnimationComplete:D}=p.getProps(),O=!this.targetLayout||!VR(this.targetLayout,w),F=!b&&_;if(this.options.layoutRoot||this.resumeFrom||F||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...pv(C,"layout"),onPlay:I,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,F)}else b||tS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HU),this.nodes.forEach(LU),this.nodes.forEach(UU)):this.nodes.forEach(eS),this.clearAllSnapshots();const d=Nn.now();tn.delta=Us(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,Rg.update.process(tn),Rg.preRender.process(tn),Rg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FU),this.sharedNodes.forEach($U)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!MR(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ma(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),XU(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ft();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZU))){const{scroll:p}=this.root;p&&(Qo(d.x,p.offset.x),Qo(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Ft();if(_i(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&_i(d,c),Qo(d.x,v.offset.x),Qo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const f=Ft();_i(f,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Wo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ma(v.latestValues)&&Wo(f,v.latestValues)}return Ma(this.latestValues)&&Wo(f,this.latestValues),f}removeTransform(c){const d=Ft();_i(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ma(p.latestValues))continue;My(p.latestValues)&&p.updateSnapshot();const v=Ft(),b=p.measurePageBox();_i(v,b),$w(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ma(this.latestValues)&&$w(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=tn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),pR(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||My(this.parent.latestValues)||mR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Rf(this.relativeTargetOrigin,d,f),_i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;_i(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;g5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ft());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qw(this.prevProjectionDelta.x,this.projectionDelta.x),qw(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!Zw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},b=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Ft(),w=f?f.source:void 0,C=this.layout?this.layout.source:void 0,I=w!==C,D=this.getStack(),O=!D||D.members.length<=1,F=!!(I&&!O&&this.options.crossfade===!0&&!this.path.some(QU));this.animationProgress=0;let q;this.mixTargetDelta=oe=>{const J=oe/1e3;nS(b.x,c.x,J),nS(b.y,c.y,J),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YU(this.relativeTarget,this.relativeTargetOrigin,_,J),q&&jU(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Ft()),_i(q,this.relativeTarget)),I&&(this.animationValues=v,CU(v,p,this.latestValues,J,F,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{$d.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hl(0)),this.currentAnimation=EU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:v}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&LR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ft();const b=yn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const _=yn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+_}_i(d,f),Wo(d,v),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new MU),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&zg("z",c,p,this.animationValues);for(let v=0;v<Ug.length;v++)zg(`rotate${Ug[v]}`,c,p,this.animationValues),zg(`skew${Ug[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Kd(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Kd(d?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=VU(this.projectionDeltaWithTransform,this.treeScale,v);f&&(b=f(v,b)),c.transform=b;const{x:_,y:w}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in pc){if(v[C]===void 0)continue;const{correct:I,applyTo:D,isCSSVariable:O}=pc[C],F=b==="none"?v[C]:I(v[C],p);if(D){const q=D.length;for(let oe=0;oe<q;oe++)c[D[oe]]=F}else O?this.options.visualElement.renderState.vars[C]=F:c[C]=F}this.options.layoutId&&(c.pointerEvents=p===this?Kd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Jw),this.root.sharedNodes.clear()}}}function LU(t){t.updateLayout()}function UU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=yn(b);b.min=n[v].min,b.max=b.min+_}):LR(a,e.layoutBox,n)&&ni(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=yn(n[v]);b.max=b.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const c=Xo();Wu(c,n,e.layoutBox);const d=Xo();l?Wu(d,t.applyTransform(s,!0),e.measuredBox):Wu(d,n,e.layoutBox);const f=!MR(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const w=Ft();Rf(w,e.layoutBox,b.layoutBox);const C=Ft();Rf(C,n,_.layoutBox),VR(w,C)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function zU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FU(t){t.clearSnapshot()}function Jw(t){t.clearMeasurements()}function eS(t){t.isLayoutDirty=!1}function HU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qU(t){t.resolveTargetDelta()}function GU(t){t.calcProjection()}function KU(t){t.resetSkewAndRotation()}function $U(t){t.removeLeadSnapshot()}function nS(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iS(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function YU(t,e,n,s){iS(t.x,e.x,n.x,s),iS(t.y,e.y,n.y,s)}function QU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WU={duration:.45,ease:[.4,0,.1,1]},sS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rS=sS("applewebkit/")&&!sS("chrome/")?Math.round:ri;function aS(t){t.min=rS(t.min),t.max=rS(t.max)}function XU(t){aS(t.x),aS(t.y)}function LR(t,e,n){return t==="position"||t==="preserve-aspect"&&!iU(Xw(e),Xw(n),.2)}function ZU(t){return t!==t.root&&t.scroll?.wasRoot}const JU=PR({attachResizeListener:(t,e)=>gc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bg={current:void 0},UR=PR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bg.current){const t=new JU({});t.mount(window),t.setOptions({layoutScroll:!0}),Bg.current=t}return Bg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e9={pan:{Feature:vU},drag:{Feature:yU,ProjectionNode:UR,MeasureLayout:DR}};function oS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,Pc(e)))}class t9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=C6(e,(n,s)=>(oS(this.node,s,"Start"),a=>oS(this.node,a,"End"))))}unmount(){}}class n9 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(gc(this.node.current,"focus",()=>this.onFocus()),gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,Pc(e)))}class i9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=D6(e,(n,s)=>(lS(this.node,s,"Start"),(a,{success:l})=>lS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const By=new WeakMap,Fg=new WeakMap,s9=t=>{const e=By.get(t.target);e&&e(t)},r9=t=>{t.forEach(s9)};function a9({root:t,...e}){const n=t||document;Fg.has(n)||Fg.set(n,{});const s=Fg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(r9,{root:t,...e})),s[a]}function o9(t,e,n){const s=a9(e);return By.set(t,n),s.observe(t),()=>{By.delete(t),s.unobserve(t)}}const l9={some:0,all:1};class u9 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:l9[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=p?v:b;_&&_(f)};return o9(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c9(e,n))&&this.startObserver()}unmount(){}}function c9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const h9={inView:{Feature:u9},tap:{Feature:i9},focus:{Feature:n9},hover:{Feature:t9}},d9={layout:{ProjectionNode:UR,MeasureLayout:DR}},f9={...X5,...h9,...e9,...d9},jr=f5(f9,A5);function zR({label:t="System wird initialisiert...",theme:e="light"}){const n=e==="dark",s=n?"bg-[#050505]":"bg-[#f8f9fa]",a=n?"text-white/60":"text-black/60",l=n?"bg-indigo-500/20":"bg-blue-400/20",c=n?"bg-white":"bg-gray-900",d={animate:{rotate:[0,90,180,270,360],transition:{duration:4,ease:"linear",repeat:1/0}}};return g.jsxs("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center overflow-hidden ${s}`,children:[g.jsx(jr.div,{className:`absolute h-[400px] w-[400px] rounded-full blur-[100px] ${l}`,animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-12",children:[g.jsx(jr.div,{className:"grid h-16 w-16 grid-cols-2 grid-rows-2 gap-2",variants:d,animate:"animate",children:[0,1,2,3].map(f=>g.jsx(jr.div,{className:`h-full w-full rounded-lg shadow-2xl ${c}`,animate:{scale:[1,.5,1],borderRadius:["30%","50%","30%"],x:f%2===0?[0,-4,0]:[0,4,0],y:f<2?[0,-4,0]:[0,4,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:f*.1},style:{backdropFilter:"blur(10px)"}},f))}),g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx("p",{className:`text-sm font-medium tracking-[0.2em] uppercase ${a}`,children:t}),g.jsx(jr.div,{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/50 to-transparent",animate:{translateX:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",repeatDelay:.5}})]})]}),g.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]})}function m9({children:t}){const{user:e,ready:n}=Fn();return n?e?t:g.jsx(Fa,{to:"/login",replace:!0}):g.jsx(zR,{label:"Profil wird geladen"})}function p9({children:t}){const{user:e,role:n,ready:s}=Fn();return s?e?n!=="admin"?g.jsx(Fa,{to:"/",replace:!0}):t:g.jsx(Fa,{to:"/login",replace:!0}):g.jsx(zR,{label:"Adminrechte werden geprft"})}function BR(){const{user:t}=Fn(),[e,n]=A.useState(null),[s,a]=A.useState(!0),l=A.useRef(null);A.useEffect(()=>{if(!t?.uid)return;async function d(){a(!0);try{const f=Yt(it,"users",t.uid),p=await ls(f);let v=p.exists()?p.data()?.lastSearch:null;v?v.objectCategories=v.objectCategories||[]:(v={offerTypes:[],objectClasses:[],objectCategories:[],priceRange:{to:null},propertySpaceRange:{from:null,to:null}},await gf(f,{lastSearch:v},{merge:!0})),n(v),l.current=v}catch(f){console.error("Fehler beim Laden der Filters:",f),n({})}finally{a(!1)}}d()},[t?.uid]);const c=A.useCallback(async d=>{if(!t?.uid)return;const f=l.current||{};let p={...f,...d};p.objectCategories=p.objectCategories||[],p.objectClasses=p.objectClasses||[];const v=f.offerTypes?.[0]??null,b=p.offerTypes?.[0]??null;v&&b&&v!==b&&(p={...p,priceRange:{...p.priceRange||{},to:null}});const _=f.objectClasses?.includes("Grundstueck")||!1,w=p.objectClasses?.includes("Grundstueck")||!1;_!==w&&(p={...p,propertySpaceRange:{from:null,to:null}}),n(p),l.current=p,await gf(Yt(it,"users",t.uid),{lastSearch:p},{merge:!0})},[t?.uid]);return{filters:e,updateFilters:c,loading:s}}function g9(){const{user:t}=Fn(),[e,n]=A.useState(null),[s,a]=A.useState(!0);A.useEffect(()=>{if(!t)return;let C;const I=async()=>{const D=await ls(Yt(it,"users",t.uid));n(D.data()||null),a(!1)};return I(),e?.stripeStatus==="pending"&&(C=setInterval(I,3e3)),()=>{C&&clearInterval(C)}},[t,e?.stripeStatus]);const l=e?.stripeStatus,c=e?.stripeSubscriptionStatus,f=!e?.stripeCustomerId;return{userDoc:e,loading:s,isFree:f,isPaid:l==="paid"&&c!=="past_due"&&c!=="unpaid",isPending:l==="pending",isCancelled:l==="cancelled",needsAction:l==="payment_failed"||c==="past_due"||c==="unpaid"}}function uS({loading:t,error:e,onSelectMonthly:n,onLogout:s}){return g.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex justify-center items-center z-50 px-4",children:g.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-xl border border-slate-100 p-8",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-900 text-center mb-2",children:"Fast geschafft!"}),g.jsx("p",{className:"text-slate-600 text-center mb-6",children:"Aktiviere ImmobotPro und starte direkt mit deiner automatischen Immobiliensuche."}),g.jsxs("button",{type:"button",onClick:n,disabled:t,className:"group w-full border rounded-2xl p-6 text-left hover:border-sky-500 hover:shadow-md transition flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600 mb-1",children:"Monatlich"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"12,99 "}),g.jsx("p",{className:"text-sm text-slate-500",children:"pro Monat, jederzeit kndbar"})]}),g.jsx("span",{className:"text-sm font-medium text-sky-600 group-hover:translate-x-0.5 transition",children:"Jetzt starten "})]}),e&&g.jsx("p",{className:"text-sm text-red-600 text-center mt-4",children:e}),t&&g.jsx("p",{className:"text-xs text-slate-500 text-center mt-3",children:"Weiterleitung zu Stripe"}),typeof s=="function"&&g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{type:"button",onClick:s,className:"text-xs font-medium text-slate-500 hover:text-slate-700 underline underline-offset-2",children:"Abmelden"})})]})})}function y9({onReactivate:t,loading:e}){return g.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex items-center justify-center z-50 px-4",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border p-8 max-w-md text-center",children:[g.jsx("h2",{className:"text-2xl font-semibold text-slate-900 mb-2",children:"Dein Abo ist pausiert"}),g.jsx("p",{className:"text-slate-600 mb-6",children:"Dein Immobot Pro-Abo wurde beendet. Du kannst es jederzeit wieder aktivieren."}),g.jsx("button",{onClick:t,disabled:e,className:"w-full px-5 py-3 rounded-xl bg-sky-600 text-white font-medium hover:bg-sky-700 transition",children:"Immobot Pro reaktivieren"})]})})}const v9="price_1SaeE9DhGVwiGXJYxm5oZdI6";function FR({children:t}){const{logout:e}=Fn(),{loading:n,isPaid:s,isPending:a,needsAction:l,isCancelled:c,isFree:d}=g9(),[f,p]=A.useState(!1),[v,b]=A.useState("");async function _(){b(""),p(!0);try{const I=(await _f(Ef,"createCheckoutSession")({priceId:v9})).data?.url;if(!I)throw new Error("Keine Checkout-URL erhalten");window.location.href=I}catch(w){console.error(w),b(w.message||"Fehler beim Starten des Checkouts"),p(!1)}}return n?g.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Prfe deinen Zugang"}):a?g.jsx("div",{className:"p-6 text-center text-sm text-gray-600",children:"Zahlung wird geprft"}):l?g.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex items-center justify-center z-50 px-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border p-6 max-w-md text-center",children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Zahlung fehlgeschlagen"}),g.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Bitte aktualisiere deine Zahlungsmethode, um ImmobotPro weiter nutzen zu knnen."}),g.jsx("button",{onClick:async()=>{const C=await _f(Ef,"createCustomerPortal")();window.location.href=C.data.url},className:"px-4 py-2 rounded-xl bg-sky-600 text-white text-sm font-medium hover:bg-sky-700",children:"Zahlung reparieren"}),g.jsx("div",{className:"mt-4",children:g.jsx("button",{onClick:e,className:"text-xs text-slate-500 hover:text-slate-700 underline",children:"Abmelden"})})]})}):d?g.jsx(uS,{loading:f,error:v,onSelectMonthly:_,onLogout:e}):c?g.jsx(y9,{loading:f,onReactivate:_,onLogout:e}):s?t:g.jsx(uS,{loading:f,error:v,onSelectMonthly:_,onLogout:e})}function b9(){const t=new Date().getHours();return t<11?"Guten Morgen":t<18?"Guten Tag":"Guten Abend"}function x9(t){return t?Object.values(t).filter(e=>Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:e!==null&&e!==""&&e!==!1).length:0}function _9(){const{user:t}=Fn(),{filters:e,loading:n}=BR(),[s,a]=A.useState("");A.useEffect(()=>{let p=!1;async function v(){if(t?.uid)try{const b=Yt(it,"users",t.uid),_=await ls(b);if(p)return;if(_.exists()){const w=_.data()||{};a(typeof w.firstName=="string"?w.firstName:"")}else a("")}catch(b){console.error("Fehler beim Laden des Userprofils:",b),p||a("")}}return v(),()=>{p=!0}},[t?.uid]);const l=A.useMemo(()=>x9(e),[e]),c=b9(),d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},f={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[g.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-4"}),g.jsx("div",{className:"h-64 w-64 bg-gray-200 rounded-3xl"})]})}):g.jsx(FR,{children:g.jsx(jr.div,{className:"min-h-screen bg-[#FDFDFD] p-6 md:p-12 font-sans text-gray-900",variants:d,initial:"hidden",animate:"visible",children:g.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[g.jsxs(jr.div,{variants:f,className:"space-y-1",children:[g.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight",children:[c,", ",g.jsx("br",{className:"md:hidden"}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-600",children:s}),g.jsx(jr.span,{className:"inline-block ml-4",animate:{rotate:[0,14,-8,14,-4,10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:1},children:""})]}),g.jsx("p",{className:"text-lg md:text-xl text-gray-400 font-medium",children:"Schn, dich wiederzusehen. Hier ist dein Status."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx(cS,{to:"/dashboard/filters",variant:"dark",children:g.jsxs("div",{className:"flex flex-col h-full justify-between",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("div",{className:"p-3 rounded-2xl bg-white/10 backdrop-blur-md border border-white/5",children:g.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),g.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-white/20 text-white backdrop-blur-sm border border-white/10",children:"Konfiguration"})]}),g.jsxs("div",{className:"space-y-2 mt-8",children:[g.jsx("div",{className:"text-6xl font-black text-white tracking-tighter",children:l}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Aktive Suchfilter"}),g.jsx("p",{className:"text-white/60 text-sm leading-relaxed max-w-xs",children:"Deine Kriterien fr Standort, Preis und Ausstattung."})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-bold text-white/80 group-hover:text-white transition-colors",children:["Bearbeiten ",g.jsx(hS,{})]})]})}),g.jsx(cS,{to:"/dashboard/results",variant:"light",children:g.jsxs("div",{className:"flex flex-col h-full justify-between relative overflow-hidden",children:[g.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none mix-blend-multiply"}),g.jsxs("div",{className:"flex justify-between items-start z-10",children:[g.jsx("div",{className:"p-3 rounded-2xl bg-indigo-50 border border-indigo-100",children:g.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),g.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700 border border-green-200",children:"Live Suche"})]}),g.jsxs("div",{className:"space-y-2 mt-8 z-10",children:[g.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Suchergebnisse"}),g.jsx("p",{className:"text-gray-500 text-sm leading-relaxed max-w-xs",children:"Wir haben den Markt gescannt. Schau dir die Treffer an, die zu deinen Filtern passen."})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-bold text-indigo-600 group-hover:text-indigo-700 transition-colors z-10",children:["Ergebnisse ffnen ",g.jsx(hS,{})]})]})})]})]})})})}function cS({children:t,to:e,variant:n}){const s=n==="dark";return g.jsx(jr.div,{variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}},whileHover:{y:-8},whileTap:{scale:.98},children:g.jsxs(rn,{to:e,className:`
          group relative block h-full p-8 md:p-10 rounded-[2.5rem] overflow-hidden transition-all duration-500 shadow-xl
          ${s?"bg-gray-900 border border-gray-800 shadow-2xl shadow-gray-900/20":"bg-white border border-gray-100 shadow-2xl shadow-indigo-100/50"}
        `,children:[s&&g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 via-transparent to-purple-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),g.jsx("div",{className:"relative z-10 h-full",children:t})]})})}function hS(){return g.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}function E9(){return g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-8 md:p-12",children:g.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:["Immobot ",g.jsx("span",{className:"text-indigo-600",children:"Admin"})]}),g.jsx("p",{className:"text-lg text-gray-500",children:"Willkommen zurck. Whle einen Bereich zur Verwaltung."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(Hg,{title:"User Management",desc:"Benutzerliste, Rollen & Zugriffsrechte verwalten.",to:"/admin/users",icon:g.jsx(T9,{}),color:"text-blue-600",bg:"bg-blue-50"}),g.jsx(Hg,{title:"Klick-Events",desc:"Tracking-Daten und Klick-Analysen einsehen.",to:"/admin/clicks",icon:g.jsx(w9,{}),color:"text-violet-600",bg:"bg-violet-50"}),g.jsx(Hg,{title:"Offer Redirects",desc:"Weiterleitungen zu Partner-Angeboten steuern.",to:"/admin/offers",icon:g.jsx(S9,{}),color:"text-emerald-600",bg:"bg-emerald-50"})]})]})})}function Hg({title:t,desc:e,to:n,icon:s,color:a,bg:l}){return g.jsxs(rn,{to:n,className:"group relative flex flex-col justify-between p-8 bg-white rounded-2xl border border-gray-200 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-indigo-100 overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${l} rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity duration-500 -mr-10 -mt-10 pointer-events-none`}),g.jsxs("div",{children:[g.jsx("div",{className:`w-12 h-12 rounded-xl ${l} ${a} flex items-center justify-center mb-6 transition-transform group-hover:scale-110`,children:s}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:t}),g.jsx("p",{className:"text-sm text-gray-500 mt-2 leading-relaxed",children:e})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-medium text-gray-400 group-hover:text-indigo-600 transition-colors",children:["ffnen",g.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}function T9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}function w9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}function S9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function Lc({isEditing:t,header:e,children:n}){return g.jsxs("section",{className:`
        relative h-full rounded-[20px] p-6 md:p-8 transition-all duration-200
        ${t?"bg-white ring-4 ring-blue-50 shadow-md":"bg-gray-50 border border-gray-200 shadow-sm"}
      `,children:[g.jsx("div",{className:"relative z-20 mb-8",children:e}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:t?"":"opacity-75",children:n}),!t&&g.jsx("div",{className:`
              absolute inset-0 rounded-xl
              bg-white/40 backdrop-blur-[1px]
              pointer-events-none
            `,"aria-hidden":"true"})]})]})}const dS="VUVj9lGbHQAdYVsF04k8",A9=[5,7.5,10,12.5,15];function C9({filters:t}){const{user:e}=Fn(),[n,s]=A.useState(!1),[a,l]=A.useState(t?.address||""),[c,d]=A.useState([]),[f,p]=A.useState(t?.coordinate?.lat??52.52),[v,b]=A.useState(t?.coordinate?.lon??13.405),[_,w]=A.useState(t?.radiusInKm??10),C=A.useRef(null),I=A.useRef({map:null,marker:null,circle:null});A.useEffect(()=>{t&&(t.coordinate?.lat!=null&&p(t.coordinate.lat),t.coordinate?.lon!=null&&b(t.coordinate.lon),t.radiusInKm!=null&&w(t.radiusInKm),t.address&&l(t.address))},[t]);const D=()=>s(!0),O=async()=>{e?.uid&&await yf(Yt(it,"users",e.uid),{lastSearch:{...t||{},coordinate:{lat:f,lon:v},radiusInKm:_,address:a}}),s(!1)};async function F(J){if(!J||J.length<3){d([]);return}try{const k=await(await fetch(`https://api.maptiler.com/geocoding/${encodeURIComponent(J)}.json?key=${dS}&language=de&country=de,at,ch`)).json();d(k.features?.map(R=>({label:R.place_name,lat:R.center[1],lon:R.center[0]}))??[])}catch(X){console.error("Fehler bei der Adresssuche:",X)}}function q(J){l(J.label),p(J.lat),b(J.lon),d([])}A.useEffect(()=>{let J=!1;async function X(){return window.L||await new Promise(R=>{const j=document.createElement("link");j.rel="stylesheet",j.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",document.head.appendChild(j);const L=document.createElement("script");L.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",L.onload=R,document.body.appendChild(L)}),window.L}async function k(){if(!C.current)return;const R=await X();J||(I.current.map?I.current.map.setView([f,v]):(I.current.map=R.map(C.current,{zoomControl:!1}).setView([f,v],11),R.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${dS}`,{attribution:'&copy; <a href="https://www.maptiler.com/copyright/">MapTiler</a>'}).addTo(I.current.map)),I.current.marker?.remove(),I.current.circle?.remove(),I.current.marker=R.marker([f,v]).addTo(I.current.map),I.current.circle=R.circle([f,v],{radius:_*1e3,color:"#2563eb",fillOpacity:.2}).addTo(I.current.map),I.current.map.fitBounds(I.current.circle.getBounds(),{padding:[20,20]}))}return k(),()=>{J=!0}},[f,v,_]);const oe=J=>{const X="px-4 py-2 text-sm rounded-full border transition-all duration-200";return J?n?`${X} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${X} bg-gray-200 border-gray-200 text-gray-700`:n?`${X} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${X} bg-white border-gray-200 text-gray-500`};return g.jsx(Lc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Standort & Radius"}),!n&&a&&g.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate max-w-[200px]",children:a}),!n&&g.jsx("button",{type:"button",onClick:D,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:O,className:`
                shrink-0
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"space-y-8",children:[n&&g.jsxs("div",{className:"space-y-4 relative",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5 uppercase tracking-wider",children:"Adresse suchen"}),g.jsx("input",{value:a,onChange:J=>{l(J.target.value),F(J.target.value)},className:"w-full rounded-xl border-gray-300 bg-gray-50 px-4 py-3 text-sm",placeholder:"z.B. Berlin Alexanderplatz"}),c.length>0&&g.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 rounded-xl border bg-white shadow-2xl z-[1000] max-h-60 overflow-auto",children:c.map((J,X)=>g.jsx("button",{onClick:()=>q(J),className:"block w-full text-left px-4 py-3 text-sm hover:bg-blue-50 border-b last:border-0 text-gray-700",children:J.label},X))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Radius"}),g.jsx("div",{className:"flex flex-wrap gap-3",children:A9.map(J=>g.jsxs("button",{type:"button",disabled:!n,onClick:()=>w(J),className:oe(_===J),children:[J," km"]},J))})]})]}),g.jsx("div",{className:"h-64 w-full rounded-2xl border border-gray-200 overflow-hidden relative z-0",children:g.jsx("div",{ref:C,className:"h-full w-full bg-gray-100"})})]}),!n&&g.jsx("button",{type:"button",onClick:D,className:"absolute inset-0 rounded-xl cursor-pointer bg-transparent z-10","aria-label":"Bearbeiten aktivieren"})]})})}const R9=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}],N9={Haus:"Wohnen",Wohnung:"Wohnen",Studenten:"Wohnen",Ferienobjekt:"Wohnen",Grundstueck:"Wohnen",StellplatzGarage:"Gewerbe",BroPraxis:"Gewerbe",Gastronomie:"Gewerbe",Gewerbeeinheit:"Gewerbe",HalleLagerProduktion:"Gewerbe",Hotel:"Gewerbe",LandForst:"Gewerbe",Sonstige:"Wohnen"};function I9(t=[]){return Array.from(new Set(t.map(e=>N9[e]).filter(Boolean)))}function D9({filters:t,onChange:e}){const[n,s]=A.useState(t.objectClasses||[]),[a,l]=A.useState(t.offerTypes||[]),[c,d]=A.useState(!1);A.useEffect(()=>{s(t.objectClasses||[]),l(t.offerTypes||[])},[t]);const f=()=>d(!0),p=_=>{if(!c)return;const w=n.includes(_);if(!w&&n.length>=2)return;const C=w?n.filter(D=>D!==_):[...n,_],I=I9(C);s(C),e({...t,objectClasses:C,objectCategories:I})},v=_=>{if(!c||a[0]===_)return;const w=[_];l(w),e({...t,offerTypes:w})},b=(_,w)=>{const C="px-4 py-2 text-sm rounded-full border transition-all duration-200";return _?`${C} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:w?`${C} bg-white border-gray-200 text-gray-400 cursor-not-allowed`:`${C} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`};return g.jsx(Lc,{isEditing:c,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Objekt & Angebot"}),!c&&g.jsx("button",{type:"button",onClick:f,className:"mt-2 px-3 py-1.5 text-sm font-semibold rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Bearbeiten"})]}),c&&g.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-5 py-2 text-sm font-semibold rounded-xl bg-blue-600 text-white hover:bg-blue-700",children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx("hr",{className:"border-gray-200/60"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Angebotsart"}),g.jsx("div",{className:"flex flex-wrap gap-3",children:["Kauf","Miete"].map(_=>g.jsx("button",{type:"button",disabled:!c,onClick:()=>v(_),className:b(a.includes(_)),children:_},_))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Objektarten"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"}),g.jsx("br",{}),g.jsx("div",{className:"flex flex-wrap gap-3",children:R9.map(_=>{const w=n.includes(_.value),C=!w&&n.length>=2;return g.jsx("button",{type:"button",disabled:!c||C,onClick:()=>p(_.value),className:b(w,C),children:_.label},_.value)})})]})]}),!c&&g.jsx("button",{type:"button",onClick:f,className:"absolute inset-0 rounded-xl bg-transparent"})]})})}function fS({active:t,onClick:e,children:n,disabled:s,isEditing:a}){const l="px-4 py-2 text-sm rounded-full font-medium transition-all duration-200 border";return t?g.jsx("button",{type:"button",disabled:s,onClick:e,className:a?`${l} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${l} bg-gray-200 border-gray-200 text-gray-700`,children:n}):g.jsx("button",{type:"button",disabled:s,onClick:e,className:a?`${l} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${l} bg-white border-gray-200 text-gray-400`,children:n})}const k9=[600,800,1e3,1200,1500,null],j9=[2e5,3e5,4e5,5e5,75e4,1e6,null],M9=[{label:"bis 100 m",from:null,to:100},{label:"ab 100 m",from:100,to:null},{label:"beliebig",from:null,to:null}],V9=[{label:"bis 500 m",from:null,to:500},{label:"ab 500 m",from:500,to:null},{label:"beliebig",from:null,to:null}];function O9({filters:t,onChange:e}){const[n,s]=A.useState(!1),a=t.offerTypes?.includes("Miete")&&!t.offerTypes?.includes("Kauf"),l=t.objectClasses?.includes("Grundstueck"),c=A.useMemo(()=>a?k9:j9,[a]),d=l?V9:M9,[f,p]=A.useState(t.priceRange?.to??null),[v,b]=A.useState({from:t.propertySpaceRange?.from??null,to:t.propertySpaceRange?.to??null});A.useEffect(()=>{p(t.priceRange?.to??null),b({from:t.propertySpaceRange?.from??null,to:t.propertySpaceRange?.to??null})},[t]);const _=()=>s(!0),w=(D,O)=>{if(D==null)return"beliebig";const F=D.toLocaleString("de-DE");return a?`bis ${F} `:O===c.length-2&&c[c.length-1]===null?`ab ${F} `:`bis ${F} `},C=D=>{n&&(p(D),e({...t,priceRange:{...t.priceRange||{},to:D}}))},I=D=>{n&&(b({from:D.from,to:D.to}),e({...t,propertySpaceRange:{from:D.from,to:D.to}}))};return g.jsx(Lc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Preis & Flche"}),!n&&g.jsx("button",{type:"button",onClick:_,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:()=>s(!1),className:`
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:a?"Maximale Kaltmiete":"Maximaler Kaufpreis"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((D,O)=>g.jsx(fS,{active:f===D,onClick:()=>C(D),disabled:!n,isEditing:n,children:w(D,O)},O))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:l?"Grundstcksflche":"Wohnflche"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((D,O)=>{const F=v.from===D.from&&v.to===D.to;return g.jsx(fS,{active:F,onClick:()=>I(D),disabled:!n,isEditing:n,children:D.label},O)})})]})]}),!n&&g.jsx("button",{type:"button",onClick:_,className:"absolute inset-0 rounded-xl bg-transparent","aria-label":"Bearbeiten aktivieren"})]})})}const HR=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function mS(t){return HR.reduce((e,n)=>({...e,[n.key]:t?.[n.key]??!1}),{})}function P9({filters:t}){const{user:e}=Fn(),[n,s]=A.useState(!1),[a,l]=A.useState(()=>mS(t));A.useEffect(()=>{l(mS(t))},[t]);const c=()=>s(!0),d=async p=>{if(!n)return;const v={...a,[p]:!a[p]};l(v),e?.uid&&await yf(Yt(it,"users",e.uid),{lastSearch:{...t,...v}})},f=p=>{const v="px-4 py-2 text-sm rounded-full border transition-all duration-200";return p?n?`${v} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${v} bg-gray-200 border-gray-200 text-gray-700`:n?`${v} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${v} bg-white border-gray-200 text-gray-400`};return g.jsx(Lc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Ausstattung & Extras"}),!n&&g.jsx("button",{type:"button",onClick:c,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:()=>s(!1),className:`
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"flex flex-wrap gap-2.5",children:HR.map(p=>g.jsx("button",{type:"button",disabled:!n,onClick:()=>d(p.key),className:f(a[p.key]),children:p.label},p.key))}),!n&&g.jsx("button",{type:"button",onClick:c,className:"absolute inset-0 rounded-xl bg-transparent","aria-label":"Bearbeiten aktivieren"})]})})}const L9=[{value:"Erdgas",label:"Erdgas"},{value:"Erdwaerme",label:"Erdwrme"},{value:"Fernwaerme",label:"Fernwrme"},{value:"Fluessiggas",label:"Flssiggas"},{value:"Gas",label:"Gas"},{value:"Holz",label:"Holz"},{value:"Kohle",label:"Kohle"},{value:"Luftwaerme",label:"Luftwrme"},{value:"Nahwaerme",label:"Nahwrme"},{value:"Oel",label:"l"},{value:"Pellets",label:"Pellets"},{value:"Solar",label:"Solar"},{value:"Strom",label:"Strom"},{value:"Wasserwaerme",label:"Wasserwrme"},{value:"Alternativ",label:"Alternativ"}],U9=[{value:"Blockheizkraftwerk",label:"Blockheizkraftwerk"},{value:"Etagenheizung",label:"Etagenheizung"},{value:"Fernheizung",label:"Fernheizung"},{value:"Fussbodenheizung",label:"Fubodenheizung"},{value:"Kachelofen",label:"Kachelofen"},{value:"Kamin",label:"Kamin"},{value:"Nachtspeicher",label:"Nachtspeicher"},{value:"Ofenheizung",label:"Ofenheizung"},{value:"Solarheizung",label:"Solarheizung"},{value:"Waermepumpe",label:"Wrmepumpe"},{value:"Zentralheizung",label:"Zentralheizung"}],z9=[{value:"A3Plus",label:"A+++"},{value:"A2Plus",label:"A++"},{value:"APlus",label:"A+"},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"},{value:"E",label:"E"},{value:"F",label:"F"},{value:"G",label:"G"},{value:"H",label:"H"}],B9=[{value:"KfwEffizienzhausDenkmal",label:"KfW Denkmal"},{value:"KfwEffizienzhaus115",label:"KfW 115"},{value:"KfwEffizienzhaus100",label:"KfW 100"},{value:"KfwEffizienzhaus85",label:"KfW 85"},{value:"KfwEffizienzhaus70",label:"KfW 70"},{value:"KfwEffizienzhaus60",label:"KfW 60"},{value:"KfwEffizienzhaus55",label:"KfW 55"},{value:"KfwEffizienzhaus40",label:"KfW 40"},{value:"KfwEffizienzhaus40Plus",label:"KfW 40 Plus"},{value:"Passivhaus",label:"Passivhaus"},{value:"Nullenergiehaus",label:"Nullenergiehaus"},{value:"Plusenergiehaus",label:"Plusenergiehaus"}];function Ar({title:t,children:e}){return g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:t}),e]})}function Id({options:t,active:e=[],onToggle:n,isEditing:s}){return g.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(a=>{const l=typeof a=="string"?a:a.value,c=typeof a=="string"?a:a.label,d=e.includes(l),f="px-3 py-1.5 text-xs font-medium rounded-full border transition-all",p=d?s?`${f} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${f} bg-gray-200 border-gray-200 text-gray-700`:s?`${f} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${f} bg-white border-gray-200 text-gray-400`;return g.jsx("button",{type:"button",disabled:!s,onClick:()=>n(l),className:p,children:c},l)})})}function yc(t,e,n){const s=[];for(let a=t;a<=e;a+=n)s.push(a);return s}function Dd({from:t,to:e,unit:n,options:s,isEditing:a,onChange:l,placeholders:c={from:"von",to:"bis"}}){const d=t??null,f=e??null,p=d==null?s:s.filter(b=>b>=d),v=(b,_)=>{let w=b??null,C=_??null;if(w!=null&&C!=null&&w>C){const I=w;w=C,C=I}l({from:w,to:C})};return g.jsxs("div",{className:"flex items-center gap-2 max-w-xs",children:[g.jsxs("select",{disabled:!a,value:d??"",onChange:b=>{const _=b.target.value===""?null:Number(b.target.value);v(_,f)},className:"w-24 rounded-lg border-gray-300 bg-gray-50 px-3 py-2 text-sm disabled:text-gray-400",children:[g.jsx("option",{value:"",children:c.from}),s.map(b=>g.jsx("option",{value:b,children:b},b))]}),g.jsx("span",{className:"text-gray-400",children:"-"}),g.jsxs("select",{disabled:!a,value:f??"",onChange:b=>{const _=b.target.value===""?null:Number(b.target.value);v(d,_)},className:"w-24 rounded-lg border-gray-300 bg-gray-50 px-3 py-2 text-sm disabled:text-gray-400",children:[g.jsx("option",{value:"",children:c.to}),p.map(b=>g.jsx("option",{value:b,children:b},b))]}),n?g.jsx("span",{className:"text-sm text-gray-500 font-medium ml-1",children:n}):null]})}const F9=[...yc(0,3e3,100),...yc(3250,1e4,250)],H9=yc(0,15,1),q9=yc(0,500,50),G9=new Date().getFullYear(),K9=yc(1900,G9,5);function $9({filters:t,onChange:e}){const[n,s]=A.useState(!1),a=()=>s(!0),l=(I,D)=>{if(!n)return;const O=t[I]||[],F=O.includes(D)?O.filter(q=>q!==D):[...O,D];e({...t,[I]:F})},c=(I,D)=>{e({...t,[I]:{from:D?.from??null,to:D?.to??null}})},{energySources:d=[],heatingTypes:f=[],energyRatings:p=[],energyEfficiencyStandards:v=[],pricePerSqmRange:b={},yieldRange:_={},energyConsumptionRange:w={},constructionYearRange:C={}}=t||{};return g.jsx(Lc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Erweiterte Filter"}),!n&&g.jsx("button",{type:"button",onClick:a,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:()=>s(!1),className:`
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative space-y-8",children:[g.jsx(Ar,{title:"Energietrger",children:g.jsx(Id,{options:L9,active:d,isEditing:n,onToggle:I=>l("energySources",I)})}),g.jsx(Ar,{title:"Heizung",children:g.jsx(Id,{options:U9,active:f,isEditing:n,onToggle:I=>l("heatingTypes",I)})}),g.jsx(Ar,{title:"Energieklasse",children:g.jsx(Id,{options:z9,active:p,isEditing:n,onToggle:I=>l("energyRatings",I)})}),g.jsx(Ar,{title:"Energiestandard",children:g.jsx(Id,{options:B9,active:v,isEditing:n,onToggle:I=>l("energyEfficiencyStandards",I)})}),g.jsx("hr",{className:"border-gray-200/60"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx(Ar,{title:"Preis pro m (/m)",children:g.jsx(Dd,{from:b.from??null,to:b.to??null,unit:"",options:F9,isEditing:n,onChange:I=>c("pricePerSqmRange",I)})}),g.jsx(Ar,{title:"Rendite (%)",children:g.jsx(Dd,{from:_.from??null,to:_.to??null,unit:!0,options:H9,isEditing:n,onChange:I=>c("yieldRange",I)})}),g.jsx(Ar,{title:"Energieverbrauch kWh",children:g.jsx(Dd,{from:w.from??null,to:w.to??null,unit:"",options:q9,isEditing:n,onChange:I=>c("energyConsumptionRange",I)})}),g.jsx(Ar,{title:"Baujahr",children:g.jsx(Dd,{from:C.from??null,to:C.to??null,unit:"",options:K9,isEditing:n,onChange:I=>c("constructionYearRange",I)})})]}),!n&&g.jsx("button",{type:"button",onClick:a,className:"absolute inset-0 rounded-xl bg-transparent","aria-label":"Bearbeiten aktivieren"})]})})}function Y9(){const{filters:t,loading:e,updateFilters:n}=BR();return e||!t?g.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:g.jsx("div",{className:"text-gray-500 font-medium animate-pulse",children:"Lade Filter"})}):g.jsx(FR,{children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:px-8",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 tracking-tight",children:"Meine Suchfilter"}),g.jsx("p",{className:"text-gray-500 mt-2 text-lg",children:"Passe deine Suche an, um die besten Deals zu finden."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsx("div",{className:"h-full",children:g.jsx(C9,{filters:t,onChange:n})}),g.jsx("div",{className:"h-full",children:g.jsx(D9,{filters:t,onChange:n})}),g.jsx("div",{className:"h-full",children:g.jsx(O9,{filters:t,onChange:n})}),g.jsx("div",{className:"h-full",children:g.jsx(P9,{filters:t,onChange:n})}),g.jsx("div",{className:"lg:col-span-2",children:g.jsx($9,{filters:t,onChange:n})})]})]})})}const Q9="VUVj9lGbHQAdYVsF04k8";function W9({offers:t=[],onMarkerClick:e}){const n=A.useRef(null),s=A.useRef({map:null,L:null,markers:[]});return A.useEffect(()=>{let a=!1;async function l(){if(!window.L){const f=document.createElement("link");f.rel="stylesheet",f.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(f),await new Promise(p=>{const v=document.createElement("script");v.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",v.onload=p,document.body.appendChild(v)})}return window.L}async function c(){const f=await l();a||!n.current||(s.current.map||(s.current.map=f.map(n.current).setView([51,10],6),s.current.L=f,f.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${Q9}`,{attribution:"&copy; MapTiler"}).addTo(s.current.map)),d())}function d(){const{map:f,L:p}=s.current;if(!f||!p)return;s.current.markers.forEach(b=>b.remove()),s.current.markers=[];const v=t.filter(b=>typeof b.latitude=="number"&&typeof b.longitude=="number"&&b.docId);if(v.forEach(b=>{const _=p.marker([b.latitude,b.longitude]).addTo(f).bindPopup(`
            <div style="min-width:180px">
              <strong>${b.title||"Ohne Titel"}</strong><br/>
              ${b.price?b.price+" ":""}<br/>
              ${b.rooms?b.rooms+" Zimmer":""}
            </div>
          `);_.on("click",()=>{_.openPopup(),e?.(b.docId)}),s.current.markers.push(_)}),v.length>0){const b=p.latLngBounds(v.map(_=>[_.latitude,_.longitude]));f.fitBounds(b,{padding:[30,30],maxZoom:14})}}return c(),()=>a=!0},[t,e]),g.jsx("div",{ref:n,className:"h-full w-full rounded-2xl border border-gray-200"})}async function X9({redirectId:t,geomapOfferId:e,redirectUrl:n,userId:s,source:a="web-app"}){if(!t||!n){console.error("trackAndRedirect: missing data",{redirectId:t,redirectUrl:n,geomapOfferId:e,userId:s,source:a});return}try{const l={redirectId:t,source:a,timestamp:vf()};e&&(l.geomapOfferId=e),s&&(l.userId=s),await v4(os(it,"clickEvents"),l)}catch(l){console.error("Click tracking failed",l)}window.open(n,"_blank","noopener,noreferrer")}const pS=t=>{if(!t)return!1;const e=t.toDate?t.toDate():new Date(t),n=new Date;return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()},Z9=t=>{if(!t)return"Preis a. A.";const e=parseFloat(String(t).replace(/[^0-9.,-]/g,""));return isNaN(e)?t:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)};function J9({offers:t=[],highlightedId:e}){const{user:n}=Fn(),s=A.useRef({}),[a,l]=A.useState(!1),c=t.filter(f=>f.createdAt&&pS(f.createdAt)),d=t.filter(f=>!f.createdAt||!pS(f.createdAt));return A.useEffect(()=>{e&&s.current[e]&&(s.current[e].scrollIntoView({behavior:"smooth",block:"center"}),d.find(p=>p.docId===e)&&l(!0))},[e,d]),g.jsxs("div",{className:"space-y-6",children:[c.length===0&&d.length>0&&g.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 text-center shadow-sm",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-white text-gray-400 mb-2 border border-gray-100",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsx("h3",{className:"text-gray-900 font-bold text-sm",children:"Heute noch nichts Neues"}),g.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Wir scannen den Markt weiter fr dich. Hier sind deine ",d.length," gespeicherten Ergebnisse."]})]}),c.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-1",children:[g.jsxs("span",{className:"relative flex h-2 w-2",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Neu eingetroffen"})]}),c.map(f=>g.jsx(gS,{o:f,user:n,isActive:f.docId===e,setRef:p=>s.current[f.docId]=p},f.docId))]}),d.length>0&&g.jsxs("div",{className:"space-y-4 pt-2",children:[g.jsxs("button",{onClick:()=>l(!a),className:"flex items-center justify-between w-full text-sm font-bold text-gray-500 hover:text-indigo-600 transition-colors py-2 group",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:a?"ltere verbergen":"ltere anzeigen"}),g.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs",children:d.length})]}),g.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&g.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:d.map(f=>g.jsx(gS,{o:f,user:n,isActive:f.docId===e,setRef:p=>s.current[f.docId]=p},f.docId))})]}),t.length===0&&g.jsx("div",{className:"p-10 text-center border border-dashed border-gray-300 rounded-2xl bg-gray-50",children:g.jsx("p",{className:"text-gray-500 font-medium",children:"Keine Angebote gefunden."})})]})}function gS({o:t,user:e,isActive:n,setRef:s}){return g.jsx("div",{ref:s,className:`
        rounded-2xl p-5 transition-all duration-200
        ${n?"border-2 border-indigo-500 bg-indigo-50 shadow-lg scale-[1.02]":"border border-gray-200 bg-white hover:border-indigo-200 hover:shadow-md"}
      `,children:g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base line-clamp-2",children:t.title||"Ohne Titel"}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.vendor?.name,"  ",t.rooms," Zi."]})]}),g.jsxs("div",{className:"text-right whitespace-nowrap",children:[g.jsx("div",{className:"font-bold text-gray-900",children:Z9(t.price)}),g.jsx("button",{onClick:()=>X9({redirectId:t.docId,geomapOfferId:t.geomapOfferId,redirectUrl:t.redirectUrl,userId:e?.uid||null,source:"web-app"}),className:"mt-2 px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-bold hover:bg-indigo-700 transition-colors",children:"Zum Angebot"})]})]})})}function ez(){const{user:t}=Fn(),[e,n]=A.useState([]),[s,a]=A.useState(!0),[l,c]=A.useState(null);return A.useEffect(()=>{if(!t?.uid)return;async function d(){a(!0);try{const f=Jr(os(it,"offerRedirects"),kc("uid","==",t.uid)),v=(await Kr(f)).docs.map(b=>({docId:b.id,...b.data()}));v.sort((b,_)=>{const w=b.createdAt?.seconds||0;return(_.createdAt?.seconds||0)-w}),n(v)}catch(f){console.error("Fehler beim Laden:",f)}finally{a(!1)}}d()},[t]),g.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 p-6 max-w-[1800px] mx-auto min-h-screen",children:[g.jsxs("div",{className:"order-2 xl:order-1 flex flex-col gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Deine Ergebnisse"}),g.jsxs("p",{className:"text-gray-500 mt-1",children:[e.length," Angebote gefunden"]})]}),s&&g.jsx("div",{className:"p-10 text-center text-gray-400 animate-pulse",children:"Lade Daten..."}),!s&&g.jsx(J9,{offers:e,highlightedId:l})]}),g.jsx("div",{className:"order-1 xl:order-2",children:g.jsx("div",{className:"sticky top-6",children:g.jsx("div",{className:"h-[360px] xl:h-[520px] rounded-2xl overflow-hidden border border-gray-200 bg-white shadow-sm",children:g.jsx(W9,{offers:e,onMarkerClick:c})})})})]})}function tz(){const{user:t,ready:e}=Fn();return e?t?g.jsx(Fa,{to:"/dashboard",replace:!0}):g.jsx(Fa,{to:"/login",replace:!0}):null}function nz(){const{user:t,logout:e}=Fn(),n=A.useMemo(()=>AA(),[]),[s,a]=A.useState(null),[l,c]=A.useState(!0),[d,f]=A.useState(!1),[p,v]=A.useState(!1),[b,_]=A.useState(""),[w,C]=A.useState(""),[I,D]=A.useState(""),[O,F]=A.useState(!1),[q,oe]=A.useState(!1),[J,X]=A.useState(""),[k,R]=A.useState("");if(A.useEffect(()=>{async function le(){if(t?.uid){c(!0),R(""),X("");try{const ce=await ls(Yt(it,"users",t.uid));if(ce.exists()){const be=ce.data();a(be),_(be?.firstName||""),C(be?.lastName||""),D(t?.email||"")}}catch(ce){console.error(ce),R("Profil konnte nicht geladen werden.")}finally{c(!1)}}}le()},[t]),l)return g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Profil"});const j=s?.firstName||"User",L=s?.lastName||"",P=j.charAt(0).toUpperCase(),B=s?.stripeStatus||"free",M=s?.stripeSubscriptionStatus||"",we=B==="paid"&&!["past_due","unpaid","canceled"].includes(M),Ve=B==="payment_failed"||["past_due","unpaid"].includes(M),Z=we?"PRO AKTIV":Ve?"ZAHLUNG PROBLEM":B==="pending"?"WIRD GEPRFT":B==="cancelled"?"GEKNDIGT":"FREE",ae=we?"bg-emerald-100 text-emerald-700 border-emerald-200":Ve?"bg-rose-100 text-rose-700 border-rose-200":"bg-gray-100 text-gray-600 border-gray-200";async function de(){const le=await ls(Yt(it,"users",t.uid));le.exists()&&a(le.data())}async function Ee(){v(!0),R(""),X("");try{await yf(Yt(it,"users",t.uid),{firstName:b.trim(),lastName:w.trim()}),X("Profil gespeichert."),f(!1),await de()}catch{R("Profil konnte nicht gespeichert werden.")}finally{v(!1)}}async function ke(){F(!0),R(""),X("");try{const le=I.trim().toLowerCase();await Hj(n.currentUser,le),await yf(Yt(it,"users",t.uid),{email:le}),X("E-Mail-Adresse aktualisiert.")}catch{R("Aus Sicherheitsgrnden ist ein erneutes Einloggen erforderlich, um die E-Mail zu ndern.")}finally{F(!1)}}async function z(){await pA(n,t.email),X("Passwort-Reset-Link wurde per E-Mail versendet.")}async function ie(){oe(!0),R("");try{const ce=await _f(Ef,"createCustomerPortal")({returnPath:"/profile"});window.location.href=ce.data.url}catch{R("Stripe-Portal konnte nicht geffnet werden.")}finally{oe(!1)}}return g.jsx("div",{className:"min-h-[80vh] bg-gray-50/50 p-6 md:p-12",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Mein Profil"}),(k||J)&&g.jsx("div",{className:`rounded-2xl p-4 text-sm border ${k?"bg-rose-50 border-rose-200 text-rose-800":"bg-emerald-50 border-emerald-200 text-emerald-800"}`,children:k||J}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-2 space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[g.jsxs("div",{className:"flex justify-between mb-6",children:[g.jsx("h2",{className:"font-bold text-gray-900",children:"Persnliche Daten"}),g.jsx("button",{onClick:()=>f(!d),className:"text-indigo-600 text-sm font-medium hover:underline",children:d?"Schlieen":"Bearbeiten"})]}),g.jsxs("div",{className:"flex gap-8",children:[g.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex items-center justify-center text-3xl font-bold shadow-lg",children:P}),g.jsx("div",{className:"flex-1 space-y-6",children:d?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsx("input",{value:b,onChange:le=>_(le.target.value),placeholder:"Vorname",className:"px-4 py-3 rounded-xl border border-gray-200"}),g.jsx("input",{value:w,onChange:le=>C(le.target.value),placeholder:"Nachname",className:"px-4 py-3 rounded-xl border border-gray-200"})]}),g.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 space-y-3",children:[g.jsx("input",{value:I,onChange:le=>D(le.target.value),placeholder:"E-Mail-Adresse",className:"w-full px-4 py-3 rounded-xl border border-gray-200"}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsx("button",{onClick:ke,disabled:O,className:"px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm font-semibold disabled:opacity-60",children:O?"Speichern":"E-Mail speichern"}),g.jsx("button",{onClick:z,className:"px-4 py-2 rounded-xl border border-gray-200 text-sm",children:"Passwort zurcksetzen"})]}),g.jsx("p",{className:"text-xs text-gray-500",children:"Hinweis: Firebase kann aus Sicherheitsgrnden ein erneutes Einloggen verlangen."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:Ee,disabled:p,className:"px-5 py-2 rounded-xl bg-gray-900 text-white text-sm font-semibold",children:p?"Speichere":"Profil speichern"}),g.jsx("button",{onClick:()=>f(!1),className:"px-5 py-2 rounded-xl border border-gray-200 text-sm",children:"Abbrechen"})]})]}):g.jsx(g.Fragment,{children:g.jsxs("div",{children:[g.jsxs("div",{className:"font-medium text-gray-900",children:[j," ",L]}),g.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})})})]})]}),g.jsx("button",{onClick:e,className:"text-red-600 text-sm font-medium",children:"Vom Konto abmelden"})]}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[g.jsx("h2",{className:"font-bold text-gray-900 mb-4",children:"Mitgliedschaft"}),g.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold uppercase border ${ae}`,children:Z}),g.jsx("p",{className:"text-sm text-gray-500 mt-4 mb-6",children:we?"Du hast vollen Zugriff auf alle Pro-Funktionen.":Ve?"Bitte berprfe deine Zahlungsmethode.":"Du nutzt aktuell den kostenlosen Basis-Plan."}),g.jsx("button",{onClick:ie,disabled:q,className:"w-full py-2.5 rounded-xl bg-gray-900 text-white font-semibold hover:bg-black disabled:opacity-60",children:q?"ffne Portal":"Abo verwalten"})]})]})]})})}function iz(){return g.jsxs(SI,{children:[g.jsxs(ot,{element:g.jsx(H4,{}),children:[g.jsx(ot,{index:!0,element:g.jsx(tz,{})}),g.jsx(ot,{path:"/login",element:g.jsx(sL,{})}),g.jsxs(ot,{path:"/register",children:[g.jsx(ot,{index:!0,element:g.jsx(Fa,{to:"/register/step1",replace:!0})}),g.jsx(ot,{path:"step1",element:g.jsx(dL,{})}),g.jsx(ot,{path:"step2",element:g.jsx(yL,{})}),g.jsx(ot,{path:"step3",element:g.jsx(EL,{})}),g.jsx(ot,{path:"step4",element:g.jsx(SL,{})}),g.jsx(ot,{path:"step5",element:g.jsx(kL,{})}),g.jsx(ot,{path:"finish",element:g.jsx(VL,{})})]})]}),g.jsxs(ot,{element:g.jsx(m9,{children:g.jsx(q4,{})}),children:[g.jsx(ot,{path:"/dashboard",element:g.jsx(_9,{})}),g.jsx(ot,{path:"/dashboard/filters",element:g.jsx(Y9,{})}),g.jsx(ot,{path:"/dashboard/results",element:g.jsx(ez,{})}),g.jsx(ot,{path:"/dashboard/profile",element:g.jsx(nz,{})})]}),g.jsxs(ot,{element:g.jsx(p9,{children:g.jsx(G4,{})}),children:[g.jsx(ot,{path:"/admin",element:g.jsx(E9,{})}),g.jsx(ot,{path:"/admin/users",element:g.jsx(iL,{})}),g.jsx(ot,{path:"/admin/user/:uid",element:g.jsx(nL,{})}),g.jsx(ot,{path:"/admin/clicks",element:g.jsx(aL,{})}),g.jsx(ot,{path:"/admin/offers",element:g.jsx(oL,{})}),g.jsx(ot,{path:"/admin/offers/:offerId",element:g.jsx(lL,{})})]}),g.jsx(ot,{path:"*",element:g.jsx(Fa,{to:"/",replace:!0})})]})}D2.createRoot(document.getElementById("root")).render(g.jsx(T2.StrictMode,{children:g.jsx(F4,{children:g.jsx(YI,{children:g.jsx(iz,{})})})}));
