(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function xA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pp={exports:{}},Tu={};var yE;function _I(){if(yE)return Tu;yE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Tu.Fragment=e,Tu.jsx=n,Tu.jsxs=n,Tu}var vE;function TI(){return vE||(vE=1,Pp.exports=_I()),Pp.exports}var S=TI(),kp={exports:{}},xe={};var _E;function EI(){if(_E)return xe;_E=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function B(U,te,ue){this.props=U,this.context=te,this.refs=k,this.updater=ue||V}B.prototype.isReactComponent={},B.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function H(U,te,ue){this.props=U,this.context=te,this.refs=k,this.updater=ue||V}var ae=H.prototype=new Y;ae.constructor=H,L(ae,B.prototype),ae.isPureReactComponent=!0;var re=Array.isArray;function oe(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(U,te,ue){var fe=ue.ref;return{$$typeof:t,type:U,key:te,ref:fe!==void 0?fe:null,props:ue}}function P(U,te){return I(U.type,te,U.props)}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return te[ue]})}var N=/\/+/g;function we(U,te){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):te.toString(36)}function _e(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,te,ue,fe,Se){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Ne){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case t:case e:Fe=!0;break;case y:return Fe=U._init,W(Fe(U._payload),te,ue,fe,Se)}}if(Fe)return Se=Se(U),Fe=fe===""?"."+we(U,0):fe,re(Se)?(ue="",Fe!=null&&(ue=Fe.replace(N,"$&/")+"/"),W(Se,te,ue,"",function(Gr){return Gr})):Se!=null&&(O(Se)&&(Se=P(Se,ue+(Se.key==null||U&&U.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+Fe)),te.push(Se)),1;Fe=0;var Ot=fe===""?".":fe+":";if(re(U))for(var at=0;at<U.length;at++)fe=U[at],Ne=Ot+we(fe,at),Fe+=W(fe,te,ue,Ne,Se);else if(at=R(U),typeof at=="function")for(U=at.call(U),at=0;!(fe=U.next()).done;)fe=fe.value,Ne=Ot+we(fe,at++),Fe+=W(fe,te,ue,Ne,Se);else if(Ne==="object"){if(typeof U.then=="function")return W(_e(U),te,ue,fe,Se);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function ie(U,te,ue){if(U==null)return U;var fe=[],Se=0;return W(U,fe,"","",function(Ne){return te.call(ue,Ne,Se++)}),fe}function ce(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var De=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Pe={map:ie,forEach:function(U,te,ue){ie(U,function(){te.apply(this,arguments)},ue)},count:function(U){var te=0;return ie(U,function(){te++}),te},toArray:function(U){return ie(U,function(te){return te})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return xe.Activity=_,xe.Children=Pe,xe.Component=B,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=H,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},xe.cache=function(U){return function(){return U.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(U,te,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=L({},U.props),Se=U.key;if(te!=null)for(Ne in te.key!==void 0&&(Se=""+te.key),te)!x.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(fe[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=ue;else if(1<Ne){for(var Fe=Array(Ne),Ot=0;Ot<Ne;Ot++)Fe[Ot]=arguments[Ot+2];fe.children=Fe}return I(U.type,Se,fe)},xe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},xe.createElement=function(U,te,ue){var fe,Se={},Ne=null;if(te!=null)for(fe in te.key!==void 0&&(Ne=""+te.key),te)x.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=te[fe]);var Fe=arguments.length-2;if(Fe===1)Se.children=ue;else if(1<Fe){for(var Ot=Array(Fe),at=0;at<Fe;at++)Ot[at]=arguments[at+2];Se.children=Ot}if(U&&U.defaultProps)for(fe in Fe=U.defaultProps,Fe)Se[fe]===void 0&&(Se[fe]=Fe[fe]);return I(U,Ne,Se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:f,render:U}},xe.isValidElement=O,xe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ce}},xe.memo=function(U,te){return{$$typeof:g,type:U,compare:te===void 0?null:te}},xe.startTransition=function(U){var te=C.T,ue={};C.T=ue;try{var fe=U(),Se=C.S;Se!==null&&Se(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(oe,De)}catch(Ne){De(Ne)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),C.T=te}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(U){return C.H.use(U)},xe.useActionState=function(U,te,ue){return C.H.useActionState(U,te,ue)},xe.useCallback=function(U,te){return C.H.useCallback(U,te)},xe.useContext=function(U){return C.H.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U,te){return C.H.useDeferredValue(U,te)},xe.useEffect=function(U,te){return C.H.useEffect(U,te)},xe.useEffectEvent=function(U){return C.H.useEffectEvent(U)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(U,te,ue){return C.H.useImperativeHandle(U,te,ue)},xe.useInsertionEffect=function(U,te){return C.H.useInsertionEffect(U,te)},xe.useLayoutEffect=function(U,te){return C.H.useLayoutEffect(U,te)},xe.useMemo=function(U,te){return C.H.useMemo(U,te)},xe.useOptimistic=function(U,te){return C.H.useOptimistic(U,te)},xe.useReducer=function(U,te,ue){return C.H.useReducer(U,te,ue)},xe.useRef=function(U){return C.H.useRef(U)},xe.useState=function(U){return C.H.useState(U)},xe.useSyncExternalStore=function(U,te,ue){return C.H.useSyncExternalStore(U,te,ue)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.1",xe}var TE;function gy(){return TE||(TE=1,kp.exports=EI()),kp.exports}var D=gy();const bI=xA(D);var Lp={exports:{}},Eu={},jp={exports:{}},Up={};var EE;function SI(){return EE||(EE=1,(function(t){function e(W,ie){var ce=W.length;W.push(ie);e:for(;0<ce;){var De=ce-1>>>1,Pe=W[De];if(0<a(Pe,ie))W[De]=ie,W[ce]=Pe,ce=De;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ie=W[0],ce=W.pop();if(ce!==ie){W[0]=ce;e:for(var De=0,Pe=W.length,U=Pe>>>1;De<U;){var te=2*(De+1)-1,ue=W[te],fe=te+1,Se=W[fe];if(0>a(ue,ce))fe<Pe&&0>a(Se,ue)?(W[De]=Se,W[fe]=ce,De=fe):(W[De]=ue,W[te]=ce,De=te);else if(fe<Pe&&0>a(Se,ce))W[De]=Se,W[fe]=ce,De=fe;else break e}}return ie}function a(W,ie){var ce=W.sortIndex-ie.sortIndex;return ce!==0?ce:W.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],g=[],y=1,_=null,E=3,R=!1,V=!1,L=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var ie=n(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=W)s(g),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(g)}}function re(W){if(L=!1,ae(W),!V)if(n(m)!==null)V=!0,oe||(oe=!0,z());else{var ie=n(g);ie!==null&&_e(re,ie.startTime-W)}}var oe=!1,C=-1,x=5,I=-1;function P(){return k?!0:!(t.unstable_now()-I<x)}function O(){if(k=!1,oe){var W=t.unstable_now();I=W;var ie=!0;try{e:{V=!1,L&&(L=!1,Y(C),C=-1),R=!0;var ce=E;try{t:{for(ae(W),_=n(m);_!==null&&!(_.expirationTime>W&&P());){var De=_.callback;if(typeof De=="function"){_.callback=null,E=_.priorityLevel;var Pe=De(_.expirationTime<=W);if(W=t.unstable_now(),typeof Pe=="function"){_.callback=Pe,ae(W),ie=!0;break t}_===n(m)&&s(m),ae(W)}else s(m);_=n(m)}if(_!==null)ie=!0;else{var U=n(g);U!==null&&_e(re,U.startTime-W),ie=!1}}break e}finally{_=null,E=ce,R=!1}ie=void 0}}finally{ie?z():oe=!1}}}var z;if(typeof H=="function")z=function(){H(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,we=N.port2;N.port1.onmessage=O,z=function(){we.postMessage(null)}}else z=function(){B(O,0)};function _e(W,ie){C=B(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var ce=E;E=ie;try{return W()}finally{E=ce}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=E;E=W;try{return ie()}finally{E=ce}},t.unstable_scheduleCallback=function(W,ie,ce){var De=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?De+ce:De):ce=De,W){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ce+Pe,W={id:y++,callback:ie,priorityLevel:W,startTime:ce,expirationTime:Pe,sortIndex:-1},ce>De?(W.sortIndex=ce,e(g,W),n(m)===null&&W===n(g)&&(L?(Y(C),C=-1):L=!0,_e(re,ce-De))):(W.sortIndex=Pe,e(m,W),V||R||(V=!0,oe||(oe=!0,z()))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var ie=E;return function(){var ce=E;E=ie;try{return W.apply(this,arguments)}finally{E=ce}}}})(Up)),Up}var bE;function AI(){return bE||(bE=1,jp.exports=SI()),jp.exports}var zp={exports:{}},sn={};var SE;function wI(){if(SE)return sn;SE=1;var t=gy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},sn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.1",sn}var AE;function xI(){if(AE)return zp.exports;AE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=wI(),zp.exports}var wE;function RI(){if(wE)return Eu;wE=1;var t=AI(),e=gy(),n=xI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),i;if(p===u)return m(d),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=p;else{for(var T=!1,A=d.child;A;){if(A===o){T=!0,o=d,u=p;break}if(A===u){T=!0,u=d,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,u=d;break}if(A===u){T=!0,u=p,o=d;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case H:return i.displayName||"Context";case Y:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:we(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return we(i(r))}catch{}}return null}var _e=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},De=[],Pe=-1;function U(i){return{current:i}}function te(i){0>Pe||(i.current=De[Pe],De[Pe]=null,Pe--)}function ue(i,r){Pe++,De[Pe]=i.current,i.current=r}var fe=U(null),Se=U(null),Ne=U(null),Fe=U(null);function Ot(i,r){switch(ue(Ne,r),ue(Se,i),ue(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?zT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=zT(r),i=BT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(fe),ue(fe,i)}function at(){te(fe),te(Se),te(Ne)}function Gr(i){i.memoizedState!==null&&ue(Fe,i);var r=fe.current,o=BT(r,i.type);r!==o&&(ue(Se,i),ue(fe,o))}function Ha(i){Se.current===i&&(te(fe),te(Se)),Fe.current===i&&(te(Fe),gu._currentValue=ce)}var qa,Ga;function bi(i){if(qa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);qa=r&&r[1]||"",Ga=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+i+Ga}var gl=!1;function Kr(i,r){if(!i||gl)return"";gl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(X){var $=X}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(X){$=X}i.call(ee.prototype)}}else{try{throw Error()}catch(X){$=X}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var M=T.split(`
`),K=A.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===K.length)for(u=M.length-1,d=K.length-1;1<=u&&0<=d&&M[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==K[d]){var Z=`
`+M[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{gl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?bi(o):""}function yl(i,r){switch(i.tag){case 26:case 27:case 5:return bi(i.type);case 16:return bi("Lazy");case 13:return i.child!==r&&r!==null?bi("Suspense Fallback"):bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Kr(i.type,!1);case 11:return Kr(i.type.render,!1);case 1:return Kr(i.type,!0);case 31:return bi("Activity");default:return""}}function vl(i){try{var r="",o=null;do r+=yl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var bt=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,Ls=t.unstable_cancelCallback,Ld=t.unstable_shouldYield,Ac=t.unstable_requestPaint,cn=t.unstable_now,Yr=t.unstable_getCurrentPriorityLevel,_l=t.unstable_ImmediatePriority,Tl=t.unstable_UserBlockingPriority,js=t.unstable_NormalPriority,jd=t.unstable_LowPriority,wc=t.unstable_IdlePriority,xc=t.log,Rc=t.unstable_setDisableYieldValue,ri=null,Kt=null;function zn(i){if(typeof xc=="function"&&Rc(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ri,i)}catch{}}var yt=Math.clz32?Math.clz32:Ic,Cc=Math.log,Ka=Math.LN2;function Ic(i){return i>>>=0,i===0?32:31-(Cc(i)/Ka|0)|0}var Si=256,$r=262144,St=4194304;function Ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?d=Ai(u):(T&=A,T!==0?d=Ai(T):o||(o=A&~i,o!==0&&(d=Ai(o))))):(A=u&~p,A!==0?d=Ai(A):T!==0?d=Ai(T):o||(o=u&~i,o!==0&&(d=Ai(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function ai(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ud(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dc(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function xi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Qr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zd(i,r,o,u,d,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-yt(o),ee=1<<Z;A[Z]=0,M[Z]=-1;var $=K[Z];if($!==null)for(K[Z]=null,Z=0;Z<$.length;Z++){var X=$[Z];X!==null&&(X.lane&=-536870913)}o&=~ee}u!==0&&Xr(i,u,0),p!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function Xr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-yt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function El(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-yt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function bl(i,r){var o=r&-r;return o=(o&42)!==0?1:Wr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nc(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:cE(i.type))}function oi(i,r){var o=ie.p;try{return ie.p=i,r()}finally{ie.p=o}}var li=Math.random().toString(36).slice(2),At="__reactFiber$"+li,Ft="__reactProps$"+li,Ri="__reactContainer$"+li,Ya="__reactEvents$"+li,Bd="__reactListeners$"+li,Vc="__reactHandles$"+li,Mc="__reactResources$"+li,Ci="__reactMarker$"+li;function $a(i){delete i[At],delete i[Ft],delete i[Ya],delete i[Bd],delete i[Vc]}function Ii(i){var r=i[At];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ri]||o[At]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=$T(i);i!==null;){if(o=i[At])return o;i=$T(i)}return r}i=o,o=i.parentNode}return null}function Bn(i){if(i=i[At]||i[Ri]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Rn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[Mc];return r||(r=i[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(i){i[Ci]=!0}var Sl=new Set,Al={};function Ni(i,r){Vi(i,r),Vi(i+"Capture",r)}function Vi(i,r){for(Al[i]=r,i=0;i<r.length;i++)Sl.add(r[i])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Rl={};function Oc(i){return bt.call(Rl,i)?!0:bt.call(xl,i)?!1:wl.test(i)?Rl[i]=!0:(xl[i]=!0,!1)}function Qa(i,r,o){if(Oc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Cn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function xt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Us(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=Us(i)?"checked":"value";i._valueTracker=Cl(i,r,""+i[r])}}function Zr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Us(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Jr=/[\n"\\]/g;function pn(i){return i.replace(Jr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xa(i,r,o,u,d,p,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ht(r)):i.value!==""+Ht(r)&&(i.value=""+Ht(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Il(i,T,Ht(r)):o!=null?Il(i,T,Ht(o)):u!=null&&i.removeAttribute("value"),d==null&&p!=null&&(i.defaultChecked=!!p),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ht(A):i.removeAttribute("name")}function Pc(i,r,o,u,d,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Ht(o):"",r=r!=null?""+Ht(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Qe(i)}function Il(i,r,o){r==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function zs(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ht(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function kc(i,r,o){if(r!=null&&(r=""+Ht(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ht(o):""}function Bs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(_e(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ht(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Lc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Nl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Dl(i,d,u)}else for(var p in r)r.hasOwnProperty(p)&&Dl(i,p,r[p])}function Wa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(i){return Fs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ui(){}var Vl=null;function Fn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,Oi=null;function ea(i){var r=Bn(i);if(r&&(i=r.stateNode)){var o=i[Ft]||null;e:switch(i=r.stateNode,r.type){case"input":if(Xa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Ft]||null;if(!d)throw Error(s(90));Xa(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Zr(u)}break e;case"textarea":kc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&zs(i,!!o.multiple,r,!1)}}}var Ja=!1;function qs(i,r,o){if(Ja)return i(r,o);Ja=!0;try{var u=i(r);return u}finally{if(Ja=!1,(Hs!==null||Oi!==null)&&(Nh(),Hs&&(r=Hs,i=Oi,Oi=Hs=null,ea(r),i)))for(r=0;r<i.length;r++)ea(i[r])}}function ci(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ft]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(Hn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ta=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ta=!1}var Pi=null,Ml=null,na=null;function Ol(){if(na)return na;var i,r=Ml,o=r.length,u,d="value"in Pi?Pi.value:Pi.textContent,p=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[p-u];u++);return na=d.slice(i,1<u?1-u:void 0)}function ia(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function as(){return!0}function hi(){return!1}function Yt(i){function r(o,u,d,p,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?as:hi,this.isPropagationStopped=hi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),r}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Yt(os),Gs=_({},os,{view:0,detail:0}),Pl=Yt(Gs),Ks,eo,Li,to=_({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(Ks=i.screenX-Li.screenX,eo=i.screenY-Li.screenY):eo=Ks=0,Li=i),Ks)},movementY:function(i){return"movementY"in i?i.movementY:eo}}),kl=Yt(to),sa=_({},to,{dataTransfer:0}),Uc=Yt(sa),zc=_({},Gs,{relatedTarget:0}),ra=Yt(zc),Ll=_({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Bc=Yt(Ll),no=_({},os,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fc=Yt(no),Hc=_({},os,{data:0}),ji=Yt(Hc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Kc[i])?!!r[i]:!1}function Ys(){return Yc}var hn=_({},Gs,{key:function(i){if(i.key){var r=qc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$c=Yt(hn),Qc=_({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Yt(Qc),h=_({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),v=Yt(h),b=_({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Yt(b),q=_({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Yt(q),le=_({},os,{newState:0,oldState:0}),Ce=Yt(le),vt=[9,13,27,32],Ke=Hn&&"CompositionEvent"in window,ot=null;Hn&&"documentMode"in document&&(ot=document.documentMode);var qn=Hn&&"TextEvent"in window&&!ot,Ui=Hn&&(!Ke||ot&&8<ot&&11>=ot),fi=" ",di=!1;function aa(i,r){switch(i){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var so=!1;function HR(i,r){switch(i){case"compositionend":return io(r);case"keypress":return r.which!==32?null:(di=!0,fi);case"textInput":return i=r.data,i===fi&&di?null:i;default:return null}}function qR(i,r){if(so)return i==="compositionend"||!Ke&&aa(i,r)?(i=Ol(),na=Ml=Pi=null,so=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ui&&r.locale!=="ko"?null:r.data;default:return null}}var GR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!GR[i.type]:r==="textarea"}function Zv(i,r,o,u){Hs?Oi?Oi.push(u):Oi=[u]:Hs=u,r=jh(r,"onChange"),0<r.length&&(o=new ki("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var jl=null,Ul=null;function KR(i){OT(i,0)}function Xc(i){var r=Rn(i);if(Zr(r))return i}function Jv(i,r){if(i==="change")return r}var e0=!1;if(Hn){var Fd;if(Hn){var Hd="oninput"in document;if(!Hd){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),Hd=typeof t0.oninput=="function"}Fd=Hd}else Fd=!1;e0=Fd&&(!document.documentMode||9<document.documentMode)}function n0(){jl&&(jl.detachEvent("onpropertychange",i0),Ul=jl=null)}function i0(i){if(i.propertyName==="value"&&Xc(Ul)){var r=[];Zv(r,Ul,i,Fn(i)),qs(KR,r)}}function YR(i,r,o){i==="focusin"?(n0(),jl=r,Ul=o,jl.attachEvent("onpropertychange",i0)):i==="focusout"&&n0()}function $R(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xc(Ul)}function QR(i,r){if(i==="click")return Xc(r)}function XR(i,r){if(i==="input"||i==="change")return Xc(r)}function WR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:WR;function zl(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!bt.call(r,d)||!In(i[d],r[d]))return!1}return!0}function s0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function r0(i,r){var o=s0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=s0(o)}}function a0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?a0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function o0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mi(i.document)}return r}function qd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ZR=Hn&&"documentMode"in document&&11>=document.documentMode,ro=null,Gd=null,Bl=null,Kd=!1;function l0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kd||ro==null||ro!==Mi(u)||(u=ro,"selectionStart"in u&&qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bl&&zl(Bl,u)||(Bl=u,u=jh(Gd,"onSelect"),0<u.length&&(r=new ki("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ro)))}function oa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ao={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Yd={},u0={};Hn&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function la(i){if(Yd[i])return Yd[i];if(!ao[i])return i;var r=ao[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in u0)return Yd[i]=r[o];return i}var c0=la("animationend"),h0=la("animationiteration"),f0=la("animationstart"),JR=la("transitionrun"),eC=la("transitionstart"),tC=la("transitioncancel"),d0=la("transitionend"),m0=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function mi(i,r){m0.set(i,r),Ni(r,[i])}var Wc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gn=[],oo=0,Qd=0;function Zc(){for(var i=oo,r=Qd=oo=0;r<i;){var o=Gn[r];Gn[r++]=null;var u=Gn[r];Gn[r++]=null;var d=Gn[r];Gn[r++]=null;var p=Gn[r];if(Gn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}p!==0&&p0(o,d,p)}}function Jc(i,r,o,u){Gn[oo++]=i,Gn[oo++]=r,Gn[oo++]=o,Gn[oo++]=u,Qd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Xd(i,r,o,u){return Jc(i,r,o,u),eh(i)}function ua(i,r){return Jc(i,null,null,r),eh(i)}function p0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(d=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,d&&r!==null&&(d=31-yt(o),i=p.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),p):null}function eh(i){if(50<uu)throw uu=0,rp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var lo={};function nC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new nC(i,r,o,u)}function Wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function g0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function th(i,r,o,u,d,p){var T=0;if(u=i,typeof i=="function")Wd(i)&&(T=1);else if(typeof i=="string")T=oI(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Dn(31,o,r,d),i.elementType=I,i.lanes=p,i;case L:return ca(o.children,d,p,r);case k:T=8,d|=24;break;case B:return i=Dn(12,o,r,d|2),i.elementType=B,i.lanes=p,i;case re:return i=Dn(13,o,r,d),i.elementType=re,i.lanes=p,i;case oe:return i=Dn(19,o,r,d),i.elementType=oe,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:T=10;break e;case Y:T=9;break e;case ae:T=11;break e;case C:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(T,o,r,d),r.elementType=i,r.type=u,r.lanes=p,r}function ca(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function Zd(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function y0(i){var r=Dn(18,null,null,0);return r.stateNode=i,r}function Jd(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var v0=new WeakMap;function Kn(i,r){if(typeof i=="object"&&i!==null){var o=v0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:vl(r)},v0.set(i,r),r)}return{value:i,source:r,stack:vl(r)}}var uo=[],co=0,nh=null,Fl=0,Yn=[],$n=0,$s=null,zi=1,Bi="";function cs(i,r){uo[co++]=Fl,uo[co++]=nh,nh=i,Fl=r}function _0(i,r,o){Yn[$n++]=zi,Yn[$n++]=Bi,Yn[$n++]=$s,$s=i;var u=zi;i=Bi;var d=32-yt(u)-1;u&=~(1<<d),o+=1;var p=32-yt(r)+d;if(30<p){var T=d-d%5;p=(u&(1<<T)-1).toString(32),u>>=T,d-=T,zi=1<<32-yt(r)+d|o<<d|u,Bi=p+i}else zi=1<<p|o<<d|u,Bi=i}function em(i){i.return!==null&&(cs(i,1),_0(i,1,0))}function tm(i){for(;i===nh;)nh=uo[--co],uo[co]=null,Fl=uo[--co],uo[co]=null;for(;i===$s;)$s=Yn[--$n],Yn[$n]=null,Bi=Yn[--$n],Yn[$n]=null,zi=Yn[--$n],Yn[$n]=null}function T0(i,r){Yn[$n++]=zi,Yn[$n++]=Bi,Yn[$n++]=$s,zi=r.id,Bi=r.overflow,$s=i}var $t=null,it=null,Be=!1,Qs=null,Qn=!1,nm=Error(s(519));function Xs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Kn(r,i)),nm}function E0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[At]=i,r[Ft]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<hu.length;o++)Oe(hu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Pc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Bs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||jT(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=ui),r=!0):r=!1,r||Xs(i,!0)}function b0(i){for($t=i.return;$t;)switch($t.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$t=$t.return}}function ho(i){if(i!==$t)return!1;if(!Be)return b0(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tp(i.type,i.memoizedProps)),o=!o),o&&it&&Xs(i),b0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));it=YT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));it=YT(i)}else r===27?(r=it,cr(i.type)?(i=wp,wp=null,it=i):it=r):it=$t?Wn(i.stateNode.nextSibling):null;return!0}function ha(){it=$t=null,Be=!1}function im(){var i=Qs;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),Qs=null),i}function Hl(i){Qs===null?Qs=[i]:Qs.push(i)}var sm=U(null),fa=null,hs=null;function Ws(i,r,o){ue(sm,r._currentValue),r._currentValue=o}function fs(i){i._currentValue=sm.current,te(sm)}function rm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function am(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=d;for(var M=0;M<r.length;M++)if(A.context===r[M]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),rm(p.return,o,i),u||(T=null);break e}p=A.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),rm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function fo(i,r,o,u){i=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=d.type;In(d.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(d===Fe.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}d=d.return}i!==null&&am(r,i,o,u),r.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function da(i){fa=i,hs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qt(i){return S0(fa,i)}function sh(i,r){return fa===null&&da(i),S0(i,r)}function S0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},hs===null){if(i===null)throw Error(s(308));hs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else hs=hs.next=r;return o}var iC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},sC=t.unstable_scheduleCallback,rC=t.unstable_NormalPriority,Rt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new iC,data:new Map,refCount:0}}function ql(i){i.refCount--,i.refCount===0&&sC(rC,function(){i.controller.abort()})}var Gl=null,lm=0,mo=0,po=null;function aC(i,r){if(Gl===null){var o=Gl=[];lm=0,mo=hp(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return lm++,r.then(A0,A0),r}function A0(){if(--lm===0&&Gl!==null){po!==null&&(po.status="fulfilled");var i=Gl;Gl=null,mo=0,po=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function oC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var w0=W.S;W.S=function(i,r){lT=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&aC(i,r),w0!==null&&w0(i,r)};var ma=U(null);function um(){var i=ma.current;return i!==null?i:nt.pooledCache}function rh(i,r){r===null?ue(ma,ma.current):ue(ma,r.pool)}function x0(){var i=um();return i===null?null:{parent:Rt._currentValue,pool:i}}var go=Error(s(460)),cm=Error(s(474)),ah=Error(s(542)),oh={then:function(){}};function R0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function C0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ui,ui),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,D0(i),i;default:if(typeof r.status=="string")r.then(ui,ui);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,D0(i),i}throw ga=r,go}}function pa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ga=o,go):o}}var ga=null;function I0(){if(ga===null)throw Error(s(459));var i=ga;return ga=null,i}function D0(i){if(i===go||i===ah)throw Error(s(483))}var yo=null,Kl=0;function lh(i){var r=Kl;return Kl+=1,yo===null&&(yo=[]),C0(yo,i,r)}function Yl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function uh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function N0(i){function r(F,j){if(i){var G=F.deletions;G===null?(F.deletions=[j],F.flags|=16):G.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=us(F,j),F.index=0,F.sibling=null,F}function p(F,j,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<j?(F.flags|=67108866,j):G):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function T(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,j,G,J){return j===null||j.tag!==6?(j=Zd(G,F.mode,J),j.return=F,j):(j=d(j,G),j.return=F,j)}function M(F,j,G,J){var ge=G.type;return ge===L?Z(F,j,G.props.children,J,G.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&pa(ge)===j.type)?(j=d(j,G.props),Yl(j,G),j.return=F,j):(j=th(G.type,G.key,G.props,null,F.mode,J),Yl(j,G),j.return=F,j)}function K(F,j,G,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Jd(G,F.mode,J),j.return=F,j):(j=d(j,G.children||[]),j.return=F,j)}function Z(F,j,G,J,ge){return j===null||j.tag!==7?(j=ca(G,F.mode,J,ge),j.return=F,j):(j=d(j,G),j.return=F,j)}function ee(F,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Zd(""+j,F.mode,G),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return G=th(j.type,j.key,j.props,null,F.mode,G),Yl(G,j),G.return=F,G;case V:return j=Jd(j,F.mode,G),j.return=F,j;case x:return j=pa(j),ee(F,j,G)}if(_e(j)||z(j))return j=ca(j,F.mode,G,null),j.return=F,j;if(typeof j.then=="function")return ee(F,lh(j),G);if(j.$$typeof===H)return ee(F,sh(F,j),G);uh(F,j)}return null}function $(F,j,G,J){var ge=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:A(F,j,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===ge?M(F,j,G,J):null;case V:return G.key===ge?K(F,j,G,J):null;case x:return G=pa(G),$(F,j,G,J)}if(_e(G)||z(G))return ge!==null?null:Z(F,j,G,J,null);if(typeof G.then=="function")return $(F,j,lh(G),J);if(G.$$typeof===H)return $(F,j,sh(F,G),J);uh(F,G)}return null}function X(F,j,G,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return F=F.get(G)||null,A(j,F,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return F=F.get(J.key===null?G:J.key)||null,M(j,F,J,ge);case V:return F=F.get(J.key===null?G:J.key)||null,K(j,F,J,ge);case x:return J=pa(J),X(F,j,G,J,ge)}if(_e(J)||z(J))return F=F.get(G)||null,Z(j,F,J,ge,null);if(typeof J.then=="function")return X(F,j,G,lh(J),ge);if(J.$$typeof===H)return X(F,j,G,sh(j,J),ge);uh(j,J)}return null}function de(F,j,G,J){for(var ge=null,qe=null,me=j,Ve=j=0,Le=null;me!==null&&Ve<G.length;Ve++){me.index>Ve?(Le=me,me=null):Le=me.sibling;var Ge=$(F,me,G[Ve],J);if(Ge===null){me===null&&(me=Le);break}i&&me&&Ge.alternate===null&&r(F,me),j=p(Ge,j,Ve),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge,me=Le}if(Ve===G.length)return o(F,me),Be&&cs(F,Ve),ge;if(me===null){for(;Ve<G.length;Ve++)me=ee(F,G[Ve],J),me!==null&&(j=p(me,j,Ve),qe===null?ge=me:qe.sibling=me,qe=me);return Be&&cs(F,Ve),ge}for(me=u(me);Ve<G.length;Ve++)Le=X(me,F,Ve,G[Ve],J),Le!==null&&(i&&Le.alternate!==null&&me.delete(Le.key===null?Ve:Le.key),j=p(Le,j,Ve),qe===null?ge=Le:qe.sibling=Le,qe=Le);return i&&me.forEach(function(pr){return r(F,pr)}),Be&&cs(F,Ve),ge}function ve(F,j,G,J){if(G==null)throw Error(s(151));for(var ge=null,qe=null,me=j,Ve=j=0,Le=null,Ge=G.next();me!==null&&!Ge.done;Ve++,Ge=G.next()){me.index>Ve?(Le=me,me=null):Le=me.sibling;var pr=$(F,me,Ge.value,J);if(pr===null){me===null&&(me=Le);break}i&&me&&pr.alternate===null&&r(F,me),j=p(pr,j,Ve),qe===null?ge=pr:qe.sibling=pr,qe=pr,me=Le}if(Ge.done)return o(F,me),Be&&cs(F,Ve),ge;if(me===null){for(;!Ge.done;Ve++,Ge=G.next())Ge=ee(F,Ge.value,J),Ge!==null&&(j=p(Ge,j,Ve),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return Be&&cs(F,Ve),ge}for(me=u(me);!Ge.done;Ve++,Ge=G.next())Ge=X(me,F,Ve,Ge.value,J),Ge!==null&&(i&&Ge.alternate!==null&&me.delete(Ge.key===null?Ve:Ge.key),j=p(Ge,j,Ve),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return i&&me.forEach(function(vI){return r(F,vI)}),Be&&cs(F,Ve),ge}function tt(F,j,G,J){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:e:{for(var ge=G.key;j!==null;){if(j.key===ge){if(ge=G.type,ge===L){if(j.tag===7){o(F,j.sibling),J=d(j,G.props.children),J.return=F,F=J;break e}}else if(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&pa(ge)===j.type){o(F,j.sibling),J=d(j,G.props),Yl(J,G),J.return=F,F=J;break e}o(F,j);break}else r(F,j);j=j.sibling}G.type===L?(J=ca(G.props.children,F.mode,J,G.key),J.return=F,F=J):(J=th(G.type,G.key,G.props,null,F.mode,J),Yl(J,G),J.return=F,F=J)}return T(F);case V:e:{for(ge=G.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(F,j.sibling),J=d(j,G.children||[]),J.return=F,F=J;break e}else{o(F,j);break}else r(F,j);j=j.sibling}J=Jd(G,F.mode,J),J.return=F,F=J}return T(F);case x:return G=pa(G),tt(F,j,G,J)}if(_e(G))return de(F,j,G,J);if(z(G)){if(ge=z(G),typeof ge!="function")throw Error(s(150));return G=ge.call(G),ve(F,j,G,J)}if(typeof G.then=="function")return tt(F,j,lh(G),J);if(G.$$typeof===H)return tt(F,j,sh(F,G),J);uh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(F,j.sibling),J=d(j,G),J.return=F,F=J):(o(F,j),J=Zd(G,F.mode,J),J.return=F,F=J),T(F)):o(F,j)}return function(F,j,G,J){try{Kl=0;var ge=tt(F,j,G,J);return yo=null,ge}catch(me){if(me===go||me===ah)throw me;var qe=Dn(29,me,null,F.mode);return qe.lanes=J,qe.return=F,qe}finally{}}}var ya=N0(!0),V0=N0(!1),Zs=!1;function hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function er(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=eh(i),p0(i,null,o),r}return Jc(i,u,r,o),eh(i)}function $l(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,El(i,o)}}function dm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var mm=!1;function Ql(){if(mm){var i=po;if(i!==null)throw i}}function Xl(i,r,o,u){mm=!1;var d=i.updateQueue;Zs=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var M=A,K=M.next;M.next=null,T===null?p=K:T.next=K,T=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=M))}if(p!==null){var ee=d.baseState;T=0,Z=K=M=null,A=p;do{var $=A.lane&-536870913,X=$!==A.lane;if(X?(ke&$)===$:(u&$)===$){$!==0&&$===mo&&(mm=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var de=i,ve=A;$=r;var tt=o;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ee=de.call(tt,ee,$);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,$=typeof de=="function"?de.call(tt,ee,$):de,$==null)break e;ee=_({},ee,$);break e;case 2:Zs=!0}}$=A.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[$]:X.push($))}else X={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=X,M=ee):Z=Z.next=X,T|=$;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(M=ee),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,p===null&&(d.shared.lanes=0),rr|=T,i.lanes=T,i.memoizedState=ee}}function M0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function O0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)M0(o[i],r)}var vo=U(null),ch=U(0);function P0(i,r){i=Es,ue(ch,i),ue(vo,r),Es=i|r.baseLanes}function pm(){ue(ch,Es),ue(vo,vo.current)}function gm(){Es=ch.current,te(vo),te(ch)}var Nn=U(null),Xn=null;function tr(i){var r=i.alternate;ue(_t,_t.current&1),ue(Nn,i),Xn===null&&(r===null||vo.current!==null||r.memoizedState!==null)&&(Xn=i)}function ym(i){ue(_t,_t.current),ue(Nn,i),Xn===null&&(Xn=i)}function k0(i){i.tag===22?(ue(_t,_t.current),ue(Nn,i),Xn===null&&(Xn=i)):nr()}function nr(){ue(_t,_t.current),ue(Nn,Nn.current)}function Vn(i){te(Nn),Xn===i&&(Xn=null),te(_t)}var _t=U(0);function hh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sp(o)||Ap(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ds=0,Ie=null,Je=null,Ct=null,fh=!1,_o=!1,va=!1,dh=0,Wl=0,To=null,lC=0;function mt(){throw Error(s(321))}function vm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function _m(i,r,o,u,d,p){return ds=p,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?__:Om,va=!1,p=o(u,d),va=!1,_o&&(p=j0(r,o,u,d)),L0(i),p}function L0(i){W.H=eu;var r=Je!==null&&Je.next!==null;if(ds=0,Ct=Je=Ie=null,fh=!1,Wl=0,To=null,r)throw Error(s(300));i===null||It||(i=i.dependencies,i!==null&&ih(i)&&(It=!0))}function j0(i,r,o,u){Ie=i;var d=0;do{if(_o&&(To=null),Wl=0,_o=!1,25<=d)throw Error(s(301));if(d+=1,Ct=Je=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=T_,p=r(o,u)}while(_o);return p}function uC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Zl(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ie.flags|=1024),r}function Tm(){var i=dh!==0;return dh=0,i}function Em(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function bm(i){if(fh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}fh=!1}ds=0,Ct=Je=Ie=null,_o=!1,Wl=dh=0,To=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Tt(){if(Je===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=Ct===null?Ie.memoizedState:Ct.next;if(r!==null)Ct=r,Je=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?Ie.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(i){var r=Wl;return Wl+=1,To===null&&(To=[]),i=C0(To,i,r),r=Ie,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?__:Om),i}function ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zl(i);if(i.$$typeof===H)return Qt(i)}throw Error(s(438,String(i)))}function Sm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=mh(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function gh(i){var r=Tt();return Am(r,Je,i)}function Am(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,p=u.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}r.baseQueue=d=p,u.pending=null}if(p=i.baseState,d===null)i.memoizedState=p;else{r=d.next;var A=T=null,M=null,K=r,Z=!1;do{var ee=K.lane&-536870913;if(ee!==K.lane?(ke&ee)===ee:(ds&ee)===ee){var $=K.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ee===mo&&(Z=!0);else if((ds&$)===$){K=K.next,$===mo&&(Z=!0);continue}else ee={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=ee,T=p):M=M.next=ee,Ie.lanes|=$,rr|=$;ee=K.action,va&&o(p,ee),p=K.hasEagerState?K.eagerState:o(p,ee)}else $={lane:ee,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=$,T=p):M=M.next=$,Ie.lanes|=ee,rr|=ee;K=K.next}while(K!==null&&K!==r);if(M===null?T=p:M.next=A,!In(p,i.memoizedState)&&(It=!0,Z&&(o=po,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=M,u.lastRenderedState=p}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function wm(i){var r=Tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do p=i(p,T.action),T=T.next;while(T!==d);In(p,r.memoizedState)||(It=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function U0(i,r,o){var u=Ie,d=Tt(),p=Be;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!In((Je||d).memoizedState,o);if(T&&(d.memoizedState=o,It=!0),d=d.queue,Cm(F0.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},B0.bind(null,u,d,o,r),null),nt===null)throw Error(s(349));p||(ds&127)!==0||z0(u,r,o)}return o}function z0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=mh(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function B0(i,r,o,u){r.value=o,r.getSnapshot=u,H0(r)&&q0(i)}function F0(i,r,o){return o(function(){H0(r)&&q0(i)})}function H0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function q0(i){var r=ua(i,2);r!==null&&En(r,i,2)}function xm(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),va){zn(!0);try{o()}finally{zn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function G0(i,r,o,u){return i.baseState=o,Am(i,Je,typeof u=="function"?u:ms)}function cC(i,r,o,u,d){if(_h(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,K0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function K0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var p=W.T,T={};W.T=T;try{var A=o(d,u),M=W.S;M!==null&&M(T,A),Y0(i,r,A)}catch(K){Rm(i,r,K)}finally{p!==null&&T.types!==null&&(p.types=T.types),W.T=p}}else try{p=o(d,u),Y0(i,r,p)}catch(K){Rm(i,r,K)}}function Y0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$0(i,r,u)},function(u){return Rm(i,r,u)}):$0(i,r,o)}function $0(i,r,o){r.status="fulfilled",r.value=o,Q0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,K0(i,o)))}function Rm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Q0(r),r=r.next;while(r!==u)}i.action=null}function Q0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function X0(i,r){return r}function W0(i,r){if(Be){var o=nt.formState;if(o!==null){e:{var u=Ie;if(Be){if(it){t:{for(var d=it,p=Qn;d.nodeType!==8;){if(!p){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){it=Wn(d.nextSibling),u=d.data==="F!";break e}}Xs(u)}u=!1}u&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:r},o.queue=u,o=g_.bind(null,Ie,u),u.dispatch=o,u=xm(!1),p=Mm.bind(null,Ie,!1,u.queue),u=fn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=cC.bind(null,Ie,d,p,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function Z0(i){var r=Tt();return J0(r,Je,i)}function J0(i,r,o){if(r=Am(i,r,X0)[0],i=gh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Zl(r)}catch(T){throw T===go?ah:T}else u=r;r=Tt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,Eo(9,{destroy:void 0},hC.bind(null,d,o),null)),[u,p,i]}function hC(i,r){i.action=r}function e_(i){var r=Tt(),o=Je;if(o!==null)return J0(r,o,i);Tt(),r=r.memoizedState,o=Tt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Eo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=mh(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function t_(){return Tt().memoizedState}function yh(i,r,o,u){var d=fn();Ie.flags|=i,d.memoizedState=Eo(1|r,{destroy:void 0},o,u===void 0?null:u)}function vh(i,r,o,u){var d=Tt();u=u===void 0?null:u;var p=d.memoizedState.inst;Je!==null&&u!==null&&vm(u,Je.memoizedState.deps)?d.memoizedState=Eo(r,p,o,u):(Ie.flags|=i,d.memoizedState=Eo(1|r,p,o,u))}function n_(i,r){yh(8390656,8,i,r)}function Cm(i,r){vh(2048,8,i,r)}function fC(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=mh(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function i_(i){var r=Tt().memoizedState;return fC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function s_(i,r){return vh(4,2,i,r)}function r_(i,r){return vh(4,4,i,r)}function a_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function o_(i,r,o){o=o!=null?o.concat([i]):null,vh(4,4,a_.bind(null,r,i),o)}function Im(){}function l_(i,r){var o=Tt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&vm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function u_(i,r){var o=Tt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&vm(r,u[1]))return u[0];if(u=i(),va){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[u,r],u}function Dm(i,r,o){return o===void 0||(ds&1073741824)!==0&&(ke&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=cT(),Ie.lanes|=i,rr|=i,o)}function c_(i,r,o,u){return In(o,r)?o:vo.current!==null?(i=Dm(i,o,u),In(i,r)||(It=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(ke&261930)===0?(It=!0,i.memoizedState=o):(i=cT(),Ie.lanes|=i,rr|=i,r)}function h_(i,r,o,u,d){var p=ie.p;ie.p=p!==0&&8>p?p:8;var T=W.T,A={};W.T=A,Mm(i,!1,r,o);try{var M=d(),K=W.S;if(K!==null&&K(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=oC(M,u);Jl(i,r,Z,Pn(i))}else Jl(i,r,u,Pn(i))}catch(ee){Jl(i,r,{then:function(){},status:"rejected",reason:ee},Pn())}finally{ie.p=p,T!==null&&A.types!==null&&(T.types=A.types),W.T=T}}function dC(){}function Nm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=f_(i).queue;h_(i,d,r,ce,o===null?dC:function(){return d_(i),o(u)})}function f_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function d_(i){var r=f_(i);r.next===null&&(r=i.alternate.memoizedState),Jl(i,r.next.queue,{},Pn())}function Vm(){return Qt(gu)}function m_(){return Tt().memoizedState}function p_(){return Tt().memoizedState}function mC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=Js(o);var u=er(r,i,o);u!==null&&(En(u,r,o),$l(u,r,o)),r={cache:om()},i.payload=r;return}r=r.return}}function pC(i,r,o){var u=Pn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_h(i)?y_(r,o):(o=Xd(i,r,o,u),o!==null&&(En(o,i,u),v_(o,r,u)))}function g_(i,r,o){var u=Pn();Jl(i,r,o,u)}function Jl(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(_h(i))y_(r,d);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,A=p(T,o);if(d.hasEagerState=!0,d.eagerState=A,In(A,T))return Jc(i,r,d,0),nt===null&&Zc(),!1}catch{}finally{}if(o=Xd(i,r,d,u),o!==null)return En(o,i,u),v_(o,r,u),!0}return!1}function Mm(i,r,o,u){if(u={lane:2,revertLane:hp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_h(i)){if(r)throw Error(s(479))}else r=Xd(i,o,u,2),r!==null&&En(r,i,2)}function _h(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function y_(i,r){_o=fh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function v_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,El(i,o)}}var eu={readContext:Qt,use:ph,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};eu.useEffectEvent=mt;var __={readContext:Qt,use:ph,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Qt,useEffect:n_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,yh(4194308,4,a_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return yh(4194308,4,i,r)},useInsertionEffect:function(i,r){yh(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var u=i();if(va){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=fn();if(o!==void 0){var d=o(r);if(va){zn(!0);try{o(r)}finally{zn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=pC.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=xm(i);var r=i.queue,o=g_.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(i,r){var o=fn();return Dm(o,i,r)},useTransition:function(){var i=xm(!1);return i=h_.bind(null,Ie,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ie,d=fn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(ke&127)!==0||z0(u,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,n_(F0.bind(null,u,p,i),[i]),u.flags|=2048,Eo(9,{destroy:void 0},B0.bind(null,u,p,o,r),null),o},useId:function(){var i=fn(),r=nt.identifierPrefix;if(Be){var o=Bi,u=zi;o=(u&~(1<<32-yt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=dh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=lC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Vm,useFormState:W0,useActionState:W0,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Mm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:Sm,useCacheRefresh:function(){return fn().memoizedState=mC.bind(null,Ie)},useEffectEvent:function(i){var r=fn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Om={readContext:Qt,use:ph,useCallback:l_,useContext:Qt,useEffect:Cm,useImperativeHandle:o_,useInsertionEffect:s_,useLayoutEffect:r_,useMemo:u_,useReducer:gh,useRef:t_,useState:function(){return gh(ms)},useDebugValue:Im,useDeferredValue:function(i,r){var o=Tt();return c_(o,Je.memoizedState,i,r)},useTransition:function(){var i=gh(ms)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:U0,useId:m_,useHostTransitionStatus:Vm,useFormState:Z0,useActionState:Z0,useOptimistic:function(i,r){var o=Tt();return G0(o,Je,i,r)},useMemoCache:Sm,useCacheRefresh:p_};Om.useEffectEvent=i_;var T_={readContext:Qt,use:ph,useCallback:l_,useContext:Qt,useEffect:Cm,useImperativeHandle:o_,useInsertionEffect:s_,useLayoutEffect:r_,useMemo:u_,useReducer:wm,useRef:t_,useState:function(){return wm(ms)},useDebugValue:Im,useDeferredValue:function(i,r){var o=Tt();return Je===null?Dm(o,i,r):c_(o,Je.memoizedState,i,r)},useTransition:function(){var i=wm(ms)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:U0,useId:m_,useHostTransitionStatus:Vm,useFormState:e_,useActionState:e_,useOptimistic:function(i,r){var o=Tt();return Je!==null?G0(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:p_};T_.useEffectEvent=i_;function Pm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var km={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=Js(u);d.payload=r,o!=null&&(d.callback=o),r=er(i,d,u),r!==null&&(En(r,i,u),$l(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Pn(),d=Js(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=er(i,d,u),r!==null&&(En(r,i,u),$l(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=er(i,u,o),r!==null&&(En(r,i,o),$l(r,i,o))}};function E_(i,r,o,u,d,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!zl(o,u)||!zl(d,p):!0}function b_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&km.enqueueReplaceState(r,r.state,null)}function _a(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function S_(i){Wc(i)}function A_(i){console.error(i)}function w_(i){Wc(i)}function Th(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function x_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(i,r)},o}function R_(i){return i=Js(i),i.tag=3,i}function C_(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;i.payload=function(){return d(p)},i.callback=function(){x_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){x_(r,o,u),typeof d!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function gC(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&fo(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Xn===null?Vh():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===oh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),lp(i,u,d)),!1;case 22:return o.flags|=65536,u===oh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),lp(i,u,d)),!1}throw Error(s(435,o.tag))}return lp(i,u,d),Vh(),!1}if(Be)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==nm&&(i=Error(s(422),{cause:u}),Hl(Kn(i,o)))):(u!==nm&&(r=Error(s(423),{cause:u}),Hl(Kn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Kn(u,o),d=Lm(i.stateNode,u,d),dm(i,d),pt!==4&&(pt=2)),!1;var p=Error(s(520),{cause:u});if(p=Kn(p,o),lu===null?lu=[p]:lu.push(p),pt!==4&&(pt=2),r===null)return!0;u=Kn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Lm(o.stateNode,u,i),dm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ar===null||!ar.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=R_(d),C_(d,i,o,u),dm(o,d),!1}o=o.return}while(o!==null);return!1}var jm=Error(s(461)),It=!1;function Xt(i,r,o,u){r.child=i===null?V0(r,null,o,u):ya(r,i.child,o,u)}function I_(i,r,o,u,d){o=o.render;var p=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return da(r),u=_m(i,r,o,T,p,d),A=Tm(),i!==null&&!It?(Em(i,r,d),ps(i,r,d)):(Be&&A&&em(r),r.flags|=1,Xt(i,r,u,d),r.child)}function D_(i,r,o,u,d){if(i===null){var p=o.type;return typeof p=="function"&&!Wd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,N_(i,r,p,u,d)):(i=th(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Km(i,d)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(T,u)&&i.ref===r.ref)return ps(i,r,d)}return r.flags|=1,i=us(p,u),i.ref=r.ref,i.return=r,r.child=i}function N_(i,r,o,u,d){if(i!==null){var p=i.memoizedProps;if(zl(p,u)&&i.ref===r.ref)if(It=!1,r.pendingProps=u=p,Km(i,d))(i.flags&131072)!==0&&(It=!0);else return r.lanes=i.lanes,ps(i,r,d)}return Um(i,r,o,u,d)}function V_(i,r,o,u){var d=u.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,r.child=null;return M_(i,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&rh(r,p!==null?p.cachePool:null),p!==null?P0(r,p):pm(),k0(r);else return u=r.lanes=536870912,M_(i,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(rh(r,p.cachePool),P0(r,p),nr(),r.memoizedState=null):(i!==null&&rh(r,null),pm(),nr());return Xt(i,r,d,o),r.child}function tu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function M_(i,r,o,u,d){var p=um();return p=p===null?null:{parent:Rt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&rh(r,null),pm(),k0(r),i!==null&&fo(i,r,u,!0),r.childLanes=d,null}function Eh(i,r){return r=Sh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function O_(i,r,o){return ya(r,i.child,null,o),i=Eh(r,r.pendingProps),i.flags|=2,Vn(r),r.memoizedState=null,i}function yC(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=Eh(r,u),r.lanes=536870912,tu(null,i);if(ym(r),(i=it)?(i=KT(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$s!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=y0(i),o.return=r,r.child=o,$t=r,it=null)):i=null,i===null)throw Xs(r);return r.lanes=536870912,null}return Eh(r,u)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(ym(r),d)if(r.flags&256)r.flags&=-257,r=O_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||fo(i,r,o,!1),d=(o&i.childLanes)!==0,It||d){if(u=nt,u!==null&&(T=bl(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,ua(i,T),En(u,i,T),jm;Vh(),r=O_(i,r,o)}else i=p.treeContext,it=Wn(T.nextSibling),$t=r,Be=!0,Qs=null,Qn=!1,i!==null&&T0(r,i),r=Eh(r,u),r.flags|=4096;return r}return i=us(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function bh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Um(i,r,o,u,d){return da(r),o=_m(i,r,o,u,void 0,d),u=Tm(),i!==null&&!It?(Em(i,r,d),ps(i,r,d)):(Be&&u&&em(r),r.flags|=1,Xt(i,r,o,d),r.child)}function P_(i,r,o,u,d,p){return da(r),r.updateQueue=null,o=j0(r,u,o,d),L0(i),u=Tm(),i!==null&&!It?(Em(i,r,p),ps(i,r,p)):(Be&&u&&em(r),r.flags|=1,Xt(i,r,o,p),r.child)}function k_(i,r,o,u,d){if(da(r),r.stateNode===null){var p=lo,T=o.contextType;typeof T=="object"&&T!==null&&(p=Qt(T)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=km,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},hm(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Qt(T):lo,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Pm(r,o,T,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&km.enqueueReplaceState(p,p.state,null),Xl(r,u,p,d),Ql(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,M=_a(o,A);p.props=M;var K=p.context,Z=o.contextType;T=lo,typeof Z=="object"&&Z!==null&&(T=Qt(Z));var ee=o.getDerivedStateFromProps;Z=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||K!==T)&&b_(r,p,u,T),Zs=!1;var $=r.memoizedState;p.state=$,Xl(r,u,p,d),Ql(),K=r.memoizedState,A||$!==K||Zs?(typeof ee=="function"&&(Pm(r,o,ee,u),K=r.memoizedState),(M=Zs||E_(r,o,M,u,$,K,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),p.props=u,p.state=K,p.context=T,u=M):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,fm(i,r),T=r.memoizedProps,Z=_a(o,T),p.props=Z,ee=r.pendingProps,$=p.context,K=o.contextType,M=lo,typeof K=="object"&&K!==null&&(M=Qt(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ee||$!==M)&&b_(r,p,u,M),Zs=!1,$=r.memoizedState,p.state=$,Xl(r,u,p,d),Ql();var X=r.memoizedState;T!==ee||$!==X||Zs||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof A=="function"&&(Pm(r,o,A,u),X=r.memoizedState),(Z=Zs||E_(r,o,Z,u,$,X,M)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,M)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),p.props=u,p.state=X,p.context=M,u=Z):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,bh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=ya(r,i.child,null,d),r.child=ya(r,null,o,d)):Xt(i,r,o,d),r.memoizedState=p.state,i=r.child):i=ps(i,r,d),i}function L_(i,r,o,u){return ha(),r.flags|=256,Xt(i,r,o,u),r.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(i){return{baseLanes:i,cachePool:x0()}}function Fm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=On),i}function j_(i,r,o){var u=r.pendingProps,d=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(_t.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(d?tr(r):nr(),(i=it)?(i=KT(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:$s!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=y0(i),o.return=r,r.child=o,$t=r,it=null)):i=null,i===null)throw Xs(r);return Ap(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,d?(nr(),d=r.mode,A=Sh({mode:"hidden",children:A},d),u=ca(u,d,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Bm(o),u.childLanes=Fm(i,T,o),r.memoizedState=zm,tu(null,u)):(tr(r),Hm(r,A))}var M=i.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(p)r.flags&256?(tr(r),r.flags&=-257,r=qm(i,r,o)):r.memoizedState!==null?(nr(),r.child=i.child,r.flags|=128,r=null):(nr(),A=u.fallback,d=r.mode,u=Sh({mode:"visible",children:u.children},d),A=ca(A,d,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ya(r,i.child,null,o),u=r.child,u.memoizedState=Bm(o),u.childLanes=Fm(i,T,o),r.memoizedState=zm,r=tu(null,u));else if(tr(r),Ap(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,Hl({value:u,source:null,stack:null}),r=qm(i,r,o)}else if(It||fo(i,r,o,!1),T=(o&i.childLanes)!==0,It||T){if(T=nt,T!==null&&(u=bl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ua(i,u),En(T,i,u),jm;Sp(A)||Vh(),r=qm(i,r,o)}else Sp(A)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,it=Wn(A.nextSibling),$t=r,Be=!0,Qs=null,Qn=!1,i!==null&&T0(r,i),r=Hm(r,u.children),r.flags|=4096);return r}return d?(nr(),A=u.fallback,d=r.mode,M=i.child,K=M.sibling,u=us(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?A=us(K,A):(A=ca(A,d,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,tu(null,u),u=r.child,A=i.child.memoizedState,A===null?A=Bm(o):(d=A.cachePool,d!==null?(M=Rt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=x0(),A={baseLanes:A.baseLanes|o,cachePool:d}),u.memoizedState=A,u.childLanes=Fm(i,T,o),r.memoizedState=zm,tu(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Hm(i,r){return r=Sh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Sh(i,r){return i=Dn(22,i,null,r),i.lanes=0,i}function qm(i,r,o){return ya(r,i.child,null,o),i=Hm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function U_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),rm(i.return,r,o)}function Gm(i,r,o,u,d,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=p)}function z_(i,r,o){var u=r.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var T=_t.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ue(_t,T),Xt(i,r,u,o),u=Be?Fl:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U_(i,o,r);else if(i.tag===19)U_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&hh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Gm(r,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&hh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Gm(r,!0,o,null,p,u);break;case"together":Gm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ps(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),rr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(fo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Km(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function vC(i,r,o){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),Ws(r,Rt,i.memoizedState.cache),ha();break;case 27:case 5:Gr(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:Ws(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ym(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?j_(i,r,o):(tr(r),i=ps(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(fo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return z_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(_t,_t.current),u)break;return null;case 22:return r.lanes=0,V_(i,r,o,r.pendingProps);case 24:Ws(r,Rt,i.memoizedState.cache)}return ps(i,r,o)}function B_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)It=!0;else{if(!Km(i,o)&&(r.flags&128)===0)return It=!1,vC(i,r,o);It=(i.flags&131072)!==0}else It=!1,Be&&(r.flags&1048576)!==0&&_0(r,Fl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=pa(r.elementType),r.type=i,typeof i=="function")Wd(i)?(u=_a(i,u),r.tag=1,r=k_(null,r,i,u,o)):(r.tag=0,r=Um(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===ae){r.tag=11,r=I_(null,r,i,u,o);break e}else if(d===C){r.tag=14,r=D_(null,r,i,u,o);break e}}throw r=we(i)||i,Error(s(306,r,""))}}return r;case 0:return Um(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=_a(u,r.pendingProps),k_(i,r,u,d,o);case 3:e:{if(Ot(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;d=p.element,fm(i,r),Xl(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Ws(r,Rt,u),u!==p.cache&&am(r,[Rt],o,!0),Ql(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=L_(i,r,u,o);break e}else if(u!==d){d=Kn(Error(s(424)),r),Hl(d),r=L_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(it=Wn(i.firstChild),$t=r,Be=!0,Qs=null,Qn=!0,o=V0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ha(),u===d){r=ps(i,r,o);break e}Xt(i,r,u,o)}r=r.child}return r;case 26:return bh(i,r),i===null?(o=ZT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,u=Uh(Ne.current).createElement(o),u[At]=r,u[Ft]=i,Wt(u,o,i),wt(u),r.stateNode=u):r.memoizedState=ZT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Gr(r),i===null&&Be&&(u=r.stateNode=QT(r.type,r.pendingProps,Ne.current),$t=r,Qn=!0,d=it,cr(r.type)?(wp=d,it=Wn(u.firstChild)):it=d),Xt(i,r,r.pendingProps.children,o),bh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((d=u=it)&&(u=$C(u,r.type,r.pendingProps,Qn),u!==null?(r.stateNode=u,$t=r,it=Wn(u.firstChild),Qn=!1,d=!0):d=!1),d||Xs(r)),Gr(r),d=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,Tp(d,p)?u=null:T!==null&&Tp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=_m(i,r,uC,null,null,o),gu._currentValue=d),bh(i,r),Xt(i,r,u,o),r.child;case 6:return i===null&&Be&&((i=o=it)&&(o=QC(o,r.pendingProps,Qn),o!==null?(r.stateNode=o,$t=r,it=null,i=!0):i=!1),i||Xs(r)),null;case 13:return j_(i,r,o);case 4:return Ot(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ya(r,null,u,o):Xt(i,r,u,o),r.child;case 11:return I_(i,r,r.type,r.pendingProps,o);case 7:return Xt(i,r,r.pendingProps,o),r.child;case 8:return Xt(i,r,r.pendingProps.children,o),r.child;case 12:return Xt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ws(r,r.type,u.value),Xt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,da(r),d=Qt(d),u=u(d),r.flags|=1,Xt(i,r,u,o),r.child;case 14:return D_(i,r,r.type,r.pendingProps,o);case 15:return N_(i,r,r.type,r.pendingProps,o);case 19:return z_(i,r,o);case 31:return yC(i,r,o);case 22:return V_(i,r,o,r.pendingProps);case 24:return da(r),u=Qt(Rt),i===null?(d=um(),d===null&&(d=nt,p=om(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:u,cache:d},hm(r),Ws(r,Rt,d)):((i.lanes&o)!==0&&(fm(i,r),Xl(r,null,null,o),Ql()),d=i.memoizedState,p=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ws(r,Rt,u)):(u=p.cache,Ws(r,Rt,u),u!==d.cache&&am(r,[Rt],o,!0))),Xt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gs(i){i.flags|=4}function Ym(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(mT())i.flags|=8192;else throw ga=oh,cm}else i.flags&=-16777217}function F_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!iE(r))if(mT())i.flags|=8192;else throw ga=oh,cm}function Ah(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Dc():536870912,i.lanes|=r,wo|=r)}function nu(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function st(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function _C(i,r,o){var u=r.pendingProps;switch(tm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),fs(Rt),at(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ho(r)?gs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,im())),st(r),null;case 26:var d=r.type,p=r.memoizedState;return i===null?(gs(r),p!==null?(st(r),F_(r,p)):(st(r),Ym(r,d,null,u,o))):p?p!==i.memoizedState?(gs(r),st(r),F_(r,p)):(st(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&gs(r),st(r),Ym(r,d,i,u,o)),null;case 27:if(Ha(r),o=Ne.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}i=fe.current,ho(r)?E0(r):(i=QT(d,u,o),r.stateNode=i,gs(r))}return st(r),null;case 5:if(Ha(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(p=fe.current,ho(r))E0(r);else{var T=Uh(Ne.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}p[At]=r,p[Ft]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;e:switch(Wt(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gs(r)}}return st(r),Ym(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ne.current,ho(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=$t,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[At]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||jT(i.nodeValue,o)),i||Xs(r,!0)}else i=Uh(i).createTextNode(u),i[At]=r,r.stateNode=i}return st(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=ho(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[At]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),i=!1}else o=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=ho(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[At]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),d=!1}else d=im(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Ah(r,r.updateQueue),st(r),null);case 4:return at(),i===null&&pp(r.stateNode.containerInfo),st(r),null;case 10:return fs(r.type),st(r),null;case 19:if(te(_t),u=r.memoizedState,u===null)return st(r),null;if(d=(r.flags&128)!==0,p=u.rendering,p===null)if(d)nu(u,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=hh(i),p!==null){for(r.flags|=128,nu(u,!1),i=p.updateQueue,r.updateQueue=i,Ah(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)g0(o,i),o=o.sibling;return ue(_t,_t.current&1|2),Be&&cs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&cn()>Ih&&(r.flags|=128,d=!0,nu(u,!1),r.lanes=4194304)}else{if(!d)if(i=hh(p),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Ah(r,i),nu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Be)return st(r),null}else 2*cn()-u.renderingStartTime>Ih&&o!==536870912&&(r.flags|=128,d=!0,nu(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(i=u.last,i!==null?i.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=_t.current,ue(_t,d?o&1|2:o&1),Be&&cs(r,u.treeForkCount),i):(st(r),null);case 22:case 23:return Vn(r),gm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),o=r.updateQueue,o!==null&&Ah(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&te(ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fs(Rt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function TC(i,r){switch(tm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return fs(Rt),at(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ha(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));ha()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Vn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ha()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(_t),null;case 4:return at(),null;case 10:return fs(r.type),null;case 22:case 23:return Vn(r),gm(),i!==null&&te(ma),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return fs(Rt),null;case 25:return null;default:return null}}function H_(i,r){switch(tm(r),r.tag){case 3:fs(Rt),at();break;case 26:case 27:case 5:Ha(r);break;case 4:at();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:te(_t);break;case 10:fs(r.type);break;case 22:case 23:Vn(r),gm(),i!==null&&te(ma);break;case 24:fs(Rt)}}function iu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==d)}}catch(A){We(r,r.return,A)}}function ir(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,d=r;var M=o,K=A;try{K()}catch(Z){We(d,M,Z)}}}u=u.next}while(u!==p)}}catch(Z){We(r,r.return,Z)}}function q_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{O0(r,o)}catch(u){We(i,i.return,u)}}}function G_(i,r,o){o.props=_a(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){We(i,r,u)}}function su(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){We(i,r,d)}}function Fi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){We(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){We(i,r,d)}else o.current=null}function K_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){We(i,i.return,d)}}function $m(i,r,o){try{var u=i.stateNode;FC(u,i.type,o,r),u[Ft]=r}catch(d){We(i,i.return,d)}}function Y_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&cr(i.type)||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ui));else if(u!==4&&(u===27&&cr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Xm(i,r,o),i=i.sibling;i!==null;)Xm(i,r,o),i=i.sibling}function wh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(wh(i,r,o),i=i.sibling;i!==null;)wh(i,r,o),i=i.sibling}function $_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Wt(r,u,o),r[At]=i,r[Ft]=o}catch(p){We(i,i.return,p)}}var ys=!1,Dt=!1,Wm=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function EC(i,r){if(i=i.containerInfo,vp=Kh,i=o0(i),qd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,A=-1,M=-1,K=0,Z=0,ee=i,$=null;t:for(;;){for(var X;ee!==o||d!==0&&ee.nodeType!==3||(A=T+d),ee!==p||u!==0&&ee.nodeType!==3||(M=T+u),ee.nodeType===3&&(T+=ee.nodeValue.length),(X=ee.firstChild)!==null;)$=ee,ee=X;for(;;){if(ee===i)break t;if($===o&&++K===d&&(A=T),$===p&&++Z===u&&(M=T),(X=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=X}o=A===-1||M===-1?null:{start:A,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:i,selectionRange:o},Kh=!1,qt=r;qt!==null;)if(r=qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qt=i;else for(;qt!==null;){switch(r=qt,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var de=_a(o.type,d);i=u.getSnapshotBeforeUpdate(de,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){We(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)bp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qt=i;break}qt=r.return}}function X_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(i,o),u&4&&iu(5,o);break;case 1:if(_s(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){We(o,o.return,T)}else{var d=_a(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){We(o,o.return,T)}}u&64&&q_(o),u&512&&su(o,o.return);break;case 3:if(_s(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{O0(i,r)}catch(T){We(o,o.return,T)}}break;case 27:r===null&&u&4&&$_(o);case 26:case 5:_s(i,o),r===null&&u&4&&K_(o),u&512&&su(o,o.return);break;case 12:_s(i,o);break;case 31:_s(i,o),u&4&&J_(i,o);break;case 13:_s(i,o),u&4&&eT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=DC.bind(null,o),XC(i,o))));break;case 22:if(u=o.memoizedState!==null||ys,!u){r=r!==null&&r.memoizedState!==null||Dt,d=ys;var p=Dt;ys=u,(Dt=r)&&!p?Ts(i,o,(o.subtreeFlags&8772)!==0):_s(i,o),ys=d,Dt=p}break;case 30:break;default:_s(i,o)}}function W_(i){var r=i.alternate;r!==null&&(i.alternate=null,W_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&$a(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,yn=!1;function vs(i,r,o){for(o=o.child;o!==null;)Z_(i,r,o),o=o.sibling}function Z_(i,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:Dt||Fi(o,r),vs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Fi(o,r);var u=lt,d=yn;cr(o.type)&&(lt=o.stateNode,yn=!1),vs(i,r,o),du(o.stateNode),lt=u,yn=d;break;case 5:Dt||Fi(o,r);case 6:if(u=lt,d=yn,lt=null,vs(i,r,o),lt=u,yn=d,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(p){We(o,r,p)}else try{lt.removeChild(o.stateNode)}catch(p){We(o,r,p)}break;case 18:lt!==null&&(yn?(i=lt,qT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Mo(i)):qT(lt,o.stateNode));break;case 4:u=lt,d=yn,lt=o.stateNode.containerInfo,yn=!0,vs(i,r,o),lt=u,yn=d;break;case 0:case 11:case 14:case 15:ir(2,o,r),Dt||ir(4,o,r),vs(i,r,o);break;case 1:Dt||(Fi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&G_(o,r,u)),vs(i,r,o);break;case 21:vs(i,r,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,vs(i,r,o),Dt=u;break;default:vs(i,r,o)}}function J_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mo(i)}catch(o){We(r,r.return,o)}}}function eT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mo(i)}catch(o){We(r,r.return,o)}}function bC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Q_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Q_),r;default:throw Error(s(435,i.tag))}}function xh(i,r){var o=bC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=NC.bind(null,i,u);u.then(d,d)}})}function vn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=i,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(cr(A.type)){lt=A.stateNode,yn=!1;break e}break;case 5:lt=A.stateNode,yn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,yn=!0;break e}A=A.return}if(lt===null)throw Error(s(160));Z_(p,T,d),lt=null,yn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)tT(r,i),r=r.sibling}var pi=null;function tT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:vn(r,i),_n(i),u&4&&(ir(3,i,i.return),iu(3,i),ir(5,i,i.return));break;case 1:vn(r,i),_n(i),u&512&&(Dt||o===null||Fi(o,o.return)),u&64&&ys&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=pi;if(vn(r,i),_n(i),u&512&&(Dt||o===null||Fi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ci]||p[At]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),Wt(p,u,o),p[At]=i,wt(p),u=p;break e;case"link":var T=tE("link","href",d).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}p=d.createElement(u),Wt(p,u,o),d.head.appendChild(p);break;case"meta":if(T=tE("meta","content",d).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}p=d.createElement(u),Wt(p,u,o),d.head.appendChild(p);break;default:throw Error(s(468,u))}p[At]=i,wt(p),u=p}i.stateNode=u}else nE(d,i.type,i.stateNode);else i.stateNode=eE(d,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?nE(d,i.type,i.stateNode):eE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&$m(i,i.memoizedProps,o.memoizedProps)}break;case 27:vn(r,i),_n(i),u&512&&(Dt||o===null||Fi(o,o.return)),o!==null&&u&4&&$m(i,i.memoizedProps,o.memoizedProps);break;case 5:if(vn(r,i),_n(i),u&512&&(Dt||o===null||Fi(o,o.return)),i.flags&32){d=i.stateNode;try{gn(d,"")}catch(de){We(i,i.return,de)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,$m(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Wm=!0);break;case 6:if(vn(r,i),_n(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(de){We(i,i.return,de)}}break;case 3:if(Fh=null,d=pi,pi=zh(r.containerInfo),vn(r,i),pi=d,_n(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mo(r.containerInfo)}catch(de){We(i,i.return,de)}Wm&&(Wm=!1,nT(i));break;case 4:u=pi,pi=zh(i.stateNode.containerInfo),vn(r,i),_n(i),pi=u;break;case 12:vn(r,i),_n(i);break;case 31:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,xh(i,u)));break;case 13:vn(r,i),_n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ch=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,xh(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=ys,Z=Dt;if(ys=K||d,Dt=Z||M,vn(r,i),Dt=Z,ys=K,_n(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||ys||Dt||Ta(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(p=M.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=M.stateNode;var ee=M.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(de){We(M,M.return,de)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(de){We(M,M.return,de)}}}else if(r.tag===18){if(o===null){M=r;try{var X=M.stateNode;d?GT(X,!0):GT(M.stateNode,!1)}catch(de){We(M,M.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,xh(i,o))));break;case 19:vn(r,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,xh(i,u)));break;case 30:break;case 21:break;default:vn(r,i),_n(i)}}function _n(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Y_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=Qm(i);wh(i,p,d);break;case 5:var T=o.stateNode;o.flags&32&&(gn(T,""),o.flags&=-33);var A=Qm(i);wh(i,A,T);break;case 3:case 4:var M=o.stateNode.containerInfo,K=Qm(i);Xm(i,K,M);break;default:throw Error(s(161))}}catch(Z){We(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function nT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;nT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function _s(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)X_(i,r.alternate,r),r=r.sibling}function Ta(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ir(4,r,r.return),Ta(r);break;case 1:Fi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&G_(r,r.return,o),Ta(r);break;case 27:du(r.stateNode);case 26:case 5:Fi(r,r.return),Ta(r);break;case 22:r.memoizedState===null&&Ta(r);break;case 30:Ta(r);break;default:Ta(r)}i=i.sibling}}function Ts(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ts(d,p,o),iu(4,p);break;case 1:if(Ts(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){We(u,u.return,K)}if(u=p,d=u.updateQueue,d!==null){var A=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)M0(M[d],A)}catch(K){We(u,u.return,K)}}o&&T&64&&q_(p),su(p,p.return);break;case 27:$_(p);case 26:case 5:Ts(d,p,o),o&&u===null&&T&4&&K_(p),su(p,p.return);break;case 12:Ts(d,p,o);break;case 31:Ts(d,p,o),o&&T&4&&J_(d,p);break;case 13:Ts(d,p,o),o&&T&4&&eT(d,p);break;case 22:p.memoizedState===null&&Ts(d,p,o),su(p,p.return);break;case 30:break;default:Ts(d,p,o)}r=r.sibling}}function Zm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ql(o))}function Jm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ql(i))}function gi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iT(i,r,o,u),r=r.sibling}function iT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:gi(i,r,o,u),d&2048&&iu(9,r);break;case 1:gi(i,r,o,u);break;case 3:gi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ql(i)));break;case 12:if(d&2048){gi(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){We(r,r.return,M)}}else gi(i,r,o,u);break;case 31:gi(i,r,o,u);break;case 13:gi(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?gi(i,r,o,u):ru(i,r):p._visibility&2?gi(i,r,o,u):(p._visibility|=2,bo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Zm(T,r);break;case 24:gi(i,r,o,u),d&2048&&Jm(r.alternate,r);break;default:gi(i,r,o,u)}}function bo(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,T=r,A=o,M=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:bo(p,T,A,M,d),iu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?bo(p,T,A,M,d):ru(p,T):(Z._visibility|=2,bo(p,T,A,M,d)),d&&K&2048&&Zm(T.alternate,T);break;case 24:bo(p,T,A,M,d),d&&K&2048&&Jm(T.alternate,T);break;default:bo(p,T,A,M,d)}r=r.sibling}}function ru(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:ru(o,u),d&2048&&Zm(u.alternate,u);break;case 24:ru(o,u),d&2048&&Jm(u.alternate,u);break;default:ru(o,u)}r=r.sibling}}var au=8192;function So(i,r,o){if(i.subtreeFlags&au)for(i=i.child;i!==null;)sT(i,r,o),i=i.sibling}function sT(i,r,o){switch(i.tag){case 26:So(i,r,o),i.flags&au&&i.memoizedState!==null&&lI(o,pi,i.memoizedState,i.memoizedProps);break;case 5:So(i,r,o);break;case 3:case 4:var u=pi;pi=zh(i.stateNode.containerInfo),So(i,r,o),pi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=au,au=16777216,So(i,r,o),au=u):So(i,r,o));break;default:So(i,r,o)}}function rT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ou(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qt=u,oT(u,i)}rT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aT(i),i=i.sibling}function aT(i){switch(i.tag){case 0:case 11:case 15:ou(i),i.flags&2048&&ir(9,i,i.return);break;case 3:ou(i);break;case 12:ou(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Rh(i)):ou(i);break;default:ou(i)}}function Rh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qt=u,oT(u,i)}rT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ir(8,r,r.return),Rh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(r));break;default:Rh(r)}i=i.sibling}}function oT(i,r){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:ir(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=i;qt!==null;){u=qt;var d=u.sibling,p=u.return;if(W_(u),u===o){qt=null;break e}if(d!==null){d.return=p,qt=d;break e}qt=p}}}var SC={getCacheForType:function(i){var r=Qt(Rt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Qt(Rt).controller.signal}},AC=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Me=null,ke=0,Xe=0,Mn=null,sr=!1,Ao=!1,ep=!1,Es=0,pt=0,rr=0,Ea=0,tp=0,On=0,wo=0,lu=null,Tn=null,np=!1,Ch=0,lT=0,Ih=1/0,Dh=null,ar=null,kt=0,or=null,xo=null,bs=0,ip=0,sp=null,uT=null,uu=0,rp=null;function Pn(){return(Ye&2)!==0&&ke!==0?ke&-ke:W.T!==null?hp():Nc()}function cT(){if(On===0)if((ke&536870912)===0||Be){var i=$r;$r<<=1,($r&3932160)===0&&($r=262144),On=i}else On=536870912;return i=Nn.current,i!==null&&(i.flags|=32),On}function En(i,r,o){(i===nt&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),lr(i,ke,On,!1)),Qr(i,o),((Ye&2)===0||i!==nt)&&(i===nt&&((Ye&2)===0&&(Ea|=o),pt===4&&lr(i,ke,On,!1)),Hi(i))}function hT(i,r,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ai(i,r),d=u?RC(i,r):op(i,r,!0),p=u;do{if(d===0){Ao&&!u&&lr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!wC(o)){d=op(i,r,!1),p=!1;continue}if(d===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=i;d=lu;var M=A.current.memoizedState.isDehydrated;if(M&&(Ro(A,T).flags|=256),T=op(A,T,!1),T!==2){if(ep&&!M){A.errorRecoveryDisabledLanes|=p,Ea|=p,d=4;break e}p=Tn,Tn=d,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){Ro(i,0),lr(i,r,0,!0);break}e:{switch(u=i,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:lr(u,r,On,!sr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Ch+300-cn(),10<d)){if(lr(u,r,On,!sr),wi(u,0,!0)!==0)break e;bs=r,u.timeoutHandle=FT(fT.bind(null,u,o,Tn,Dh,np,r,On,Ea,wo,sr,p,"Throttled",-0,0),d);break e}fT(u,o,Tn,Dh,np,r,On,Ea,wo,sr,p,null,-0,0)}}break}while(!0);Hi(i)}function fT(i,r,o,u,d,p,T,A,M,K,Z,ee,$,X){if(i.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},sT(r,p,ee);var de=(p&62914560)===p?Ch-cn():(p&4194048)===p?lT-cn():0;if(de=uI(ee,de),de!==null){bs=p,i.cancelPendingCommit=de(TT.bind(null,i,r,p,o,u,d,T,A,M,Z,ee,null,$,X)),lr(i,p,T,!K);return}}TT(i,r,p,o,u,d,T,A,M)}function wC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!In(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function lr(i,r,o,u){r&=~tp,r&=~Ea,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var p=31-yt(d),T=1<<p;u[p]=-1,d&=~T}o!==0&&Xr(i,o,r)}function Nh(){return(Ye&6)===0?(cu(0),!1):!0}function ap(){if(Me!==null){if(Xe===0)var i=Me.return;else i=Me,hs=fa=null,bm(i),yo=null,Kl=0,i=Me;for(;i!==null;)H_(i.alternate,i),i=i.return;Me=null}}function Ro(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,GC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,ap(),nt=i,Me=o=us(i.current,null),ke=r,Xe=0,Mn=null,sr=!1,Ao=ai(i,r),ep=!1,wo=On=tp=Ea=rr=pt=0,Tn=lu=null,np=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-yt(u),p=1<<d;r|=i[d],u&=~p}return Es=r,Zc(),o}function dT(i,r){Ie=null,W.H=eu,r===go||r===ah?(r=I0(),Xe=3):r===cm?(r=I0(),Xe=4):Xe=r===jm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Me===null&&(pt=1,Th(i,Kn(r,i.current)))}function mT(){var i=Nn.current;return i===null?!0:(ke&4194048)===ke?Xn===null:(ke&62914560)===ke||(ke&536870912)!==0?i===Xn:!1}function pT(){var i=W.H;return W.H=eu,i===null?eu:i}function gT(){var i=W.A;return W.A=SC,i}function Vh(){pt=4,sr||(ke&4194048)!==ke&&Nn.current!==null||(Ao=!0),(rr&134217727)===0&&(Ea&134217727)===0||nt===null||lr(nt,ke,On,!1)}function op(i,r,o){var u=Ye;Ye|=2;var d=pT(),p=gT();(nt!==i||ke!==r)&&(Dh=null,Ro(i,r)),r=!1;var T=pt;e:do try{if(Xe!==0&&Me!==null){var A=Me,M=Mn;switch(Xe){case 8:ap(),T=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var K=Xe;if(Xe=0,Mn=null,Co(i,A,M,K),o&&Ao){T=0;break e}break;default:K=Xe,Xe=0,Mn=null,Co(i,A,M,K)}}xC(),T=pt;break}catch(Z){dT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,hs=fa=null,Ye=u,W.H=d,W.A=p,Me===null&&(nt=null,ke=0,Zc()),T}function xC(){for(;Me!==null;)yT(Me)}function RC(i,r){var o=Ye;Ye|=2;var u=pT(),d=gT();nt!==i||ke!==r?(Dh=null,Ih=cn()+500,Ro(i,r)):Ao=ai(i,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var p=Mn;t:switch(Xe){case 1:Xe=0,Mn=null,Co(i,r,p,1);break;case 2:case 9:if(R0(p)){Xe=0,Mn=null,vT(r);break}r=function(){Xe!==2&&Xe!==9||nt!==i||(Xe=7),Hi(i)},p.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:R0(p)?(Xe=0,Mn=null,vT(r)):(Xe=0,Mn=null,Co(i,r,p,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var A=Me;if(T?iE(T):A.stateNode.complete){Xe=0,Mn=null;var M=A.sibling;if(M!==null)Me=M;else{var K=A.return;K!==null?(Me=K,Mh(K)):Me=null}break t}}Xe=0,Mn=null,Co(i,r,p,5);break;case 6:Xe=0,Mn=null,Co(i,r,p,6);break;case 8:ap(),pt=6;break e;default:throw Error(s(462))}}CC();break}catch(Z){dT(i,Z)}while(!0);return hs=fa=null,W.H=u,W.A=d,Ye=o,Me!==null?0:(nt=null,ke=0,Zc(),pt)}function CC(){for(;Me!==null&&!Ld();)yT(Me)}function yT(i){var r=B_(i.alternate,i,Es);i.memoizedProps=i.pendingProps,r===null?Mh(i):Me=r}function vT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=P_(o,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=P_(o,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:bm(r);default:H_(o,r),r=Me=g0(r,Es),r=B_(o,r,Es)}i.memoizedProps=i.pendingProps,r===null?Mh(i):Me=r}function Co(i,r,o,u){hs=fa=null,bm(r),yo=null,Kl=0;var d=r.return;try{if(gC(i,d,r,o,ke)){pt=1,Th(i,Kn(o,i.current)),Me=null;return}}catch(p){if(d!==null)throw Me=d,p;pt=1,Th(i,Kn(o,i.current)),Me=null;return}r.flags&32768?(Be||u===1?i=!0:Ao||(ke&536870912)!==0?i=!1:(sr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_T(r,i)):Mh(r)}function Mh(i){var r=i;do{if((r.flags&32768)!==0){_T(r,sr);return}i=r.return;var o=_C(r.alternate,r,Es);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);pt===0&&(pt=5)}function _T(i,r){do{var o=TC(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);pt=6,Me=null}function TT(i,r,o,u,d,p,T,A,M){i.cancelPendingCommit=null;do Oh();while(kt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Qd,zd(i,o,p,T,A,M),i===nt&&(Me=nt=null,ke=0),xo=r,or=i,bs=o,ip=p,sp=d,uT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VC(js,function(){return wT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=ie.p,ie.p=2,T=Ye,Ye|=4;try{EC(i,r,o)}finally{Ye=T,ie.p=d,W.T=u}}kt=1,ET(),bT(),ST()}}function ET(){if(kt===1){kt=0;var i=or,r=xo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ie.p;ie.p=2;var d=Ye;Ye|=4;try{tT(r,i);var p=_p,T=o0(i.containerInfo),A=p.focusedElem,M=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&a0(A.ownerDocument.documentElement,A)){if(M!==null&&qd(A)){var K=M.start,Z=M.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var ee=A.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var X=$.getSelection(),de=A.textContent.length,ve=Math.min(M.start,de),tt=M.end===void 0?ve:Math.min(M.end,de);!X.extend&&ve>tt&&(T=tt,tt=ve,ve=T);var F=r0(A,ve),j=r0(A,tt);if(F&&j&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var G=ee.createRange();G.setStart(F.node,F.offset),X.removeAllRanges(),ve>tt?(X.addRange(G),X.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),X.addRange(G))}}}}for(ee=[],X=A;X=X.parentNode;)X.nodeType===1&&ee.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var J=ee[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Kh=!!vp,_p=vp=null}finally{Ye=d,ie.p=u,W.T=o}}i.current=r,kt=2}}function bT(){if(kt===2){kt=0;var i=or,r=xo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ie.p;ie.p=2;var d=Ye;Ye|=4;try{X_(i,r.alternate,r)}finally{Ye=d,ie.p=u,W.T=o}}kt=3}}function ST(){if(kt===4||kt===3){kt=0,Ac();var i=or,r=xo,o=bs,u=uT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,xo=or=null,AT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ar=null),rs(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,d=ie.p,ie.p=2,W.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];p(A.value,{componentStack:A.stack})}}finally{W.T=r,ie.p=d}}(bs&3)!==0&&Oh(),Hi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===rp?uu++:(uu=0,rp=i):uu=0,cu(0)}}function AT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ql(r)))}function Oh(){return ET(),bT(),ST(),wT()}function wT(){if(kt!==5)return!1;var i=or,r=ip;ip=0;var o=rs(bs),u=W.T,d=ie.p;try{ie.p=32>o?32:o,W.T=null,o=sp,sp=null;var p=or,T=bs;if(kt=0,xo=or=null,bs=0,(Ye&6)!==0)throw Error(s(331));var A=Ye;if(Ye|=4,aT(p.current),iT(p,p.current,T,o),Ye=A,cu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ri,p)}catch{}return!0}finally{ie.p=d,W.T=u,AT(i,r)}}function xT(i,r,o){r=Kn(o,r),r=Lm(i.stateNode,r,2),i=er(i,r,2),i!==null&&(Qr(i,2),Hi(i))}function We(i,r,o){if(i.tag===3)xT(i,i,o);else for(;r!==null;){if(r.tag===3){xT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ar===null||!ar.has(u))){i=Kn(o,i),o=R_(2),u=er(r,o,2),u!==null&&(C_(o,u,r,i),Qr(u,2),Hi(u));break}}r=r.return}}function lp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new AC;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(ep=!0,d.add(o),i=IC.bind(null,i,r,o),r.then(i,i))}function IC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(ke&o)===o&&(pt===4||pt===3&&(ke&62914560)===ke&&300>cn()-Ch?(Ye&2)===0&&Ro(i,0):tp|=o,wo===ke&&(wo=0)),Hi(i)}function RT(i,r){r===0&&(r=Dc()),i=ua(i,r),i!==null&&(Qr(i,r),Hi(i))}function DC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),RT(i,o)}function NC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),RT(i,o)}function VC(i,r){return Pt(i,r)}var Ph=null,Io=null,up=!1,kh=!1,cp=!1,ur=0;function Hi(i){i!==Io&&i.next===null&&(Io===null?Ph=Io=i:Io=Io.next=i),kh=!0,up||(up=!0,OC())}function cu(i,r){if(!cp&&kh){cp=!0;do for(var o=!1,u=Ph;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var T=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-yt(42|i)+1)-1,p&=d&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,NT(u,p))}else p=ke,p=wi(u,u===nt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ai(u,p)||(o=!0,NT(u,p));u=u.next}while(o);cp=!1}}function MC(){CT()}function CT(){kh=up=!1;var i=0;ur!==0&&qC()&&(i=ur);for(var r=cn(),o=null,u=Ph;u!==null;){var d=u.next,p=IT(u,r);p===0?(u.next=null,o===null?Ph=d:o.next=d,d===null&&(Io=o)):(o=u,(i!==0||(p&3)!==0)&&(kh=!0)),u=d}kt!==0&&kt!==5||cu(i),ur!==0&&(ur=0)}function IT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-yt(p),A=1<<T,M=d[T];M===-1?((A&o)===0||(A&u)!==0)&&(d[T]=Ud(A,r)):M<=r&&(i.expiredLanes|=A),p&=~A}if(r=nt,o=ke,o=wi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ls(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ai(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ls(u),rs(o)){case 2:case 8:o=Tl;break;case 32:o=js;break;case 268435456:o=wc;break;default:o=js}return u=DT.bind(null,i),o=Pt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ls(u),i.callbackPriority=2,i.callbackNode=null,2}function DT(i,r){if(kt!==0&&kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Oh()&&i.callbackNode!==o)return null;var u=ke;return u=wi(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(hT(i,u,r),IT(i,cn()),i.callbackNode!=null&&i.callbackNode===o?DT.bind(null,i):null)}function NT(i,r){if(Oh())return null;hT(i,r,!0)}function OC(){KC(function(){(Ye&6)!==0?Pt(_l,MC):CT()})}function hp(){if(ur===0){var i=mo;i===0&&(i=Si,Si<<=1,(Si&261888)===0&&(Si=256)),ur=i}return ur}function VT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Za(""+i)}function MT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function PC(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var p=VT((d[Ft]||null).action),T=u.submitter;T&&(r=(r=T[Ft]||null)?VT(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var A=new ki("action","action",null,u,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ur!==0){var M=T?MT(d,T):new FormData(d);Nm(o,{pending:!0,data:M,method:d.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=T?MT(d,T):new FormData(d),Nm(o,{pending:!0,data:M,method:d.method,action:p},p,M))},currentTarget:d}]})}}for(var fp=0;fp<$d.length;fp++){var dp=$d[fp],kC=dp.toLowerCase(),LC=dp[0].toUpperCase()+dp.slice(1);mi(kC,"on"+LC)}mi(c0,"onAnimationEnd"),mi(h0,"onAnimationIteration"),mi(f0,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(JR,"onTransitionRun"),mi(eC,"onTransitionStart"),mi(tC,"onTransitionCancel"),mi(d0,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function OT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=K;try{p(d)}catch(Z){Wc(Z)}d.currentTarget=null,p=M}else for(T=0;T<u.length;T++){if(A=u[T],M=A.instance,K=A.currentTarget,A=A.listener,M!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=K;try{p(d)}catch(Z){Wc(Z)}d.currentTarget=null,p=M}}}}function Oe(i,r){var o=r[Ya];o===void 0&&(o=r[Ya]=new Set);var u=i+"__bubble";o.has(u)||(PT(r,i,2,!1),o.add(u))}function mp(i,r,o){var u=0;r&&(u|=4),PT(o,i,u,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function pp(i){if(!i[Lh]){i[Lh]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(jC.has(o)||mp(o,!1,i),mp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,mp("selectionchange",!1,r))}}function PT(i,r,o,u){switch(cE(r)){case 2:var d=fI;break;case 8:d=dI;break;default:d=Dp}o=d.bind(null,r,o,i),d=void 0,!ta||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function gp(i,r,o,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;A!==null;){if(T=Ii(A),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=p=T;continue e}A=A.parentNode}}u=u.return}qs(function(){var K=p,Z=Fn(o),ee=[];e:{var $=m0.get(i);if($!==void 0){var X=ki,de=i;switch(i){case"keypress":if(ia(o)===0)break e;case"keydown":case"keyup":X=$c;break;case"focusin":de="focus",X=ra;break;case"focusout":de="blur",X=ra;break;case"beforeblur":case"afterblur":X=ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case c0:case h0:case f0:X=Bc;break;case d0:X=w;break;case"scroll":case"scrollend":X=Pl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ls;break;case"toggle":case"beforetoggle":X=Ce}var ve=(r&4)!==0,tt=!ve&&(i==="scroll"||i==="scrollend"),F=ve?$!==null?$+"Capture":null:$;ve=[];for(var j=K,G;j!==null;){var J=j;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||F===null||(J=ci(j,F),J!=null&&ve.push(fu(j,J,G))),tt)break;j=j.return}0<ve.length&&($=new X($,de,null,o,Z),ee.push({event:$,listeners:ve}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==Vl&&(de=o.relatedTarget||o.fromElement)&&(Ii(de)||de[Ri]))break e;if((X||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,X?(de=o.relatedTarget||o.toElement,X=K,de=de?Ii(de):null,de!==null&&(tt=l(de),ve=de.tag,de!==tt||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(X=null,de=K),X!==de)){if(ve=kl,J="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(ve=ls,J="onPointerLeave",F="onPointerEnter",j="pointer"),tt=X==null?$:Rn(X),G=de==null?$:Rn(de),$=new ve(J,j+"leave",X,o,Z),$.target=tt,$.relatedTarget=G,J=null,Ii(Z)===K&&(ve=new ve(F,j+"enter",de,o,Z),ve.target=G,ve.relatedTarget=tt,J=ve),tt=J,X&&de)t:{for(ve=UC,F=X,j=de,G=0,J=F;J;J=ve(J))G++;J=0;for(var ge=j;ge;ge=ve(ge))J++;for(;0<G-J;)F=ve(F),G--;for(;0<J-G;)j=ve(j),J--;for(;G--;){if(F===j||j!==null&&F===j.alternate){ve=F;break t}F=ve(F),j=ve(j)}ve=null}else ve=null;X!==null&&kT(ee,$,X,ve,!1),de!==null&&tt!==null&&kT(ee,tt,de,ve,!0)}}e:{if($=K?Rn(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var qe=Jv;else if(Wv($))if(e0)qe=XR;else{qe=$R;var me=YR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Wa(K.elementType)&&(qe=Jv):qe=QR;if(qe&&(qe=qe(i,K))){Zv(ee,qe,o,Z);break e}me&&me(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Il($,"number",$.value)}switch(me=K?Rn(K):window,i){case"focusin":(Wv(me)||me.contentEditable==="true")&&(ro=me,Gd=K,Bl=null);break;case"focusout":Bl=Gd=ro=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,l0(ee,o,Z);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":l0(ee,o,Z)}var Ve;if(Ke)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else so?aa(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Ui&&o.locale!=="ko"&&(so||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&so&&(Ve=Ol()):(Pi=Z,Ml="value"in Pi?Pi.value:Pi.textContent,so=!0)),me=jh(K,Le),0<me.length&&(Le=new ji(Le,i,null,o,Z),ee.push({event:Le,listeners:me}),Ve?Le.data=Ve:(Ve=io(o),Ve!==null&&(Le.data=Ve)))),(Ve=qn?HR(i,o):qR(i,o))&&(Le=jh(K,"onBeforeInput"),0<Le.length&&(me=new ji("onBeforeInput","beforeinput",null,o,Z),ee.push({event:me,listeners:Le}),me.data=Ve)),PC(ee,i,K,o,Z)}OT(ee,r)})}function fu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function jh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=ci(i,o),d!=null&&u.unshift(fu(i,d,p)),d=ci(i,r),d!=null&&u.push(fu(i,d,p))),i.tag===3)return u;i=i.return}return[]}function UC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function kT(i,r,o,u,d){for(var p=r._reactName,T=[];o!==null&&o!==u;){var A=o,M=A.alternate,K=A.stateNode;if(A=A.tag,M!==null&&M===u)break;A!==5&&A!==26&&A!==27||K===null||(M=K,d?(K=ci(o,p),K!=null&&T.unshift(fu(o,K,M))):d||(K=ci(o,p),K!=null&&T.push(fu(o,K,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var zC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function LT(i){return(typeof i=="string"?i:""+i).replace(zC,`
`).replace(BC,"")}function jT(i,r){return r=LT(r),LT(i)===r}function et(i,r,o,u,d,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(i,""+u);break;case"className":Cn(i,"class",u);break;case"tabIndex":Cn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(i,o,u);break;case"style":Nl(i,u,p);break;case"data":if(r!=="object"){Cn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Za(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",d.name,d,null),et(i,r,"formEncType",d.formEncType,d,null),et(i,r,"formMethod",d.formMethod,d,null),et(i,r,"formTarget",d.formTarget,d,null)):(et(i,r,"encType",d.encType,d,null),et(i,r,"method",d.method,d,null),et(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Za(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ui);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Za(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Qa(i,"popover",u);break;case"xlinkActuate":xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jc.get(o)||o,Qa(i,o,u))}}function yp(i,r,o,u,d,p){switch(o){case"style":Nl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?gn(i,u):(typeof u=="number"||typeof u=="bigint")&&gn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=i[Ft]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Qa(i,o,u)}}}function Wt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,p,T,o,null)}}d&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var A=p=T=d=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":T=Z;break;case"checked":M=Z;break;case"defaultChecked":K=Z;break;case"value":p=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:et(i,r,u,Z,o,null)}}Pc(i,p,A,M,K,T,d,!1);return;case"select":Oe("invalid",i),u=T=p=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:et(i,r,d,A,o,null)}r=p,o=T,i.multiple=!!u,r!=null?zs(i,!!u,r,!1):o!=null&&zs(i,!!u,o,!0);return;case"textarea":Oe("invalid",i),p=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":d=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:et(i,r,T,A,o,null)}Bs(i,u,d,p);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,M,u,o,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<hu.length;u++)Oe(hu[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,K,u,o,null)}return;default:if(Wa(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&yp(i,r,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&et(i,r,A,u,o,null))}function FC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,A=null,M=null,K=null,Z=null;for(X in o){var ee=o[X];if(o.hasOwnProperty(X)&&ee!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ee;default:u.hasOwnProperty(X)||et(i,r,X,null,u,ee)}}for(var $ in u){var X=u[$];if(ee=o[$],u.hasOwnProperty($)&&(X!=null||ee!=null))switch($){case"type":p=X;break;case"name":d=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ee&&et(i,r,$,X,u,ee)}}Xa(i,T,A,M,K,Z,p,d);return;case"select":X=T=A=$=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(p)||et(i,r,p,null,u,M)}for(d in u)if(p=u[d],M=o[d],u.hasOwnProperty(d)&&(p!=null||M!=null))switch(d){case"value":$=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==M&&et(i,r,d,p,u,M)}r=A,o=T,u=X,$!=null?zs(i,!!o,$,!1):!!u!=!!o&&(r!=null?zs(i,!!o,r,!0):zs(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(i,r,A,null,u,d)}for(T in u)if(d=u[T],p=o[T],u.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":$=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&et(i,r,T,d,u,p)}kc(i,$,X);return;case"option":for(var de in o)if($=o[de],o.hasOwnProperty(de)&&$!=null&&!u.hasOwnProperty(de))switch(de){case"selected":i.selected=!1;break;default:et(i,r,de,null,u,$)}for(M in u)if($=u[M],X=o[M],u.hasOwnProperty(M)&&$!==X&&($!=null||X!=null))switch(M){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:et(i,r,M,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)$=o[ve],o.hasOwnProperty(ve)&&$!=null&&!u.hasOwnProperty(ve)&&et(i,r,ve,null,u,$);for(K in u)if($=u[K],X=o[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:et(i,r,K,$,u,X)}return;default:if(Wa(r)){for(var tt in o)$=o[tt],o.hasOwnProperty(tt)&&$!==void 0&&!u.hasOwnProperty(tt)&&yp(i,r,tt,void 0,u,$);for(Z in u)$=u[Z],X=o[Z],!u.hasOwnProperty(Z)||$===X||$===void 0&&X===void 0||yp(i,r,Z,$,u,X);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&et(i,r,F,null,u,$);for(ee in u)$=u[ee],X=o[ee],!u.hasOwnProperty(ee)||$===X||$==null&&X==null||et(i,r,ee,$,u,X)}function UT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,T=d.initiatorType,A=d.duration;if(p&&A&&UT(T)){for(T=0,A=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],K=M.startTime;if(K>A)break;var Z=M.transferSize,ee=M.initiatorType;Z&&UT(ee)&&(M=M.responseEnd,T+=Z*(M<A?1:(A-K)/(M-K)))}if(--u,r+=8*(p+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var vp=null,_p=null;function Uh(i){return i.nodeType===9?i:i.ownerDocument}function zT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Tp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ep=null;function qC(){var i=window.event;return i&&i.type==="popstate"?i===Ep?!1:(Ep=i,!0):(Ep=null,!1)}var FT=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,HT=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof HT<"u"?function(i){return HT.resolve(null).then(i).catch(YC)}:FT;function YC(i){setTimeout(function(){throw i})}function cr(i){return i==="head"}function qT(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Mo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")du(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,du(o);for(var p=o.firstChild;p;){var T=p.nextSibling,A=p.nodeName;p[Ci]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&du(i.ownerDocument.body);o=d}while(o);Mo(r)}function GT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function bp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bp(o),$a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function $C(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function QC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function KT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Wn(i.nextSibling),i===null))return null;return i}function Sp(i){return i.data==="$?"||i.data==="$~"}function Ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function XC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var wp=null;function YT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Wn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function $T(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function QT(i,r,o){switch(r=Uh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function du(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);$a(i)}var Zn=new Map,XT=new Set;function zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=ie.d;ie.d={f:WC,r:ZC,D:JC,C:eI,L:tI,m:nI,X:sI,S:iI,M:rI};function WC(){var i=Ss.f(),r=Nh();return i||r}function ZC(i){var r=Bn(i);r!==null&&r.tag===5&&r.type==="form"?d_(r):Ss.r(i)}var Do=typeof document>"u"?null:document;function WT(i,r,o){var u=Do;if(u&&typeof r=="string"&&r){var d=pn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),XT.has(d)||(XT.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Wt(r,"link",i),wt(r),u.head.appendChild(r)))}}function JC(i){Ss.D(i),WT("dns-prefetch",i,null)}function eI(i,r){Ss.C(i,r),WT("preconnect",i,r)}function tI(i,r,o){Ss.L(i,r,o);var u=Do;if(u&&i&&r){var d='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+pn(o.imageSizes)+'"]')):d+='[href="'+pn(i)+'"]';var p=d;switch(r){case"style":p=No(i);break;case"script":p=Vo(i)}Zn.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Zn.set(p,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(mu(p))||r==="script"&&u.querySelector(pu(p))||(r=u.createElement("link"),Wt(r,"link",i),wt(r),u.head.appendChild(r)))}}function nI(i,r){Ss.m(i,r);var o=Do;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vo(i)}if(!Zn.has(p)&&(i=_({rel:"modulepreload",href:i},r),Zn.set(p,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(p)))return}u=o.createElement("link"),Wt(u,"link",i),wt(u),o.head.appendChild(u)}}}function iI(i,r,o){Ss.S(i,r,o);var u=Do;if(u&&i){var d=Di(u).hoistableStyles,p=No(i);r=r||"default";var T=d.get(p);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(mu(p)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Zn.get(p))&&xp(i,o);var M=T=u.createElement("link");wt(M),Wt(M,"link",i),M._p=new Promise(function(K,Z){M.onload=K,M.onerror=Z}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Bh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},d.set(p,T)}}}function sI(i,r){Ss.X(i,r);var o=Do;if(o&&i){var u=Di(o).hoistableScripts,d=Vo(i),p=u.get(d);p||(p=o.querySelector(pu(d)),p||(i=_({src:i,async:!0},r),(r=Zn.get(d))&&Rp(i,r),p=o.createElement("script"),wt(p),Wt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function rI(i,r){Ss.M(i,r);var o=Do;if(o&&i){var u=Di(o).hoistableScripts,d=Vo(i),p=u.get(d);p||(p=o.querySelector(pu(d)),p||(i=_({src:i,async:!0,type:"module"},r),(r=Zn.get(d))&&Rp(i,r),p=o.createElement("script"),wt(p),Wt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function ZT(i,r,o,u){var d=(d=Ne.current)?zh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=No(o.href),o=Di(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var p=Di(d).hoistableStyles,T=p.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=d.querySelector(mu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(i,o),p||aI(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vo(o),o=Di(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function No(i){return'href="'+pn(i)+'"'}function mu(i){return'link[rel="stylesheet"]['+i+"]"}function JT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function aI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wt(r,"link",o),wt(r),i.head.appendChild(r))}function Vo(i){return'[src="'+pn(i)+'"]'}function pu(i){return"script[async]"+i}function eE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return r.instance=u,wt(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),wt(u),Wt(u,"style",d),Bh(u,o.precedence,i),r.instance=u;case"stylesheet":d=No(o.href);var p=i.querySelector(mu(d));if(p)return r.state.loading|=4,r.instance=p,wt(p),p;u=JT(o),(d=Zn.get(d))&&xp(u,d),p=(i.ownerDocument||i).createElement("link"),wt(p);var T=p;return T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),Wt(p,"link",u),r.state.loading|=4,Bh(p,o.precedence,i),r.instance=p;case"script":return p=Vo(o.src),(d=i.querySelector(pu(p)))?(r.instance=d,wt(d),d):(u=o,(d=Zn.get(p))&&(u=_({},o),Rp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),wt(d),Wt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Bh(u,o.precedence,i));return r.instance}function Bh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)p=A;else if(p!==d)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Fh=null;function tE(i,r,o){if(Fh===null){var u=new Map,d=Fh=new Map;d.set(o,u)}else d=Fh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var p=o[d];if(!(p[Ci]||p[At]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(p):u.set(T,[p])}}return u}function nE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function oI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function lI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=No(u.href),p=r.querySelector(mu(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Hh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,wt(p);return}p=r.ownerDocument||r,u=JT(u),(d=Zn.get(d))&&xp(u,d),p=p.createElement("link"),wt(p);var T=p;T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),Wt(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Hh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Cp=0;function uI(i,r){return i.stylesheets&&i.count===0&&Gh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Gh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Cp===0&&(Cp=62500*HC());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Gh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Cp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qh=null;function Gh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qh=new Map,r.forEach(cI,i),qh=null,Hh.call(i))}function cI(i,r){if(!(r.state.loading&4)){var o=qh.get(i);if(o)var u=o.get(null);else{o=new Map,qh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,d),o.set(T,d),this.count++,u=Hh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var gu={$$typeof:H,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function hI(i,r,o,u,d,p,T,A,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function sE(i,r,o,u,d,p,T,A,M,K,Z,ee){return i=new hI(i,r,o,T,M,K,Z,ee,A),r=1,p===!0&&(r|=24),p=Dn(3,null,null,r),i.current=p,p.stateNode=i,r=om(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},hm(p),i}function rE(i){return i?(i=lo,i):lo}function aE(i,r,o,u,d,p){d=rE(d),u.context===null?u.context=d:u.pendingContext=d,u=Js(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=er(i,u,r),o!==null&&(En(o,i,r),$l(o,i,r))}function oE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ip(i,r){oE(i,r),(i=i.alternate)&&oE(i,r)}function lE(i){if(i.tag===13||i.tag===31){var r=ua(i,67108864);r!==null&&En(r,i,67108864),Ip(i,67108864)}}function uE(i){if(i.tag===13||i.tag===31){var r=Pn();r=Wr(r);var o=ua(i,r);o!==null&&En(o,i,r),Ip(i,r)}}var Kh=!0;function fI(i,r,o,u){var d=W.T;W.T=null;var p=ie.p;try{ie.p=2,Dp(i,r,o,u)}finally{ie.p=p,W.T=d}}function dI(i,r,o,u){var d=W.T;W.T=null;var p=ie.p;try{ie.p=8,Dp(i,r,o,u)}finally{ie.p=p,W.T=d}}function Dp(i,r,o,u){if(Kh){var d=Np(u);if(d===null)gp(i,r,u,Yh,o),hE(i,u);else if(pI(d,i,r,o,u))u.stopPropagation();else if(hE(i,u),r&4&&-1<mI.indexOf(i)){for(;d!==null;){var p=Bn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Ai(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var M=1<<31-yt(T);A.entanglements[1]|=M,T&=~M}Hi(p),(Ye&6)===0&&(Ih=cn()+500,cu(0))}}break;case 31:case 13:A=ua(p,2),A!==null&&En(A,p,2),Nh(),Ip(p,2)}if(p=Np(u),p===null&&gp(i,r,u,Yh,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else gp(i,r,u,null,o)}}function Np(i){return i=Fn(i),Vp(i)}var Yh=null;function Vp(i){if(Yh=null,i=Ii(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Yh=i,null}function cE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case _l:return 2;case Tl:return 8;case js:case jd:return 32;case wc:return 268435456;default:return 32}default:return 32}}var Mp=!1,hr=null,fr=null,dr=null,yu=new Map,vu=new Map,mr=[],mI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(i,r){switch(i){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":yu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(r.pointerId)}}function _u(i,r,o,u,d,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Bn(r),r!==null&&lE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function pI(i,r,o,u,d){switch(r){case"focusin":return hr=_u(hr,i,r,o,u,d),!0;case"dragenter":return fr=_u(fr,i,r,o,u,d),!0;case"mouseover":return dr=_u(dr,i,r,o,u,d),!0;case"pointerover":var p=d.pointerId;return yu.set(p,_u(yu.get(p)||null,i,r,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,vu.set(p,_u(vu.get(p)||null,i,r,o,u,d)),!0}return!1}function fE(i){var r=Ii(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,oi(i.priority,function(){uE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,oi(i.priority,function(){uE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $h(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Np(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Vl=u,o.target.dispatchEvent(u),Vl=null}else return r=Bn(o),r!==null&&lE(r),i.blockedOn=o,!1;r.shift()}return!0}function dE(i,r,o){$h(i)&&o.delete(r)}function gI(){Mp=!1,hr!==null&&$h(hr)&&(hr=null),fr!==null&&$h(fr)&&(fr=null),dr!==null&&$h(dr)&&(dr=null),yu.forEach(dE),vu.forEach(dE)}function Qh(i,r){i.blockedOn===r&&(i.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gI)))}var Xh=null;function mE(i){Xh!==i&&(Xh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xh===i&&(Xh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Vp(u||o)===null)continue;break}var p=Bn(o);p!==null&&(i.splice(r,3),r-=3,Nm(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Mo(i){function r(M){return Qh(M,i)}hr!==null&&Qh(hr,i),fr!==null&&Qh(fr,i),dr!==null&&Qh(dr,i),yu.forEach(r),vu.forEach(r);for(var o=0;o<mr.length;o++){var u=mr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<mr.length&&(o=mr[0],o.blockedOn===null);)fE(o),o.blockedOn===null&&mr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],T=d[Ft]||null;if(typeof p=="function")T||mE(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Ft]||null)A=T.formAction;else if(Vp(d)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),mE(o)}}}function pE(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Op(i){this._internalRoot=i}Wh.prototype.render=Op.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Pn();aE(o,u,i,r,null,null)},Wh.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;aE(i.current,2,null,i,null,null),Nh(),r[Ri]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Nc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<mr.length&&r!==0&&r<mr[o].priority;o++);mr.splice(o,0,i),o===0&&fE(i)}};var gE=e.version;if(gE!=="19.2.1")throw Error(s(527,gE,"19.2.1"));ie.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var yI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ri=Zh.inject(yI),Kt=Zh}catch{}}return Eu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=S_,p=A_,T=w_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=sE(i,1,!1,null,null,o,u,null,d,p,T,pE),i[Ri]=r.current,pp(i),new Op(r)},Eu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",p=S_,T=A_,A=w_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=sE(i,1,!0,r,o??null,u,d,M,p,T,A,pE),r.context=rE(null),o=r.current,u=Pn(),u=Wr(u),d=Js(u),d.callback=null,er(o,d,u),o=u,r.current.lanes=o,Qr(r,o),Hi(r),i[Ri]=r.current,pp(i),new Wh(r)},Eu.version="19.2.1",Eu}var xE;function CI(){if(xE)return Lp.exports;xE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=RI(),Lp.exports}var II=CI();const DI=xA(II);var RE="popstate";function NI(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return gg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Fu(a)}return MI(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function CE(t,e){return{usr:t.state,key:t.key,idx:e}}function gg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:n,key:e&&e.key||s||VI()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function MI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let k=y(),B=k==null?null:k-g;g=k,m&&m({action:f,location:L.location,delta:B})}function E(k,B){f="PUSH";let Y=gg(L.location,k,B);g=y()+1;let H=CE(Y,g),ae=L.createHref(Y);try{c.pushState(H,"",ae)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(ae)}l&&m&&m({action:f,location:L.location,delta:1})}function R(k,B){f="REPLACE";let Y=gg(L.location,k,B);g=y();let H=CE(Y,g),ae=L.createHref(Y);c.replaceState(H,"",ae),l&&m&&m({action:f,location:L.location,delta:0})}function V(k){return OI(k)}let L={get action(){return f},get location(){return t(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(RE,_),m=k,()=>{a.removeEventListener(RE,_),m=null}},createHref(k){return e(a,k)},createURL:V,encodeLocation(k){let B=V(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:R,go(k){return c.go(k)}};return L}function OI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Fu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RA(t,e,n="/"){return PI(t,e,n,!1)}function PI(t,e,n,s){let a=typeof e=="string"?sl(e):e,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=CA(t);kI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=YI(l);f=GI(c[m],g,s)}return f}function CA(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ct(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=xs([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),CA(c.children,e,E,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:HI(_,c.index),routesMeta:E})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of IA(c.path))l(c,f,!0,m)}),e}function IA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=IA(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function kI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var LI=/^:[\w-]+$/,jI=3,UI=2,zI=1,BI=10,FI=-2,IE=t=>t==="*";function HI(t,e){let n=t.split("/"),s=n.length;return n.some(IE)&&(s+=FI),e&&(s+=UI),n.filter(a=>!IE(a)).reduce((a,l)=>a+(LI.test(l)?jI:l===""?zI:BI),s)}function qI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function GI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],g=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),E=m.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:xs([l,_.pathname]),pathnameBase:ZI(xs([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=xs([l,_.pathnameBase]))}return c}function Mf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=KI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},E)=>{if(y==="*"){let V=f[E]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const R=f[E];return _&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function KI(t,e=!1,n=!0){ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function YI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var $I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QI=t=>$I.test(t);function XI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?sl(t):t,l;if(n)if(QI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=DE(n.substring(1),"/"):l=DE(n,e)}else l=e;return{pathname:l,search:JI(s),hash:e2(a)}}function DE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yy(t){let e=WI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vy(t,e,n,s=!1){let a;typeof t=="string"?a=sl(t):(a={...t},ct(!a.pathname||!a.pathname.includes("?"),Bp("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Bp("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Bp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let m=XI(a,f),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var xs=t=>t.join("/").replace(/\/\/+/g,"/"),ZI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function n2(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DA=["POST","PUT","PATCH","DELETE"];new Set(DA);var i2=["GET",...DA];new Set(i2);var rl=D.createContext(null);rl.displayName="DataRouter";var ud=D.createContext(null);ud.displayName="DataRouterState";D.createContext(!1);var NA=D.createContext({isTransitioning:!1});NA.displayName="ViewTransition";var s2=D.createContext(new Map);s2.displayName="Fetchers";var r2=D.createContext(null);r2.displayName="Await";var si=D.createContext(null);si.displayName="Navigation";var oc=D.createContext(null);oc.displayName="Location";var Ei=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var _y=D.createContext(null);_y.displayName="RouteError";function a2(t,{relative:e}={}){ct(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(si),{hash:a,pathname:l,search:c}=lc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:xs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function al(){return D.useContext(oc)!=null}function Ps(){return ct(al(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(oc).location}var VA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MA(t){D.useContext(si).static||D.useLayoutEffect(t)}function ks(){let{isDataRoute:t}=D.useContext(Ei);return t?E2():o2()}function o2(){ct(al(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(rl),{basename:e,navigator:n}=D.useContext(si),{matches:s}=D.useContext(Ei),{pathname:a}=Ps(),l=JSON.stringify(yy(s)),c=D.useRef(!1);return MA(()=>{c.current=!0}),D.useCallback((m,g={})=>{if(ii(c.current,VA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=vy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xs([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,a,t])}var l2=D.createContext(null);function u2(t){let e=D.useContext(Ei).outlet;return D.useMemo(()=>e&&D.createElement(l2.Provider,{value:t},e),[e,t])}function lc(t,{relative:e}={}){let{matches:n}=D.useContext(Ei),{pathname:s}=Ps(),a=JSON.stringify(yy(n));return D.useMemo(()=>vy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function c2(t,e){return OA(t,e)}function OA(t,e,n,s,a){ct(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(si),{matches:c}=D.useContext(Ei),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let Y=_&&_.path||"";PA(g,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let E=Ps(),R;if(e){let Y=typeof e=="string"?sl(e):e;ct(y==="/"||Y.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),R=Y}else R=E;let V=R.pathname||"/",L=V;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");L="/"+V.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=RA(t,{pathname:L});ii(_||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ii(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=p2(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:xs([y,l.encodeLocation?l.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:xs([y,l.encodeLocation?l.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),c,n,s,a);return e&&B?D.createElement(oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function h2(){let t=T2(),e=t2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var f2=D.createElement(h2,null),d2=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(Ei.Provider,{value:this.props.routeContext},D.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:t,match:e,children:n}){let s=D.useContext(rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ei.Provider,{value:t},n)}function p2(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:R}=n,V=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||V){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:n2(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,E)=>{let R,V=!1,L=null,k=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,L=_.route.errorElement||f2,f&&(m<0&&E===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,k=null):m===E&&(V=!0,k=_.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,E+1)),Y=()=>{let H;return R?H=L:V?H=k:_.route.Component?H=D.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=y,D.createElement(m2,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?D.createElement(d2,{location:n.location,revalidation:n.revalidation,component:L,error:R,children:Y(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):Y()},null)}function Ty(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(t){let e=D.useContext(rl);return ct(e,Ty(t)),e}function y2(t){let e=D.useContext(ud);return ct(e,Ty(t)),e}function v2(t){let e=D.useContext(Ei);return ct(e,Ty(t)),e}function Ey(t){let e=v2(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _2(){return Ey("useRouteId")}function T2(){let t=D.useContext(_y),e=y2("useRouteError"),n=Ey("useRouteError");return t!==void 0?t:e.errors?.[n]}function E2(){let{router:t}=g2("useNavigate"),e=Ey("useNavigate"),n=D.useRef(!1);return MA(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{ii(n.current,VA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var NE={};function PA(t,e,n){!e&&!NE[t]&&(NE[t]=!0,ii(!1,n))}D.memo(b2);function b2({routes:t,future:e,state:n,unstable_onError:s}){return OA(t,void 0,n,s,e)}function Va({to:t,replace:e,state:n,relative:s}){ct(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(si);ii(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(Ei),{pathname:c}=Ps(),f=ks(),m=vy(t,yy(l),c,s==="path"),g=JSON.stringify(m);return D.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function by(t){return u2(t.context)}function Zt(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S2({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ct(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=sl(n));let{pathname:g="/",search:y="",hash:_="",state:E=null,key:R="default"}=n,V=D.useMemo(()=>{let L=Cs(g,f);return L==null?null:{location:{pathname:L,search:y,hash:_,state:E,key:R},navigationType:s}},[f,g,y,_,E,R,s]);return ii(V!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:D.createElement(si.Provider,{value:m},D.createElement(oc.Provider,{children:e,value:V}))}function A2({children:t,location:e}){return c2(yg(t),e)}function yg(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,yg(s.props.children,l));return}ct(s.type===Zt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yg(s.props.children,l)),n.push(c)}),n}var yf="get",vf="application/x-www-form-urlencoded";function cd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function w2(t){return cd(t)&&t.tagName.toLowerCase()==="button"}function x2(t){return cd(t)&&t.tagName.toLowerCase()==="form"}function R2(t){return cd(t)&&t.tagName.toLowerCase()==="input"}function C2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I2(t,e){return t.button===0&&(!e||e==="_self")&&!C2(t)}var Jh=null;function D2(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var N2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(t){return t!=null&&!N2.has(t)?(ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):t}function V2(t,e){let n,s,a,l,c;if(x2(t)){let f=t.getAttribute("action");s=f?Cs(f,e):null,n=t.getAttribute("method")||yf,a=Fp(t.getAttribute("enctype"))||vf,l=new FormData(t)}else if(w2(t)||R2(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Cs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||yf,a=Fp(t.getAttribute("formenctype"))||Fp(f.getAttribute("enctype"))||vf,l=new FormData(f,t),!D2()){let{name:g,type:y,value:_}=t;if(y==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,_)}}else{if(cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,s=null,a=vf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M2(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Cs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function O2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function k2(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await O2(l,n);return c.links?c.links():[]}return[]}));return z2(s.flat(1).filter(P2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function VE(t,e,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function L2(t,e,{includeHydrateFallback:n}={}){return j2(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function j2(t){return[...new Set(t)]}function U2(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function z2(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(U2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function kA(){let t=D.useContext(rl);return Sy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B2(){let t=D.useContext(ud);return Sy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ay=D.createContext(void 0);Ay.displayName="FrameworkContext";function LA(){let t=D.useContext(Ay);return Sy(t,"You must render this element inside a <HydratedRouter> element"),t}function F2(t,e){let n=D.useContext(Ay),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=e,E=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let L=B=>{B.forEach(Y=>{c(Y.isIntersecting)})},k=new IntersectionObserver(L,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),D.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let R=()=>{a(!0)},V=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:bu(f,R),onBlur:bu(m,V),onMouseEnter:bu(g,R),onMouseLeave:bu(y,V),onTouchStart:bu(_,R)}]:[!1,E,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H2({page:t,...e}){let{router:n}=kA(),s=D.useMemo(()=>RA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(G2,{page:t,matches:s,...e}):null}function q2(t){let{manifest:e,routeModules:n}=LA(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return k2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function G2({page:t,matches:e,...n}){let s=Ps(),{manifest:a,routeModules:l}=LA(),{basename:c}=kA(),{loaderData:f,matches:m}=B2(),g=D.useMemo(()=>VE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=D.useMemo(()=>VE(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let V=new Set,L=!1;if(e.forEach(B=>{let Y=a.routes[B.route.id];!Y||!Y.hasLoader||(!g.some(H=>H.route.id===B.route.id)&&B.route.id in f&&l[B.route.id]?.shouldRevalidate||Y.hasClientLoader?L=!0:V.add(B.route.id))}),V.size===0)return[];let k=M2(t,c,"data");return L&&V.size>0&&k.searchParams.set("_routes",e.filter(B=>V.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[c,f,s,a,g,e,t,l]),E=D.useMemo(()=>L2(y,a),[y,a]),R=q2(y);return D.createElement(D.Fragment,null,_.map(V=>D.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),E.map(V=>D.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),R.map(({key:V,link:L})=>D.createElement("link",{key:V,nonce:n.nonce,...L})))}function K2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jA&&(window.__reactRouterVersion="7.10.1")}catch{}function Y2({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=NI({window:s,v5Compat:!0}));let l=a.current,[c,f]=D.useState({action:l.action,location:l.location}),m=D.useCallback(g=>{n===!1?f(g):D.startTransition(()=>f(g))},[n]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(S2,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:y,viewTransition:_,...E},R){let{basename:V,unstable_useTransitions:L}=D.useContext(si),k=typeof g=="string"&&UA.test(g),B,Y=!1;if(typeof g=="string"&&k&&(B=g,jA))try{let P=new URL(window.location.href),O=g.startsWith("//")?new URL(P.protocol+g):new URL(g),z=Cs(O.pathname,V);O.origin===P.origin&&z!=null?g=z+O.search+O.hash:Y=!0}catch{ii(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=a2(g,{relative:a}),[ae,re,oe]=F2(s,E),C=W2(g,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_useTransitions:L});function x(P){e&&e(P),P.defaultPrevented||C(P)}let I=D.createElement("a",{...E,...oe,href:B||H,onClick:Y||l?e:x,ref:K2(R,re),target:m,"data-discover":!k&&n==="render"?"true":void 0});return ae&&!k?D.createElement(D.Fragment,null,I,D.createElement(H2,{page:H})):I});wr.displayName="Link";var $2=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},y){let _=lc(c,{relative:g.relative}),E=Ps(),R=D.useContext(ud),{navigator:V,basename:L}=D.useContext(si),k=R!=null&&nD(_)&&f===!0,B=V.encodeLocation?V.encodeLocation(_).pathname:_.pathname,Y=E.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&L&&(H=Cs(H,L)||H);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=Y===B||!a&&Y.startsWith(B)&&Y.charAt(ae)==="/",oe=H!=null&&(H===B||!a&&H.startsWith(B)&&H.charAt(B.length)==="/"),C={isActive:re,isPending:oe,isTransitioning:k},x=re?e:void 0,I;typeof s=="function"?I=s(C):I=[s,re?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return D.createElement(wr,{...g,"aria-current":x,className:I,ref:y,style:P,to:c,viewTransition:f},typeof m=="function"?m(C):m)});$2.displayName="NavLink";var Q2=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=yf,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,...E},R)=>{let{unstable_useTransitions:V}=D.useContext(si),L=eD(),k=tD(f,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&UA.test(f),H=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let re=ae.nativeEvent.submitter,oe=re?.getAttribute("formmethod")||c,C=()=>L(re||ae.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_});V&&n!==!1?D.startTransition(()=>C()):C()};return D.createElement("form",{ref:R,method:B,action:k,onSubmit:s?m:H,...E,"data-discover":!Y&&t==="render"?"true":void 0})});Q2.displayName="Form";function X2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(t){let e=D.useContext(rl);return ct(e,X2(t)),e}function W2(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let m=ks(),g=Ps(),y=lc(t,{relative:l});return D.useCallback(_=>{if(I2(_,e)){_.preventDefault();let E=n!==void 0?n:Fu(g)===Fu(y),R=()=>m(t,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c});f?D.startTransition(()=>R()):R()}},[g,m,y,n,s,e,t,a,l,c,f])}var Z2=0,J2=()=>`__${String(++Z2)}__`;function eD(){let{router:t}=zA("useSubmit"),{basename:e}=D.useContext(si),n=_2(),s=t.fetch,a=t.navigate;return D.useCallback(async(l,c={})=>{let{action:f,method:m,encType:g,formData:y,body:_}=V2(l,e);if(c.navigate===!1){let E=c.fetcherKey||J2();await s(E,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function tD(t,{relative:e}={}){let{basename:n}=D.useContext(si),s=D.useContext(Ei);ct(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...lc(t||".",{relative:e})},c=Ps();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:xs([n,l.pathname])),Fu(l)}function nD(t,{relative:e}={}){let n=D.useContext(NA);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zA("useViewTransitionState"),a=lc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mf(a.pathname,c)!=null||Mf(a.pathname,l)!=null}const iD=()=>{};var ME={};const BA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},sD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},FA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,R=g&63;m||(R=64,c||(E=64)),s.push(n[y],n[_],n[E],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||_==null)throw new rD;const E=l<<2|f>>4;if(s.push(E),g!==64){const R=f<<4&240|g>>2;if(s.push(R),_!==64){const V=g<<6&192|_;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aD=function(t){const e=BA(t);return FA.encodeByteArray(e,!0)},Of=function(t){return aD(t).replace(/\./g,"")},HA=function(t){try{return FA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lD=()=>oD().__FIREBASE_DEFAULTS__,uD=()=>{if(typeof process>"u"||typeof ME>"u")return;const t=ME.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HA(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return iD()||lD()||uD()||cD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qA=t=>hd()?.emulatorHosts?.[t],GA=t=>{const e=qA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},KA=()=>hd()?.config,YA=t=>hd()?.[`_${t}`];class hD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ur(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wy(t){return(await fetch(t,{credentials:"include"})).ok}function fD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Of(JSON.stringify(n)),Of(JSON.stringify(c)),""].join(".")}const Nu={};function dD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function mD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let OE=!1;function xy(t,e){if(typeof window>"u"||typeof document>"u"||!Ur(window.location.host)||Nu[t]===e||Nu[t]||OE)return;Nu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=dD().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{OE=!0,c()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=mD(s),R=n("text"),V=document.getElementById(R)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),B=n("preprendIcon"),Y=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;f(H),y(k,L);const ae=g();m(Y,B),H.append(Y,V,k,ae),document.body.appendChild(H)}l?(V.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function gD(){const t=hd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ED(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bD(){try{return typeof indexedDB=="object"}catch{return!1}}function SD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const AD="FirebaseError";class is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AD,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?wD(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new is(a,f,s)}}function wD(t,e){return t.replace(xD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const xD=/\{\$([^}]+)}/g;function RD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ma(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(PE(l)&&PE(c)){if(!Ma(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}function cc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CD(t,e){const n=new ID(t,e);return n.subscribe.bind(n)}class ID{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Hp),a.error===void 0&&(a.error=Hp),a.complete===void 0&&(a.complete=Hp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}function Bt(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sa="[DEFAULT]";class ND{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VD(t){return t===Sa?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}class OD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ND(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const PD={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},kD=je.INFO,LD={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},jD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=LD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=kD,this._logHandler=jD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let kE,LE;function zD(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BD(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $A=new WeakMap,vg=new WeakMap,QA=new WeakMap,qp=new WeakMap,Cy=new WeakMap;function FD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(xr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&$A.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function HD(t){if(vg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});vg.set(t,e)}let _g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qD(t){_g=t(_g)}function GD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Gp(this),e,...n);return QA.set(s,e.sort?e.sort():[e]),xr(s)}:BD().includes(t)?function(...e){return t.apply(Gp(this),e),xr($A.get(this))}:function(...e){return xr(t.apply(Gp(this),e))}}function KD(t){return typeof t=="function"?GD(t):(t instanceof IDBTransaction&&HD(t),UD(t,zD())?new Proxy(t,_g):t)}function xr(t){if(t instanceof IDBRequest)return FD(t);if(qp.has(t))return qp.get(t);const e=KD(t);return e!==t&&(qp.set(t,e),Cy.set(e,t)),e}const Gp=t=>Cy.get(t);function YD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=xr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(xr(c.result),m.oldVersion,m.newVersion,xr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const $D=["get","getKey","getAll","getAllKeys","count"],QD=["put","add","delete","clear"],Kp=new Map;function jE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=QD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||$D.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return Kp.set(e,l),l}qD(t=>({...t,get:(e,n,s)=>jE(e,n)||t.get(e,n,s),has:(e,n)=>!!jE(e,n)||t.has(e,n)}));class XD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WD(t){return t.getComponent()?.type==="VERSION"}const Tg="@firebase/app",UE="0.14.6";const Is=new Ry("@firebase/app"),ZD="@firebase/app-compat",JD="@firebase/analytics-compat",eN="@firebase/analytics",tN="@firebase/app-check-compat",nN="@firebase/app-check",iN="@firebase/auth",sN="@firebase/auth-compat",rN="@firebase/database",aN="@firebase/data-connect",oN="@firebase/database-compat",lN="@firebase/functions",uN="@firebase/functions-compat",cN="@firebase/installations",hN="@firebase/installations-compat",fN="@firebase/messaging",dN="@firebase/messaging-compat",mN="@firebase/performance",pN="@firebase/performance-compat",gN="@firebase/remote-config",yN="@firebase/remote-config-compat",vN="@firebase/storage",_N="@firebase/storage-compat",TN="@firebase/firestore",EN="@firebase/ai",bN="@firebase/firestore-compat",SN="firebase",AN="12.6.0";const Eg="[DEFAULT]",wN={[Tg]:"fire-core",[ZD]:"fire-core-compat",[eN]:"fire-analytics",[JD]:"fire-analytics-compat",[nN]:"fire-app-check",[tN]:"fire-app-check-compat",[iN]:"fire-auth",[sN]:"fire-auth-compat",[rN]:"fire-rtdb",[aN]:"fire-data-connect",[oN]:"fire-rtdb-compat",[lN]:"fire-fn",[uN]:"fire-fn-compat",[cN]:"fire-iid",[hN]:"fire-iid-compat",[fN]:"fire-fcm",[dN]:"fire-fcm-compat",[mN]:"fire-perf",[pN]:"fire-perf-compat",[gN]:"fire-rc",[yN]:"fire-rc-compat",[vN]:"fire-gcs",[_N]:"fire-gcs-compat",[TN]:"fire-fst",[bN]:"fire-fst-compat",[EN]:"fire-vertex","fire-js":"fire-js",[SN]:"fire-js-all"};const Hu=new Map,xN=new Map,bg=new Map;function zE(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(bg.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of Hu.values())zE(n,t);for(const n of xN.values())zE(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t==null?!1:t.settings!==void 0}const RN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new uc("app","Firebase",RN);class CN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const ol=AN;function XA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Eg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Rr.create("bad-app-name",{appName:String(a)});if(n||(n=KA()),!n)throw Rr.create("no-options");const l=Hu.get(a);if(l){if(Ma(n,l.options)&&Ma(s,l.config))return l;throw Rr.create("duplicate-app",{appName:a})}const c=new OD(a);for(const m of bg.values())c.addComponent(m);const f=new CN(n,s,c);return Hu.set(a,f),f}function dd(t=Eg){const e=Hu.get(t);if(!e&&t===Eg&&KA())return XA();if(!e)throw Rr.create("no-app",{appName:t});return e}function IN(){return Array.from(Hu.values())}function Gi(t,e,n){let s=wN[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}Oa(new Dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const DN="firebase-heartbeat-database",NN=1,qu="firebase-heartbeat-store";let Yp=null;function WA(){return Yp||(Yp=YD(DN,NN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function VN(t){try{const n=(await WA()).transaction(qu),s=await n.objectStore(qu).get(ZA(t));return await n.done,s}catch(e){if(e instanceof is)Is.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function BE(t,e){try{const s=(await WA()).transaction(qu,"readwrite");await s.objectStore(qu).put(e,ZA(t)),await s.done}catch(n){if(n instanceof is)Is.warn(n.message);else{const s=Rr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function ZA(t){return`${t.name}!${t.options.appId}`}const MN=1024,ON=30;class PN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ON){const a=jN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FE(),{heartbeatsToSend:n,unsentEntries:s}=kN(this._heartbeatsCache.heartbeats),a=Of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Is.warn(e),""}}}function FE(){return new Date().toISOString().substring(0,10)}function kN(t,e=MN){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),HE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),HE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bD()?SD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}function jN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function UN(t){Oa(new Dr("platform-logger",e=>new XD(e),"PRIVATE")),Oa(new Dr("heartbeat",e=>new PN(e),"PRIVATE")),Gi(Tg,UE,t),Gi(Tg,UE,"esm2020"),Gi("fire-js","")}UN("");function JA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zN=JA,ew=new uc("auth","Firebase",JA());const Pf=new Ry("@firebase/auth");function BN(t,...e){Pf.logLevel<=je.WARN&&Pf.warn(`Auth (${ol}): ${t}`,...e)}function _f(t,...e){Pf.logLevel<=je.ERROR&&Pf.error(`Auth (${ol}): ${t}`,...e)}function Ti(t,...e){throw Iy(t,...e)}function Ki(t,...e){return Iy(t,...e)}function tw(t,e,n){const s={...zN(),[e]:n};return new uc("auth","Firebase",s).create(e,{appName:t.name})}function Rs(t){return tw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ew.create(t,...e)}function Te(t,e,...n){if(!t)throw Iy(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _f(e),new Error(e)}function Ds(t,e){t||As(e)}function Sg(){return typeof self<"u"&&self.location?.href||""}function FN(){return qE()==="http:"||qE()==="https:"}function qE(){return typeof self<"u"&&self.location?.protocol||null}function HN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||vD()||"connection"in navigator)?navigator.onLine:!0}function qN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=pD()||_D()}get(){return HN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dy(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new hc(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Br(t,e,n,s,a={}){return iw(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=cc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return yD()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ur(t.emulatorConfig.host)&&(g.credentials="include"),nw.fetch()(await sw(t,t.config.apiHost,n,f),g)})}async function iw(t,e,n){t._canInitEmulator=!1;const s={...GN,...e};try{const a=new QN(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ef(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw ef(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tw(t,y,g);Ti(t,y)}}catch(a){if(a instanceof is)throw a;Ti(t,"network-request-failed",{message:String(a)})}}async function fc(t,e,n,s,a={}){const l=await Br(t,e,n,s,a);return"mfaPendingCredential"in l&&Ti(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function sw(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Dy(t.config,a):`${t.config.apiScheme}://${a}`;return KN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $N(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),YN.get())})}}function ef(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ki(t,e,s);return a.customData._tokenResponse=n,a}function GE(t){return t!==void 0&&t.enterprise!==void 0}class XN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $N(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WN(t,e){return Br(t,"GET","/v2/recaptchaConfig",zr(t,e))}async function ZN(t,e){return Br(t,"POST","/v1/accounts:delete",e)}async function kf(t,e){return Br(t,"POST","/v1/accounts:lookup",e)}function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JN(t,e=!1){const n=Bt(t),s=await n.getIdToken(e),a=Ny(s);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Vu($p(a.auth_time)),issuedAtTime:Vu($p(a.iat)),expirationTime:Vu($p(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $p(t){return Number(t)*1e3}function Ny(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const a=HA(n);return a?JSON.parse(a):(_f("Failed to decode base64 JWT payload"),null)}catch(a){return _f("Caught error parsing JWT payload as JSON",a?.toString()),null}}function KE(t){const e=Ny(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof is&&eV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function eV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class tV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lf(t){const e=t.auth,n=await t.getIdToken(),s=await Gu(t,kf(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?rw(a.providerUserInfo):[],c=iV(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ag(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function nV(t){const e=Bt(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function rw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sV(t,e){const n=await iw(t,{},async()=>{const s=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await sw(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Ur(t.emulatorConfig.host)&&(m.credentials="include"),nw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rV(t,e){return Br(t,"POST","/v2/accounts:revokeToken",zr(t,e))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=KE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await sV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new qo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return As("not implemented")}}function gr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new tV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ag(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JN(this,e)}reload(){return nV(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Gu(this,ZN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:R,providerData:V,stsTokenManager:L}=n;Te(_&&L,e,"internal-error");const k=qo.fromJSON(this.name,L);Te(typeof _=="string",e,"internal-error"),gr(s,e.name),gr(a,e.name),Te(typeof E=="boolean",e,"internal-error"),Te(typeof R=="boolean",e,"internal-error"),gr(l,e.name),gr(c,e.name),gr(f,e.name),gr(m,e.name),gr(g,e.name),gr(y,e.name);const B=new _i({uid:_,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(B.providerData=V.map(Y=>({...Y}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new qo;a.updateFromServerResponse(n);const l=new _i({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Lf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?rw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new qo;f.updateFromIdToken(s);const m=new _i({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const YE=new Map;function ws(t){Ds(t instanceof Function,"Expected a class definition");let e=YE.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YE.set(t,e),e)}class aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aw.type="NONE";const $E=aw;function Tf(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Tf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kf(this.auth,{idToken:e}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Go(ws($E),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ws($E);const c=Tf(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const E=await kf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await _i._fromGetAccountInfoResponse(e,E,y)}else _=_i._fromJSON(e,y);g!==l&&(f=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Go(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Go(l,e,s))}}function QE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ow(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fw(e))return"Blackberry";if(dw(e))return"Webos";if(lw(e))return"Safari";if((e.includes("chrome/")||uw(e))&&!e.includes("edge/"))return"Chrome";if(hw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function ow(t=un()){return/firefox\//i.test(t)}function lw(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uw(t=un()){return/crios\//i.test(t)}function cw(t=un()){return/iemobile/i.test(t)}function hw(t=un()){return/android/i.test(t)}function fw(t=un()){return/blackberry/i.test(t)}function dw(t=un()){return/webos/i.test(t)}function Vy(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aV(t=un()){return Vy(t)&&!!window.navigator?.standalone}function oV(){return TD()&&document.documentMode===10}function mw(t=un()){return Vy(t)||hw(t)||dw(t)||fw(t)||/windows phone/i.test(t)||cw(t)}function pw(t,e=[]){let n;switch(t){case"Browser":n=QE(un());break;case"Worker":n=`${QE(un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${s}`}class lV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uV(t,e={}){return Br(t,"GET","/v2/passwordPolicy",zr(t,e))}const cV=6;class hV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class fV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new lV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kf(this,{idToken:e}),s=await _i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Rs(this));const n=e?Bt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uV(this),n=new hV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function za(t){return Bt(t)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CD(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dV(t){md=t}function gw(t){return md.loadJS(t)}function mV(){return md.recaptchaEnterpriseScript}function pV(){return md.gapiScript}function gV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yV{constructor(){this.enterprise=new vV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _V="recaptcha-enterprise",yw="NO_RECAPTCHA";class TV{constructor(e){this.type=_V,this.auth=za(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{WN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new XN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;GE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(yw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&GE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=mV();m.length!==0&&(m+=f),gw(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function WE(t,e,n,s=!1,a=!1){const l=new TV(t);let c;if(a)c=yw;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function wg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await WE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await WE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function EV(t,e){const n=fd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ma(l,e??{}))return a;Ti(a,"already-initialized")}return n.initialize({options:e})}function bV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function SV(t,e,n){const s=za(t);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=vw(e),{host:c,port:f}=AV(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ma(g,s.config.emulator)&&Ma(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ur(c)?(wy(`${l}//${c}${m}`),xy("Auth",!0)):wV()}function vw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AV(t){const e=vw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ZE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:ZE(c)}}}function ZE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class My{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function xV(t,e){return Br(t,"POST","/v1/accounts:signUp",e)}async function RV(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}async function CV(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function IV(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}class Ku extends My{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ku(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,n,"signInWithPassword",RV);case"emailLink":return CV(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,s,"signUpPassword",xV);case"emailLink":return IV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ko(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}const DV="http://localhost";class Pa extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Pa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ko(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:DV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}function NV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VV(t){const e=Au(wu(t)).link,n=e?Au(wu(e)).deep_link_id:null,s=Au(wu(t)).deep_link_id;return(s?Au(wu(s)).link:null)||s||n||e||t}class Oy{constructor(e){const n=Au(wu(e)),s=n.apiKey??null,a=n.oobCode??null,l=NV(n.mode??null);Te(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VV(e);try{return new Oy(n)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Oy.parseLink(n);return Te(s,"argument-error"),Ku._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dc extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tr extends dc{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";class Er extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Er.credential(n,s)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";class br extends dc{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";class Sr extends dc{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";async function MV(t,e){return fc(t,"POST","/v1/accounts:signUp",zr(t,e))}class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await _i._fromIdTokenResponse(e,s,a),c=JE(s);return new ka({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=JE(s);return new ka({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function JE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class jf extends is{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new jf(e,n,s,a)}}function Tw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(t,l,e,s):l})}async function OV(t,e,n=!1){const s=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ka._forOperation(t,"link",s)}async function PV(t,e,n=!1){const{auth:s}=t;if(kn(s.app))return Promise.reject(Rs(s));const a="reauthenticate";try{const l=await Gu(t,Tw(s,a,e,t),n);Te(l.idToken,s,"internal-error");const c=Ny(l.idToken);Te(c,s,"internal-error");const{sub:f}=c;return Te(t.uid===f,s,"user-mismatch"),ka._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ti(s,"user-mismatch"),l}}async function Ew(t,e,n=!1){if(kn(t.app))return Promise.reject(Rs(t));const s="signIn",a=await Tw(t,s,e),l=await ka._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function kV(t,e){return Ew(za(t),e)}async function bw(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LV(t,e,n){if(kn(t.app))return Promise.reject(Rs(t));const s=za(t),c=await wg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&bw(t),m}),f=await ka._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function jV(t,e,n){return kn(t.app)?Promise.reject(Rs(t)):kV(Bt(t),ll.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bw(t),s})}function UV(t,e,n,s){return Bt(t).onIdTokenChanged(e,n,s)}function zV(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function BV(t,e,n,s){return Bt(t).onAuthStateChanged(e,n,s)}function FV(t){return Bt(t).signOut()}const Uf="__sak";class Sw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HV=1e3,qV=10;class Aw extends Sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);oV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Aw.type="LOCAL";const GV=Aw;class ww extends Sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ww.type="SESSION";const xw=ww;function KV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async g=>g(n.origin,l)),m=await KV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];function Py(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class YV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Py("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yi(){return window}function $V(t){Yi().location.href=t}function Rw(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function QV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XV(){return navigator?.serviceWorker?.controller||null}function WV(){return Rw()?self:null}const Cw="firebaseLocalStorageDb",ZV=1,zf="firebaseLocalStorage",Iw="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function JV(){const t=indexedDB.deleteDatabase(Cw);return new mc(t).toPromise()}function xg(){const t=indexedDB.open(Cw,ZV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(zf,{keyPath:Iw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(zf)?e(s):(s.close(),await JV(),e(await xg()))})})}async function eb(t,e,n){const s=gd(t,!0).put({[Iw]:e,value:n});return new mc(s).toPromise()}async function eM(t,e){const n=gd(t,!1).get(e),s=await new mc(n).toPromise();return s===void 0?null:s.value}function tb(t,e){const n=gd(t,!0).delete(e);return new mc(n).toPromise()}const tM=800,nM=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>nM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(WV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QV(),!this.activeServiceWorker)return;this.sender=new YV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await eb(e,Uf,"1"),await tb(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>eM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=gd(a,!1).getAll();return new mc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const iM=Dw;new hc(3e4,6e4);function sM(t,e){return e?ws(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class ky extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rM(t){return Ew(t.auth,new ky(t),t.bypassAuthState)}function aM(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),PV(n,new ky(t),t.bypassAuthState)}async function oM(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),OV(n,new ky(t),t.bypassAuthState)}class Nw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rM;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return aM;default:Ti(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lM=new hc(2e3,1e4);class jo extends Nw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lM.get())};e()}}jo.currentPopupAction=null;const uM="pendingRedirect",Ef=new Map;class cM extends Nw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const s=await hM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hM(t,e){const n=mM(e),s=dM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function fM(t,e){Ef.set(t._key(),e)}function dM(t){return ws(t._redirectPersistence)}function mM(t){return Tf(uM,t.config.apiKey,t.name)}async function pM(t,e,n=!1){if(kn(t.app))return Promise.reject(Rs(t));const s=za(t),a=sM(s,e),c=await new cM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const gM=600*1e3;class yM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Vw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gM&&this.cachedEventUids.clear(),this.cachedEventUids.has(nb(e))}saveEventToCache(e){this.cachedEventUids.add(nb(e)),this.lastProcessedEventTime=Date.now()}}function nb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vw(t);default:return!1}}async function _M(t,e={}){return Br(t,"GET","/v1/projects",e)}const TM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EM=/^https?/;async function bM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _M(t);for(const n of e)try{if(SM(n))return}catch{}Ti(t,"unauthorized-domain")}function SM(t){const e=Sg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!EM.test(n))return!1;if(TM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const AM=new hc(3e4,6e4);function ib(){const t=Yi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wM(t){return new Promise((e,n)=>{function s(){ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ib(),n(Ki(t,"network-request-failed"))},timeout:AM.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const a=gV("iframefcb");return Yi()[a]=()=>{gapi.load?s():n(Ki(t,"network-request-failed"))},gw(`${pV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bf=null,e})}let bf=null;function xM(t){return bf=bf||wM(t),bf}const RM=new hc(5e3,15e3),CM="__/auth/iframe",IM="emulator/auth/iframe",DM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VM(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dy(e,IM):`https://${t.config.authDomain}/${CM}`,s={apiKey:e.apiKey,appName:t.name,v:ol},a=NM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${cc(s).slice(1)}`}async function MM(t){const e=await xM(t),n=Yi().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:VM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ki(t,"network-request-failed"),f=Yi().setTimeout(()=>{l(c)},RM.get());function m(){Yi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const OM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,kM=600,LM="_blank",jM="http://localhost";class sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UM(t,e,n,s=PM,a=kM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...OM,width:s.toString(),height:a.toString(),top:l,left:c},g=un().toLowerCase();n&&(f=uw(g)?LM:n),ow(g)&&(e=e||jM,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[R,V])=>`${E}${R}=${V},`,"");if(aV(g)&&f!=="_self")return zM(e||"",f),new sb(null);const _=window.open(e||"",f,y);Te(_,t,"popup-blocked");try{_.focus()}catch{}return new sb(_)}function zM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const BM="__/auth/handler",FM="emulator/auth/handler",HM=encodeURIComponent("fac");async function rb(t,e,n,s,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ol,eventId:a};if(e instanceof _w){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",RD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof dc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),g=m?`#${HM}=${encodeURIComponent(m)}`:"";return`${qM(t)}?${cc(f).slice(1)}${g}`}function qM({config:t}){return t.emulator?Dy(t,FM):`https://${t.authDomain}/${BM}`}const Qp="webStorageSupport";class GM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xw,this._completeRedirectFn=pM,this._overrideRedirectResult=fM}async _openPopup(e,n,s,a){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await rb(e,n,s,Sg(),a);return UM(e,l,Py())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await rb(e,n,s,Sg(),a);return $V(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ds(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await MM(e),s=new yM(e);return n.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qp,{type:Qp},a=>{const l=a?.[0]?.[Qp];l!==void 0&&n(!!l),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mw()||lw()||Vy()}}const KM=GM;var ab="@firebase/auth",ob="1.11.1";class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $M(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QM(t){Oa(new Dr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pw(t)},g=new fV(s,a,l,m);return bV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Oa(new Dr("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(s=>new YM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(ab,ob,$M(t)),Gi(ab,ob,"esm2020")}const XM=300,WM=YA("authIdTokenMaxAge")||XM;let lb=null;const ZM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WM)return;const a=n?.token;lb!==a&&(lb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function JM(t=dd()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EV(t,{popupRedirectResolver:KM,persistence:[iM,GV,xw]}),s=YA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=ZM(l.toString());zV(n,c,()=>c(n.currentUser)),UV(n,f=>c(f))}}const a=qA("auth");return a&&SV(n,`http://${a}`),n}function eO(){return document.getElementsByTagName("head")?.[0]??document}dV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ki("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",eO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QM("Browser");var tO="firebase",nO="12.6.0";Gi(tO,nO,"app");var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cr,Mw;(function(){var t;function e(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,O,z){for(var N=Array(arguments.length-2),we=2;we<arguments.length;we++)N[we-2]=arguments[we];return x.prototype[O].apply(P,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,x,I){I||(I=0);const P=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)P[O]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(O=0;O<16;++O)P[O]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],O=C.g[2];let z=C.g[3],N;N=x+(z^I&(O^z))+P[0]+3614090360&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(O^x&(I^O))+P[1]+3905402710&4294967295,z=x+(N<<12&4294967295|N>>>20),N=O+(I^z&(x^I))+P[2]+606105819&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(x^O&(z^x))+P[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(z^I&(O^z))+P[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(O^x&(I^O))+P[5]+1200080426&4294967295,z=x+(N<<12&4294967295|N>>>20),N=O+(I^z&(x^I))+P[6]+2821735955&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(x^O&(z^x))+P[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(z^I&(O^z))+P[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(O^x&(I^O))+P[9]+2336552879&4294967295,z=x+(N<<12&4294967295|N>>>20),N=O+(I^z&(x^I))+P[10]+4294925233&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(x^O&(z^x))+P[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(z^I&(O^z))+P[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(O^x&(I^O))+P[13]+4254626195&4294967295,z=x+(N<<12&4294967295|N>>>20),N=O+(I^z&(x^I))+P[14]+2792965006&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(x^O&(z^x))+P[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=x+(O^z&(I^O))+P[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(x^I))+P[6]+3225465664&4294967295,z=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(z^x))+P[11]+643717713&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(O^z))+P[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(O^z&(I^O))+P[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(x^I))+P[10]+38016083&4294967295,z=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(z^x))+P[15]+3634488961&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(O^z))+P[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(O^z&(I^O))+P[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(x^I))+P[14]+3275163606&4294967295,z=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(z^x))+P[3]+4107603335&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(O^z))+P[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(O^z&(I^O))+P[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(x^I))+P[2]+4243563512&4294967295,z=x+(N<<9&4294967295|N>>>23),N=O+(x^I&(z^x))+P[7]+1735328473&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(O^z))+P[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=x+(I^O^z)+P[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^O)+P[8]+2272392833&4294967295,z=x+(N<<11&4294967295|N>>>21),N=O+(z^x^I)+P[11]+1839030562&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^x)+P[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(I^O^z)+P[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^O)+P[4]+1272893353&4294967295,z=x+(N<<11&4294967295|N>>>21),N=O+(z^x^I)+P[7]+4139469664&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^x)+P[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(I^O^z)+P[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^O)+P[0]+3936430074&4294967295,z=x+(N<<11&4294967295|N>>>21),N=O+(z^x^I)+P[3]+3572445317&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^x)+P[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(I^O^z)+P[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^O)+P[12]+3873151461&4294967295,z=x+(N<<11&4294967295|N>>>21),N=O+(z^x^I)+P[15]+530742520&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^x)+P[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=x+(O^(I|~z))+P[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~O))+P[7]+1126891415&4294967295,z=x+(N<<10&4294967295|N>>>22),N=O+(x^(z|~I))+P[14]+2878612391&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~x))+P[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=x+(O^(I|~z))+P[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~O))+P[3]+2399980690&4294967295,z=x+(N<<10&4294967295|N>>>22),N=O+(x^(z|~I))+P[10]+4293915773&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~x))+P[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=x+(O^(I|~z))+P[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~O))+P[15]+4264355552&4294967295,z=x+(N<<10&4294967295|N>>>22),N=O+(x^(z|~I))+P[6]+2734768916&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~x))+P[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=x+(O^(I|~z))+P[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~O))+P[11]+3174756917&4294967295,z=x+(N<<10&4294967295|N>>>22),N=O+(x^(z|~I))+P[2]+718787259&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~x))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,P=this.C;let O=this.h,z=0;for(;z<x;){if(O==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<x;)if(P[O++]=C.charCodeAt(z++),O==this.blockSize){a(this,P),O=0;break}}else for(;z<x;)if(P[O++]=C[z++],O==this.blockSize){a(this,P),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[x++]=this.g[I]>>>P&255;return C};function l(C,x){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function c(C,x){this.h=x;const I=[];let P=!0;for(let O=C.length-1;O>=0;O--){const z=C[O]|0;P&&z==x||(I[O]=z,P=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return k(g(-C));const x=[];let I=1;for(let P=0;C>=I;P++)x[P]=C/I|0,I*=4294967296;return new c(x,0)}function y(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return k(y(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(x,8));let P=_;for(let z=0;z<C.length;z+=8){var O=Math.min(8,C.length-z);const N=parseInt(C.substring(z,z+O),x);O<8?(O=g(Math.pow(x,O)),P=P.j(O).add(g(N))):(P=P.j(I),P=P.add(g(N)))}return P}var _=m(0),E=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(L(this))return-k(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(L(this))return"-"+k(this).toString(C);const x=g(Math.pow(C,6));var I=this;let P="";for(;;){const O=ae(I,x).g;I=B(I,O.j(x));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,V(I))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=B(this,C),L(C)?-1:V(C)?0:1};function k(C){const x=C.g.length,I=[];for(let P=0;P<x;P++)I[P]=~C.g[P];return new c(I,~C.h).add(E)}t.abs=function(){return L(this)?k(this):this},t.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let O=0;O<=x;O++){let z=P+(this.i(O)&65535)+(C.i(O)&65535),N=(z>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=N>>>16,z&=65535,N&=65535,I[O]=N<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,x){return C.add(k(x))}t.j=function(C){if(V(this)||V(C))return _;if(L(this))return L(C)?k(this).j(k(C)):k(k(this).j(C));if(L(C))return k(this.j(k(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var P=0;P<2*x;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<C.g.length;O++){const z=this.i(P)>>>16,N=this.i(P)&65535,we=C.i(O)>>>16,_e=C.i(O)&65535;I[2*P+2*O]+=N*_e,Y(I,2*P+2*O),I[2*P+2*O+1]+=z*_e,Y(I,2*P+2*O+1),I[2*P+2*O+1]+=N*we,Y(I,2*P+2*O+1),I[2*P+2*O+2]+=z*we,Y(I,2*P+2*O+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new c(I,0)};function Y(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function H(C,x){this.g=C,this.h=x}function ae(C,x){if(V(x))throw Error("division by zero");if(V(C))return new H(_,_);if(L(C))return x=ae(k(C),x),new H(k(x.g),k(x.h));if(L(x))return x=ae(C,k(x)),new H(k(x.g),x.h);if(C.g.length>30){if(L(C)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=x;P.l(C)<=0;)I=re(I),P=re(P);var O=oe(I,1),z=oe(P,1);for(P=oe(P,2),I=oe(I,2);!V(P);){var N=z.add(P);N.l(C)<=0&&(O=O.add(I),z=N),P=oe(P,1),I=oe(I,1)}return x=B(C,O.j(x)),new H(O,x)}for(O=_;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=g(I),N=z.j(x);L(N)||N.l(C)>0;)I-=P,z=g(I),N=z.j(x);V(z)&&(z=E),O=O.add(z),C=B(C,N)}return new H(O,C)}t.B=function(C){return ae(this,C).h},t.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<x;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},t.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<x;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},t.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<x;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function re(C){const x=C.g.length+1,I=[];for(let P=0;P<x;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function oe(C,x){const I=x>>5;x%=32;const P=C.g.length-I,O=[];for(let z=0;z<P;z++)O[z]=x>0?C.i(z+I)>>>x|C.i(z+I+1)<<32-x:C.i(z+I);return new c(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Mw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Cr=c}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ow,xu,Pw,Sf,Rg,kw,Lw,jw;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var b=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in b))break e;b=b[q]}h=h[h.length-1],w=b[h],v=v(w),v!=w&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,b){return h.call.apply(h.bind,arguments)}function g(h,v,b){return g=m,g.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function _(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(w,q,Q){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return v.prototype[q].apply(w,le)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=h[w];return b}return[]}function V(h,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=h.length||0;const Q=q.length||0;h.length=b+Q;for(let le=0;le<Q;le++)h[b+le]=q[le]}else h.push(q)}}class L{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,b){const w=H.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var H=new L(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,oe=!1,C=new Y,x=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(b){k(b)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}oe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function we(h,v){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(we,O),we.prototype.init=function(h,v){const b=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),W=0;function ie(h,v,b,w,q){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=q,this.key=++W,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,v,b){for(const w in h)v.call(b,h[w],w,h)}function Pe(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function U(h){const v={};for(const b in h)v[b]=h[b];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,v){let b,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(b in w)h[b]=w[b];for(let Q=0;Q<te.length;Q++)b=te[Q],Object.prototype.hasOwnProperty.call(w,b)&&(h[b]=w[b])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,b,w,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=Ne(h,v,w,q);return le>-1?(v=h[le],b||(v.fa=!1)):(v=new ie(v,this.src,Q,!!w,q),v.fa=b,h.push(v)),v};function Se(h,v){const b=v.type;if(b in h.g){var w=h.g[b],q=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(w,q,1),Q&&(ce(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ne(h,v,b,w){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==w)return q}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(h,v,b,w,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)at(h,v[Q],b,w,q);return null}return b=vl(b),h&&h[_e]?h.J(v,b,f(w)?!!w.capture:!1,q):Gr(h,v,b,!1,w,q)}function Gr(h,v,b,w,q,Q){if(!v)throw Error("Invalid event type");const le=f(q)?!!q.capture:!!q;let Ce=Kr(h);if(Ce||(h[Fe]=Ce=new fe(h)),b=Ce.add(v,b,w,le,Q),b.proxy)return b;if(w=Ha(),b.proxy=w,w.src=h,w.listener=b,h.addEventListener)z||(q=le),q===void 0&&(q=!1),h.addEventListener(v.toString(),w,q);else if(h.attachEvent)h.attachEvent(bi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ha(){function h(b){return v.call(h.src,h.listener,b)}const v=gl;return h}function qa(h,v,b,w,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)qa(h,v[Q],b,w,q);else w=f(w)?!!w.capture:!!w,b=vl(b),h&&h[_e]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],b=Ne(v,b,w,q),b>-1&&(ce(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Kr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ne(v,b,w,q)),(b=h>-1?v[h]:null)&&Ga(b))}function Ga(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[_e])Se(v.i,h);else{var b=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(b,w,h.capture):v.detachEvent?v.detachEvent(bi(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Kr(v))?(Se(b,h),b.h==0&&(b.src=null,v[Fe]=null)):ce(h)}}}function bi(h){return h in Ot?Ot[h]:Ot[h]="on"+h}function gl(h,v){if(h.da)h=!0;else{v=new we(v,this);const b=h.listener,w=h.ha||h.src;h.fa&&Ga(h),h=b.call(w,v)}return h}function Kr(h){return h=h[Fe],h instanceof fe?h:null}var yl="__closure_events_fn_"+(Math.random()*1e9>>>0);function vl(h){return typeof h=="function"?h:(h[yl]||(h[yl]=function(v){return h.handleEvent(v)}),h[yl])}function bt(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}_(bt,P),bt.prototype[_e]=!0,bt.prototype.removeEventListener=function(h,v,b,w){qa(this,h,v,b,w)};function Pt(h,v){var b,w=h.G;if(w)for(b=[];w;w=w.G)b.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new O(v,h);else if(v instanceof O)v.target=v.target||h;else{var q=v;v=new O(w,h),ue(v,q)}q=!0;let Q,le;if(b)for(le=b.length-1;le>=0;le--)Q=v.g=b[le],q=Ls(Q,w,!0,v)&&q;if(Q=v.g=h,q=Ls(Q,w,!0,v)&&q,q=Ls(Q,w,!1,v)&&q,b)for(le=0;le<b.length;le++)Q=v.g=b[le],q=Ls(Q,w,!1,v)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let w=0;w<b.length;w++)ce(b[w]);delete h.g[v],h.h--}}this.G=null},bt.prototype.J=function(h,v,b,w){return this.i.add(String(h),v,!1,b,w)},bt.prototype.K=function(h,v,b,w){return this.i.add(String(h),v,!0,b,w)};function Ls(h,v,b,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const le=v[Q];if(le&&!le.da&&le.capture==b){const Ce=le.listener,vt=le.ha||le.src;le.fa&&Se(h.i,le),q=Ce.call(vt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ld(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ac(h){h.g=Ld(()=>{h.g=null,h.i&&(h.i=!1,Ac(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends P{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ac(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){P.call(this),this.h=h,this.g={}}_(Yr,P);var _l=[];function Tl(h){De(h.g,function(v,b){this.g.hasOwnProperty(b)&&Ga(v)},h),h.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),Tl(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=c.JSON.stringify,jd=c.JSON.parse,wc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function xc(){}function Rc(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){O.call(this,"d")}_(Kt,O);function zn(){O.call(this,"c")}_(zn,O);var yt={},Cc=null;function Ka(){return Cc=Cc||new bt}yt.Ia="serverreachability";function Ic(h){O.call(this,yt.Ia,h)}_(Ic,O);function Si(h){const v=Ka();Pt(v,new Ic(v))}yt.STAT_EVENT="statevent";function $r(h,v){O.call(this,yt.STAT_EVENT,h),this.stat=v}_($r,O);function St(h){const v=Ka();Pt(v,new $r(v,h))}yt.Ja="timingevent";function Ai(h,v){O.call(this,yt.Ja,h),this.size=v}_(Ai,O);function wi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Ud(h,v,b,w,q,Q){h.info(function(){if(h.g)if(Q){var le="",Ce=Q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var vt=Ce[Ke].split("=");if(vt.length>1){const ot=vt[0];vt=vt[1];const qn=ot.split("_");le=qn.length>=2&&qn[1]=="type"?le+(ot+"="+vt+"&"):le+(ot+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+b+`
`+le})}function Dc(h,v,b,w,q,Q,le){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+b+`
`+Q+" "+le})}function xi(h,v,b,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+zd(h,b)+(w?" "+w:"")})}function Qr(h,v){h.info(function(){return"TIMEOUT: "+v})}ai.prototype.info=function(){};function zd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var b=Q[h];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<w.length;le++)w[le]=""}}}}return js(Q)}catch{return v}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function Wr(){}_(Wr,xc),Wr.prototype.g=function(){return new XMLHttpRequest},bl=new Wr;function rs(h){return encodeURIComponent(String(h))}function Nc(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function oi(h,v,b,w){this.j=h,this.i=v,this.l=b,this.S=w||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var At={},Ft={};function Ri(h,v,b){h.M=1,h.A=Zr(xt(v)),h.u=b,h.R=!0,Ya(h,null)}function Ya(h,v){h.F=Date.now(),Ci(h),h.B=xt(h.A);var b=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Wa(b.i,"t",w),h.C=0,b=h.j.L,h.h=new li,h.g=Kc(h.j,b?v:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),v=h.V,b=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(_l[0]=q.toString()),q=_l);for(let Q=0;Q<q.length;Q++){const le=at(b,q[Q],w||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Si(),Ud(h.i,h.v,h.B,h.l,h.S,h.u)}oi.prototype.ba=function(h){h=h.target;const v=this.O;v&&hi(h)==3?v.j():this.Y(h)},oi.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=hi(this.g),vt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ce!=4||vt==7||(vt==8||Ke<=0?Si(3):Si(2)),Ii(this);var v=this.g.ca();this.X=v;var b=Bd(this);if(this.o=v==200,Dc(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var Q=w;break t}}Q=null}if(h=Q)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,St(12),Rn(this),Bn(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=Mc(this,b),ot==Ft){Ce==4&&(this.m=4,St(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==At){this.m=4,St(15),xi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,ot,null),Di(this,ot);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,b,"[Invalid Chunked Response]"),Rn(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ll(le),le.P=!0,St(11))}}else xi(this.i,this.l,b,null),Di(this,b);Ce==4&&Rn(this),this.o&&!this.K&&(Ce==4?Fc(this.j,this):(this.o=!1,Ci(this)))}else os(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Rn(this),Bn(this)}}}catch{}finally{}};function Bd(h){if(!Vc(h))return h.g.la();const v=Yt(h.g);if(v==="")return"";let b="";const w=v.length,q=hi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rn(h),Bn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)h.h.h=!0,b+=h.h.i.decode(v[Q],{stream:!(q&&Q==w-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Vc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mc(h,v){var b=h.C,w=v.indexOf(`
`,b);return w==-1?Ft:(b=Number(v.substring(b,w)),isNaN(b)?At:(w+=1,w+b>v.length?Ft:(v=v.slice(w,w+b),h.C=w+b,v)))}oi.prototype.cancel=function(){this.K=!0,Rn(this)};function Ci(h){h.T=Date.now()+h.H,$a(h,h.H)}function $a(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(g(h.aa,h),v)}function Ii(h){h.D&&(c.clearTimeout(h.D),h.D=null)}oi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(Si(),St(17)),Rn(this),this.m=2,Bn(this)):$a(this,this.T-h)};function Bn(h){h.j.I==0||h.K||Fc(h.j,h)}function Rn(h){Ii(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Tl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Di(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Vi(b.h,h))){if(!h.L&&Vi(b.h,h)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)no(b),Ks(b);else break e;ra(b),St(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=wi(g(b.Va,b),6e3));Ni(b.h)<=1&&b.ta&&(b.ta=void 0)}else ji(b,11)}else if((h.L||b.g==h)&&no(b),!N(v))for(q=b.Ba.g.parse(v),v=0;v<q.length;v++){let Ke=q[v];const ot=Ke[0];if(!(ot<=b.K))if(b.K=ot,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const qn=Ke[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const Ui=Ke[4];Ui!=null&&(b.za=Ui,b.j.info("SVER="+b.za));const fi=Ke[5];fi!=null&&typeof fi=="number"&&fi>0&&(w=1.5*fi,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const di=h.g;if(di){const aa=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Q=w.h;Q.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(wl(Q,Q.h),Q.h=null))}if(w.G){const io=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(w.wa=io,Qe(w.J,w.G,io))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var le=h;if(w.na=Gc(w,w.L?w.ba:null,w.W),le.L){xl(w.h,le);var Ce=le,vt=w.O;vt&&(Ce.H=vt),Ce.D&&(Ii(Ce),Ci(Ce)),w.g=le}else zc(w);b.i.length>0&&Li(b)}else Ke[0]!="stop"&&Ke[0]!="close"||ji(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?ji(b,7):Pl(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}Si(4)}catch{}}var wt=class{constructor(h,v){this.g=h,this.map=v}};function Sl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Vi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function wl(h,v){h.g?h.g.add(v):h.h=v}function xl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return R(h.i)}var Oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const w=h[b].indexOf("=");let q,Q=null;w>=0?(q=h[b].substring(0,w),Q=h[b].substring(w+1)):q=h[b],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Cn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Cn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,Us(this,h.u),this.h=h.h,Cl(this,jc(h.i)),this.m=h.m):h&&(v=String(h).match(Oc))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),Us(this,v[4]),this.h=Mi(v[5]||"",!0),Cl(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Cn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Jr(v,Xa,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Jr(v,Xa,!0),"@"),h.push(rs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Jr(b,b.charAt(0)=="/"?Il:Pc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Jr(b,kc)),h.join("")},Cn.prototype.resolve=function(h){const v=xt(this);let b=!!h.j;b?Ht(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var w=h.h;if(b)Us(v,h.u);else if(b=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let le=0;le<q.length;){const Ce=q[le++];Ce=="."?w&&le==q.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&le==q.length&&Q.push("")):(Q.push(Ce),w=!0)}w=Q.join("/")}else w=q}return b?v.h=w:b=h.i.toString()!=="",b?Cl(v,jc(h.i)):b=!!h.m,b&&(v.m=h.m),v};function xt(h){return new Cn(h)}function Ht(h,v,b){h.j=b?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Us(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Cl(h,v,b){v instanceof Bs?(h.i=v,Za(h.i,h.l)):(b||(v=Jr(v,zs)),h.i=new Bs(v,h.l))}function Qe(h,v,b){h.i.set(v,b)}function Zr(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Jr(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,pn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xa=/[#\/\?@]/g,Pc=/[#\?:]/g,Il=/[#\?]/g,zs=/[#\?@]/g,kc=/#/g;function Bs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Qa(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Bs.prototype,t.add=function(h,v){gn(this),this.i=null,h=Fs(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Lc(h,v){gn(h),v=Fs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Dl(h,v){return gn(h),v=Fs(h,v),h.g.has(v)}t.forEach=function(h,v){gn(this),this.g.forEach(function(b,w){b.forEach(function(q){h.call(v,q,w,this)},this)},this)};function Nl(h,v){gn(h);let b=[];if(typeof v=="string")Dl(h,v)&&(b=b.concat(h.g.get(Fs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}t.set=function(h,v){return gn(this),this.i=null,h=Fs(this,h),Dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=Nl(this,h),h.length>0?String(h[0]):v):v};function Wa(h,v,b){Lc(h,v),b.length>0&&(h.i=null,h.g.set(Fs(h,v),R(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const q=rs(b);b=Nl(this,b);for(let Q=0;Q<b.length;Q++){let le=q;b[Q]!==""&&(le+="="+rs(b[Q])),h.push(le)}}return this.i=h.join("&")};function jc(h){const v=new Bs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Fs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Za(h,v){v&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(b,w){const q=w.toLowerCase();w!=q&&(Lc(this,w),Wa(this,q,b))},h)),h.j=v}function ui(h,v){const b=new ai;if(c.Image){const w=new Image;w.onload=y(Fn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=y(Fn,b,"TestLoadImage: error",!1,v,w),w.onabort=y(Fn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=y(Fn,b,"TestLoadImage: timeout",!1,v,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Vl(h,v){const b=new ai,w=new AbortController,q=setTimeout(()=>{w.abort(),Fn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(q),Q.ok?Fn(b,"TestPingServer: ok",!0,v):Fn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Fn(b,"TestPingServer: error",!1,v)})}function Fn(h,v,b,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(b)}catch{}}function Hs(){this.g=new wc}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Oi,xc),Oi.prototype.g=function(){return new ea(this.i,this.h)};function ea(h,v){bt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ea,bt),t=ea.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ci(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ja(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ja(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?qs(this):ci(this),this.readyState==3&&Ja(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,qs(this))},t.Na=function(h){this.g&&(this.response=h,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ci(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hn(h){let v="";return De(h,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function ta(h,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Hn(b),typeof h=="string"?b!=null&&rs(b):Qe(h,v,b))}function Ze(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,bt);var Pi=/^https?$/i,Ml=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){na(this,Q);return}if(h=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)b.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ml,v,void 0)>=0)||w||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of b)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){na(this,Q)}};function na(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Ol(h),as(h)}function Ol(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},t.Xa=function(){ia(this)};function ia(h){if(h.h&&typeof l<"u"){if(h.v&&hi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),hi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=Q===0){let le=String(h.D).match(Oc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),w=!Pi.test(le?le.toLowerCase():"")}b=w}if(b)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var q=hi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Ol(h)}}finally{as(h)}}}}function as(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||Pt(h,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),jd(v)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function os(h){const v={};h=(h.g&&hi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var b=Nc(h[w]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[q]||[];v[q]=Q,Q.push(b)}Pe(v,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Gs(h){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Ba=new Hs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Gs.prototype,t.ka=8,t.I=1,t.connect=function(h,v,b,w){St(0),this.W=h,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Gc(this,null,this.W),Li(this)};function Pl(h){if(eo(h),h.I==3){var v=h.V++,b=xt(h.J);if(Qe(b,"SID",h.M),Qe(b,"RID",v),Qe(b,"TYPE","terminate"),sa(h,b),v=new oi(h,h.j,v),v.M=2,v.A=Zr(xt(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=Kc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ci(v)}qc(h)}function Ks(h){h.g&&(Ll(h),h.g.cancel(),h.g=null)}function eo(h){Ks(h),h.v&&(c.clearTimeout(h.v),h.v=null),no(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Li(h){if(!Al(h.h)&&!h.m){h.m=!0;var v=h.Ea;re||x(),oe||(re(),oe=!0),C.add(v,h),h.D=0}}function to(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(g(h.Ea,h,v),Hc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new oi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Uc(this,q,v),b=xt(this.J),Qe(b,"RID",h),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),sa(this,b),Q&&(this.R?v="headers="+rs(Hn(Q))+"&"+v:this.u&&ta(b,this.u,Q)),wl(this.h,q),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",v),Qe(b,"SID","null"),q.U=!0,Ri(q,b,null)):Ri(q,b,v),this.I=2}}else this.I==3&&(h?kl(this,h):this.i.length==0||Al(this.h)||kl(this))};function kl(h,v){var b;v?b=v.l:b=h.V++;const w=xt(h.J);Qe(w,"SID",h.M),Qe(w,"RID",b),Qe(w,"AID",h.K),sa(h,w),h.u&&h.o&&ta(w,h.u,h.o),b=new oi(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Uc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wl(h.h,b),Ri(b,w,v)}function sa(h,v){h.H&&De(h.H,function(b,w){Qe(v,w,b)}),h.l&&De({},function(b,w){Qe(v,w,b)})}function Uc(h,v,b){b=Math.min(h.i.length,b);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ce=-1;for(;;){const vt=["count="+b];Ce==-1?b>0?(Ce=q[0].g,vt.push("ofs="+Ce)):Ce=0:vt.push("ofs="+Ce);let Ke=!0;for(let ot=0;ot<b;ot++){var Q=q[ot].g;const qn=q[ot].map;if(Q-=Ce,Q<0)Ce=Math.max(0,q[ot].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=qn instanceof Map?qn:Object.entries(qn);for(const[Ui,fi]of le){let di=fi;f(fi)&&(di=js(fi)),vt.push(Q+Ui+"="+encodeURIComponent(di))}}catch(Ui){throw vt.push(Q+"type="+encodeURIComponent("_badmap")),Ui}}catch{w&&w(qn)}}if(Ke){le=vt.join("&");break e}}le=void 0}return h=h.i.splice(0,b),v.G=h,le}function zc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;re||x(),oe||(re(),oe=!0),C.add(v,h),h.A=0}}function ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(g(h.Da,h),Hc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Bc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ks(this),Bc(this))};function Ll(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Bc(h){h.g=new oi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xt(h.na);Qe(v,"RID","rpc"),Qe(v,"SID",h.M),Qe(v,"AID",h.K),Qe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(v,"TO",h.ia),Qe(v,"TYPE","xmlhttp"),sa(h,v),h.u&&h.o&&ta(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Zr(xt(v)),b.u=null,b.R=!0,Ya(b,h)}t.Va=function(){this.C!=null&&(this.C=null,Ks(this),ra(this),St(19))};function no(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fc(h,v){var b=null;if(h.g==v){no(h),Ll(h),h.g=null;var w=2}else if(Vi(h.h,v))b=v.G,xl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;w=Ka(),Pt(w,new Ai(w,b)),Li(h)}else zc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&to(h,v)||w==2&&ra(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),q){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function Hc(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var b=g(h.bb,h),w=h.Ua;const q=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ht(w,"https"),Zr(w),q?ui(w.toString(),b):Vl(w.toString(),b)}else St(2);h.I=0,h.l&&h.l.pa(v),qc(h),eo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function qc(h){if(h.I=0,h.ja=[],h.l){const v=Rl(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ja,v),V(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Gc(h,v,b){var w=b instanceof Cn?xt(b):new Cn(b);if(w.g!="")v&&(w.g=v+"."+w.g),Us(w,w.u);else{var q=c.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new Cn(null);w&&Ht(Q,w),v&&(Q.g=v),q&&Us(Q,q),b&&(Q.h=b),w=Q}return b=h.G,v=h.wa,b&&v&&Qe(w,b,v),Qe(w,"VER",h.ka),sa(h,w),w}function Kc(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Oi({ab:b})):new Ze(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}t=Yc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ys(){}Ys.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){bt.call(this),this.g=new Gs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ls(this)}_(hn,bt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Pl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=js(h),h=b);v.i.push(new wt(v.Ya++,h)),v.I==3&&Li(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,hn.Z.N.call(this)};function $c(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_($c,Kt);function Qc(){zn.call(this),this.status=1}_(Qc,zn);function ls(h){this.g=h}_(ls,Yc),ls.prototype.ra=function(){Pt(this.g,"a")},ls.prototype.qa=function(h){Pt(this.g,new $c(h))},ls.prototype.pa=function(h){Pt(this.g,new Qc)},ls.prototype.oa=function(){Pt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,jw=function(){return new Ys},Lw=function(){return Ka()},kw=yt,Rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Sf=Xr,El.COMPLETE="complete",Pw=El,Rc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",bt.prototype.listen=bt.prototype.J,xu=Rc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Ow=Ze}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const cb="@firebase/firestore",hb="4.9.2";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let ul="12.3.0";const La=new Ry("@firebase/firestore");function Oo(){return La.logLevel}function he(t,...e){if(La.logLevel<=je.DEBUG){const n=e.map(Ly);La.debug(`Firestore (${ul}): ${t}`,...n)}}function Ns(t,...e){if(La.logLevel<=je.ERROR){const n=e.map(Ly);La.error(`Firestore (${ul}): ${t}`,...n)}}function Qo(t,...e){if(La.logLevel<=je.WARN){const n=e.map(Ly);La.warn(`Firestore (${ul}): ${t}`,...n)}}function Ly(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ee(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Uw(t,s,n)}function Uw(t,e,n){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function $e(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Uw(e,a,s)}function Re(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class sO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rO{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ir,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ir)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new zw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class aO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=uO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function Cg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Xp(a)===Xp(l)?Ue(a,l):Xp(a)?1:-1}return Ue(t.length,e.length)}const cO=55296,hO=57343;function Xp(t){const e=t.charCodeAt(0);return e>=cO&&e<=hO}function Xo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const db="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),a=qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qi.extractNumericId(e).compare(qi.extractNumericId(n)):Cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}}class ht extends qi{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const fO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends qi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return fO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===db}static keyField(){return new tn([db])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ht.fromString(e))}static fromName(e){return new ye(ht.fromString(e).popFirst(5))}static empty(){return new ye(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ht(e.slice()))}}function dO(t,e,n){if(!n)throw new pe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mO(t,e,n,s){if(e===!0&&s===!0)throw new pe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mb(t){if(!ye.isDocumentKey(t))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uy(t);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function pc(t,e){if(!Bw(t))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new pe(se.INVALID_ARGUMENT,n);return!0}const pb=-62135596800,gb=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*gb);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pb)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Mt("string",rt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yu=-1;function pO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Nr(a,ye.empty(),e)}function gO(t){return new Nr(t.readTime,t.key,Yu)}class Nr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Nr(Ae.min(),ye.empty(),Yu)}static max(){return new Nr(Ae.max(),ye.empty(),Yu)}}function yO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const vO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==vO)throw t;he("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((a=>a?ne.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{c[g]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ne(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function TO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;const zy=-1;function vd(t){return t==null}function Bf(t){return t===0&&1/t==-1/0}function EO(t){return typeof t=="number"&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Fw="";function bO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yb(e)),e=SO(t.get(n),e);return yb(e)}function SO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Fw:n+="";break;default:n+=l}}return n}function yb(t){return t+Fw+""}function vb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _b(this.data.getIterator())}getIteratorFrom(e){return new _b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class _b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new zt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qw("Invalid base64 string: "+l):l}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const AO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=AO.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}const Gw="server_timestamp",Kw="__type__",Yw="__previous_value__",$w="__local_write_time__";function By(t){return(t?.mapValue?.fields||{})[Kw]?.stringValue===Gw}function _d(t){const e=t.mapValue.fields[Yw];return By(e)?_d(e):e}function $u(t){const e=Vr(t.mapValue.fields[$w].timestampValue);return new rt(e.seconds,e.nanos)}class wO{constructor(e,n,s,a,l,c,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Ff="(default)";class Qu{constructor(e,n){this.projectId=e,this.database=n||Ff}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}const Qw="__type__",xO="__max__",sf={mapValue:{}},Xw="__vector__",Hf="value";function Or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?By(t)?4:CO(t)?9007199254740991:RO(t)?10:11:Ee(28295,{value:t})}function ts(t,e){if(t===e)return!0;const n=Or(t);if(n!==Or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vr(a.timestampValue),f=Vr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Mr(a.bytesValue).isEqual(Mr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Et(a.doubleValue),f=Et(l.doubleValue);return c===f?Bf(c)===Bf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(vb(c)!==vb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ts(c[m],f[m])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Xu(t,e){return(t.values||[]).find((n=>ts(n,e)))!==void 0}function Wo(t,e){if(t===e)return 0;const n=Or(t),s=Or(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Et(l.integerValue||l.doubleValue),m=Et(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return Tb(t.timestampValue,e.timestampValue);case 4:return Tb($u(t),$u(e));case 5:return Cg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Mr(l),m=Mr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=Ue(f[g],m[g]);if(y!==0)return y}return Ue(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(Et(l.latitude),Et(c.latitude));return f!==0?f:Ue(Et(l.longitude),Et(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Eb(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},g=f[Hf]?.arrayValue,y=m[Hf]?.arrayValue,_=Ue(g?.values?.length||0,y?.values?.length||0);return _!==0?_:Eb(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===sf.mapValue&&c===sf.mapValue)return 0;if(l===sf.mapValue)return 1;if(c===sf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Cg(m[_],y[_]);if(E!==0)return E;const R=Wo(f[m[_]],g[y[_]]);if(R!==0)return R}return Ue(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Tb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Vr(t),s=Vr(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function Eb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Wo(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function Zo(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Vr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ig(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Ig(n.fields[c])}`;return a+"}"})(t.mapValue):Ee(61005,{value:t})}function Af(t){switch(Or(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Af(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Fr(s.fields,((l,c)=>{a+=l.length+Af(c)})),a})(t.mapValue);default:throw Ee(13486,{value:t})}}function Dg(t){return!!t&&"integerValue"in t}function Fy(t){return!!t&&"arrayValue"in t}function bb(t){return!!t&&"nullValue"in t}function Sb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function RO(t){return(t?.mapValue?.fields||{})[Qw]?.stringValue===Xw}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Mu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function CO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xO}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Mu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Fr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Sn(Mu(this.value))}}function Ww(t){const e=[];return Fr(t.fields,((n,s)=>{const a=new tn([n]);if(wf(s)){const l=Ww(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ln(e)}class on{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new on(e,0,Ae.min(),Ae.min(),Ae.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,a){return new on(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new on(e,2,n,Ae.min(),Ae.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ae.min(),Ae.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qf{constructor(e,n){this.position=e,this.inclusive=n}}function Ab(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=Wo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function wb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function IO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Zw{}class jt extends Zw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NO(e,n,s):n==="array-contains"?new OO(e,s):n==="in"?new PO(e,s):n==="not-in"?new kO(e,s):n==="array-contains-any"?new LO(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new VO(e,s):new MO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends Zw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ns(e,n)}matches(e){return Jw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jw(t){return t.op==="and"}function e1(t){return DO(t)&&Jw(t)}function DO(t){for(const e of t.filters)if(e instanceof ns)return!1;return!0}function Ng(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(e1(t))return t.filters.map((e=>Ng(e))).join(",");{const e=t.filters.map((n=>Ng(n))).join(",");return`${t.op}(${e})`}}function t1(t,e){return t instanceof jt?(function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(t,e):t instanceof ns?(function(s,a){return a instanceof ns&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&t1(c,a.filters[f])),!0):!1})(t,e):void Ee(19439)}function n1(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`})(t):t instanceof ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(n1).join(" ,")+"}"})(t):"Filter"}class NO extends jt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class VO extends jt{constructor(e,n){super(e,"in",n),this.keys=i1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=i1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function i1(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class OO extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fy(n)&&Xu(n.arrayValue,this.value)}}class PO extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xu(this.value.arrayValue,n)}}class kO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xu(this.value.arrayValue,n)}}class LO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xu(this.value.arrayValue,s)))}}class jO{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function xb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new jO(t,e,n,s,a,l,c)}function Hy(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ng(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Zo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Zo(s))).join(",")),e.Te=n}return e.Te}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wb(t.startAt,e.startAt)&&wb(t.endAt,e.endAt)}function Vg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Td{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UO(t,e,n,s,a,l,c,f){return new Td(t,e,n,s,a,l,c,f)}function Gy(t){return new Td(t)}function Rb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zO(t){return t.collectionGroup!==null}function Ou(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new zt(tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gf(l,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Gf(tn.keyField(),s))}return e.Ie}function $i(t){const e=Re(t);return e.Ee||(e.Ee=BO(e,Ou(t))),e.Ee}function BO(t,e){if(t.limitType==="F")return xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Gf(a.field,l)}));const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Mg(t,e,n){return new Td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return qy($i(t),$i(e))&&t.limitType===e.limitType}function s1(t){return`${Hy($i(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>n1(a))).join(", ")}]`),vd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Zo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Zo(a))).join(",")),`Target(${s})`})($i(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const g=Ab(c,f,m);return c.inclusive?g<=0:g<0})(s.startAt,Ou(s),a)||s.endAt&&!(function(c,f,m){const g=Ab(c,f,m);return c.inclusive?g>=0:g>0})(s.endAt,Ou(s),a))})(t,e)}function FO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r1(t){return(e,n)=>{let s=!1;for(const a of Ou(t)){const l=HO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function HO(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Wo(m,g):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:t.dir})}}class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}const qO=new dt(ye.comparator);function Vs(){return qO}const a1=new dt(ye.comparator);function Ru(...t){let e=a1;for(const n of t)e=e.insert(n.key,n);return e}function o1(t){let e=a1;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function wa(){return Pu()}function l1(){return Pu()}function Pu(){return new Ba((t=>t.toString()),((t,e)=>t.isEqual(e)))}const GO=new dt(ye.comparator),KO=new zt(ye.comparator);function ze(...t){let e=KO;for(const n of t)e=e.add(n);return e}const YO=new zt(Ue);function $O(){return YO}function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function u1(t){return{integerValue:""+t}}function QO(t,e){return EO(e)?u1(e):Ky(t,e)}class Sd{constructor(){this._=void 0}}function XO(t,e,n){return t instanceof Wu?(function(a,l){const c={fields:{[Kw]:{stringValue:Gw},[$w]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&By(l)&&(l=_d(l)),l&&(c.fields[Yw]=l),{mapValue:c}})(n,e):t instanceof Zu?h1(t,e):t instanceof Ju?f1(t,e):(function(a,l){const c=c1(a,l),f=Cb(c)+Cb(a.Ae);return Dg(c)&&Dg(a.Ae)?u1(f):Ky(a.serializer,f)})(t,e)}function WO(t,e,n){return t instanceof Zu?h1(t,e):t instanceof Ju?f1(t,e):n}function c1(t,e){return t instanceof Kf?(function(s){return Dg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Wu extends Sd{}class Zu extends Sd{constructor(e){super(),this.elements=e}}function h1(t,e){const n=d1(e);for(const s of t.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ju extends Sd{constructor(e){super(),this.elements=e}}function f1(t,e){let n=d1(e);for(const s of t.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class Kf extends Sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Cb(t){return Et(t.integerValue||t.doubleValue)}function d1(t){return Fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ZO{constructor(e,n){this.field=e,this.transform=n}}function JO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Zu&&a instanceof Zu||s instanceof Ju&&a instanceof Ju?Xo(s.elements,a.elements,ts):s instanceof Kf&&a instanceof Kf?ts(s.Ae,a.Ae):s instanceof Wu&&a instanceof Wu})(t.transform,e.transform)}class eP{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ad{}function m1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g1(t.key,Qi.none()):new gc(t.key,t.data,Qi.none());{const n=t.data,s=Sn.empty();let a=new zt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Hr(t.key,s,new Ln(a.toArray()),Qi.none())}}function tP(t,e,n){t instanceof gc?(function(a,l,c){const f=a.value.clone(),m=Db(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Hr?(function(a,l,c){if(!xf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Db(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(p1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ku(t,e,n,s){return t instanceof gc?(function(l,c,f,m){if(!xf(l.precondition,c))return f;const g=l.value.clone(),y=Nb(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Hr?(function(l,c,f,m){if(!xf(l.precondition,c))return f;const g=Nb(l.fieldTransforms,m,c),y=c.data;return y.setAll(p1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return xf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function nP(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=c1(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function Ib(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xo(s,a,((l,c)=>JO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gc extends Ad{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hr extends Ad{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function p1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Db(t,e,n){const s=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,WO(c,f,n[a]))}return s}function Nb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,XO(l,c,e))}return s}class g1 extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iP extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sP{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&tP(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ku(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ku(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=l1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=m1(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((n,s)=>Ib(n,s)))&&Xo(this.baseMutations,e.baseMutations,((n,s)=>Ib(n,s)))}}class Yy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return GO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Yy(e,n,s,a)}}class rP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aP{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,He;function oP(t){switch(t){case se.OK:return Ee(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function y1(t){if(t===void 0)return Ns("GRPC error has no .code"),se.UNKNOWN;switch(t){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return Ee(39323,{code:t})}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function lP(){return new TextEncoder}const uP=new Cr([4294967295,4294967295],0);function Vb(t){const e=lP().encode(t),n=new Mw;return n.update(e),new Uint8Array(n.digest())}function Mb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cr([n,s],0),new Cr([a,l],0)]}class $y{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Cr.fromNumber(s)));return a.compare(uP)===1&&(a=new Cr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Vb(e),[s,a]=Mb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new $y(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Vb(e),[s,a]=Mb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wd(Ae.min(),a,new dt(Ue),Vs(),ze())}}class yc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yc(s,n,ze(),ze(),ze())}}class Rf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class v1{constructor(e,n){this.targetId=e,this.Ce=n}}class _1{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ob{constructor(){this.ve=0,this.Fe=Pb(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee(38017,{changeType:l})}})),new yc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Pb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vs(),this.Je=rf(),this.He=rf(),this.Ye=new dt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Vg(l))if(s===0){const c=new ye(l.path);this.et(n,c,on.newNoDocument(c,Ae.min()))}else $e(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Mr(s).toUint8Array()}catch(m){if(m instanceof qw)return Qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new $y(c,a,l)}catch(m){return Qo(m instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Vg(f.target)){const m=new ye(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,on.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new wd(e,n,this.Ye,this.je,s);return this.je=Vs(),this.Je=rf(),this.He=rf(),this.Ye=new dt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ob,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ob),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rf(){return new dt(ye.comparator)}function Pb(){return new dt(ye.comparator)}const hP={asc:"ASCENDING",desc:"DESCENDING"},fP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dP={and:"AND",or:"OR"};class mP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pP(t,e){return Yf(t,e.toTimestamp())}function Xi(t){return $e(!!t,49232),Ae.fromTimestamp((function(n){const s=Vr(n);return new rt(s.seconds,s.nanos)})(t))}function Qy(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function E1(t){const e=ht.fromString(t);return $e(x1(e),10190,{key:e.toString()}),e}function kg(t,e){return Qy(t.databaseId,e.path)}function Wp(t,e){const n=E1(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(S1(n))}function b1(t,e){return Qy(t.databaseId,e)}function gP(t){const e=E1(t);return e.length===4?ht.emptyPath():S1(e)}function Lg(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S1(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kb(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function yP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?($e(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const y=g.code===void 0?se.UNKNOWN:y1(g.code);return new pe(y,g.message||"")})(c);n=new _1(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wp(t,s.document.name),l=Xi(s.document.updateTime),c=s.document.createTime?Xi(s.document.createTime):Ae.min(),f=new Sn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(a,l,c,f),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Rf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wp(t,s.document),l=s.readTime?Xi(s.readTime):Ae.min(),c=on.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Rf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wp(t,s.document),l=s.removedTargetIds||[];n=new Rf([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new aP(a,l),f=s.targetId;n=new v1(f,c)}}return n}function vP(t,e){let n;if(e instanceof gc)n={update:kb(t,e.key,e.value)};else if(e instanceof g1)n={delete:kg(t,e.key)};else if(e instanceof Hr)n={update:kb(t,e.key,e.data),updateMask:RP(e.fieldMask)};else{if(!(e instanceof iP))return Ee(16599,{Vt:e.type});n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:pP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(t,e.precondition)),n}function _P(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Xi(a.updateTime):Xi(l);return c.isEqual(Ae.min())&&(c=Xi(l)),new eP(c,a.transformResults||[])})(n,e)))):[]}function TP(t,e){return{documents:[b1(t,e.path)]}}function EP(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=b1(t,a);const l=(function(g){if(g.length!==0)return w1(ns.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:ko(E.field),direction:AP(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Og(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function bP(t){let e=gP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$e(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=A1(_);return E instanceof ns&&e1(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(V){return new Gf(Lo(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,vd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,R=_.values||[];return new qf(R,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const E=!_.before,R=_.values||[];return new qf(R,E)})(n.endAt)),UO(e,a,c,l,f,"F",m,g)}function SP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ns.create(n.compositeFilter.filters.map((s=>A1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function AP(t){return hP[t]}function wP(t){return fP[t]}function xP(t){return dP[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Lo(t){return tn.fromServerFormat(t.fieldPath)}function w1(t){return t instanceof jt?(function(n){if(n.op==="=="){if(Sb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(bb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(bb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:wP(n.op),value:n.value}}})(t):t instanceof ns?(function(n){const s=n.getFilters().map((a=>w1(a)));return s.length===1?s[0]:{compositeFilter:{op:xP(n.op),filters:s}}})(t):Ee(54877,{filter:t})}function RP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function x1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ar{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CP{constructor(e){this.yt=e}}function IP(t){const e=bP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mg(e,e.limit,"L"):e}class DP{constructor(){this.Cn=new NP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Nr.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class NP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new zt(ht.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}const Lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R1=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(R1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jo(0)}static cr(){return new Jo(-1)}}const jb="LruGarbageCollector",VP=1048576;function Ub([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class MP{constructor(e){this.Ir=e,this.buffer=new zt(Ub),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ub(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(jb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?he(jb,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)}))}}class PP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(yd.ce);const s=new MP(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Lb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),Oo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function kP(t,e){return new PP(t,e)}class LP{constructor(){this.changes=new Ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UP{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ku(s.mutation,a,Ln.empty(),rt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=wa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Ru();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=wa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Vs();const c=Pu(),f=(function(){return Pu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Hr)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),ku(y.mutation,g,y.mutation.getFieldMask(),rt.now())):c.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>f.set(g,new jP(y,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Pu();let a=new dt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Ln.empty();y=f.applyToLocalView(g,y),s.set(m,y);const _=(a.get(f.batchId)||ze()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,_=l1();y.forEach((E=>{if(!l.has(E)){const R=m1(n.get(E),s.get(E));R!==null&&_.set(E,R),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ne.resolve(wa());let f=Yu,m=l;return c.next((g=>ne.forEach(g,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,ze()))).next((y=>({batchId:f,changes:o1(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Ru();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,l).next((f=>ne.forEach(f,(m=>{const g=(function(_,E){return new Td(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let f=Ru();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&ku(y.mutation,g,Ln.empty(),rt.now()),bd(n,g)&&(f=f.insert(m,g))})),f}))}}class zP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Xi(a.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:IP(a.bundledQuery),readTime:Xi(a.readTime)}})(n)),ne.resolve()}}class BP{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=wa();return ne.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const a=wa(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new dt(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=wa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return ne.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new rP(n,s));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class FP{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Xy{constructor(){this.Qr=new zt(Gt.$r),this.Ur=new zt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new ht([])),s=new Gt(n,e),a=new Gt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ht([])),s=new Gt(n,e),a=new Gt(n,e+1);let l=ze();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Gt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class HP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Gt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sP(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Gt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?zy:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),a=new Gt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Ue);return n.forEach((a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new ye(l),0);let f=new zt(Ue);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),ne.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(a=>{const l=new Gt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Gt(n,0),a=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qP{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=Vs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Vs();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yO(gO(y),s)<=0||(a.has(y.key)||bd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new GP(this)}getSize(e){return ne.resolve(this.size)}}class GP extends LP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class KP{constructor(e){this.persistence=e,this.si=new Ba((n=>Hy(n)),qy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=Jo.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ne.waitFor(l).next((()=>a))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class C1{constructor(e,n){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new FP,this.referenceDelegate=e(this),this.Pi=new KP(this),this.indexManager=new DP,this.remoteDocumentCache=(function(a){return new qP(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CP(n),this.Ii=new zP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new HP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const a=new YP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class YP extends _O{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Ri=new Xy,this.Vi=null}static mi(e){return new Wy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $f{constructor(e,n){this.persistence=e,this.pi=new Ba((s=>bO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=kP(this,n)}static mi(e,n){return new $f(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ne.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Zy(e,n.fromCache,s,a)}}class $P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ED()?8:TO(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new $P;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Oo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Oo()<=je.DEBUG&&he("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Oo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):ne.resolve())}ys(e,n){if(Rb(n))return ne.resolve(null);let s=$i(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Mg(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,c,m.readTime)?this.ys(e,Mg(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return Rb(n)||a.isEqual(Ae.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ne.resolve(null):(Oo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(n)),this.vs(e,c,n,pO(a,Yu)).next((f=>f)))}))}Ds(e,n){let s=new zt(r1(e));return n.forEach(((a,l)=>{bd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Oo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,Nr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Jy="LocalStore",XP=3e8;class WP{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dt(Ue),this.xs=new Ba((l=>Hy(l)),qy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZP(t,e,n,s){return new WP(t,e,n,s)}async function I1(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=ze();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function JP(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const _=g.batch,E=_.keys();let R=ne.resolve();return E.forEach((V=>{R=R.next((()=>y.getEntry(m,V))).next((L=>{const k=g.docVersions.get(V);$e(k!==null,48541),L.version.compareTo(k)<0&&(_.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),y.addEntry(L)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=ze();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function D1(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ek(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(L,k,B){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=XP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,R,y)&&f.push(n.Pi.updateTargetData(l,R))}));let m=Vs(),g=ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(tk(l,c,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return ne.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function tk(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Vs();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):he(Jy,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function nk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ik(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ne.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Ar(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function jg(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hl(c))throw c;he(Jy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function zb(t,e,n){const s=Re(t);let a=Ae.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=Re(m),E=_.xs.get(y);return E!==void 0?ne.resolve(_.Ms.get(E)):_.Pi.getTargetData(g,y)})(s,c,$i(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:ze()))).next((f=>(sk(s,FO(e),f),{documents:f,Qs:l})))))}function sk(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Bb{constructor(){this.activeTargetIds=$O()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rk{constructor(){this.Mo=new Bb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ak{Oo(e){}shutdown(){}}const Fb="ConnectivityMonitor";class Hb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Fb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let af=null;function Ug(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}const Zp="RestConnection",ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Ff?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Ug(),f=this.zo(e,n.toUriEncodedString());he(Zp,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),y=Ur(g);return this.Jo(e,f,m,s,y).then((_=>(he(Zp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Qo(Zp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=ok[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class uk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class ck extends lk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Ug();return new Promise(((f,m)=>{const g=new Ow;g.setWithCredentials(!0),g.listenOnce(Pw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sf.NO_ERROR:const _=g.getResponseJson();he(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Sf.TIMEOUT:he(rn,`RPC '${e}' ${c} timed out`),m(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const E=g.getStatus();if(he(rn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R?.error;if(V&&V.status&&V.message){const L=(function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Y)>=0?Y:se.UNKNOWN})(V.status);m(new pe(L,V.message))}else m(new pe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(se.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(rn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);he(rn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ug(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jw(),f=Lw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");he(rn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let E=!1,R=!1;const V=new uk({Yo:k=>{R?he(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(E||(he(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),he(rn,`RPC '${e}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),L=(k,B,Y)=>{k.listen(B,(H=>{try{Y(H)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return L(_,xu.EventType.OPEN,(()=>{R||(he(rn,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),L(_,xu.EventType.CLOSE,(()=>{R||(R=!0,he(rn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(_))})),L(_,xu.EventType.ERROR,(k=>{R||(R=!0,Qo(rn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new pe(se.UNAVAILABLE,"The operation could not be completed")))})),L(_,xu.EventType.MESSAGE,(k=>{if(!R){const B=k.data[0];$e(!!B,16349);const Y=B,H=Y?.error||Y[0]?.error;if(H){he(rn,`RPC '${e}' stream ${a} received error:`,H);const ae=H.status;let re=(function(x){const I=Nt[x];if(I!==void 0)return y1(I)})(ae),oe=H.message;re===void 0&&(re=se.INTERNAL,oe="Unknown error status: "+ae+" with message "+H.message),R=!0,V.a_(new pe(re,oe)),_.close()}else he(rn,`RPC '${e}' stream ${a} received:`,B),V.u_(B)}})),L(f,kw.STAT_EVENT,(k=>{k.stat===Rg.PROXY?he(rn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Rg.NOPROXY&&he(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jp(){return typeof document<"u"?document:null}function xd(t){return new mP(t,!0)}class N1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qb="PersistentStream";class V1{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new pe(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(qb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(qb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hk extends V1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Xi(c.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Lg(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Vg(m)?{documents:TP(l,m)}:{query:EP(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=T1(l,c.resumeToken);const g=Og(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Yf(l,c.snapshotVersion.toTimestamp());const g=Og(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=SP(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Lg(this.serializer),n.removeTarget=e,this.q_(n)}}class fk extends V1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_P(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Lg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vP(this.serializer,s)))};this.q_(n)}}class dk{}class mk extends dk{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Pg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Pg(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ua="RemoteStore";class gk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Fa(this)&&(he(Ua,"Restarting streams for network reachability change."),await(async function(m){const g=Re(m);g.Ea.add(4),await vc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new pk(s,a)}}async function Rd(t){if(Fa(t))for(const e of t.da)await e(!0)}async function vc(t){for(const e of t.da)await e(!1)}function M1(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iv(n)?nv(n):fl(n).O_()&&tv(n,e))}function ev(t,e){const n=Re(t),s=fl(n);n.Ia.delete(e),s.O_()&&O1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Fa(n)&&n.Ra.set("Unknown"))}function tv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Y_(e)}function O1(t,e){t.Va.Ue(e),fl(t).Z_(e)}function nv(t){t.Va=new cP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Ra.ua()}function iv(t){return Fa(t)&&!fl(t).x_()&&t.Ia.size>0}function Fa(t){return Re(t).Ea.size===0}function P1(t){t.Va=void 0}async function yk(t){t.Ra.set("Online")}async function vk(t){t.Ia.forEach(((e,n)=>{tv(t,e)}))}async function _k(t,e){P1(t),iv(t)?(t.Ra.ha(e),nv(t)):t.Ra.set("Unknown")}async function Tk(t,e,n){if(t.Ra.set("Online"),e instanceof _1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){he(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qf(t,s)}else if(e instanceof Rf?t.Va.Ze(e):e instanceof v1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await D1(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),O1(l,m);const _=new Ar(y.target,m,g,y.sequenceNumber);tv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){he(Ua,"Failed to raise snapshot:",s),await Qf(t,s)}}async function Qf(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await vc(t),t.Ra.set("Offline"),n||(n=()=>D1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ua,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rd(t)}))}function k1(t,e){return e().catch((n=>Qf(t,n,e)))}async function Cd(t){const e=Re(t),n=Pr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zy;for(;Ek(e);)try{const a=await nk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,bk(e,a)}catch(a){await Qf(e,a)}L1(e)&&j1(e)}function Ek(t){return Fa(t)&&t.Ta.length<10}function bk(t,e){t.Ta.push(e);const n=Pr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function L1(t){return Fa(t)&&!Pr(t).x_()&&t.Ta.length>0}function j1(t){Pr(t).start()}async function Sk(t){Pr(t).ra()}async function Ak(t){const e=Pr(t);for(const n of t.Ta)e.ea(n.mutations)}async function wk(t,e,n){const s=t.Ta.shift(),a=Yy.from(s,e,n);await k1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Cd(t)}async function xk(t,e){e&&Pr(t).X_&&await(async function(s,a){if((function(c){return oP(c)&&c!==se.ABORTED})(a.code)){const l=s.Ta.shift();Pr(s).B_(),await k1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cd(s)}})(t,e),L1(t)&&j1(t)}async function Gb(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(Ua,"RemoteStore received new credentials");const s=Fa(n);n.Ea.add(3),await vc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rd(n)}async function Rk(t,e){const n=Re(t);e?(n.Ea.delete(2),await Rd(n)):e||(n.Ea.add(2),await vc(n),n.Ra.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new hk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:yk.bind(null,t),t_:vk.bind(null,t),r_:_k.bind(null,t),H_:Tk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),iv(t)?nv(t):t.Ra.set("Unknown")):(await t.ma.stop(),P1(t))}))),t.ma}function Pr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new fk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sk.bind(null,t),r_:xk.bind(null,t),ta:Ak.bind(null,t),na:wk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ua,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new sv(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),hl(t))return new pe(se.UNAVAILABLE,`${e}: ${t}`);throw t}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ru(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Kb{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class el{constructor(e,n,s,a,l,c,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new el(e,n,Yo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class Ck{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ik{constructor(){this.queries=Yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=Yb(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function Yb(){return new Ba((t=>s1(t)),Ed)}async function Dk(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new Ck,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=rv(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&av(n)}async function Nk(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Vk(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&av(n)}function Mk(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function av(t){t.Ca.forEach((e=>{e.next()}))}var zg,$b;($b=zg||(zg={})).Ma="default",$b.Cache="cache";class Ok{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new el(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zg.Cache}}class U1{constructor(e){this.key=e}}class z1{constructor(e){this.key=e}}class Pk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=r1(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Kb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const E=a.get(y),R=bd(this.query,_)?_:null,V=!!E&&this.mutatedKeys.has(E.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;E&&R?E.data.isEqual(R.data)?V!==L&&(s.track({type:3,doc:R}),k=!0):this.su(E,R)||(s.track({type:2,doc:R}),k=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(f=!0)):!E&&R?(s.track({type:0,doc:R}),k=!0):E&&!R&&(s.track({type:1,doc:E}),k=!0,(m||g)&&(f=!0)),k&&(R?(c=c.add(R),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(R,V){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return L(R)-L(V)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new el(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new z1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new U1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ov="SyncEngine";class kk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Lk{constructor(e){this.key=e,this.hu=!1}}class jk{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((f=>s1(f)),Ed),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=Jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Uk(t,e,n=!0){const s=K1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await B1(s,e,n,!0),a}async function zk(t,e){const n=K1(t);await B1(n,e,!0,!1)}async function B1(t,e,n,s){const a=await ik(t.localStore,$i(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await Bk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&M1(t.remoteStore,a),f}async function Bk(t,e,n,s,a){t.pu=(_,E,R)=>(async function(L,k,B,Y){let H=k.view.ru(B);H.Cs&&(H=await zb(L.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,H))));const ae=Y&&Y.targetChanges.get(k.targetId),re=Y&&Y.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(H,L.isPrimaryClient,ae,re);return Xb(L,k.targetId,oe.au),oe.snapshot})(t,_,E,R);const l=await zb(t.localStore,e,!0),c=new Pk(e,l.Qs),f=c.ru(l.documents),m=yc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=c.applyChanges(f,t.isPrimaryClient,m);Xb(t,n,g.au);const y=new kk(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function Fk(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Ed(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await jg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ev(s.remoteStore,a.targetId),Bg(s,a.targetId)})).catch(cl)):(Bg(s,a.targetId),await jg(s.localStore,a.targetId,!0))}async function Hk(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ev(n.remoteStore,s.targetId))}async function qk(t,e,n){const s=Wk(t);try{const a=await(function(c,f){const m=Re(c),g=rt.now(),y=f.reduce(((R,V)=>R.add(V.key)),ze());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let V=Vs(),L=ze();return m.Ns.getEntries(R,y).next((k=>{V=k,V.forEach(((B,Y)=>{Y.isValidDocument()||(L=L.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,V))).next((k=>{_=k;const B=[];for(const Y of f){const H=nP(Y,_.get(Y.key).overlayedDocument);H!=null&&B.push(new Hr(Y.key,H,Ww(H.value.mapValue),Qi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,B,f)})).next((k=>{E=k;const B=k.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(R,k.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:o1(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new dt(Ue)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await _c(s,a.changes),await Cd(s.remoteStore)}catch(a){const l=rv(a,"Failed to persist write");n.reject(l)}}async function F1(t,e){const n=Re(t);try{const s=await ek(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?$e(c.hu,14607):a.removedDocuments.size>0&&($e(c.hu,42227),c.hu=!1))})),await _c(n,s,e)}catch(s){await cl(s)}}function Qb(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let g=!1;m.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(f)&&(g=!0)})),g&&av(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Gk(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new dt(ye.comparator);c=c.insert(l,on.newNoDocument(l,Ae.min()));const f=ze().add(l),m=new wd(Ae.min(),new Map,new dt(Ue),c,f);await F1(s,m),s.du=s.du.remove(l),s.Au.delete(e),lv(s)}else await jg(s.localStore,e,!1).then((()=>Bg(s,e,n))).catch(cl)}async function Kk(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await JP(n.localStore,e);q1(n,s,null),H1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _c(n,a)}catch(a){await cl(a)}}async function Yk(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((_=>($e(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);q1(s,e,n),H1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _c(s,a)}catch(a){await cl(a)}}function H1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function q1(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||G1(t,s)}))}function G1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ev(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),lv(t))}function Xb(t,e,n){for(const s of n)s instanceof U1?(t.Ru.addReference(s.key,e),$k(t,s)):s instanceof z1?(he(ov,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||G1(t,s.key)):Ee(19791,{wu:s})}function $k(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(he(ov,"New document in limbo: "+n),t.Eu.add(s),lv(t))}function lv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(ht.fromString(e)),s=t.fu.next();t.Au.set(s,new Lk(n)),t.du=t.du.insert(n,s),M1(t.remoteStore,new Ar($i(Gy(n.path)),s,"TargetPurposeLimboResolution",yd.ce))}}async function _c(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Zy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=Re(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ne.forEach(g,(E=>ne.forEach(E.Es,(R=>y.persistence.referenceDelegate.addReference(_,E.targetId,R))).next((()=>ne.forEach(E.ds,(R=>y.persistence.referenceDelegate.removeReference(_,E.targetId,R)))))))))}catch(_){if(!hl(_))throw _;he(Jy,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const R=y.Ms.get(E),V=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(E,L)}}})(s.localStore,l))}async function Qk(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(ov,"User change. New user:",e.toKey());const s=await I1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new pe(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _c(n,s.Ls)}}function Xk(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function K1(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gk.bind(null,e),e.Pu.H_=Vk.bind(null,e.eventManager),e.Pu.yu=Mk.bind(null,e.eventManager),e}function Wk(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yk.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZP(this.persistence,new QP,e.initialUser,this.serializer)}Cu(e){return new C1(Wy.mi,this.serializer)}Du(e){return new rk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class Zk extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof $f,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new C1((s=>$f.mi(s,n)),this.serializer)}}class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qk.bind(null,this.syncEngine),await Rk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ik})()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),s=(function(l){return new ck(l)})(e.databaseInfo);return(function(l,c,f,m){return new mk(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new gk(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Qb(this.syncEngine,n,0)),(function(){return Hb.v()?new Hb:new ak})())}createSyncEngine(e,n){return(function(a,l,c,f,m,g,y){const _=new jk(a,l,c,f,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);he(Ua,"RemoteStore shutting down."),s.Ea.add(5),await vc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fg.provider={build:()=>new Fg};class Jk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const kr="FirestoreClient";class eL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{he(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=rv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function eg(t,e){t.asyncQueue.verifyOperationInProgress(),he(kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await I1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Wb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tL(t);he(kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Gb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Gb(e.remoteStore,a))),t._onlineComponents=e}async function tL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(kr,"Using user provided OfflineComponentProvider");try{await eg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await eg(t,new Xf)}}else he(kr,"Using default OfflineComponentProvider"),await eg(t,new Zk(void 0));return t._offlineComponents}async function Y1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(kr,"Using user provided OnlineComponentProvider"),await Wb(t,t._uninitializedComponentsProvider._online)):(he(kr,"Using default OnlineComponentProvider"),await Wb(t,new Fg))),t._onlineComponents}function nL(t){return Y1(t).then((e=>e.syncEngine))}async function iL(t){const e=await Y1(t),n=e.eventManager;return n.onListen=Uk.bind(null,e.syncEngine),n.onUnlisten=Fk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hk.bind(null,e.syncEngine),n}function sL(t,e,n={}){const s=new Ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const y=new Jk({next:E=>{y.Nu(),c.enqueueAndForget((()=>Nk(l,_)));const R=E.docs.has(f);!R&&E.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new Ok(Gy(f.path),y,{includeMetadataChanges:!0,qa:!0});return Dk(l,_)})(await iL(t),t.asyncQueue,e,n,s))),s.promise}function $1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Zb=new Map;const Q1="firestore.googleapis.com",Jb=!0;class eS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q1,this.ssl=Jb}else this.host=e.host,this.ssl=e.ssl??Jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VP)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uv{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iO;switch(s.type){case"firstParty":return new oO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Zb.get(n);s&&(he("ComponentProvider","Removing Datastore"),Zb.delete(n),s.terminate())})(this),Promise.resolve()}}function rL(t,e,n,s={}){t=ja(t,uv);const a=Ur(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(wy(`https://${f}`),xy("Firestore",!0)),l.host!==Q1&&l.host!==f&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ma(m,c)&&(t._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=an.MOCK_USER;else{g=fD(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(_)}t._authCredentials=new sO(new zw(g,y))}}class cv{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cv(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(pc(n,Ut._jsonSchema))return new Ut(e,s||null,new ye(ht.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Mt("string",Ut._jsonSchemaVersion),referencePath:Mt("string")};class ec extends cv{constructor(e,n,s){super(e,n,Gy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function jn(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=jy.newId()),dO("doc","path",e),t instanceof uv){const s=ht.fromString(e,...n);return mb(s),new Ut(t,null,new ye(s))}{if(!(t instanceof Ut||t instanceof ec))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return mb(s),new Ut(t.firestore,t instanceof ec?t.converter:null,new ye(s))}}const tS="AsyncQueue";class nS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N1(this,"async_queue_retry"),this._c=()=>{const s=Jp();s&&he(tS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;he(tS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",iS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=sv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:iS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Id extends uv{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new nS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nS(e),this._firestoreClient=void 0,await e}}}function aL(t,e){const n=typeof t=="object"?t:dd(),s=typeof t=="string"?t:Ff,a=fd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=GA("firestore");l&&rL(a,...l)}return a}function X1(t){if(t._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oL(t),t._firestoreClient}function oL(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new wO(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(nn.fromBase64String(e))}catch(n){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pc(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Mt("string",ei._jsonSchemaVersion),bytes:Mt("string")};class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nd{constructor(e){this._methodName=e}}class Wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(pc(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Mt("string",Wi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pc(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Mt("string",Zi._jsonSchemaVersion),vectorValues:Mt("object")};const lL=/^__.*__$/;class uL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new gc(e,this.data,n,this.fieldTransforms)}}class W1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Z1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class hv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Z1(this.Ac)&&lL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xd(e)}Cc(e,n,s,a=!1){return new hv({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J1(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new cL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hL(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);dv("Data must be an object, but it was:",c,s);const f=ex(s,c);let m,g;if(l.merge)m=new Ln(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Hg(e,_,n);if(!c.contains(E))throw new pe(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);nx(y,E)||y.push(E)}m=new Ln(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new uL(new Sn(f),m,g)}class Vd extends Nd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}class fv extends Nd{_toFieldTransform(e){return new ZO(e.path,new Wu)}isEqual(e){return e instanceof fv}}function fL(t,e,n,s){const a=t.Cc(1,e,n);dv("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();Fr(s,((m,g)=>{const y=mv(e,m,n);g=Bt(g);const _=a.yc(y);if(g instanceof Vd)l.push(y);else{const E=Md(g,_);E!=null&&(l.push(y),c.set(y,E))}}));const f=new Ln(l);return new W1(c,f,a.fieldTransforms)}function dL(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[Hg(e,s,n)],m=[a];if(l.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Hg(e,l[E])),m.push(l[E+1]);const g=[],y=Sn.empty();for(let E=f.length-1;E>=0;--E)if(!nx(g,f[E])){const R=f[E];let V=m[E];V=Bt(V);const L=c.yc(R);if(V instanceof Vd)g.push(R);else{const k=Md(V,L);k!=null&&(g.push(R),y.set(R,k))}}const _=new Ln(g);return new W1(y,_,c.fieldTransforms)}function Md(t,e){if(tx(t=Bt(t)))return dv("Unsupported field value:",e,t),ex(t,e);if(t instanceof Nd)return(function(s,a){if(!Z1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Md(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=rt.fromDate(s);return{timestampValue:Yf(a.serializer,l)}}if(s instanceof rt){const l=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(s instanceof Wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:T1(a.serializer,s._byteString)};if(s instanceof Ut){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Zi)return(function(c,f){return{mapValue:{fields:{[Qw]:{stringValue:Xw},[Hf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ky(f.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Uy(s)}`)})(t,e)}function ex(t,e){const n={};return Hw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(t,((s,a)=>{const l=Md(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function tx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Wi||t instanceof ei||t instanceof Ut||t instanceof Nd||t instanceof Zi)}function dv(t,e,n){if(!tx(n)||!Bw(n)){const s=Uy(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Hg(t,e,n){if((e=Bt(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return mv(t,e);throw Wf("Field path arguments must be of type string or ",t,!1,void 0,n)}const mL=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(mL)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new pe(se.INVALID_ARGUMENT,f+t+m)}function nx(t,e){return t.some((n=>n.isEqual(e)))}class ix{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pL extends ix{data(){return super.data()}}function sx(t,e){return typeof e=="string"?mv(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}class gL{convertValue(e,n="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Hf].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Wi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_d(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=Vr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);$e(x1(s),9688,{name:e});const a=new Qu(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function yL(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends ix{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Mt("string",Ca._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Cf extends Ca{data(e={}){return super.data(e)}}class Lu{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Cf(this._firestore,this._userDataWriter,s.key,s,new Iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Cf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Iu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Cf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Iu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:vL(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}function pv(t){t=ja(t,Ut);const e=ja(t.firestore,Id);return sL(X1(e),t._key).then((n=>TL(e,t,n)))}Lu._jsonSchemaVersion="firestore/querySnapshot/1.0",Lu._jsonSchema={type:Mt("string",Lu._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class _L extends gL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function qg(t,e,n){t=ja(t,Ut);const s=ja(t.firestore,Id),a=yL(t.converter,e,n);return rx(s,[hL(J1(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Qi.none())])}function Ia(t,e,n,...s){t=ja(t,Ut);const a=ja(t.firestore,Id),l=J1(a);let c;return c=typeof(e=Bt(e))=="string"||e instanceof Dd?dL(l,"updateDoc",t._key,e,n,s):fL(l,"updateDoc",t._key,e),rx(a,[c.toMutation(t._key,Qi.exists(!0))])}function rx(t,e){return(function(s,a){const l=new Ir;return s.asyncQueue.enqueueAndForget((async()=>qk(await nL(s),a,l))),l.promise})(X1(t),e)}function TL(t,e,n){const s=n.docs.get(e._key),a=new _L(t);return new Ca(t,a,e._key,s,new Iu(n.hasPendingWrites,n.fromCache),e.converter)}function Zf(){return new fv("serverTimestamp")}(function(e,n=!0){(function(a){ul=a})(ol),Oa(new Dr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Id(new rO(s.getProvider("auth-internal")),new lO(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Gi(cb,hb,e),Gi(cb,hb,"esm2020")})();const EL="type.googleapis.com/google.protobuf.Int64Value",bL="type.googleapis.com/google.protobuf.UInt64Value";function ax(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function Jf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jf(e));if(typeof t=="function"||typeof t=="object")return ax(t,e=>Jf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function tl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case EL:case bL:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>tl(e)):typeof t=="function"||typeof t=="object"?ax(t,e=>tl(e)):t}const gv="functions";const sS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class An extends is{constructor(e,n,s){super(`${gv}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,An.prototype)}}function SL(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ed(t,e){let n=SL(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!sS[c])return new An("internal","internal");n=sS[c],s=c}const f=l.message;typeof f=="string"&&(s=f),a=l.details,a!==void 0&&(a=tl(a))}}catch{}return n==="ok"?null:new An(n,s,a)}class AL{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,kn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}const Gg="us-central1",wL=/^data: (.*?)(?:\n|$)/;function xL(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new An("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class RL{constructor(e,n,s,a,l=Gg,c=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new AL(e,n,s,a),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=Gg}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function CL(t,e,n){const s=Ur(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(wy(t.emulatorOrigin+"/backends"),xy("Functions",!0))}function IL(t,e,n){const s=a=>NL(t,e,a,{});return s.stream=(a,l)=>ML(t,e,a,l),s}function ox(t){return t.emulatorOrigin&&Ur(t.emulatorOrigin)?"include":void 0}async function DL(t,e,n,s,a){n["Content-Type"]="application/json";let l;try{l=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:ox(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function lx(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function NL(t,e,n,s){const a=t._url(e);return VL(t,a,n,s)}async function VL(t,e,n,s){n=Jf(n);const a={data:n},l=await lx(t,s),c=s.timeout||7e4,f=xL(c),m=await Promise.race([DL(e,a,l,t.fetchImpl,t),f.promise,t.cancelAllRequests]);if(f.cancel(),!m)throw new An("cancelled","Firebase Functions instance was deleted.");const g=ed(m.status,m.json);if(g)throw g;if(!m.json)throw new An("internal","Response is not valid JSON object.");let y=m.json.data;if(typeof y>"u"&&(y=m.json.result),typeof y>"u")throw new An("internal","Response is missing data field.");return{data:tl(y)}}function ML(t,e,n,s){const a=t._url(e);return OL(t,a,n,s||{})}async function OL(t,e,n,s){n=Jf(n);const a={data:n},l=await lx(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal,credentials:ox(t)})}catch(E){if(E instanceof Error&&E.name==="AbortError"){const V=new An("cancelled","Request was cancelled.");return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}const R=ed(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let f,m;const g=new Promise((E,R)=>{f=E,m=R});s?.signal?.addEventListener("abort",()=>{const E=new An("cancelled","Request was cancelled.");m(E)});const y=c.body.getReader(),_=PL(y,f,m,s?.signal);return{stream:{[Symbol.asyncIterator](){const E=_.getReader();return{async next(){const{value:R,done:V}=await E.read();return{value:R,done:V}},async return(){return await E.cancel(),{done:!0,value:void 0}}}}},data:g}}function PL(t,e,n,s){const a=(c,f)=>{const m=c.match(wL);if(!m)return;const g=m[1];try{const y=JSON.parse(g);if("result"in y){e(tl(y.result));return}if("message"in y){f.enqueue(tl(y.message));return}if("error"in y){const _=ed(0,y);f.error(_),n(_);return}}catch(y){if(y instanceof An){f.error(y),n(y);return}}},l=new TextDecoder;return new ReadableStream({start(c){let f="";return m();async function m(){if(s?.aborted){const g=new An("cancelled","Request was cancelled");return c.error(g),n(g),Promise.resolve()}try{const{value:g,done:y}=await t.read();if(y){f.trim()&&a(f.trim(),c),c.close();return}if(s?.aborted){const E=new An("cancelled","Request was cancelled");c.error(E),n(E),await t.cancel();return}f+=l.decode(g,{stream:!0});const _=f.split(`
`);f=_.pop()||"";for(const E of _)E.trim()&&a(E.trim(),c);return m()}catch(g){const y=g instanceof An?g:ed(0,null);c.error(y),n(y)}}},cancel(){return t.cancel()}})}const rS="@firebase/functions",aS="0.13.1";const kL="auth-internal",LL="app-check-internal",jL="messaging-internal";function UL(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(kL),c=n.getProvider(jL),f=n.getProvider(LL);return new RL(a,l,c,f,s)};Oa(new Dr(gv,e,"PUBLIC").setMultipleInstances(!0)),Gi(rS,aS,t),Gi(rS,aS,"esm2020")}function zL(t=dd(),e=Gg){const s=fd(Bt(t),gv).getImmediate({identifier:e}),a=GA("functions");return a&&BL(s,...a),s}function BL(t,e,n){CL(Bt(t),e,n)}function FL(t,e,n){return IL(Bt(t),e)}UL();const HL={apiKey:"AIzaSyDERq4e6x6pkVvlQEdLdQU0464SVyb_hrE",authDomain:"immobot-dc818.firebaseapp.com",projectId:"immobot-dc818",storageBucket:"immobot-dc818.firebasestorage.app",messagingSenderId:"601427046911",appId:"1:601427046911:web:c8248a89433a711ef8b7ca"},ux=IN().length?dd():XA(HL),td=JM(ux),Un=aL(ux),qL=zL(void 0,"europe-west1"),cx=D.createContext(null),ss=()=>D.useContext(cx);function GL({children:t}){const[e,n]=D.useState(null),[s,a]=D.useState(null),[l,c]=D.useState(!1);D.useEffect(()=>{const m=BV(td,async g=>{if(n(g||null),g){const y=await pv(jn(Un,"users",g.uid));a(y.exists()&&y.data()?.role||null)}else a(null);c(!0)});return()=>m()},[]);const f={user:e,role:s,ready:l,logout:()=>FV(td)};return S.jsx(cx.Provider,{value:f,children:t})}function yv(){const{user:t,role:e,logout:n,ready:s}=ss();if(!s||!!!t)return null;const l=e==="admin",c=t?.email?.split("@")[0]||"User";return S.jsxs("nav",{className:"p-4 bg-gray-900 text-white flex flex-wrap items-center gap-4 md:gap-6 shadow-md",children:[S.jsx(wr,{to:"/dashboard",className:"font-bold text-lg mr-2",children:"Immobot"}),S.jsx(wr,{to:"/dashboard",className:"hover:text-gray-300 transition",children:"Home"}),l&&S.jsx(wr,{to:"/admin",className:"text-yellow-400 font-semibold hover:text-yellow-300 transition",children:"Admin"}),S.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[S.jsxs("span",{className:"hidden sm:inline text-sm text-gray-300",children:["Hi, ",S.jsx("strong",{className:"text-white",children:c})]}),S.jsx("button",{onClick:n,className:"px-3 py-1.5 bg-red-600 rounded text-sm font-medium hover:bg-red-700 transition",children:"Logout"})]})]})}function KL(){const t=Ps(),n=!["/login"].includes(t.pathname);return S.jsxs("div",{className:"min-h-screen ",children:[n&&S.jsx(yv,{}),S.jsx("main",{className:"min-h-[calc(100vh-64px)]",children:S.jsx(by,{})})]})}function YL(){return S.jsxs("div",{className:"min-h-screen",children:[S.jsx(yv,{}),S.jsx("main",{className:"p-6",children:S.jsx(by,{})})]})}function $L(){return S.jsxs("div",{className:"min-h-screen",children:[S.jsx(yv,{}),S.jsx("main",{className:"p-6",children:S.jsx(by,{})})]})}function QL(){const[t,e]=D.useState(""),[n,s]=D.useState(""),[a,l]=D.useState(""),[c,f]=D.useState(!1),m=ks(),g=async y=>{y.preventDefault(),l(""),f(!0);try{await jV(td,t.trim(),n),m("/dashboard")}catch(_){l("Login fehlgeschlagen. Bitte E-Mail und Passwort prfen."),console.error(_)}finally{f(!1)}};return S.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-sky-100 px-4",children:[S.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[S.jsx("div",{className:"absolute -top-32 -left-24 h-80 w-80 rounded-full bg-sky-300/50 blur-3xl"}),S.jsx("div",{className:"absolute bottom-[-60px] right-[-40px] h-80 w-80 rounded-full bg-indigo-300/50 blur-3xl"}),S.jsx("div",{className:"absolute top-1/2 -right-24 h-64 w-64 -translate-y-1/2 rounded-full bg-emerald-200/60 blur-3xl"})]}),S.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[S.jsxs("div",{className:"mb-8 text-center",children:[S.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs text-slate-600 border border-slate-200 shadow-sm",children:[S.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-sky-500 text-[9px] font-bold text-white",children:"I"}),S.jsx("span",{children:"Immobot  Login"})]}),S.jsx("h1",{className:"mt-4 text-3xl font-semibold text-slate-900",children:"Willkommen zurck"}),S.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Melde dich an, um deine Immobot-Suche und gespeicherten Filter fortzusetzen."})]}),S.jsxs("div",{className:"rounded-2xl bg-white/95 border border-slate-200 shadow-xl backdrop-blur-sm p-6",children:[S.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a&&S.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"E-Mail"}),S.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"email",placeholder:"beispiel@immobot.pro",value:t,onChange:y=>e(y.target.value),autoComplete:"email",required:!0})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"Passwort"}),S.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"password",placeholder:"",value:n,onChange:y=>s(y.target.value),autoComplete:"current-password",required:!0})]}),S.jsx("button",{className:"mt-2 w-full rounded-lg bg-sky-600 py-2.5 text-sm font-medium text-white shadow-md shadow-sky-400/40 hover:bg-sky-500 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:c,children:c?"Einloggen":"Einloggen"})]}),S.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Noch kein Account?"," ",S.jsx(wr,{to:"/register",className:"font-medium text-sky-600 hover:text-sky-500",children:"Jetzt registrieren"})]})]}),S.jsx("p",{className:"mt-6 text-center text-[11px] text-slate-400",children:"Mit dem Login akzeptierst du unsere Nutzungsbedingungen & Datenschutzerklrung."})]})]})}const Kg="immobot_register_filters_v1",Yg=2,of={offerTypes:[],objectClasses:[],constructionStatus:[],searchString:"",coordinate:void 0,radiusInKm:10,priceRange:void 0,propertySpaceRange:void 0,includePriceOnRequest:!1,__version:Yg};function mn(){try{const t=localStorage.getItem(Kg);if(!t)return{...of};const e=JSON.parse(t);if(e.__version!==Yg){const n={...of,...e,__version:Yg};return localStorage.setItem(Kg,JSON.stringify(n)),n}return{...of,...e}}catch{return{...of}}}function xn(t){const e={...mn(),...t};try{localStorage.setItem(Kg,JSON.stringify(e))}catch{}return e}const XL=new Set(["Haus","Wohnung","Grundstueck","StellplatzGarage","BroPraxis","Ferienobjekt","Gastronomie","Gewerbeeinheit","HalleLagerProduktion","Hotel","LandForst","Sonstige","Studenten"]);function WL(t){if(!XL.has(t))return mn();const e=mn(),n=new Set(e.objectClasses);if(n.has(t))n.delete(t);else{if(n.size>=2)return e;n.add(t)}return xn({objectClasses:Array.from(n)})}const ZL=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}];function JL(){const t=ks(),e=D.useMemo(()=>mn(),[]),n=e.offerTypes?.includes("Miete")?"Miete":e.offerTypes?.includes("Kauf")?"Kauf":null,[s,a]=D.useState(n),[l,c]=D.useState(e.objectClasses||[]);function f(g){a(g),g==="Kauf"?xn({offerTypes:["Kauf"],constructionStatus:void 0}):g==="Miete"&&xn({offerTypes:["Miete"],constructionStatus:void 0})}const m=g=>{const y=l.includes(g);if(!y&&l.length>=2)return;const _=y?l.filter(E=>E!==g):[...l,g];c(_),WL(g)};return S.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[S.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 1 von 5"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"block text-sm font-medium text-center",children:"Angebotsart"}),S.jsx("div",{className:"mx-auto max-w-md",children:S.jsx("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[{key:"Kauf",label:"Kauf"},{key:"Miete",label:"Miete"}].map(g=>S.jsx("button",{type:"button",onClick:()=>f(g.key),className:`px-4 py-2 rounded-full border text-sm transition min-w-[80px]
                  ${s===g.key?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:g.label},g.key))})})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{children:[S.jsx("p",{className:"block text-sm font-medium mb-1 text-center",children:"Objektart"}),S.jsx("p",{className:"text-center text-xs md:text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"})]}),S.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:ZL.map(g=>{const y=l.includes(g.value),_=!y&&l.length>=2;return S.jsx("button",{type:"button",disabled:_,onClick:()=>m(g.value),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition
                  ${y?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}
                  ${_?"opacity-50 cursor-not-allowed":""}
                `,children:g.label},g.value)})})]}),S.jsx("div",{className:"flex justify-center mt-6",children:S.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm active:scale-95 transition-transform",onClick:()=>t("/register/step2"),children:"Schritt 2 >"})})]})}function e4(t){return xn({coordinate:t})}function t4(t){const e=Number(t);return xn({radiusInKm:Number.isFinite(e)?e:10})}const oS="VUVj9lGbHQAdYVsF04k8",n4=[5,7.5,10,12.5,15];function i4(){const t=ks(),e=D.useMemo(()=>mn(),[]),[n,s]=D.useState(""),[a,l]=D.useState([]),[c,f]=D.useState(e.radiusInKm??10),m=D.useRef(null),g=D.useRef({L:null,map:null,marker:null,circle:null});D.useEffect(()=>{let E=!1;return(async()=>{if(!document.querySelector("link[data-leaflet]")){const V=document.createElement("link");V.rel="stylesheet",V.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",V.setAttribute("data-leaflet","1"),document.head.appendChild(V)}return window.L||await new Promise(V=>{const L=document.createElement("script");L.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",L.onload=V,document.body.appendChild(L)}),window.L})().then(V=>{if(E||!m.current)return;g.current.L=V;const L=V.map(m.current,{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1}).setView([52.52,13.405],10);g.current.map=L,V.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${oS}`,{attribution:"&copy; MapTiler"}).addTo(L),e.coordinate?.lat&&e.coordinate?.lon&&_(e.coordinate.lat,e.coordinate.lon,c)}),()=>{E=!0}},[]),D.useEffect(()=>{t4(c);const{marker:E}=g.current;if(E){const R=E.getLatLng();_(R.lat,R.lng,c)}},[c]),D.useEffect(()=>{if(n.trim().length<3){l([]);return}const E=setTimeout(async()=>{const R=`https://api.maptiler.com/geocoding/${encodeURIComponent(n.trim())}.json?key=${oS}&language=de&country=DE,AT,CH&limit=5`;try{const k=(await(await fetch(R)).json()).features?.map(B=>({label:B.place_name,lat:B.center?.[1],lon:B.center?.[0]})).filter(B=>Number.isFinite(B.lat)&&Number.isFinite(B.lon))||[];l(k)}catch{l([])}},200);return()=>clearTimeout(E)},[n]);function y(E){s(E.label),l([]),e4({lat:E.lat,lon:E.lon}),_(E.lat,E.lon,c)}function _(E,R,V){const{L,map:k,marker:B,circle:Y}=g.current;if(!L||!k)return;B&&B.remove(),Y&&Y.remove();const H=L.marker([E,R]).addTo(k),ae=L.circle([E,R],{radius:(V||0)*1e3,color:"#007bff",fillOpacity:.25}).addTo(k);g.current.marker=H,g.current.circle=ae,k.fitBounds(ae.getBounds(),{padding:[40,40]})}return S.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6 md:space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[S.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 2 von 5"}),S.jsx("h2",{className:"text-lg md:text-xl font-semibold text-center leading-tight",children:"Wo sollen wir etwas fr dich finden?"}),S.jsxs("div",{className:"mx-auto max-w-md relative w-full",children:[S.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Ort/Stadt eingeben"}),S.jsx("input",{value:n,onChange:E=>s(E.target.value),placeholder:"z. B. Freiburg im Breisgau",className:"w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",onKeyDown:E=>{E.key==="Enter"&&E.preventDefault()}}),a.length>0&&S.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-lg border bg-white shadow-lg z-[9999] max-h-60 overflow-y-auto",children:a.map((E,R)=>S.jsx("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-0",onClick:()=>y(E),children:E.label},R))})]}),S.jsxs("div",{className:"mx-auto max-w-md",children:[S.jsx("label",{className:"block text-sm font-medium mb-2 text-center",children:"Radius auswhlen:"}),S.jsx("div",{className:"flex justify-center flex-wrap gap-2",children:n4.map(E=>S.jsxs("button",{type:"button",onClick:()=>f(E),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-sm transition
                ${Number(c)===E?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:[E," km"]},E))})]}),S.jsx("div",{className:"w-full h-64 md:h-[400px] rounded-xl border border-gray-300 relative overflow-hidden",style:{pointerEvents:"none"},children:S.jsx("div",{ref:m,className:"w-full h-full"})}),S.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[S.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step1"),children:"< Zurck"}),S.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step3"),children:"Schritt 3 >"})]})]})}function s4(t){if(t===null)return xn({propertySpaceRange:void 0});if(t.type==="max")return xn({propertySpaceRange:{from:0,to:t.value}});if(t.type==="min")return xn({propertySpaceRange:{from:t.value,to:9999999}})}function r4(t){if(t==null)return xn({priceRange:void 0});const e=Number(t);return!Number.isFinite(e)||e<=0?mn():xn({priceRange:{from:0,to:e}})}function a4(){const t=mn();return t.offerTypes.includes("Miete")&&!t.offerTypes.includes("Kauf")?[300,500,700,900,1200,1500,1800,null]:[15e4,25e4,4e5,6e5,8e5,1e6,15e5,null]}function o4(){return mn().objectClasses?.includes("Grundstueck")?[{type:"max",value:500},{type:"min",value:500},null]:[{type:"max",value:100},{type:"min",value:100},null]}function lS({active:t,onClick:e,children:n}){return S.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition transform active:scale-95
        ${t?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:n})}function l4(){const t=ks(),e=D.useMemo(()=>mn(),[]),n=a4(),s=o4(),[a,l]=D.useState(e.priceRange?.to??null),[c,f]=D.useState(e.propertySpaceRange?.to??null),m=e.objectClasses?.includes("Grundstueck"),g=e.offerTypes?.includes("Miete")&&!e.offerTypes?.includes("Kauf"),y=(E,R)=>{if(E==null)return"beliebig";const V=E.toLocaleString("de-DE");return g?`bis ${V} `:R===n.length-2&&n[n.length-1]===null?`ab ${V} `:`bis ${V} `},_=E=>{if(E===null)return"beliebig";if(E.type==="max")return`bis ${E.value} m`;if(E.type==="min")return`ab ${E.value} m`};return S.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[S.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 3 von 5"}),S.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center text-gray-800 leading-tight",children:g?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:"Whle deinen maximalen Preis:"}),S.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:n.map((E,R)=>S.jsx(lS,{active:a===E,onClick:()=>{l(E),r4(E)},children:y(E,R)},R))})]}),S.jsxs("div",{className:"pt-2",children:[S.jsx("h3",{className:"text-lg md:text-xl font-semibold text-center text-gray-800 mb-1",children:"Flche"}),S.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:m?"Wie gro soll dein Grundstck sein?":"Wie gro soll die Wohnflche sein?"}),S.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.map((E,R)=>S.jsx(lS,{active:c===(E?.value??null),onClick:()=>{f(E?.value??null),s4(E)},children:_(E)},R))})]}),S.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[S.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step2"),children:"< Zurck"}),S.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step4"),children:"Weiter >"})]})]})}const hx=["balconyTerrace","garden","parkingSpace","cellar","bathroomWithWindow","builtInKitchen","elevator","underfloorHeating","fireplace","furnished","firstTimeUse","refurbished","leased","freeOfCommission","preservationOrder","divisible","barrierFree","airConditioningVentilation"];function u4(){const t=mn()||{},e={};for(const n of hx)e[n]=!!t[n];return e}function c4(t){if(!hx.includes(t))return mn();const e=mn()||{},n=!e[t];return xn({...e,[t]:n})}const uS=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function h4(){const t=ks(),e=D.useMemo(()=>u4(),[]),[n,s]=D.useState(uS.reduce((f,m)=>({...f,[m.key]:!!e[m.key]}),{})),[a,l]=D.useState(!1);function c(f){c4(f),s(m=>({...m,[f]:!m[f]}))}return S.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[S.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 4 von 5 (optional)"}),!a&&S.jsxs("div",{className:"py-2",children:[S.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere Filter nutzen?"}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[S.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>l(!0),children:"Ja, unbedingt"}),S.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),a&&S.jsxs(S.Fragment,{children:[S.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Ausstattung"}),S.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",S.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:"Siehe FAQ"}),"."]}),S.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto mt-2",children:uS.map(f=>{const m=!!n[f.key];return S.jsx("button",{type:"button",onClick:()=>c(f.key),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition active:scale-95
                    ${m?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:f.key,children:f.label},f.key)})})]}),S.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[S.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step3"),children:"< Zurck"}),a&&S.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step5"),children:"Weiter >"})]})]})}function f4(t,e){const n=mn(),s=Array.isArray(n[t])?[...n[t]]:[],a=s.indexOf(e);return a>=0?s.splice(a,1):s.push(e),xn({[t]:s.length?s:void 0})}function lf(t,e,n){const s=cS(e),a=cS(n);return s==null&&a==null?xn({[t]:void 0}):xn({[t]:{...s!=null?{from:s}:{},...a!=null?{to:a}:{}}})}function cS(t){if(t===""||t==null)return;const e=Number(t);return Number.isFinite(e)?e:void 0}function d4(){const t=mn();return{energySources:t.energySources||[],heatingTypes:t.heatingTypes||[],energyRatings:t.energyRatings||[],energyEfficiencyStandards:t.energyEfficiencyStandards||[],pricePerSqmRange:t.pricePerSqmRange,yieldRange:t.yieldRange,energyConsumptionRange:t.energyConsumptionRange,constructionYearRange:t.constructionYearRange}}const m4=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],p4=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],g4=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],y4=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function v4(){const t=ks(),e=D.useMemo(()=>d4(),[]),[n,s]=D.useState(!1),[a,l]=D.useState(e.energySources||[]),[c,f]=D.useState(e.heatingTypes||[]),[m,g]=D.useState(e.energyRatings||[]),[y,_]=D.useState(e.energyEfficiencyStandards||[]),[E,R]=D.useState(e.pricePerSqmRange?.from??""),[V,L]=D.useState(e.pricePerSqmRange?.to??""),[k,B]=D.useState(e.yieldRange?.from??""),[Y,H]=D.useState(e.yieldRange?.to??""),[ae,re]=D.useState(e.energyConsumptionRange?.from??""),[oe,C]=D.useState(e.energyConsumptionRange?.to??""),[x,I]=D.useState(e.constructionYearRange?.from??""),[P,O]=D.useState(e.constructionYearRange?.to??"");function z(we,_e,W){f4(we,_e),W(ie=>ie?.includes(_e)?ie.filter(ce=>ce!==_e):[...ie||[],_e])}function N(){lf("pricePerSqmRange",E,V),lf("yieldRange",k,Y),lf("energyConsumptionRange",ae,oe),lf("constructionYearRange",x,P)}return S.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[S.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 5 von 5 (optional)"}),!n&&S.jsxs("div",{className:"py-2",children:[S.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere technische Filter nutzen?"}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[S.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>s(!0),children:"Ja, unbedingt"}),S.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),n&&S.jsxs(S.Fragment,{children:[S.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Technische Filter"}),S.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",S.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600",children:"Siehe FAQ"}),"."]}),S.jsxs("div",{className:"space-y-6 pt-2",children:[S.jsx(yr,{title:"Energietrger",children:S.jsx(uf,{options:m4,active:a,onToggle:we=>z("energySources",we,l)})}),S.jsx(yr,{title:"Heizungsart",children:S.jsx(uf,{options:p4,active:c,onToggle:we=>z("heatingTypes",we,f)})}),S.jsx(yr,{title:"Energieklasse",children:S.jsx(uf,{options:g4,active:m,onToggle:we=>z("energyRatings",we,g)})}),S.jsx(yr,{title:"Energiestandard",children:S.jsx(uf,{options:y4,active:y,onToggle:we=>z("energyEfficiencyStandards",we,_)})}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsx(yr,{title:"Preis pro m",children:S.jsx(cf,{unit:"/m",from:E,to:V,setFrom:R,setTo:L,onBlurSave:N})}),S.jsx(yr,{title:"Rendite",children:S.jsx(cf,{unit:"%",step:"0.1",from:k,to:Y,setFrom:B,setTo:H,onBlurSave:N})}),S.jsx(yr,{title:"Energieverbrauch",children:S.jsx(cf,{unit:"kWh/m*a",from:ae,to:oe,setFrom:re,setTo:C,onBlurSave:N})}),S.jsx(yr,{title:"Baujahr",children:S.jsx(cf,{unit:"",from:x,to:P,setFrom:I,setTo:O,onBlurSave:N})})]})]})]}),S.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[S.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step4"),children:"< Zurck"}),n?S.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95 text-sm md:text-base",onClick:()=>{N(),t("/register/finish")},children:"Registrieren >"}):S.jsx("div",{})]})]})}function yr({title:t,children:e}){return S.jsxs("div",{className:"w-full",children:[S.jsx("h3",{className:"mb-3 font-semibold text-sm text-center text-gray-800",children:t}),e]})}function uf({options:t,active:e=[],onToggle:n}){return S.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto",children:t.map(s=>{const a=e?.includes(s);return S.jsx("button",{type:"button",onClick:()=>n(s),className:`inline-flex items-center justify-center rounded-full border px-3 py-2 text-xs transition active:scale-95
              ${a?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:s,children:s},s)})})}function cf({unit:t,from:e,to:n,setFrom:s,setTo:a,step:l="1",onBlurSave:c}){return S.jsxs("div",{className:"flex items-end justify-center gap-3 w-full max-w-sm mx-auto",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"von"}),S.jsx("input",{type:"number",step:l,value:e,onChange:f=>s(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0"})]}),S.jsx("span",{className:"text-gray-400 pb-3",children:"-"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"bis"}),S.jsx("input",{type:"number",step:l,value:n,onChange:f=>a(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"max"})]}),t&&S.jsx("span",{className:"text-xs text-gray-500 pb-3 w-10",children:t})]})}function hS(t){if(t===""||t===null||t===void 0)return!1;const e=typeof t=="string"?Number(t):t;return typeof e=="number"&&Number.isFinite(e)}function _4(t){if(!t||typeof t!="object")return;const e=hS(t.from),n=hS(t.to);if(!(!e&&!n))return!e&&n?{from:0,to:Number(t.to)}:e&&!n?{from:Number(t.from)}:{from:Number(t.from),to:Number(t.to)}}function $g(t){if(t===null)return null;if(Array.isArray(t))return t.map($g).filter(e=>e!==void 0);if(typeof t=="object"){const e={};for(const[n,s]of Object.entries(t)){if(s===void 0)continue;if(n.endsWith("Range")){const l=_4(s);l!==void 0&&(e[n]=l);continue}const a=$g(s);a!==void 0&&(e[n]=a)}return Object.keys(e).length===0?void 0:e}return typeof t=="number"?Number.isFinite(t)?t:void 0:t}async function T4(t){const e=mn(),n=$g(e),s=jn(Un,"users",t,"searchFilters","default");await qg(s,{filters:n,version:1,updatedAt:Zf()},{merge:!0});const a=jn(Un,"users",t);await qg(a,{lastSearch:n,lastSearchUpdatedAt:Zf()},{merge:!0})}function E4(){const t=ks(),[e,n]=D.useState(""),[s,a]=D.useState(""),[l,c]=D.useState(""),[f,m]=D.useState(""),[g,y]=D.useState(""),[_,E]=D.useState(!1),[R,V]=D.useState(!1),[L,k]=D.useState(!1),[B,Y]=D.useState(""),H=!L&&_&&e.trim()&&s.trim()&&l.trim()&&f.trim()&&g.trim();async function ae(oe){if(oe.preventDefault(),!!H){if(f!==g){Y("Die Passwrter stimmen nicht berein.");return}k(!0),Y("");try{const{user:C}=await LV(td,l.trim(),f);await qg(jn(Un,"users",C.uid),{firstName:e.trim(),lastName:s.trim(),email:l.trim().toLowerCase(),role:"user",stripeStatus:"none",stripeCustomerId:null,marketingOptIn:R,acceptedTermsAt:Zf(),createdAt:Zf()},{merge:!0}),await T4(C.uid),t("/dashboard")}catch(C){Y(C.message||"Fehler bei der Registrierung")}finally{k(!1)}}}const re="w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition";return S.jsxs("div",{className:`
      w-full mx-auto max-w-lg bg-white
      p-4 mt-2
      md:p-8 md:mt-10 md:border md:rounded-2xl md:shadow-sm
    `,children:[S.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-center leading-tight mb-2",children:"Dein Immobot-Konto"}),S.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Lege jetzt dein Konto an. Im nchsten Schritt whlst du dein Abo und aktivierst deinen Zugang."}),S.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsx("div",{className:"w-1/2",children:S.jsx("input",{type:"text",className:re,placeholder:"Vorname",value:e,onChange:oe=>n(oe.target.value),required:!0})}),S.jsx("div",{className:"w-1/2",children:S.jsx("input",{type:"text",className:re,placeholder:"Nachname",value:s,onChange:oe=>a(oe.target.value),required:!0})})]}),S.jsx("input",{type:"email",className:re,placeholder:"E-Mail",value:l,onChange:oe=>c(oe.target.value),required:!0,autoComplete:"email"}),S.jsx("input",{type:"password",className:re,placeholder:"Passwort",value:f,onChange:oe=>m(oe.target.value),required:!0,autoComplete:"new-password"}),S.jsx("input",{type:"password",className:re,placeholder:"Passwort wiederholen",value:g,onChange:oe=>y(oe.target.value),required:!0,autoComplete:"new-password"}),S.jsxs("div",{className:"space-y-3 pt-2",children:[S.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:_,onChange:oe=>E(oe.target.checked),required:!0}),S.jsxs("span",{className:"text-gray-700",children:["Ich akzeptiere die"," ",S.jsx(wr,{to:"/terms",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"AGB"})," ","und die"," ",S.jsx(wr,{to:"/privacy",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"Datenschutzerklrung"}),"."]})]}),S.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[S.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:R,onChange:oe=>V(oe.target.checked)}),S.jsx("span",{className:"text-gray-700",children:"Ich mchte hilfreiche Updates & Angebote per E-Mail erhalten (optional)."})]})]}),B&&S.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg",children:S.jsx("p",{className:"text-sm text-red-600 text-center",children:B})}),S.jsx("button",{type:"submit",disabled:!H,className:"w-full px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed transition active:scale-95",children:L?"Speichere...":"Kostenpflichtig weiter"}),S.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center px-2",children:"Keine Sorge: Du kannst dein Abo im nchsten Schritt whlen und spter jederzeit kndigen."})]})]})}const fx=D.createContext({});function b4(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const vv=typeof window<"u",S4=vv?D.useLayoutEffect:D.useEffect,_v=D.createContext(null);function Tv(t,e){t.indexOf(e)===-1&&t.push(e)}function Ev(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ms=(t,e,n)=>n>e?e:n<t?t:n;let bv=()=>{};const Os={},dx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mx(t){return typeof t=="object"&&t!==null}const px=t=>/^0[^.\s]+$/u.test(t);function Sv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ni=t=>t,A4=(t,e)=>n=>e(t(n)),Tc=(...t)=>t.reduce(A4),tc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Av{constructor(){this.subscriptions=[]}add(e){return Tv(this.subscriptions,e),()=>Ev(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ji=t=>t*1e3,ti=t=>t/1e3;function gx(t,e){return e?t*(1e3/e):0}const yx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,w4=1e-7,x4=12;function R4(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=yx(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>w4&&++f<x4);return c}function Ec(t,e,n,s){if(t===e&&n===s)return ni;const a=l=>R4(l,0,1,t,n);return l=>l===0||l===1?l:yx(a(l),e,s)}const vx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_x=t=>e=>1-t(1-e),Tx=Ec(.33,1.53,.69,.99),wv=_x(Tx),Ex=vx(wv),bx=t=>(t*=2)<1?.5*wv(t):.5*(2-Math.pow(2,-10*(t-1))),xv=t=>1-Math.sin(Math.acos(t)),Sx=_x(xv),Ax=vx(xv),C4=Ec(.42,0,1,1),I4=Ec(0,0,.58,1),wx=Ec(.42,0,.58,1),D4=t=>Array.isArray(t)&&typeof t[0]!="number",xx=t=>Array.isArray(t)&&typeof t[0]=="number",N4={linear:ni,easeIn:C4,easeInOut:wx,easeOut:I4,circIn:xv,circInOut:Ax,circOut:Sx,backIn:wv,backInOut:Ex,backOut:Tx,anticipate:bx},V4=t=>typeof t=="string",fS=t=>{if(xx(t)){bv(t.length===4);const[e,n,s,a]=t;return Ec(e,n,s,a)}else if(V4(t))return N4[t];return t},hf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M4(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),t()),y(f)}const g={schedule:(y,_=!1,E=!1)=>{const V=E&&a?n:s;return _&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const O4=40;function Rx(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=hf.reduce((H,ae)=>(H[ae]=M4(l),H),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:E,render:R,postRender:V}=c,L=()=>{const H=Os.useManualTiming?a.timestamp:performance.now();n=!1,Os.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,O4),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),_.process(a),E.process(a),R.process(a),V.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(L))},k=()=>{n=!0,s=!0,a.isProcessing||t(L)};return{schedule:hf.reduce((H,ae)=>{const re=c[ae];return H[ae]=(oe,C=!1,x=!1)=>(n||k(),re.schedule(oe,C,x)),H},{}),cancel:H=>{for(let ae=0;ae<hf.length;ae++)c[hf[ae]].cancel(H)},state:a,steps:c}}const{schedule:ut,cancel:Lr,state:Jt,steps:tg}=Rx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let If;function P4(){If=void 0}const wn={now:()=>(If===void 0&&wn.set(Jt.isProcessing||Os.useManualTiming?Jt.timestamp:performance.now()),If),set:t=>{If=t,queueMicrotask(P4)}},Cx=t=>e=>typeof e=="string"&&e.startsWith(t),Rv=Cx("--"),k4=Cx("var(--"),Cv=t=>k4(t)?L4.test(t.split("/*")[0].trim()):!1,L4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nc={...dl,transform:t=>Ms(0,1,t)},ff={...dl,default:1},ju=t=>Math.round(t*1e5)/1e5,Iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j4(t){return t==null}const U4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dv=(t,e)=>n=>!!(typeof n=="string"&&U4.test(n)&&n.startsWith(t)||e&&!j4(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ix=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Iv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},z4=t=>Ms(0,255,t),ng={...dl,transform:t=>Math.round(z4(t))},xa={test:Dv("rgb","red"),parse:Ix("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ng.transform(t)+", "+ng.transform(e)+", "+ng.transform(n)+", "+ju(nc.transform(s))+")"};function B4(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Qg={test:Dv("#"),parse:B4,transform:xa.transform},bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_r=bc("deg"),es=bc("%"),be=bc("px"),F4=bc("vh"),H4=bc("vw"),dS={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},Uo={test:Dv("hsl","hue"),parse:Ix("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+es.transform(ju(e))+", "+es.transform(ju(n))+", "+ju(nc.transform(s))+")"},Vt={test:t=>xa.test(t)||Qg.test(t)||Uo.test(t),parse:t=>xa.test(t)?xa.parse(t):Uo.test(t)?Uo.parse(t):Qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xa.transform(t):Uo.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G4(t){return isNaN(t)&&typeof t=="string"&&(t.match(Iv)?.length||0)+(t.match(q4)?.length||0)>0}const Dx="number",Nx="color",K4="var",Y4="var(",mS="${}",$4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ic(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace($4,m=>(Vt.test(m)?(s.color.push(l),a.push(Nx),n.push(Vt.parse(m))):m.startsWith(Y4)?(s.var.push(l),a.push(K4),n.push(m)):(s.number.push(l),a.push(Dx),n.push(parseFloat(m))),++l,mS)).split(mS);return{values:n,split:f,indexes:s,types:a}}function Vx(t){return ic(t).values}function Mx(t){const{split:e,types:n}=ic(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===Dx?l+=ju(a[c]):f===Nx?l+=Vt.transform(a[c]):l+=a[c]}return l}}const Q4=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function X4(t){const e=Vx(t);return Mx(t)(e.map(Q4))}const jr={test:G4,parse:Vx,createTransformer:Mx,getAnimatableNone:X4};function ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function W4({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=ig(m,f,t+1/3),l=ig(m,f,t),c=ig(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function nd(t,e){return n=>n>0?e:t}const ft=(t,e,n)=>t+(e-t)*n,sg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Z4=[Qg,xa,Uo],J4=t=>Z4.find(e=>e.test(t));function pS(t){const e=J4(t);if(!e)return!1;let n=e.parse(t);return e===Uo&&(n=W4(n)),n}const gS=(t,e)=>{const n=pS(t),s=pS(e);if(!n||!s)return nd(t,e);const a={...n};return l=>(a.red=sg(n.red,s.red,l),a.green=sg(n.green,s.green,l),a.blue=sg(n.blue,s.blue,l),a.alpha=ft(n.alpha,s.alpha,l),xa.transform(a))},Xg=new Set(["none","hidden"]);function e3(t,e){return Xg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t3(t,e){return n=>ft(t,e,n)}function Nv(t){return typeof t=="number"?t3:typeof t=="string"?Cv(t)?nd:Vt.test(t)?gS:s3:Array.isArray(t)?Ox:typeof t=="object"?Vt.test(t)?gS:n3:nd}function Ox(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Nv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function n3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Nv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function i3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const s3=(t,e)=>{const n=jr.createTransformer(e),s=ic(t),a=ic(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Xg.has(t)&&!a.values.length||Xg.has(e)&&!s.values.length?e3(t,e):Tc(Ox(i3(s,a),a.values),n):nd(t,e)};function Px(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):Nv(t)(t,e)}const r3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>Lr(e),now:()=>Jt.isProcessing?Jt.timestamp:wn.now()}},kx=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},id=2e4;function Vv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<id;)e+=n,s=t.next(e);return e>=id?1/0:e}function a3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Vv(s),id);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ti(a)}}const o3=5;function Lx(t,e,n){const s=Math.max(e-o3,0);return gx(n-t(s),e-s)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rg=.001;function l3({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:s=gt.mass}){let a,l,c=1-e;c=Ms(gt.minDamping,gt.maxDamping,c),t=Ms(gt.minDuration,gt.maxDuration,ti(t)),c<1?(a=g=>{const y=g*c,_=y*t,E=y-n,R=Wg(g,c),V=Math.exp(-_);return rg-E/R*V},l=g=>{const _=g*c*t,E=_*n+n,R=Math.pow(c,2)*Math.pow(g,2)*t,V=Math.exp(-_),L=Wg(Math.pow(g,2),c);return(-a(g)+rg>0?-1:1)*((E-R)*V)/L}):(a=g=>{const y=Math.exp(-g*t),_=(g-n)*t+1;return-rg+y*_},l=g=>{const y=Math.exp(-g*t),_=(n-g)*(t*t);return y*_});const f=5/t,m=c3(a,l,f);if(t=Ji(t),isNaN(m))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:t}}}const u3=12;function c3(t,e,n){let s=n;for(let a=1;a<u3;a++)s=s-t(s)/e(s);return s}function Wg(t,e){return t*Math.sqrt(1-e*e)}const h3=["duration","bounce"],f3=["stiffness","damping","mass"];function yS(t,e){return e.some(n=>t[n]!==void 0)}function d3(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!yS(t,f3)&&yS(t,h3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ms(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:gt.mass,stiffness:a,damping:l}}else{const n=l3(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function sd(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:E,isResolvedFromDuration:R}=d3({...n,velocity:-ti(n.velocity||0)}),V=E||0,L=g/(2*Math.sqrt(m*y)),k=c-l,B=ti(Math.sqrt(m/y)),Y=Math.abs(k)<5;s||(s=Y?gt.restSpeed.granular:gt.restSpeed.default),a||(a=Y?gt.restDelta.granular:gt.restDelta.default);let H;if(L<1){const re=Wg(B,L);H=oe=>{const C=Math.exp(-L*B*oe);return c-C*((V+L*B*k)/re*Math.sin(re*oe)+k*Math.cos(re*oe))}}else if(L===1)H=re=>c-Math.exp(-B*re)*(k+(V+B*k)*re);else{const re=B*Math.sqrt(L*L-1);H=oe=>{const C=Math.exp(-L*B*oe),x=Math.min(re*oe,300);return c-C*((V+L*B*k)*Math.sinh(x)+re*k*Math.cosh(x))/re}}const ae={calculatedDuration:R&&_||null,next:re=>{const oe=H(re);if(R)f.done=re>=_;else{let C=re===0?V:0;L<1&&(C=re===0?Ji(V):Lx(H,re,oe));const x=Math.abs(C)<=s,I=Math.abs(c-oe)<=a;f.done=x&&I}return f.value=f.done?c:oe,f},toString:()=>{const re=Math.min(Vv(ae),id),oe=kx(C=>ae.next(re*C).value,re,30);return re+"ms "+oe},toTransition:()=>{}};return ae}sd.applyToOptions=t=>{const e=a3(t,100,sd);return t.ease=e.ease,t.duration=Ji(e.duration),t.type="keyframes",t};function Zg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:g=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,V=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let L=n*e;const k=_+L,B=c===void 0?k:c(k);B!==k&&(L=B-_);const Y=x=>-L*Math.exp(-x/s),H=x=>B+Y(x),ae=x=>{const I=Y(x),P=H(x);E.done=Math.abs(I)<=g,E.value=E.done?B:P};let re,oe;const C=x=>{R(E.value)&&(re=x,oe=sd({keyframes:[E.value,V(E.value)],velocity:Lx(H,x,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:x=>{let I=!1;return!oe&&re===void 0&&(I=!0,ae(x),C(x)),re!==void 0&&x>=re?oe.next(x-re):(!I&&ae(x),E)}}}function m3(t,e,n){const s=[],a=n||Os.mix||Px,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ni:e;f=Tc(m,f)}s.push(f)}return s}function p3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(bv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=m3(e,s,a),m=f.length,g=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=tc(t[_],t[_+1],y);return f[_](E)};return n?y=>g(Ms(t[0],t[l-1],y)):g}function g3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=tc(0,e,s);t.push(ft(n,1,a))}}function y3(t){const e=[0];return g3(e,t.length-1),e}function v3(t,e){return t.map(n=>n*e)}function _3(t,e){return t.map(()=>e||wx).splice(0,t.length-1)}function Uu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=D4(s)?s.map(fS):fS(s),l={done:!1,value:e[0]},c=v3(n&&n.length===e.length?n:y3(e),t),f=p3(c,e,{ease:Array.isArray(a)?a:_3(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const T3=t=>t!==null;function Mv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(T3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const E3={decay:Zg,inertia:Zg,tween:Uu,keyframes:Uu,spring:sd};function jx(t){typeof t.type=="string"&&(t.type=E3[t.type])}class Ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const b3=t=>t/100;class Pv extends Ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jx(e);const{type:n=Uu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Uu;m!==Uu&&typeof f[0]!="number"&&(this.mixKeyframes=Tc(b3,Px(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Vv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:R,type:V,onUpdate:L,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ae=s;if(_){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),P=x%1;!P&&x>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(P=1-P,R&&(P-=R/f)):E==="mirror"&&(ae=c)),H=Ms(0,1,P)*f}const re=Y?{done:!1,value:y[0]}:ae.next(H);l&&(re.value=l(re.value));let{done:oe}=re;!Y&&m!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return C&&V!==Zg&&(re.value=Mv(y,this.options,k,this.speed)),L&&L(re.value),C&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(this.currentTime)}set time(e){e=Ji(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=r3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function S3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ra=t=>t*180/Math.PI,Jg=t=>{const e=Ra(Math.atan2(t[1],t[0]));return ey(e)},A3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Jg,rotateZ:Jg,skewX:t=>Ra(Math.atan(t[1])),skewY:t=>Ra(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ey=t=>(t=t%360,t<0&&(t+=360),t),vS=Jg,_S=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),TS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),w3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_S,scaleY:TS,scale:t=>(_S(t)+TS(t))/2,rotateX:t=>ey(Ra(Math.atan2(t[6],t[5]))),rotateY:t=>ey(Ra(Math.atan2(-t[2],t[0]))),rotateZ:vS,rotate:vS,skewX:t=>Ra(Math.atan(t[4])),skewY:t=>Ra(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ty(t){return t.includes("scale")?1:0}function ny(t,e){if(!t||t==="none")return ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=w3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=A3,a=f}if(!a)return ty(e);const l=s[e],c=a[1].split(",").map(R3);return typeof l=="function"?l(c):c[l]}const x3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ny(n,e)};function R3(t){return parseFloat(t.trim())}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pl=new Set(ml),ES=t=>t===dl||t===be,C3=new Set(["x","y","z"]),I3=ml.filter(t=>!C3.has(t));function D3(t){const e=[];return I3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Da={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ny(e,"x"),y:(t,{transform:e})=>ny(e,"y")};Da.translateX=Da.x;Da.translateY=Da.y;const Na=new Set;let iy=!1,sy=!1,ry=!1;function Ux(){if(sy){const t=Array.from(Na).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=D3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}sy=!1,iy=!1,Na.forEach(t=>t.complete(ry)),Na.clear()}function zx(){Na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function N3(){ry=!0,zx(),Ux(),ry=!1}class kv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),iy||(iy=!0,ut.read(zx),ut.resolveKeyframes(Ux))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}S3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V3=t=>t.startsWith("--");function M3(t,e,n){V3(e)?t.style.setProperty(e,n):t.style[e]=n}const O3=Sv(()=>window.ScrollTimeline!==void 0),P3={};function k3(t,e){const n=Sv(t);return()=>P3[e]??n()}const Bx=k3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,bS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function Fx(t,e){if(t)return typeof t=="function"?Bx()?kx(t,e):"ease-out":xx(t)?Du(t):Array.isArray(t)?t.map(n=>Fx(n,e)||bS.easeOut):bS[t]}function L3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const _=Fx(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(y,E)}function Hx(t){return typeof t=="function"&&"applyToOptions"in t}function j3({type:t,...e}){return Hx(t)&&Bx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class U3 extends Ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,bv(typeof e.type!="string");const g=j3(e);this.animation=L3(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Mv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):M3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ji(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&O3()?(this.animation.timeline=e,ni):n(this)}}const qx={anticipate:bx,backInOut:Ex,circInOut:Ax};function z3(t){return t in qx}function B3(t){typeof t.ease=="string"&&z3(t.ease)&&(t.ease=qx[t.ease])}const SS=10;class F3 extends U3{constructor(e){B3(e),jx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Pv({...c,autoplay:!1}),m=Ji(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-SS).value,f.sample(m).value,SS),f.stop()}}const AS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url("));function H3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function q3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=AS(a,e),f=AS(l,e);return!c||!f?!1:H3(t)||(n==="spring"||Hx(n))&&s}function ay(t){t.duration=0,t.type="keyframes"}const G3=new Set(["opacity","clipPath","filter","transform"]),K3=Sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y3(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return K3()&&n&&G3.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const $3=40;class Q3 extends Ov{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},R=y?.KeyframeResolver||kv;this.keyframeResolver=new R(f,(V,L,k)=>this.onKeyframesResolved(V,L,E,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=wn.now(),q3(e,l,c,f)||((Os.instantAnimations||!m)&&y?.(Mv(e,s,n)),e[0]=e[e.length-1],ay(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>$3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!g&&Y3(E)?new F3({...E,element:E.motionValue.owner.current}):new Pv(E);R.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),N3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const X3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W3(t){const e=X3.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Gx(t,e,n=1){const[s,a]=W3(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return dx(c)?parseFloat(c):c}return Cv(a)?Gx(a,e,n+1):a}function Lv(t,e){return t?.[e]??t?.default??t}const Kx=new Set(["width","height","top","left","right","bottom",...ml]),Z3={test:t=>t==="auto",parse:t=>t},Yx=t=>e=>e.test(t),$x=[dl,be,es,_r,H4,F4,Z3],wS=t=>$x.find(Yx(t));function J3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||px(t):!0}const e6=new Set(["brightness","contrast","saturate","opacity"]);function t6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Iv)||[];if(!s)return t;const a=n.replace(s,"");let l=e6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const n6=/\b([a-z-]*)\(.*?\)/gu,oy={...jr,getAnimatableNone:t=>{const e=t.match(n6);return e?e.map(t6).join(" "):t}},xS={...dl,transform:Math.round},i6={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:ff,scaleX:ff,scaleY:ff,scaleZ:ff,skew:_r,skewX:_r,skewY:_r,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:nc,originX:dS,originY:dS,originZ:be},jv={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...i6,zIndex:xS,fillOpacity:nc,strokeOpacity:nc,numOctaves:xS},s6={...jv,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:oy,WebkitFilter:oy},Qx=t=>s6[t];function Xx(t,e){let n=Qx(t);return n!==oy&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const r6=new Set(["auto","none","0"]);function a6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!r6.has(l)&&ic(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Xx(n,a)}class o6 extends kv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Cv(g))){const y=Gx(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Kx.has(s)||e.length!==2)return;const[a,l]=e,c=wS(a),f=wS(l);if(c!==f)if(ES(c)&&ES(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Da[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||J3(e[a]))&&s.push(a);s.length&&a6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Da[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Da[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function l6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Wx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function u6(t){return mx(t)&&"offsetHeight"in t}const RS=30,c6=t=>!isNaN(parseFloat(t));class h6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=c6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Av);const s=this.events[e].add(n);return e==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RS);return gx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(t,e){return new h6(t,e)}const{schedule:Uv}=Rx(queueMicrotask,!1),vi={x:!1,y:!1};function Zx(){return vi.x||vi.y}function f6(t){return t==="x"||t==="y"?vi[t]?null:(vi[t]=!0,()=>{vi[t]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function Jx(t,e){const n=l6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function CS(t){return!(t.pointerType==="touch"||Zx())}function d6(t,e,n={}){const[s,a,l]=Jx(t,n),c=f=>{if(!CS(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const y=_=>{CS(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const eR=(t,e)=>e?t===e?!0:eR(t,e.parentElement):!1,zv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function p6(t){return m6.has(t.tagName)||t.tabIndex!==-1}const Df=new WeakSet;function IS(t){return e=>{e.key==="Enter"&&t(e)}}function ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const g6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=IS(()=>{if(Df.has(n))return;ag(n,"down");const a=IS(()=>{ag(n,"up")}),l=()=>ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function DS(t){return zv(t)&&!Zx()}function y6(t,e,n={}){const[s,a,l]=Jx(t,n),c=f=>{const m=f.currentTarget;if(!DS(f))return;Df.add(m);const g=e(m,f),y=(R,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Df.has(m)&&Df.delete(m),DS(R)&&typeof g=="function"&&g(R,{success:V})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||eR(m,R.target))},E=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),u6(f)&&(f.addEventListener("focus",g=>g6(g,a)),!p6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function tR(t){return mx(t)&&"ownerSVGElement"in t}function v6(t){return tR(t)&&t.tagName==="svg"}const ln=t=>!!(t&&t.getVelocity),_6=[...$x,Vt,jr],T6=t=>_6.find(Yx(t)),nR=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function E6(t=!0){const e=D.useContext(_v);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const iR=D.createContext({strict:!1}),NS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},il={};for(const t in NS)il[t]={isEnabled:e=>NS[t].some(n=>!!e[n])};function b6(t){for(const e in t)il[e]={...il[e],...t[e]}}const S6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||S6.has(t)}let sR=t=>!rd(t);function A6(t){typeof t=="function"&&(sR=e=>e.startsWith("on")?!rd(e):t(e))}try{A6(require("@emotion/is-prop-valid").default)}catch{}function w6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(sR(a)||n===!0&&rd(a)||!e&&!rd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Od=D.createContext({});function Pd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sc(t){return typeof t=="string"||Array.isArray(t)}const Bv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fv=["initial",...Bv];function kd(t){return Pd(t.animate)||Fv.some(e=>sc(t[e]))}function rR(t){return!!(kd(t)||t.variants)}function x6(t,e){if(kd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||sc(n)?n:void 0,animate:sc(s)?s:void 0}}return t.inherit!==!1?e:{}}function R6(t){const{initial:e,animate:n}=x6(t,D.useContext(Od));return D.useMemo(()=>({initial:e,animate:n}),[VS(e),VS(n)])}function VS(t){return Array.isArray(t)?t.join(" "):t}const rc={};function C6(t){for(const e in t)rc[e]=t[e],Rv(e)&&(rc[e].isCSSVariable=!0)}function aR(t,{layout:e,layoutId:n}){return pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rc[t]||t==="opacity")}const I6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D6=ml.length;function N6(t,e,n){let s="",a=!0;for(let l=0;l<D6;l++){const c=ml[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=Wx(f,jv[c]);if(!m){a=!1;const y=I6[c]||c;s+=`${y}(${g}) `}n&&(e[c]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Hv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const g=e[m];if(pl.has(m)){c=!0;continue}else if(Rv(m)){a[m]=g;continue}else{const y=Wx(g,jv[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=N6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oR(t,e,n){for(const s in e)!ln(e[s])&&!aR(s,n)&&(t[s]=e[s])}function V6({transformTemplate:t},e){return D.useMemo(()=>{const n=qv();return Hv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function M6(t,e){const n=t.style||{},s={};return oR(s,n,t),Object.assign(s,V6(t,e)),s}function O6(t,e){const n={},s=M6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const P6={offset:"stroke-dashoffset",array:"stroke-dasharray"},k6={offset:"strokeDashoffset",array:"strokeDasharray"};function L6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?P6:k6;t[l.offset]=be.transform(-s);const c=be.transform(e),f=be.transform(n);t[l.array]=`${c} ${f}`}function lR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,g,y){if(Hv(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&L6(_,a,l,c,!1)}const uR=()=>({...qv(),attrs:{}}),cR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function j6(t,e,n,s){const a=D.useMemo(()=>{const l=uR();return lR(l,e,cR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};oR(l,t.style,t),a.style={...l,...a.style}}return a}const U6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gv(t){return typeof t!="string"||t.includes("-")?!1:!!(U6.indexOf(t)>-1||/[A-Z]/u.test(t))}function z6(t,e,n,{latestValues:s},a,l=!1){const f=(Gv(t)?j6:O6)(e,s,a,t),m=w6(e,typeof t=="string",l),g=t!==D.Fragment?{...m,...f,ref:n}:{},{children:y}=e,_=D.useMemo(()=>ln(y)?y.get():y,[y]);return D.createElement(t,{...g,children:_})}function MS(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Kv(t,e,n,s){if(typeof e=="function"){const[a,l]=MS(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=MS(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Nf(t){return ln(t)?t.get():t}function B6({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:F6(n,s,a,t),renderState:e()}}function F6(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Nf(l[E]);let{initial:c,animate:f}=t;const m=kd(t),g=rR(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Pd(_)){const E=Array.isArray(_)?_:[_];for(let R=0;R<E.length;R++){const V=Kv(t,E[R]);if(V){const{transitionEnd:L,transition:k,...B}=V;for(const Y in B){let H=B[Y];if(Array.isArray(H)){const ae=y?H.length-1:0;H=H[ae]}H!==null&&(a[Y]=H)}for(const Y in L)a[Y]=L[Y]}}}return a}const hR=t=>(e,n)=>{const s=D.useContext(Od),a=D.useContext(_v),l=()=>B6(t,e,s,a);return n?l():b4(l)};function Yv(t,e,n){const{style:s}=t,a={};for(const l in s)(ln(s[l])||e.style&&ln(e.style[l])||aR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const H6=hR({scrapeMotionValuesFromProps:Yv,createRenderState:qv});function fR(t,e,n){const s=Yv(t,e,n);for(const a in t)if(ln(t[a])||ln(e[a])){const l=ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const q6=hR({scrapeMotionValuesFromProps:fR,createRenderState:uR}),G6=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K6(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zo(n)&&(n.current=s))},[e])}const $v=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y6="framerAppearId",dR="data-"+$v(Y6),mR=D.createContext({});function $6(t,e,n,s,a){const{visualElement:l}=D.useContext(Od),c=D.useContext(iR),f=D.useContext(_v),m=D.useContext(nR).reducedMotion,g=D.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=D.useContext(mR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Q6(g.current,n,a,_);const E=D.useRef(!1);D.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const R=n[dR],V=D.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return S4(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),D.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),V.current=!1),y.enteringChildren=void 0)}),y}function Q6(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&zo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function pR(t){if(t)return t.options.allowProjection!==!1?t.projection:pR(t.parent)}function og(t,{forwardMotionProps:e=!1}={},n,s){n&&b6(n);const a=Gv(t)?q6:H6;function l(f,m){let g;const y={...D.useContext(nR),...f,layoutId:X6(f)},{isStatic:_}=y,E=R6(f),R=a(f,_);if(!_&&vv){W6();const V=Z6(y);g=V.MeasureLayout,E.visualElement=$6(t,R,y,s,V.ProjectionNode)}return S.jsxs(Od.Provider,{value:E,children:[g&&E.visualElement?S.jsx(g,{visualElement:E.visualElement,...y}):null,z6(t,f,K6(R,E.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=D.forwardRef(l);return c[G6]=t,c}function X6({layoutId:t}){const e=D.useContext(fx).id;return e&&t!==void 0?e+"-"+t:t}function W6(t,e){D.useContext(iR).strict}function Z6(t){const{drag:e,layout:n}=il;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function J6(t,e){if(typeof Proxy>"u")return og;const n=new Map,s=(l,c)=>og(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,og(c,void 0,t,e)),n.get(c))})}function gR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function ej({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function lg(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function Aa(t){return ly(t)||yR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yR(t){return OS(t.x)||OS(t.y)}function OS(t){return t&&t!=="0%"}function ad(t,e,n){const s=t-n,a=e*s;return n+a}function PS(t,e,n,s,a){return a!==void 0&&(t=ad(t,a,s)),ad(t,n,s)+e}function uy(t,e=0,n=1,s,a){t.min=PS(t.min,e,n,s,a),t.max=PS(t.max,e,n,s,a)}function vR(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}const kS=.999999999999,LS=1.0000000000001;function nj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,vR(t,c)),s&&Aa(l.latestValues)&&Fo(t,l.latestValues))}e.x<LS&&e.x>kS&&(e.x=1),e.y<LS&&e.y>kS&&(e.y=1)}function Bo(t,e){t.min=t.min+e,t.max=t.max+e}function jS(t,e,n,s,a=.5){const l=ft(t.min,t.max,a);uy(t,e,n,l,s)}function Fo(t,e){jS(t.x,e.x,e.scaleX,e.scale,e.originX),jS(t.y,e.y,e.scaleY,e.scale,e.originY)}function _R(t,e){return gR(tj(t.getBoundingClientRect(),e))}function ij(t,e,n){const s=_R(t,n),{scroll:a}=e;return a&&(Bo(s.x,a.offset.x),Bo(s.y,a.offset.y)),s}const US=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:US(),y:US()}),zS=()=>({min:0,max:0}),Lt=()=>({x:zS(),y:zS()}),od={current:null},Qv={current:!1};function TR(){if(Qv.current=!0,!!vv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>od.current=t.matches;t.addEventListener("change",e),e()}else od.current=!1}const sj=new WeakMap;function rj(t,e,n){for(const s in e){const a=e[s],l=n[s];if(ln(a))t.addValue(s,a);else if(ln(l))t.addValue(s,nl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,nl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aj{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ut.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=kd(n),this.isVariantNode=rR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const R=_[E];m[E]!==void 0&&ln(R)&&R.set(m[E])}}mount(e){this.current=e,sj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Qv.current||TR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:od.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=pl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in il){const n=il[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<BS.length;s++){const a=BS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=rj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=nl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(dx(s)||px(s))?s=parseFloat(s):!T6(s)&&jr.test(n)&&(s=Xx(e,n)),this.setBaseTarget(e,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Kv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ln(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Uv.render(this.render)}}class ER extends aj{constructor(){super(...arguments),this.KeyframeResolver=o6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function oj(t){return window.getComputedStyle(t)}class lj extends ER{constructor(){super(...arguments),this.type="html",this.renderInstance=bR}readValueFromInstance(e,n){if(pl.has(n))return this.projection?.isProjecting?ty(n):x3(e,n);{const s=oj(e),a=(Rv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _R(e,n)}build(e,n,s){Hv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Yv(e,n,s)}}const SR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uj(t,e,n,s){bR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(SR.has(a)?a:$v(a),e.attrs[a])}class cj extends ER{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pl.has(n)){const s=Qx(n);return s&&s.default||0}return n=SR.has(n)?n:$v(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return fR(e,n,s)}build(e,n,s){lR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){uj(e,n,s,a)}mount(e){this.isSVGTag=cR(e.tagName),super.mount(e)}}const hj=(t,e)=>Gv(t)?new cj(e):new lj(e,{allowProjection:t!==D.Fragment});function $o(t,e,n){const s=t.getProps();return Kv(s,e,n!==void 0?n:s.custom,t)}const cy=t=>Array.isArray(t);function fj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nl(n))}function dj(t){return cy(t)?t[t.length-1]||0:t}function mj(t,e){const n=$o(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=dj(l[c]);fj(t,c,f)}}function pj(t){return!!(ln(t)&&t.add)}function hy(t,e){const n=t.getValue("willChange");if(pj(n))return n.add(e);if(!n&&Os.WillChange){const s=new Os.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function AR(t){return t.props[dR]}const gj=t=>t!==null;function yj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(gj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const vj={type:"spring",stiffness:500,damping:25,restSpeed:10},_j=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tj={type:"keyframes",duration:.8},Ej={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bj=(t,{keyframes:e})=>e.length>2?Tj:pl.has(t)?t.startsWith("scale")?_j(e[1]):vj:Ej;function Sj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Xv=(t,e,n,s={},a,l)=>c=>{const f=Lv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ji(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};Sj(f)||Object.assign(y,bj(t,y)),y.duration&&(y.duration=Ji(y.duration)),y.repeatDelay&&(y.repeatDelay=Ji(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ay(y),y.delay===0&&(_=!0)),(Os.instantAnimations||Os.skipAnimations)&&(_=!0,ay(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const E=yj(y.keyframes,f);if(E!==void 0){ut.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Pv(y):new Q3(y)};function Aj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function wR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||g&&Aj(g,y))continue;const R={delay:n,...Lv(l||{},y)},V=_.get();if(V!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===V&&!R.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const B=AR(t);if(B){const Y=window.MotionHandoffAnimation(B,y,ut);Y!==null&&(R.startTime=Y,L=!0)}}hy(t,y),_.start(Xv(y,_,E,t.shouldReduceMotion&&Kx.has(y)?{type:!1}:R,t,L));const k=_.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{ut.update(()=>{c&&mj(t,c)})}),m}function xR(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function fy(t,e,n={}){const s=$o(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(wR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return wj(t,e,m,g,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function wj(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(fy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+xR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function xj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>fy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=fy(t,e,n);else{const a=typeof e=="function"?$o(t,e,n.custom):e;s=Promise.all(wR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function RR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Rj=Fv.length;function CR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Rj;n++){const s=Fv[n],a=t.props[s];(sc(a)||a===!1)&&(e[s]=a)}return e}const Cj=[...Bv].reverse(),Ij=Bv.length;function Dj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>xj(t,n,s)))}function Nj(t){let e=Dj(t),n=FS(),s=!0;const a=m=>(g,y)=>{const _=$o(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:R,...V}=_;g={...g,...V,...R}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,y=CR(t.parent)||{},_=[],E=new Set;let R={},V=1/0;for(let k=0;k<Ij;k++){const B=Cj[k],Y=n[B],H=g[B]!==void 0?g[B]:y[B],ae=sc(H),re=B===m?Y.isActive:null;re===!1&&(V=k);let oe=H===y[B]&&H!==g[B]&&ae;if(oe&&s&&t.manuallyAnimateOnMount&&(oe=!1),Y.protectedKeys={...R},!Y.isActive&&re===null||!H&&!Y.prevProp||Pd(H)||typeof H=="boolean")continue;const C=Vj(Y.prevProp,H);let x=C||B===m&&Y.isActive&&!oe&&ae||k>V&&ae,I=!1;const P=Array.isArray(H)?H:[H];let O=P.reduce(a(B),{});re===!1&&(O={});const{prevResolvedValues:z={}}=Y,N={...z,...O},we=ie=>{x=!0,E.has(ie)&&(I=!0,E.delete(ie)),Y.needsAnimating[ie]=!0;const ce=t.getValue(ie);ce&&(ce.liveStyle=!1)};for(const ie in N){const ce=O[ie],De=z[ie];if(R.hasOwnProperty(ie))continue;let Pe=!1;cy(ce)&&cy(De)?Pe=!RR(ce,De):Pe=ce!==De,Pe?ce!=null?we(ie):E.add(ie):ce!==void 0&&E.has(ie)?we(ie):Y.protectedKeys[ie]=!0}Y.prevProp=H,Y.prevResolvedValues=O,Y.isActive&&(R={...R,...O}),s&&t.blockInitialAnimation&&(x=!1);const _e=oe&&C;x&&(!_e||I)&&_.push(...P.map(ie=>{const ce={type:B};if(typeof ie=="string"&&s&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:De}=t,Pe=$o(De,ie);if(De.enteringChildren&&Pe){const{delayChildren:U}=Pe.transition||{};ce.delay=xR(De.enteringChildren,t,U)}}return{animation:ie,options:ce}}))}if(E.size){const k={};if(typeof g.initial!="boolean"){const B=$o(t,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(k.transition=B.transition)}E.forEach(B=>{const Y=t.getBaseTarget(B),H=t.getValue(B);H&&(H.liveStyle=!0),k[B]=Y??null}),_.push({animation:k})}let L=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(_):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=FS()}}}function Vj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RR(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FS(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Mj extends qr{constructor(e){super(e),e.animationState||(e.animationState=Nj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Oj=0;class Pj extends qr{constructor(){super(...arguments),this.id=Oj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kj={animation:{Feature:Mj},exit:{Feature:Pj}};function ac(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Sc(t){return{point:{x:t.pageX,y:t.pageY}}}const Lj=t=>e=>zv(e)&&t(e,Sc(e));function zu(t,e,n,s){return ac(t,e,Lj(n),s)}const IR=1e-4,jj=1-IR,Uj=1+IR,DR=.01,zj=0-DR,Bj=0+DR;function dn(t){return t.max-t.min}function Fj(t,e,n){return Math.abs(t-e)<=n}function HS(t,e,n,s=.5){t.origin=s,t.originPoint=ft(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jj&&t.scale<=Uj||isNaN(t.scale))&&(t.scale=1),(t.translate>=zj&&t.translate<=Bj||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,s){HS(t.x,e.x,n.x,s?s.originX:void 0),HS(t.y,e.y,n.y,s?s.originY:void 0)}function qS(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function Hj(t,e,n){qS(t.x,e.x,n.x),qS(t.y,e.y,n.y)}function GS(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function ld(t,e,n){GS(t.x,e.x,n.x),GS(t.y,e.y,n.y)}function Jn(t){return[t("x"),t("y")]}const NR=({current:t})=>t?t.ownerDocument.defaultView:null,KS=(t,e)=>Math.abs(t-e);function qj(t,e){const n=KS(t.x,e.x),s=KS(t.y,e.y);return Math.sqrt(n**2+s**2)}class VR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=cg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,V=qj(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!V)return;const{point:L}=E,{timestamp:k}=Jt;this.history.push({...L,timestamp:k});const{onStart:B,onMove:Y}=this.handlers;R||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,E)},this.handlePointerMove=(E,R)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=ug(R,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(E,R)=>{this.end();const{onEnd:V,onSessionEnd:L,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=cg(E.type==="pointercancel"?this.lastMoveEventInfo:ug(R,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,B),L&&L(E,B)},!zv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Sc(e),m=ug(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=Jt;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,cg(m,this.history)),this.removeListeners=Tc(zu(this.contextWindow,"pointermove",this.handlePointerMove),zu(this.contextWindow,"pointerup",this.handlePointerUp),zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lr(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function YS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cg({point:t},e){return{point:t,delta:YS(t,MR(e)),offset:YS(t,Gj(e)),velocity:Kj(e,.1)}}function Gj(t){return t[0]}function MR(t){return t[t.length-1]}function Kj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=MR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ji(e)));)n--;if(!s)return{x:0,y:0};const l=ti(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Yj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ft(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ft(n,t,s.max):Math.min(t,n)),t}function $S(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $j(t,{top:e,left:n,bottom:s,right:a}){return{x:$S(t.x,n,a),y:$S(t.y,e,s)}}function QS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Qj(t,e){return{x:QS(t.x,e.x),y:QS(t.y,e.y)}}function Xj(t,e){let n=.5;const s=dn(t),a=dn(e);return a>s?n=tc(e.min,e.max-s,t.min):s>a&&(n=tc(t.min,t.max-a,e.min)),Ms(0,1,n)}function Wj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function Zj(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:XS(t,"left","right"),y:XS(t,"top","bottom")}}function XS(t,e,n){return{min:WS(t,e),max:WS(t,n)}}function WS(t,e){return typeof t=="number"?t:t[e]||0}const Jj=new WeakMap;class eU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sc(_).point)},c=(_,E)=>{const{drag:R,dragPropagation:V,onDragStart:L}=this.getProps();if(R&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f6(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(B=>{let Y=this.getAxisMotionValue(B).get()||0;if(es.test(Y)){const{projection:H}=this.visualElement;if(H&&H.layout){const ae=H.layout.layoutBox[B];ae&&(Y=dn(ae)*(parseFloat(Y)/100))}}this.originPoint[B]=Y}),L&&ut.postRender(()=>L(_,E)),hy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:R,dragDirectionLock:V,onDirectionLock:L,onDrag:k}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=E;if(V&&this.currentDirection===null){this.currentDirection=tU(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,B),this.updateAxis("y",E.point,B),this.visualElement.render(),k&&k(_,E)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Jn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new VR(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:NR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ut.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Yj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=$j(s.layoutBox,e):this.constraints=!1,this.elastic=Zj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Wj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=ij(s,a.root,this.visualElement.getTransformPagePoint());let c=Qj(a.layout.layoutBox,l);if(n){const f=n(ej(c));this.hasMutatedConstraints=!!f,f&&(c=gR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=Jn(y=>{if(!df(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,R=a?40:1e7,V={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return hy(this.visualElement,e),s.start(Xv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:s}=this.getProps();if(!df(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ft(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Jn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Xj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Jn(c=>{if(!df(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];f.set(ft(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;Jj.set(this.visualElement,this);const e=this.visualElement.current,n=zu(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(s);const c=ac(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Jn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=dy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nU extends qr{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new eU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZS=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class iU extends qr{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new VR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ZS(e),onStart:ZS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ut.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=zu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=JS(t,e.target.x),s=JS(t,e.target.y);return`${n}% ${s}%`}},sU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=jr.parse(t);if(a.length>5)return s;const l=jr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const g=ft(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let hg=!1;class rU extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;C6(aU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),hg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,hg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ut.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Uv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;hg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OR(t){const[e,n]=E6(),s=D.useContext(fx);return S.jsx(rU,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(mR),isPresent:e,safeToRemove:n})}const aU={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:sU};function oU(t,e,n){const s=ln(t)?t:nl(t);return s.start(Xv("",s,e,n)),s.animation}const lU=(t,e)=>t.depth-e.depth;class uU{constructor(){this.children=[],this.isDirty=!1}add(e){Tv(this.children,e),this.isDirty=!0}remove(e){Ev(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lU),this.isDirty=!1,this.children.forEach(e)}}function cU(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Lr(s),t(l-e))};return ut.setup(s,!0),()=>Lr(s)}const PR=["TopLeft","TopRight","BottomLeft","BottomRight"],hU=PR.length,eA=t=>typeof t=="string"?parseFloat(t):t,tA=t=>typeof t=="number"||be.test(t);function fU(t,e,n,s,a,l){a?(t.opacity=ft(0,n.opacity??1,dU(s)),t.opacityExit=ft(e.opacity??1,0,mU(s))):l&&(t.opacity=ft(e.opacity??1,n.opacity??1,s));for(let c=0;c<hU;c++){const f=`border${PR[c]}Radius`;let m=nA(e,f),g=nA(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||tA(m)===tA(g)?(t[f]=Math.max(ft(eA(m),eA(g),s),0),(es.test(g)||es.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,s))}function nA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dU=kR(0,.5,Sx),mU=kR(.5,.95,ni);function kR(t,e,n){return s=>s<t?0:s>e?1:n(tc(t,e,s))}function iA(t,e){t.min=e.min,t.max=e.max}function yi(t,e){iA(t.x,e.x),iA(t.y,e.y)}function sA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rA(t,e,n,s,a){return t-=e,t=ad(t,1/n,s),a!==void 0&&(t=ad(t,1/a,s)),t}function pU(t,e=0,n=1,s=.5,a,l=t,c=t){if(es.test(e)&&(e=parseFloat(e),e=ft(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ft(l.min,l.max,s);t===l&&(f-=e),t.min=rA(t.min,e,n,f,a),t.max=rA(t.max,e,n,f,a)}function aA(t,e,[n,s,a],l,c){pU(t,e[n],e[s],e[a],e.scale,l,c)}const gU=["x","scaleX","originX"],yU=["y","scaleY","originY"];function oA(t,e,n,s){aA(t.x,e,gU,n?n.x:void 0,s?s.x:void 0),aA(t.y,e,yU,n?n.y:void 0,s?s.y:void 0)}function lA(t){return t.translate===0&&t.scale===1}function LR(t){return lA(t.x)&&lA(t.y)}function uA(t,e){return t.min===e.min&&t.max===e.max}function vU(t,e){return uA(t.x,e.x)&&uA(t.y,e.y)}function cA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jR(t,e){return cA(t.x,e.x)&&cA(t.y,e.y)}function hA(t){return dn(t.x)/dn(t.y)}function fA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _U{constructor(){this.members=[]}add(e){Tv(this.members,e),e.scheduleRender()}remove(e){if(Ev(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:E,skewX:R,skewY:V}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),R&&(s+=`skewX(${R}deg) `),V&&(s+=`skewY(${V}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const fg=["","X","Y","Z"],EU=1e3;let bU=0;function dg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function UR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&UR(s)}function zR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=bU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wU),this.nodes.forEach(IU),this.nodes.forEach(DU),this.nodes.forEach(xU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new uU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Av),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=tR(c)&&!v6(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=cU(E,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(pA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||PU,{onLayoutAnimationStart:L,onLayoutAnimationComplete:k}=g.getProps(),B=!this.targetLayout||!jR(this.targetLayout,R),Y=!_&&E;if(this.options.layoutRoot||this.resumeFrom||Y||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Lv(V,"layout"),onPlay:L,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,Y)}else _||pA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CU),this.nodes.forEach(SU),this.nodes.forEach(AU)):this.nodes.forEach(mA),this.clearAllSnapshots();const f=wn.now();Jt.delta=Ms(0,1e3/60,f-Jt.timestamp),Jt.timestamp=f,Jt.isProcessing=!0,tg.update.process(Jt),tg.preRender.process(Jt),tg.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RU),this.sharedNodes.forEach(VU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!LR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(f||Aa(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),kU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Lt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LU))){const{scroll:g}=this.root;g&&(Bo(f.x,g.offset.x),Bo(f.y,g.offset.y))}return f}removeElementScroll(c){const f=Lt();if(yi(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&yi(f,c),Bo(f.x,y.offset.x),Bo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=Lt();yi(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Aa(y.latestValues)&&Fo(m,y.latestValues)}return Aa(this.latestValues)&&Fo(m,this.latestValues),m}removeTransform(c){const f=Lt();yi(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Aa(g.latestValues))continue;ly(g.latestValues)&&g.updateSnapshot();const y=Lt(),_=g.measurePageBox();yi(y,_),oA(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Aa(this.latestValues)&&oA(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Jt.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),vR(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||yR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),ld(this.relativeTargetOrigin,f,m),yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;nj(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Lt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sA(this.prevProjectionDelta.x,this.projectionDelta.x),sA(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!fA(this.projectionDelta.x,this.prevProjectionDelta.x)||!fA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(c,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Lt(),R=m?m.source:void 0,V=this.layout?this.layout.source:void 0,L=R!==V,k=this.getStack(),B=!k||k.members.length<=1,Y=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(OU));this.animationProgress=0;let H;this.mixTargetDelta=ae=>{const re=ae/1e3;gA(_.x,c.x,re),gA(_.y,c.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ld(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MU(this.relativeTarget,this.relativeTargetOrigin,E,re),H&&vU(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Lt()),yi(H,this.relativeTarget)),L&&(this.animationValues=y,fU(y,g,this.latestValues,re,Y,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nl(0)),this.currentAnimation=oU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=c;if(!(!f||!m||!g)){if(this!==c&&this.layout&&g&&BR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Lt();const _=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}yi(f,m),Fo(f,y),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new _U),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&dg("z",c,g,this.animationValues);for(let y=0;y<fg.length;y++)dg(`rotate${fg[y]}`,c,g,this.animationValues),dg(`skew${fg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nf(f?.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=TU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:R}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in rc){if(y[V]===void 0)continue;const{correct:L,applyTo:k,isCSSVariable:B}=rc[V],Y=_==="none"?y[V]:L(y[V],g);if(k){const H=k.length;for(let ae=0;ae<H;ae++)c[k[ae]]=Y}else B?this.options.visualElement.renderState.vars[V]=Y:c[V]=Y}this.options.layoutId&&(c.pointerEvents=g===this?Nf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(dA),this.root.sharedNodes.clear()}}}function SU(t){t.updateLayout()}function AU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Jn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],E=dn(_);_.min=n[y].min,_.max=_.min+E}):BR(a,e.layoutBox,n)&&Jn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],E=dn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const c=Ho();Bu(c,n,e.layoutBox);const f=Ho();l?Bu(f,t.applyTransform(s,!0),e.measuredBox):Bu(f,n,e.layoutBox);const m=!LR(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const R=Lt();ld(R,e.layoutBox,_.layoutBox);const V=Lt();ld(V,n,E.layoutBox),jR(R,V)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function wU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RU(t){t.clearSnapshot()}function dA(t){t.clearMeasurements()}function mA(t){t.isLayoutDirty=!1}function CU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IU(t){t.resolveTargetDelta()}function DU(t){t.calcProjection()}function NU(t){t.resetSkewAndRotation()}function VU(t){t.removeLeadSnapshot()}function gA(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yA(t,e,n,s){t.min=ft(e.min,n.min,s),t.max=ft(e.max,n.max,s)}function MU(t,e,n,s){yA(t.x,e.x,n.x,s),yA(t.y,e.y,n.y,s)}function OU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PU={duration:.45,ease:[.4,0,.1,1]},vA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_A=vA("applewebkit/")&&!vA("chrome/")?Math.round:ni;function TA(t){t.min=_A(t.min),t.max=_A(t.max)}function kU(t){TA(t.x),TA(t.y)}function BR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fj(hA(e),hA(n),.2)}function LU(t){return t!==t.root&&t.scroll?.wasRoot}const jU=zR({attachResizeListener:(t,e)=>ac(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},FR=zR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mg.current){const t=new jU({});t.mount(window),t.setOptions({layoutScroll:!0}),mg.current=t}return mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UU={pan:{Feature:iU},drag:{Feature:nU,ProjectionNode:FR,MeasureLayout:OR}};function EA(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ut.postRender(()=>l(e,Sc(e)))}class zU extends qr{mount(){const{current:e}=this.node;e&&(this.unmount=d6(e,(n,s)=>(EA(this.node,s,"Start"),a=>EA(this.node,a,"End"))))}unmount(){}}class BU extends qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tc(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bA(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ut.postRender(()=>l(e,Sc(e)))}class FU extends qr{mount(){const{current:e}=this.node;e&&(this.unmount=y6(e,(n,s)=>(bA(this.node,s,"Start"),(a,{success:l})=>bA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,pg=new WeakMap,HU=t=>{const e=my.get(t.target);e&&e(t)},qU=t=>{t.forEach(HU)};function GU({root:t,...e}){const n=t||document;pg.has(n)||pg.set(n,{});const s=pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(qU,{root:t,...e})),s[a]}function KU(t,e,n){const s=GU(e);return my.set(t,n),s.observe(t),()=>{my.delete(t),s.unobserve(t)}}const YU={some:0,all:1};class $U extends qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:YU[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=g?y:_;E&&E(m)};return KU(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QU(e,n))&&this.startObserver()}unmount(){}}function QU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XU={inView:{Feature:$U},tap:{Feature:FU},focus:{Feature:BU},hover:{Feature:zU}},WU={layout:{ProjectionNode:FR,MeasureLayout:OR}},ZU={...kj,...XU,...UU,...WU},py=J6(ZU,hj);function JU(){!Qv.current&&TR();const[t]=D.useState(od.current);return t}function mf({delay:t=0,dark:e=!1}){const s=JU()?{}:{y:[0,-18,0],scale:[1,1.06,1],rotate:[0,-2,0],boxShadow:["0 8px 20px rgba(0,0,0,0.08)","0 16px 28px rgba(0,0,0,0.12)","0 8px 20px rgba(0,0,0,0.08)"]};return S.jsx(py.div,{className:`h-10 w-10 rounded-xl ${e?"bg-white":"bg-gray-900"}`,style:{background:e?"linear-gradient(135deg, #fff 0%, #d4d4d4 100%)":"linear-gradient(135deg, #111827 0%, #1f2937 100%)"},initial:{y:0,scale:1,rotate:0},animate:s,transition:{duration:.9,repeat:1/0,ease:"easeInOut",delay:t}})}function e5({label:t="Wird geladen",theme:e="light"}){const n=e==="dark";return S.jsxs("div",{className:`fixed inset-0 z-[9999] grid place-items-center overflow-hidden ${n?"bg-black":"bg-white"}`,children:[S.jsxs("div",{className:"relative flex flex-col items-center gap-6 px-6",children:[S.jsxs("div",{className:"flex items-end gap-3",children:[S.jsx(mf,{delay:0,dark:n}),S.jsx(mf,{delay:.12,dark:n}),S.jsx(mf,{delay:.24,dark:n}),S.jsx(mf,{delay:.36,dark:n})]}),S.jsx(py.div,{className:`h-1 w-28 rounded-full ${n?"bg-white/30":"bg-gray-900/20"}`,initial:{scaleX:.7,opacity:.8},animate:{scaleX:[.7,1,.7],opacity:[.8,1,.8]},transition:{duration:.9,repeat:1/0,ease:"easeInOut"}}),S.jsx(py.p,{className:`text-center text-sm tracking-wide ${n?"text-white/80":"text-gray-700"}`,initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:t})]}),S.jsx("div",{className:`pointer-events-none absolute inset-0 ${n?"bg-[radial-gradient(transparent,rgba(0,0,0,0.5))]":"bg-[radial-gradient(transparent,rgba(0,0,0,0.05))]"}`})]})}function t5({children:t}){const{user:e,ready:n}=ss();return n?e?t:S.jsx(Va,{to:"/login",replace:!0}):S.jsx(e5,{label:"Profil wird geladen"})}function n5({children:t}){const{user:e,role:n}=ss();return e?n!=="admin"?S.jsx(Va,{to:"/",replace:!0}):t:S.jsx(Va,{to:"/",replace:!0})}function i5(){const{user:t}=ss(),[e,n]=D.useState(null),[s,a]=D.useState(!0);return D.useEffect(()=>{if(!t?.uid)return;async function l(){try{const c=jn(Un,"users",t.uid,"searchFilters","default"),f=await pv(c);if(!f.exists()){console.warn("useUserFilters  kein 'default' Document!"),n({});return}const m=f.data();n(m.filters||m||{})}catch(c){console.error("Fehler beim Laden der Filters:",c),n({})}finally{a(!1)}}l()},[t?.uid]),{filters:e,loading:s}}const SA="VUVj9lGbHQAdYVsF04k8";function s5({filters:t}){const{user:e}=ss(),[n,s]=D.useState(!1),[a,l]=D.useState(""),[c,f]=D.useState([]),[m,g]=D.useState(t.coordinate?.lat??52.52),[y,_]=D.useState(t.coordinate?.lon??13.405),[E,R]=D.useState(t.radiusInKm??10),V=D.useRef(null),L=D.useRef({L:null,map:null,marker:null,circle:null});async function k(H){if(!H||H.length<3){f([]);return}const ae=`https://api.maptiler.com/geocoding/${encodeURIComponent(H)}.json?key=${SA}&language=de`,oe=await(await fetch(ae)).json();f(oe.features?.map(C=>({label:C.place_name,lat:C.center[1],lon:C.center[0]}))??[])}function B(H){l(H.label),g(H.lat),_(H.lon),f([])}D.useEffect(()=>{let H=!1;async function ae(){if(!document.querySelector("link[data-leaflet]")){const C=document.createElement("link");C.rel="stylesheet",C.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",C.setAttribute("data-leaflet","1"),document.head.appendChild(C)}return window.L||await new Promise(C=>{const x=document.createElement("script");x.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",x.onload=C,document.body.appendChild(x)}),window.L}async function re(){if(!V.current)return;const C=await ae();if(!H){if(L.current.L=C,!L.current.map){const x=C.map(V.current).setView([m,y],11);L.current.map=x,C.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${SA}`,{attribution:"&copy; MapTiler"}).addTo(x)}oe(m,y,E)}}function oe(C,x,I){const{L:P,map:O,marker:z,circle:N}=L.current;if(!P||!O)return;z&&z.remove(),N&&N.remove();const we=P.marker([C,x]).addTo(O),_e=P.circle([C,x],{radius:I*1e3,color:"#1d4ed8",fillOpacity:.2}).addTo(O);L.current.marker=we,L.current.circle=_e,O.fitBounds(_e.getBounds(),{padding:[20,20]})}return re(),()=>{H=!0}},[m,y,E]);async function Y(){if(e?.uid)try{const H=jn(Un,"users",e.uid,"searchFilters","default");await Ia(H,{filters:{...t,coordinate:{lat:m,lon:y},radiusInKm:E}}),s(!1)}catch(H){console.error(H)}}return S.jsxs("section",{className:"mb-6 rounded-2xl border border-gray-200 bg-slate-50 p-5",children:[S.jsxs("header",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Standort & Radius"}),S.jsx("button",{onClick:()=>s(H=>!H),className:"rounded-full border border-gray-900 px-3 py-1 text-xs font-medium",children:n?"Fertig":"Bearbeiten"})]}),n&&S.jsxs("div",{className:"relative mb-3",children:[S.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Adresse eingeben"}),S.jsx("input",{type:"text",value:a,onChange:H=>{l(H.target.value),k(H.target.value)},placeholder:"z.B. Berlin Alexanderplatz",className:"w-full rounded-xl border px-3 py-2 text-sm"}),c.length>0&&S.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-xl border bg-white shadow z-10 max-h-40 overflow-auto",children:c.map((H,ae)=>S.jsx("button",{onClick:()=>B(H),className:"block w-full text-left px-3 py-2 text-sm hover:bg-gray-100",children:H.label},ae))})]}),n&&S.jsxs("div",{className:"mb-3",children:[S.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Radius"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:[5,7.5,10,12.5,15,20].map(H=>S.jsxs("button",{onClick:()=>R(H),className:`px-3 py-1 rounded-full text-xs border ${E===H?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800"}`,children:[H," km"]},H))})]}),S.jsx("div",{ref:V,className:"h-72 w-full rounded-xl border bg-gray-200"}),n&&S.jsx("div",{className:"flex justify-end mt-4",children:S.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-full bg-gray-900 text-white text-xs",children:"Speichern"})})]})}function r5({filters:t,user:e}){const[n,s]=D.useState(t.objectClasses||[]),[a,l]=D.useState(t.offerTypes||[]),c=async(f,m,g,y)=>{const _=m.includes(f)?m.filter(E=>E!==f):[...m,f];g(_),await Ia(jn(Un,"users",e.uid,"searchFilters","default"),{filters:{...t,[y]:_}})};return S.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Objektarten & Angebot"}),S.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Objektarten"}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Wohnung","Haus","Gewerbe","Grundstueck"].map(f=>{const m=n.includes(f);return S.jsx("button",{onClick:()=>c(f,n,s,"objectClasses"),className:`px-3 py-1.5 text-xs rounded-full border transition ${m?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:f},f)})}),S.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Angebotsarten"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:["Kauf","Miete"].map(f=>{const m=a.includes(f);return S.jsx("button",{onClick:()=>c(f,a,l,"offerTypes"),className:`px-3 py-1.5 text-xs rounded-full border transition ${m?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:f},f)})})]})}function AA({active:t,onClick:e,children:n}){return S.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 rounded-full border text-sm ${t?"bg-blue-600 text-white":"bg-white"}`,children:n})}const a5=[600,800,1e3,1200,1500,null],o5=[2e5,3e5,4e5,5e5,75e4,1e6,null],l5=[40,60,80,100,120,150,200,null];function u5({filters:t}){const{user:e}=ss(),n=t.offerTypes?.includes("Miete")&&!t.offerTypes?.includes("Kauf"),s=D.useMemo(()=>n?a5:o5,[n]),[a,l]=D.useState(t.priceRange?.to??null),[c,f]=D.useState(t.propertySpaceRange?.to??null),m=n?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?",g=L=>typeof L=="number"?`bis ${L.toLocaleString("de-DE")} `:"beliebig",y=L=>typeof L=="number"?`bis ${L} qm`:"beliebig";D.useEffect(()=>{if(l(null),!e?.uid)return;const L=jn(Un,"users",e.uid,"searchFilters","default");Ia(L,{filters:{...t,priceRange:{...t.priceRange||{},to:null}}}).catch(k=>console.error(k))},[n]);async function _(L){if(!e?.uid)return;const k=jn(Un,"users",e.uid,"searchFilters","default");await Ia(k,{filters:{...t,priceRange:{...t.priceRange||{},to:L}}})}async function E(L){if(!e?.uid)return;const k=jn(Un,"users",e.uid,"searchFilters","default");await Ia(k,{filters:{...t,propertySpaceRange:{...t.propertySpaceRange||{},to:L}}})}const R=L=>{l(L),_(L)},V=L=>{f(L),E(L)};return S.jsxs("section",{className:"space-y-4 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[S.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Preis & Flche"}),S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:m}),S.jsx("div",{className:"flex flex-wrap gap-2 justify-start",children:s.map((L,k)=>S.jsx(AA,{active:a===L,onClick:()=>R(L),children:g(L)},k))}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-medium text-center sm:text-left",children:"Flche:"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:l5.map((L,k)=>S.jsx(AA,{active:c===L,onClick:()=>V(L),children:y(L)},k))})]})]})}const wA=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function c5({filters:t}){const{user:e}=ss(),[n,s]=D.useState({...wA.reduce((l,c)=>({...l,[c.key]:t[c.key]??!1}),{})}),a=async l=>{const c=!n[l],f={...n,[l]:c};s(f),await Ia(jn(Un,"users",e.uid,"searchFilters","default"),{filters:{...t,...f}})};return S.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Ausstattung & Extras"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:wA.map(l=>{const c=n[l.key];return S.jsx("button",{onClick:()=>a(l.key),className:`px-3 py-1.5 text-xs rounded-full border transition ${c?"bg-blue-600 border-blue-600 text-white":"bg-gray-100 text-gray-800 border-gray-300 hover:bg-gray-200"}`,children:l.label},l.key)})})]})}function h5(){const{user:t}=ss(),[e,n]=D.useState("loading"),[s,a]=D.useState(null);return D.useEffect(()=>{if(!t)return;(async()=>{const f=(await pv(jn(Un,"users",t.uid))).data();a(f),f?.stripeStatus?n(f.stripeStatus):n("free")})()},[t]),{status:e,userDoc:s,isPaid:e==="paid",loading:e==="loading"}}function f5({loading:t,error:e,onSelectMonthly:n,onSelectYearly:s}){return S.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex justify-center items-center z-50 px-4",children:S.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-3xl shadow-xl border border-slate-100 p-8",children:[S.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-900 text-center mb-2",children:"Fast geschafft!"}),S.jsx("p",{className:"text-slate-600 text-center mb-6",children:"Whle dein ImmobotPro-Abo aus und starte direkt mit deiner automatischen Immobiliensuche."}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[S.jsxs("button",{type:"button",onClick:n,disabled:t,className:"group border rounded-2xl p-5 text-left hover:border-sky-500 hover:shadow-md transition flex flex-col justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600 mb-1",children:"Monatlich"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"6,99 "}),S.jsx("p",{className:"text-sm text-slate-500",children:"pro Monat, flexibel kndbar"})]}),S.jsx("span",{className:"mt-4 inline-flex items-center text-sm font-medium text-sky-600 group-hover:translate-x-0.5 transition",children:"Monatlich starten "})]}),S.jsxs("button",{type:"button",onClick:s,disabled:t,className:"group border rounded-2xl p-5 text-left hover:border-amber-500 hover:shadow-md transition flex flex-col justify-between bg-slate-50",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-amber-600 mb-1",children:"Jhrlich"}),S.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"59,90 "}),S.jsx("p",{className:"text-sm text-slate-500",children:"12 Monate ImmobotPro  gnstiger als monatlich"})]}),S.jsx("span",{className:"mt-4 inline-flex items-center text-sm font-medium text-amber-600 group-hover:translate-x-0.5 transition",children:"Jhrlich abschlieen "})]})]}),e&&S.jsx("p",{className:"text-sm text-red-600 text-center mb-2",children:e}),t&&S.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Weiterleitung zu Stripe"})]})})}const d5="price_1SaeE9DhGVwiGXJYxm5oZdI6",m5="price_1SaeGDDhGVwiGXJYn2kbMjuh";function p5({children:t}){const{isPaid:e,loading:n}=h5(),[s,a]=D.useState(!1),[l,c]=D.useState("");async function f(m){c(""),a(!0);try{const _=(await FL(qL,"createCheckoutSession")({priceId:m})).data?.url;if(!_)throw new Error("Keine Checkout-URL erhalten");window.location.href=_}catch(g){console.error(g),c(g.message||"Fehler beim Starten des Checkouts"),a(!1)}}return n?S.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Prfe deinen Zugang"}):e?t:S.jsx(f5,{loading:s,error:l,onSelectMonthly:()=>f(d5),onSelectYearly:()=>f(m5)})}function g5(){return S.jsx("h1",{className:"text-3xl font-bold",children:" Admin: Dashboard"})}const y5=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],v5=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],_5=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],T5=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function E5({filters:t,user:e}){const[n,s]=D.useState(!1),[a,l]=D.useState(t.energySources||[]),[c,f]=D.useState(t.heatingTypes||[]),[m,g]=D.useState(t.energyRatings||[]),[y,_]=D.useState(t.energyEfficiencyStandards||[]),[E,R]=D.useState(t.pricePerSqmRange?.from??""),[V,L]=D.useState(t.pricePerSqmRange?.to??""),[k,B]=D.useState(t.yieldRange?.from??""),[Y,H]=D.useState(t.yieldRange?.to??""),[ae,re]=D.useState(t.energyConsumptionRange?.from??""),[oe,C]=D.useState(t.energyConsumptionRange?.to??""),[x,I]=D.useState(t.constructionYearRange?.from??""),[P,O]=D.useState(t.constructionYearRange?.to??""),z=(_e,W,ie)=>{ie(W.includes(_e)?W.filter(ce=>ce!==_e):[...W,_e])};async function N(){const _e=jn(Un,"users",e.uid,"searchFilters","default");await Ia(_e,{filters:{...t,energySources:a,heatingTypes:c,energyRatings:m,energyEfficiencyStandards:y,pricePerSqmRange:{from:E,to:V},yieldRange:{from:k,to:Y},energyConsumptionRange:{from:ae,to:oe},constructionYearRange:{from:x,to:P}}}),s(!1)}const we=(_e,W,ie="")=>_e&&W?`von ${_e}${ie} bis ${W}${ie}`:_e?`ab ${_e}${ie}`:W?`bis ${W}${ie}`:"";return S.jsxs("section",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[S.jsxs("header",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Erweiterte Filter"}),S.jsx("button",{onClick:()=>s(!n),className:"text-sm px-4 py-1.5 rounded-full border border-gray-300 hover:bg-gray-100",children:n?"Fertig":"Bearbeiten"})]}),n?S.jsxs("div",{className:"space-y-6",children:[S.jsx(vr,{title:"Energietrger",children:S.jsx(pf,{options:y5,active:a,onToggle:_e=>z(_e,a,l)})}),S.jsx(vr,{title:"Heizung",children:S.jsx(pf,{options:v5,active:c,onToggle:_e=>z(_e,c,f)})}),S.jsx(vr,{title:"Energieklasse",children:S.jsx(pf,{options:_5,active:m,onToggle:_e=>z(_e,m,g)})}),S.jsx(vr,{title:"Energiestandard",children:S.jsx(pf,{options:T5,active:y,onToggle:_e=>z(_e,y,_)})}),S.jsx(vr,{title:"Preis pro m",children:S.jsx(gf,{from:E,to:V,setFrom:R,setTo:L,unit:"/m"})}),S.jsx(vr,{title:"Rendite",children:S.jsx(gf,{from:k,to:Y,setFrom:B,setTo:H,unit:"%",step:"0.1"})}),S.jsx(vr,{title:"Energieverbrauch",children:S.jsx(gf,{from:ae,to:oe,setFrom:re,setTo:C,unit:"kWh/m*a"})}),S.jsx(vr,{title:"Baujahr",children:S.jsx(gf,{from:x,to:P,setFrom:I,setTo:O})})]}):S.jsxs("div",{className:"text-gray-800 text-sm space-y-2 leading-relaxed",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Energietrger:"})," ",a.join(", ")||""]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Heizung:"})," ",c.join(", ")||""]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Energieklasse:"})," ",m.join(", ")||""]}),S.jsxs("p",{children:[S.jsx("strong",{children:"KfW-Standard:"})," ",y.join(", ")||""]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Preis pro m:"})," ",we(E,V," /m")]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Rendite:"})," ",we(k,Y,"%")]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Energieverbrauch:"})," ",we(ae,oe," kWh/m*a")]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Baujahr:"})," ",we(x,P)]})]}),n&&S.jsx("div",{className:"flex justify-end mt-4",children:S.jsx("button",{onClick:N,className:"px-4 py-2 rounded-full bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Speichern"})})]})}function vr({title:t,children:e}){return S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-sm mb-2",children:t}),e]})}function pf({options:t,active:e,onToggle:n}){return S.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(s=>{const a=e.includes(s);return S.jsx("button",{onClick:()=>n(s),className:`px-3 py-1.5 text-xs rounded-full border transition ${a?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:s},s)})})}function gf({from:t,to:e,setFrom:n,setTo:s,unit:a,step:l="1"}){return S.jsxs("div",{className:"flex flex-col gap-2 max-w-xs",children:[S.jsx("input",{type:"number",step:l,value:t,onChange:c=>n(c.target.value),className:"rounded-lg border px-3 py-2",placeholder:"von"}),S.jsx("input",{type:"number",step:l,value:e,onChange:c=>s(c.target.value),className:"rounded-lg border px-3 py-2",placeholder:"bis"}),a&&S.jsx("span",{className:"text-xs text-gray-500",children:a})]})}function b5(){const{user:t}=ss(),{filters:e,loading:n}=i5();return n?S.jsx("p",{style:{padding:20},children:"Lade Filter"}):S.jsx(p5,{children:S.jsxs("div",{style:{padding:30},children:[S.jsx("h1",{style:{fontSize:40,marginBottom:20},children:"Dein Dashboard"}),S.jsxs("div",{style:{display:"grid",gap:20},children:[S.jsx(s5,{filters:e,user:t}),S.jsx(r5,{filters:e,user:t}),S.jsx(u5,{filters:e,user:t}),S.jsx(c5,{filters:e,user:t}),S.jsx(E5,{filters:e,user:t})]})]})})}function S5(){const{user:t,ready:e}=ss();return e?t?S.jsx(Va,{to:"/dashboard",replace:!0}):S.jsx(Va,{to:"/login",replace:!0}):null}function A5(){return S.jsxs(A2,{children:[S.jsxs(Zt,{element:S.jsx(KL,{}),children:[S.jsx(Zt,{index:!0,element:S.jsx(S5,{})}),S.jsx(Zt,{path:"/login",element:S.jsx(QL,{})}),S.jsxs(Zt,{path:"/register",children:[S.jsx(Zt,{index:!0,element:S.jsx(Va,{to:"/register/step1",replace:!0})}),S.jsx(Zt,{path:"step1",element:S.jsx(JL,{})}),S.jsx(Zt,{path:"step2",element:S.jsx(i4,{})}),S.jsx(Zt,{path:"step3",element:S.jsx(l4,{})}),S.jsx(Zt,{path:"step4",element:S.jsx(h4,{})}),S.jsx(Zt,{path:"step5",element:S.jsx(v4,{})}),S.jsx(Zt,{path:"finish",element:S.jsx(E4,{})})]})]}),S.jsx(Zt,{element:S.jsx(t5,{children:S.jsx(YL,{})}),children:S.jsx(Zt,{path:"/dashboard",element:S.jsx(b5,{})})}),S.jsx(Zt,{element:S.jsx(n5,{children:S.jsx($L,{})}),children:S.jsx(Zt,{path:"/admin",element:S.jsx(g5,{})})}),S.jsx(Zt,{path:"*",element:S.jsx(Va,{to:"/",replace:!0})})]})}DI.createRoot(document.getElementById("root")).render(S.jsx(bI.StrictMode,{children:S.jsx(GL,{children:S.jsx(Y2,{children:S.jsx(A5,{})})})}));
