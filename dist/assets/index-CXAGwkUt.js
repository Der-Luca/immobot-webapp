(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function gS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},Nu={};var K_;function vN(){if(K_)return Nu;K_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var $_;function bN(){return $_||($_=1,ng.exports=vN()),ng.exports}var g=bN(),ig={exports:{}},Se={};var Y_;function xN(){if(Y_)return Se;Y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function O(z,se,ue){this.props=z,this.context=se,this.refs=D,this.updater=ue||I}O.prototype.isReactComponent={},O.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function H(){}H.prototype=O.prototype;function G(z,se,ue){this.props=z,this.context=se,this.refs=D,this.updater=ue||I}var oe=G.prototype=new H;oe.constructor=G,N(oe,O.prototype),oe.isPureReactComponent=!0;var J=Array.isArray;function ne(){}var k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function j(z,se,ue){var de=ue.ref;return{$$typeof:t,type:z,key:se,ref:de!==void 0?de:null,props:ue}}function L(z,se){return j(z.type,se,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function B(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return se[ue]})}var M=/\/+/g;function Ce(z,se){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):se.toString(36)}function He(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ne,ne):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,se,ue,de,Te){var Ie=typeof z;(Ie==="undefined"||Ie==="boolean")&&(z=null);var Be=!1;if(z===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(z.$$typeof){case t:case e:Be=!0;break;case v:return Be=z._init,X(Be(z._payload),se,ue,de,Te)}}if(Be)return Te=Te(z),Be=de===""?"."+Ce(z,0):de,J(Te)?(ue="",Be!=null&&(ue=Be.replace(M,"$&/")+"/"),X(Te,se,ue,"",function(ea){return ea})):Te!=null&&(P(Te)&&(Te=L(Te,ue+(Te.key==null||z&&z.key===Te.key?"":(""+Te.key).replace(M,"$&/")+"/")+Be)),se.push(Te)),1;Be=0;var Ut=de===""?".":de+":";if(J(z))for(var lt=0;lt<z.length;lt++)de=z[lt],Ie=Ut+Ce(de,lt),Be+=X(de,se,ue,Ie,Te);else if(lt=w(z),typeof lt=="function")for(z=lt.call(z),lt=0;!(de=z.next()).done;)de=de.value,Ie=Ut+Ce(de,lt++),Be+=X(de,se,ue,Ie,Te);else if(Ie==="object"){if(typeof z.then=="function")return X(He(z),se,ue,de,Te);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ae(z,se,ue){if(z==null)return z;var de=[],Te=0;return X(z,de,"","",function(Ie){return se.call(ue,Ie,Te++)}),de}function he(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var Ee=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Me={map:ae,forEach:function(z,se,ue){ae(z,function(){se.apply(this,arguments)},ue)},count:function(z){var se=0;return ae(z,function(){se++}),se},toArray:function(z){return ae(z,function(se){return se})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Se.Activity=b,Se.Children=Me,Se.Component=O,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=G,Se.StrictMode=s,Se.Suspense=d,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Se.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},Se.cache=function(z){return function(){return z.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(z,se,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var de=N({},z.props),Te=z.key;if(se!=null)for(Ie in se.key!==void 0&&(Te=""+se.key),se)!R.call(se,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&se.ref===void 0||(de[Ie]=se[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=ue;else if(1<Ie){for(var Be=Array(Ie),Ut=0;Ut<Ie;Ut++)Be[Ut]=arguments[Ut+2];de.children=Be}return j(z.type,Te,de)},Se.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Se.createElement=function(z,se,ue){var de,Te={},Ie=null;if(se!=null)for(de in se.key!==void 0&&(Ie=""+se.key),se)R.call(se,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=se[de]);var Be=arguments.length-2;if(Be===1)Te.children=ue;else if(1<Be){for(var Ut=Array(Be),lt=0;lt<Be;lt++)Ut[lt]=arguments[lt+2];Te.children=Ut}if(z&&z.defaultProps)for(de in Be=z.defaultProps,Be)Te[de]===void 0&&(Te[de]=Be[de]);return j(z,Ie,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(z){return{$$typeof:f,render:z}},Se.isValidElement=P,Se.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:he}},Se.memo=function(z,se){return{$$typeof:p,type:z,compare:se===void 0?null:se}},Se.startTransition=function(z){var se=k.T,ue={};k.T=ue;try{var de=z(),Te=k.S;Te!==null&&Te(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ne,Ee)}catch(Ie){Ee(Ie)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),k.T=se}},Se.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Se.use=function(z){return k.H.use(z)},Se.useActionState=function(z,se,ue){return k.H.useActionState(z,se,ue)},Se.useCallback=function(z,se){return k.H.useCallback(z,se)},Se.useContext=function(z){return k.H.useContext(z)},Se.useDebugValue=function(){},Se.useDeferredValue=function(z,se){return k.H.useDeferredValue(z,se)},Se.useEffect=function(z,se){return k.H.useEffect(z,se)},Se.useEffectEvent=function(z){return k.H.useEffectEvent(z)},Se.useId=function(){return k.H.useId()},Se.useImperativeHandle=function(z,se,ue){return k.H.useImperativeHandle(z,se,ue)},Se.useInsertionEffect=function(z,se){return k.H.useInsertionEffect(z,se)},Se.useLayoutEffect=function(z,se){return k.H.useLayoutEffect(z,se)},Se.useMemo=function(z,se){return k.H.useMemo(z,se)},Se.useOptimistic=function(z,se){return k.H.useOptimistic(z,se)},Se.useReducer=function(z,se,ue){return k.H.useReducer(z,se,ue)},Se.useRef=function(z){return k.H.useRef(z)},Se.useState=function(z){return k.H.useState(z)},Se.useSyncExternalStore=function(z,se,ue){return k.H.useSyncExternalStore(z,se,ue)},Se.useTransition=function(){return k.H.useTransition()},Se.version="19.2.1",Se}var Q_;function zy(){return Q_||(Q_=1,ig.exports=xN()),ig.exports}var C=zy();const _N=gS(C);var sg={exports:{}},Iu={},rg={exports:{}},ag={};var W_;function EN(){return W_||(W_=1,(function(t){function e(X,ae){var he=X.length;X.push(ae);e:for(;0<he;){var Ee=he-1>>>1,Me=X[Ee];if(0<a(Me,ae))X[Ee]=ae,X[he]=Me,he=Ee;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],he=X.pop();if(he!==ae){X[0]=he;e:for(var Ee=0,Me=X.length,z=Me>>>1;Ee<z;){var se=2*(Ee+1)-1,ue=X[se],de=se+1,Te=X[de];if(0>a(ue,he))de<Me&&0>a(Te,ue)?(X[Ee]=Te,X[de]=he,Ee=de):(X[Ee]=ue,X[se]=he,Ee=se);else if(de<Me&&0>a(Te,he))X[Ee]=Te,X[de]=he,Ee=de;else break e}}return ae}function a(X,ae){var he=X.sortIndex-ae.sortIndex;return he!==0?he:X.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var d=[],p=[],v=1,b=null,_=3,w=!1,I=!1,N=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=X)s(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=n(p)}}function J(X){if(N=!1,oe(X),!I)if(n(d)!==null)I=!0,ne||(ne=!0,B());else{var ae=n(p);ae!==null&&He(J,ae.startTime-X)}}var ne=!1,k=-1,R=5,j=-1;function L(){return D?!0:!(t.unstable_now()-j<R)}function P(){if(D=!1,ne){var X=t.unstable_now();j=X;var ae=!0;try{e:{I=!1,N&&(N=!1,H(k),k=-1),w=!0;var he=_;try{t:{for(oe(X),b=n(d);b!==null&&!(b.expirationTime>X&&L());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,_=b.priorityLevel;var Me=Ee(b.expirationTime<=X);if(X=t.unstable_now(),typeof Me=="function"){b.callback=Me,oe(X),ae=!0;break t}b===n(d)&&s(d),oe(X)}else s(d);b=n(d)}if(b!==null)ae=!0;else{var z=n(p);z!==null&&He(J,z.startTime-X),ae=!1}}break e}finally{b=null,_=he,w=!1}ae=void 0}}finally{ae?B():ne=!1}}}var B;if(typeof G=="function")B=function(){G(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ce=M.port2;M.port1.onmessage=P,B=function(){Ce.postMessage(null)}}else B=function(){O(P,0)};function He(X,ae){k=O(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var he=_;_=ae;try{return X()}finally{_=he}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=_;_=X;try{return ae()}finally{_=he}},t.unstable_scheduleCallback=function(X,ae,he){var Ee=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,X){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=he+Me,X={id:v++,callback:ae,priorityLevel:X,startTime:he,expirationTime:Me,sortIndex:-1},he>Ee?(X.sortIndex=he,e(p,X),n(d)===null&&X===n(p)&&(N?(H(k),k=-1):N=!0,He(J,he-Ee))):(X.sortIndex=Me,e(d,X),I||w||(I=!0,ne||(ne=!0,B()))),X},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(X){var ae=_;return function(){var he=_;_=ae;try{return X.apply(this,arguments)}finally{_=he}}}})(ag)),ag}var X_;function TN(){return X_||(X_=1,rg.exports=EN()),rg.exports}var og={exports:{}},an={};var Z_;function wN(){if(Z_)return an;Z_=1;var t=zy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,v)},an.flushSync=function(d){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=p,s.p=v,s.d.f()}},an.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},an.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},an.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):v==="script"&&s.d.X(d,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},an.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);s.d.L(d,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},an.requestFormReset=function(d){s.d.r(d)},an.unstable_batchedUpdates=function(d,p){return d(p)},an.useFormState=function(d,p,v){return c.H.useFormState(d,p,v)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.1",an}var J_;function SN(){if(J_)return og.exports;J_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=wN(),og.exports}var eE;function AN(){if(eE)return Iu;eE=1;var t=TN(),e=zy(),n=SN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return d(m),i;if(y===u)return d(m),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=y;else{for(var E=!1,S=m.child;S;){if(S===o){E=!0,o=m,u=y;break}if(S===u){E=!0,u=m,o=y;break}S=S.sibling}if(!E){for(S=y.child;S;){if(S===o){E=!0,o=y,u=m;break}if(S===u){E=!0,u=y,o=m;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case ne:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case G:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:Ce(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Ce(i(r))}catch{}}return null}var He=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],Me=-1;function z(i){return{current:i}}function se(i){0>Me||(i.current=Ee[Me],Ee[Me]=null,Me--)}function ue(i,r){Me++,Ee[Me]=i.current,i.current=r}var de=z(null),Te=z(null),Ie=z(null),Be=z(null);function Ut(i,r){switch(ue(Ie,r),ue(Te,i),ue(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?p_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=p_(r),i=g_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(de),ue(de,i)}function lt(){se(de),se(Te),se(Ie)}function ea(i){i.memoizedState!==null&&ue(Be,i);var r=de.current,o=g_(r,i.type);r!==o&&(ue(Te,i),ue(de,o))}function Xa(i){Te.current===i&&(se(de),se(Te)),Be.current===i&&(se(Be),Su._currentValue=he)}var Za,Ja;function Ci(i){if(Za===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Za=r&&r[1]||"",Ja=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+i+Ja}var Sl=!1;function ta(i,r){if(!i||Sl)return"";Sl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Y=W}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(W){Y=W}i.call(ie.prototype)}}else{try{throw Error()}catch(W){Y=W}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],S=y[1];if(E&&S){var V=E.split(`
`),$=S.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===$.length)for(u=V.length-1,m=$.length-1;1<=u&&0<=m&&V[u]!==$[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==$[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==$[m]){var Z=`
`+V[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=m);break}}}finally{Sl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ci(o):""}function Al(i,r){switch(i.tag){case 26:case 27:case 5:return Ci(i.type);case 16:return Ci("Lazy");case 13:return i.child!==r&&r!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ta(i.type,!1);case 11:return ta(i.type.render,!1);case 1:return ta(i.type,!0);case 31:return Ci("Activity");default:return""}}function Cl(i){try{var r="",o=null;do r+=Al(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,sm=t.unstable_shouldYield,Lc=t.unstable_requestPaint,fn=t.unstable_now,na=t.unstable_getCurrentPriorityLevel,Rl=t.unstable_ImmediatePriority,Nl=t.unstable_UserBlockingPriority,qs=t.unstable_NormalPriority,rm=t.unstable_LowPriority,Uc=t.unstable_IdlePriority,zc=t.log,Bc=t.unstable_setDisableYieldValue,ui=null,Yt=null;function Fn(i){if(typeof zc=="function"&&Bc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ui,i)}catch{}}var _t=Math.clz32?Math.clz32:Hc,Fc=Math.log,eo=Math.LN2;function Hc(i){return i>>>=0,i===0?32:31-(Fc(i)/eo|0)|0}var Ri=256,ia=262144,Ct=4194304;function Ni(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=Ni(u):(E&=S,E!==0?m=Ni(E):o||(o=S&~i,o!==0&&(m=Ni(o))))):(S=u&~y,S!==0?m=Ni(S):E!==0?m=Ni(E):o||(o=u&~i,o!==0&&(m=Ni(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function am(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function Di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function sa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function om(i,r,o,u,m,y){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,$=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-_t(o),ie=1<<Z;S[Z]=0,V[Z]=-1;var Y=$[Z];if(Y!==null)for($[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&ra(i,u,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~r))}function ra(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-_t(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Il(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-_t(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function Dl(i,r){var o=r&-r;return o=(o&42)!==0?1:aa(o),(o&(i.suspendedLanes|r))!==0?0:o}function aa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ls(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:U_(i.type))}function hi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var fi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+fi,qt="__reactProps$"+fi,ki="__reactContainer$"+fi,to="__reactEvents$"+fi,lm="__reactListeners$"+fi,Kc="__reactHandles$"+fi,$c="__reactResources$"+fi,ji="__reactMarker$"+fi;function no(i){delete i[Rt],delete i[qt],delete i[to],delete i[lm],delete i[Kc]}function Mi(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ki]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=T_(i);i!==null;){if(o=i[Rt])return o;i=T_(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Rt]||i[ki]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[$c];return r||(r=i[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(i){i[ji]=!0}var kl=new Set,jl={};function Oi(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(jl[i]=r,i=0;i<r.length;i++)kl.add(r[i])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ol={};function Yc(i){return At.call(Ol,i)?!0:At.call(Vl,i)?!1:Ml.test(i)?Ol[i]=!0:(Vl[i]=!0,!1)}function io(i,r,o){if(Yc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Dn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function It(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=Gs(i)?"checked":"value";i._valueTracker=Pl(i,r,""+i[r])}}function oa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Gs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var la=/[\n"\\]/g;function bn(i){return i.replace(la,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function so(i,r,o,u,m,y,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,E,Gt(r)):o!=null?Ll(i,E,Gt(o)):u!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Gt(S):i.removeAttribute("name")}function Qc(i,r,o,u,m,y,E,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Qe(i)}function Ll(i,r,o){r==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Wc(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function $s(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(He(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function xn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Xc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function zl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Ul(i,m,u)}else for(var y in r)r.hasOwnProperty(y)&&Ul(i,y,r[y])}function ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(i){return Ys.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Bl=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qs=null,Ui=null;function ua(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[qt]||null;if(!m)throw Error(s(90));so(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&oa(u)}break e;case"textarea":Wc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var oo=!1;function Ws(i,r,o){if(oo)return i(r,o);oo=!0;try{var u=i(r);return u}finally{if(oo=!1,(Qs!==null||Ui!==null)&&(Gh(),Qs&&(r=Qs,i=Ui,Ui=Qs=null,ua(r),i)))for(r=0;r<i.length;r++)ua(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(Gn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ca=!1}var zi=null,Fl=null,ha=null;function Hl(){if(ha)return ha;var i,r=Fl,o=r.length,u,m="value"in zi?zi.value:zi.textContent,y=m.length;for(i=0;i<o&&r[i]===m[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===m[y-u];u++);return ha=m.slice(i,1<u?1-u:void 0)}function fa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function us(){return!0}function pi(){return!1}function Qt(i){function r(o,u,m,y,E){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?us:pi,this.isPropagationStopped=pi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Qt(cs),Xs=b({},cs,{view:0,detail:0}),ql=Qt(Xs),Zs,lo,Fi,uo=b({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fi&&(Fi&&i.type==="mousemove"?(Zs=i.screenX-Fi.screenX,lo=i.screenY-Fi.screenY):lo=Zs=0,Fi=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:lo}}),Gl=Qt(uo),da=b({},uo,{dataTransfer:0}),Jc=Qt(da),eh=b({},Xs,{relatedTarget:0}),ma=Qt(eh),Kl=b({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),th=Qt(Kl),co=b({},cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nh=Qt(co),ih=b({},cs,{data:0}),Hi=Qt(ih),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ah[i])?!!r[i]:!1}function Js(){return oh}var dn=b({},Xs,{key:function(i){if(i.key){var r=sh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lh=Qt(dn),uh=b({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Qt(uh),h=b({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),x=Qt(h),T=b({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qt(T),q=b({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qt(q),le=b({},cs,{newState:0,oldState:0}),Re=Qt(le),Et=[9,13,27,32],Ke=Gn&&"CompositionEvent"in window,ut=null;Gn&&"documentMode"in document&&(ut=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!ut,qi=Gn&&(!Ke||ut&&8<ut&&11>=ut),gi=" ",yi=!1;function pa(i,r){switch(i){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function FR(i,r){switch(i){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function HR(i,r){if(fo)return i==="compositionend"||!Ke&&pa(i,r)?(i=Hl(),ha=Fl=zi=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Av(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qR[i.type]:r==="textarea"}function Cv(i,r,o,u){Qs?Ui?Ui.push(u):Ui=[u]:Qs=u,r=Zh(r,"onChange"),0<r.length&&(o=new Bi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var $l=null,Yl=null;function GR(i){u_(i,0)}function ch(i){var r=In(i);if(oa(r))return i}function Rv(i,r){if(i==="change")return r}var Nv=!1;if(Gn){var um;if(Gn){var cm="oninput"in document;if(!cm){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),cm=typeof Iv.oninput=="function"}um=cm}else um=!1;Nv=um&&(!document.documentMode||9<document.documentMode)}function Dv(){$l&&($l.detachEvent("onpropertychange",kv),Yl=$l=null)}function kv(i){if(i.propertyName==="value"&&ch(Yl)){var r=[];Cv(r,Yl,i,qn(i)),Ws(GR,r)}}function KR(i,r,o){i==="focusin"?(Dv(),$l=r,Yl=o,$l.attachEvent("onpropertychange",kv)):i==="focusout"&&Dv()}function $R(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(Yl)}function YR(i,r){if(i==="click")return ch(r)}function QR(i,r){if(i==="input"||i==="change")return ch(r)}function WR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:WR;function Ql(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!At.call(r,m)||!kn(i[m],r[m]))return!1}return!0}function jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Mv(i,r){var o=jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jv(o)}}function Vv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Vv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ov(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Li(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Li(i.document)}return r}function hm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var XR=Gn&&"documentMode"in document&&11>=document.documentMode,mo=null,fm=null,Wl=null,dm=!1;function Pv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dm||mo==null||mo!==Li(u)||(u=mo,"selectionStart"in u&&hm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wl&&Ql(Wl,u)||(Wl=u,u=Zh(fm,"onSelect"),0<u.length&&(r=new Bi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=mo)))}function ga(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var po={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},mm={},Lv={};Gn&&(Lv=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ya(i){if(mm[i])return mm[i];if(!po[i])return i;var r=po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Lv)return mm[i]=r[o];return i}var Uv=ya("animationend"),zv=ya("animationiteration"),Bv=ya("animationstart"),ZR=ya("transitionrun"),JR=ya("transitionstart"),e2=ya("transitioncancel"),Fv=ya("transitionend"),Hv=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function vi(i,r){Hv.set(i,r),Oi(r,[i])}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$n=[],go=0,gm=0;function fh(){for(var i=go,r=gm=go=0;r<i;){var o=$n[r];$n[r++]=null;var u=$n[r];$n[r++]=null;var m=$n[r];$n[r++]=null;var y=$n[r];if($n[r++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}y!==0&&qv(o,m,y)}}function dh(i,r,o,u){$n[go++]=i,$n[go++]=r,$n[go++]=o,$n[go++]=u,gm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ym(i,r,o,u){return dh(i,r,o,u),mh(i)}function va(i,r){return dh(i,null,null,r),mh(i)}function qv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&r!==null&&(m=31-_t(o),i=y.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function mh(i){if(50<vu)throw vu=0,Ap=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yo={};function t2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,u){return new t2(i,r,o,u)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Gv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ph(i,r,o,u,m,y){var E=0;if(u=i,typeof i=="function")vm(i)&&(E=1);else if(typeof i=="string")E=aN(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=jn(31,o,r,m),i.elementType=j,i.lanes=y,i;case N:return ba(o.children,m,y,r);case D:E=8,m|=24;break;case O:return i=jn(12,o,r,m|2),i.elementType=O,i.lanes=y,i;case J:return i=jn(13,o,r,m),i.elementType=J,i.lanes=y,i;case ne:return i=jn(19,o,r,m),i.elementType=ne,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:E=10;break e;case H:E=9;break e;case oe:E=11;break e;case k:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=jn(E,o,r,m),r.elementType=i,r.type=u,r.lanes=y,r}function ba(i,r,o,u){return i=jn(7,i,u,r),i.lanes=o,i}function bm(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function Kv(i){var r=jn(18,null,null,0);return r.stateNode=i,r}function xm(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var $v=new WeakMap;function Yn(i,r){if(typeof i=="object"&&i!==null){var o=$v.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Cl(r)},$v.set(i,r),r)}return{value:i,source:r,stack:Cl(r)}}var vo=[],bo=0,gh=null,Xl=0,Qn=[],Wn=0,er=null,Gi=1,Ki="";function ds(i,r){vo[bo++]=Xl,vo[bo++]=gh,gh=i,Xl=r}function Yv(i,r,o){Qn[Wn++]=Gi,Qn[Wn++]=Ki,Qn[Wn++]=er,er=i;var u=Gi;i=Ki;var m=32-_t(u)-1;u&=~(1<<m),o+=1;var y=32-_t(r)+m;if(30<y){var E=m-m%5;y=(u&(1<<E)-1).toString(32),u>>=E,m-=E,Gi=1<<32-_t(r)+m|o<<m|u,Ki=y+i}else Gi=1<<y|o<<m|u,Ki=i}function _m(i){i.return!==null&&(ds(i,1),Yv(i,1,0))}function Em(i){for(;i===gh;)gh=vo[--bo],vo[bo]=null,Xl=vo[--bo],vo[bo]=null;for(;i===er;)er=Qn[--Wn],Qn[Wn]=null,Ki=Qn[--Wn],Qn[Wn]=null,Gi=Qn[--Wn],Qn[Wn]=null}function Qv(i,r){Qn[Wn++]=Gi,Qn[Wn++]=Ki,Qn[Wn++]=er,Gi=r.id,Ki=r.overflow,er=i}var Wt=null,st=null,ze=!1,tr=null,Xn=!1,Tm=Error(s(519));function nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Yn(r,i)),Tm}function Wv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Rt]=i,r[qt]=u,o){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<xu.length;o++)je(xu[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Qc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),$s(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||d_(r.textContent,o)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||nr(i,!0)}function Xv(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Wt=Wt.return}}function xo(i){if(i!==Wt)return!1;if(!ze)return Xv(i),ze=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Bp(i.type,i.memoizedProps)),o=!o),o&&st&&nr(i),Xv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));st=E_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));st=E_(i)}else r===27?(r=st,gr(i.type)?(i=Kp,Kp=null,st=i):st=r):st=Wt?Jn(i.stateNode.nextSibling):null;return!0}function xa(){st=Wt=null,ze=!1}function wm(){var i=tr;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),tr=null),i}function Zl(i){tr===null?tr=[i]:tr.push(i)}var Sm=z(null),_a=null,ms=null;function ir(i,r,o){ue(Sm,r._currentValue),r._currentValue=o}function ps(i){i._currentValue=Sm.current,se(Sm)}function Am(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Cm(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var V=0;V<r.length;V++)if(S.context===r[V]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Am(y.return,o,i),u||(E=null);break e}y=S.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Am(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function _o(i,r,o,u){i=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=m.type;kn(m.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(m===Be.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Su):i=[Su])}m=m.return}i!==null&&Cm(r,i,o,u),r.flags|=262144}function yh(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ea(i){_a=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return Zv(_a,i)}function vh(i,r){return _a===null&&Ea(i),Zv(i,r)}function Zv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ms===null){if(i===null)throw Error(s(308));ms=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ms=ms.next=r;return o}var n2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},i2=t.unstable_scheduleCallback,s2=t.unstable_NormalPriority,Dt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new n2,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&i2(s2,function(){i.controller.abort()})}var eu=null,Nm=0,Eo=0,To=null;function r2(i,r){if(eu===null){var o=eu=[];Nm=0,Eo=kp(),To={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nm++,r.then(Jv,Jv),r}function Jv(){if(--Nm===0&&eu!==null){To!==null&&(To.status="fulfilled");var i=eu;eu=null,Eo=0,To=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function a2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var eb=X.S;X.S=function(i,r){Px=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r2(i,r),eb!==null&&eb(i,r)};var Ta=z(null);function Im(){var i=Ta.current;return i!==null?i:nt.pooledCache}function bh(i,r){r===null?ue(Ta,Ta.current):ue(Ta,r.pool)}function tb(){var i=Im();return i===null?null:{parent:Dt._currentValue,pool:i}}var wo=Error(s(460)),Dm=Error(s(474)),xh=Error(s(542)),_h={then:function(){}};function nb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ib(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rb(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rb(i),i}throw Sa=r,wo}}function wa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Sa=o,wo):o}}var Sa=null;function sb(){if(Sa===null)throw Error(s(459));var i=Sa;return Sa=null,i}function rb(i){if(i===wo||i===xh)throw Error(s(483))}var So=null,tu=0;function Eh(i){var r=tu;return tu+=1,So===null&&(So=[]),ib(So,i,r)}function nu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Th(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function ab(i){function r(F,U){if(i){var K=F.deletions;K===null?(F.deletions=[U],F.flags|=16):K.push(U)}}function o(F,U){if(!i)return null;for(;U!==null;)r(F,U),U=U.sibling;return null}function u(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(F,U){return F=fs(F,U),F.index=0,F.sibling=null,F}function y(F,U,K){return F.index=K,i?(K=F.alternate,K!==null?(K=K.index,K<U?(F.flags|=67108866,U):K):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,U,K,ee){return U===null||U.tag!==6?(U=bm(K,F.mode,ee),U.return=F,U):(U=m(U,K),U.return=F,U)}function V(F,U,K,ee){var ge=K.type;return ge===N?Z(F,U,K.props.children,ee,K.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&wa(ge)===U.type)?(U=m(U,K.props),nu(U,K),U.return=F,U):(U=ph(K.type,K.key,K.props,null,F.mode,ee),nu(U,K),U.return=F,U)}function $(F,U,K,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=xm(K,F.mode,ee),U.return=F,U):(U=m(U,K.children||[]),U.return=F,U)}function Z(F,U,K,ee,ge){return U===null||U.tag!==7?(U=ba(K,F.mode,ee,ge),U.return=F,U):(U=m(U,K),U.return=F,U)}function ie(F,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bm(""+U,F.mode,K),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return K=ph(U.type,U.key,U.props,null,F.mode,K),nu(K,U),K.return=F,K;case I:return U=xm(U,F.mode,K),U.return=F,U;case R:return U=wa(U),ie(F,U,K)}if(He(U)||B(U))return U=ba(U,F.mode,K,null),U.return=F,U;if(typeof U.then=="function")return ie(F,Eh(U),K);if(U.$$typeof===G)return ie(F,vh(F,U),K);Th(F,U)}return null}function Y(F,U,K,ee){var ge=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:S(F,U,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ge?V(F,U,K,ee):null;case I:return K.key===ge?$(F,U,K,ee):null;case R:return K=wa(K),Y(F,U,K,ee)}if(He(K)||B(K))return ge!==null?null:Z(F,U,K,ee,null);if(typeof K.then=="function")return Y(F,U,Eh(K),ee);if(K.$$typeof===G)return Y(F,U,vh(F,K),ee);Th(F,K)}return null}function W(F,U,K,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(K)||null,S(U,F,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return F=F.get(ee.key===null?K:ee.key)||null,V(U,F,ee,ge);case I:return F=F.get(ee.key===null?K:ee.key)||null,$(U,F,ee,ge);case R:return ee=wa(ee),W(F,U,K,ee,ge)}if(He(ee)||B(ee))return F=F.get(K)||null,Z(U,F,ee,ge,null);if(typeof ee.then=="function")return W(F,U,K,Eh(ee),ge);if(ee.$$typeof===G)return W(F,U,K,vh(U,ee),ge);Th(U,ee)}return null}function me(F,U,K,ee){for(var ge=null,qe=null,pe=U,De=U=0,Oe=null;pe!==null&&De<K.length;De++){pe.index>De?(Oe=pe,pe=null):Oe=pe.sibling;var Ge=Y(F,pe,K[De],ee);if(Ge===null){pe===null&&(pe=Oe);break}i&&pe&&Ge.alternate===null&&r(F,pe),U=y(Ge,U,De),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge,pe=Oe}if(De===K.length)return o(F,pe),ze&&ds(F,De),ge;if(pe===null){for(;De<K.length;De++)pe=ie(F,K[De],ee),pe!==null&&(U=y(pe,U,De),qe===null?ge=pe:qe.sibling=pe,qe=pe);return ze&&ds(F,De),ge}for(pe=u(pe);De<K.length;De++)Oe=W(pe,F,De,K[De],ee),Oe!==null&&(i&&Oe.alternate!==null&&pe.delete(Oe.key===null?De:Oe.key),U=y(Oe,U,De),qe===null?ge=Oe:qe.sibling=Oe,qe=Oe);return i&&pe.forEach(function(_r){return r(F,_r)}),ze&&ds(F,De),ge}function ve(F,U,K,ee){if(K==null)throw Error(s(151));for(var ge=null,qe=null,pe=U,De=U=0,Oe=null,Ge=K.next();pe!==null&&!Ge.done;De++,Ge=K.next()){pe.index>De?(Oe=pe,pe=null):Oe=pe.sibling;var _r=Y(F,pe,Ge.value,ee);if(_r===null){pe===null&&(pe=Oe);break}i&&pe&&_r.alternate===null&&r(F,pe),U=y(_r,U,De),qe===null?ge=_r:qe.sibling=_r,qe=_r,pe=Oe}if(Ge.done)return o(F,pe),ze&&ds(F,De),ge;if(pe===null){for(;!Ge.done;De++,Ge=K.next())Ge=ie(F,Ge.value,ee),Ge!==null&&(U=y(Ge,U,De),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return ze&&ds(F,De),ge}for(pe=u(pe);!Ge.done;De++,Ge=K.next())Ge=W(pe,F,De,Ge.value,ee),Ge!==null&&(i&&Ge.alternate!==null&&pe.delete(Ge.key===null?De:Ge.key),U=y(Ge,U,De),qe===null?ge=Ge:qe.sibling=Ge,qe=Ge);return i&&pe.forEach(function(yN){return r(F,yN)}),ze&&ds(F,De),ge}function tt(F,U,K,ee){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ge=K.key;U!==null;){if(U.key===ge){if(ge=K.type,ge===N){if(U.tag===7){o(F,U.sibling),ee=m(U,K.props.children),ee.return=F,F=ee;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&wa(ge)===U.type){o(F,U.sibling),ee=m(U,K.props),nu(ee,K),ee.return=F,F=ee;break e}o(F,U);break}else r(F,U);U=U.sibling}K.type===N?(ee=ba(K.props.children,F.mode,ee,K.key),ee.return=F,F=ee):(ee=ph(K.type,K.key,K.props,null,F.mode,ee),nu(ee,K),ee.return=F,F=ee)}return E(F);case I:e:{for(ge=K.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(F,U.sibling),ee=m(U,K.children||[]),ee.return=F,F=ee;break e}else{o(F,U);break}else r(F,U);U=U.sibling}ee=xm(K,F.mode,ee),ee.return=F,F=ee}return E(F);case R:return K=wa(K),tt(F,U,K,ee)}if(He(K))return me(F,U,K,ee);if(B(K)){if(ge=B(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),ve(F,U,K,ee)}if(typeof K.then=="function")return tt(F,U,Eh(K),ee);if(K.$$typeof===G)return tt(F,U,vh(F,K),ee);Th(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(F,U.sibling),ee=m(U,K),ee.return=F,F=ee):(o(F,U),ee=bm(K,F.mode,ee),ee.return=F,F=ee),E(F)):o(F,U)}return function(F,U,K,ee){try{tu=0;var ge=tt(F,U,K,ee);return So=null,ge}catch(pe){if(pe===wo||pe===xh)throw pe;var qe=jn(29,pe,null,F.mode);return qe.lanes=ee,qe.return=F,qe}finally{}}}var Aa=ab(!0),ob=ab(!1),sr=!1;function km(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ar(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=mh(i),qv(i,null,o),r}return dh(i,u,r,o),mh(i)}function iu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Il(i,o)}}function Mm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Vm=!1;function su(){if(Vm){var i=To;if(i!==null)throw i}}function ru(i,r,o,u){Vm=!1;var m=i.updateQueue;sr=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,$=V.next;V.next=null,E===null?y=$:E.next=$,E=V;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=V))}if(y!==null){var ie=m.baseState;E=0,Z=$=V=null,S=y;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Ve&Y)===Y:(u&Y)===Y){Y!==0&&Y===Eo&&(Vm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,ve=S;Y=r;var tt=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ie=me.call(tt,ie,Y);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,Y=typeof me=="function"?me.call(tt,ie,Y):me,Y==null)break e;ie=b({},ie,Y);break e;case 2:sr=!0}}Y=S.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=W,V=ie):Z=Z.next=W,E|=Y;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);Z===null&&(V=ie),m.baseState=V,m.firstBaseUpdate=$,m.lastBaseUpdate=Z,y===null&&(m.shared.lanes=0),hr|=E,i.lanes=E,i.memoizedState=ie}}function lb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function ub(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)lb(o[i],r)}var Ao=z(null),wh=z(0);function cb(i,r){i=ws,ue(wh,i),ue(Ao,r),ws=i|r.baseLanes}function Om(){ue(wh,ws),ue(Ao,Ao.current)}function Pm(){ws=wh.current,se(Ao),se(wh)}var Mn=z(null),Zn=null;function or(i){var r=i.alternate;ue(Tt,Tt.current&1),ue(Mn,i),Zn===null&&(r===null||Ao.current!==null||r.memoizedState!==null)&&(Zn=i)}function Lm(i){ue(Tt,Tt.current),ue(Mn,i),Zn===null&&(Zn=i)}function hb(i){i.tag===22?(ue(Tt,Tt.current),ue(Mn,i),Zn===null&&(Zn=i)):lr()}function lr(){ue(Tt,Tt.current),ue(Mn,Mn.current)}function Vn(i){se(Mn),Zn===i&&(Zn=null),se(Tt)}var Tt=z(0);function Sh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qp(o)||Gp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Ne=null,Je=null,kt=null,Ah=!1,Co=!1,Ca=!1,Ch=0,au=0,Ro=null,o2=0;function gt(){throw Error(s(321))}function Um(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function zm(i,r,o,u,m,y){return gs=y,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?Yb:tp,Ca=!1,y=o(u,m),Ca=!1,Co&&(y=db(r,o,u,m)),fb(i),y}function fb(i){X.H=uu;var r=Je!==null&&Je.next!==null;if(gs=0,kt=Je=Ne=null,Ah=!1,au=0,Ro=null,r)throw Error(s(300));i===null||jt||(i=i.dependencies,i!==null&&yh(i)&&(jt=!0))}function db(i,r,o,u){Ne=i;var m=0;do{if(Co&&(Ro=null),au=0,Co=!1,25<=m)throw Error(s(301));if(m+=1,kt=Je=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=Qb,y=r(o,u)}while(Co);return y}function l2(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?ou(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ne.flags|=1024),r}function Bm(){var i=Ch!==0;return Ch=0,i}function Fm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Hm(i){if(Ah){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ah=!1}gs=0,kt=Je=Ne=null,Co=!1,au=Ch=0,Ro=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=i:kt=kt.next=i,kt}function wt(){if(Je===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=kt===null?Ne.memoizedState:kt.next;if(r!==null)kt=r,Je=i;else{if(i===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},kt===null?Ne.memoizedState=kt=i:kt=kt.next=i}return kt}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var r=au;return au+=1,Ro===null&&(Ro=[]),i=ib(Ro,i,r),r=Ne,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Yb:tp),i}function Nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===G)return Xt(i)}throw Error(s(438,String(i)))}function qm(i){var r=null,o=Ne.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rh(),Ne.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function ys(i,r){return typeof r=="function"?r(i):r}function Ih(i){var r=wt();return Gm(r,Je,i)}function Gm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,y=u.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}r.baseQueue=m=y,u.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{r=m.next;var S=E=null,V=null,$=r,Z=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Ve&ie)===ie:(gs&ie)===ie){var Y=$.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===Eo&&(Z=!0);else if((gs&Y)===Y){$=$.next,Y===Eo&&(Z=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=ie,E=y):V=V.next=ie,Ne.lanes|=Y,hr|=Y;ie=$.action,Ca&&o(y,ie),y=$.hasEagerState?$.eagerState:o(y,ie)}else Y={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=Y,E=y):V=V.next=Y,Ne.lanes|=ie,hr|=ie;$=$.next}while($!==null&&$!==r);if(V===null?E=y:V.next=S,!kn(y,i.memoizedState)&&(jt=!0,Z&&(o=To,o!==null)))throw o;i.memoizedState=y,i.baseState=E,i.baseQueue=V,u.lastRenderedState=y}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Km(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do y=i(y,E.action),E=E.next;while(E!==m);kn(y,r.memoizedState)||(jt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function mb(i,r,o){var u=Ne,m=wt(),y=ze;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!kn((Je||m).memoizedState,o);if(E&&(m.memoizedState=o,jt=!0),m=m.queue,Qm(yb.bind(null,u,m,i),[i]),m.getSnapshot!==r||E||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,No(9,{destroy:void 0},gb.bind(null,u,m,o,r),null),nt===null)throw Error(s(349));y||(gs&127)!==0||pb(u,r,o)}return o}function pb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r=Rh(),Ne.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function gb(i,r,o,u){r.value=o,r.getSnapshot=u,vb(r)&&bb(i)}function yb(i,r,o){return o(function(){vb(r)&&bb(i)})}function vb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function bb(i){var r=va(i,2);r!==null&&Sn(r,i,2)}function $m(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),Ca){Fn(!0);try{o()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},r}function xb(i,r,o,u){return i.baseState=o,Gm(i,Je,typeof u=="function"?u:ys)}function u2(i,r,o,u,m){if(jh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};X.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,_b(r,y)):(y.next=o.next,r.pending=o.next=y)}}function _b(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var y=X.T,E={};X.T=E;try{var S=o(m,u),V=X.S;V!==null&&V(E,S),Eb(i,r,S)}catch($){Ym(i,r,$)}finally{y!==null&&E.types!==null&&(y.types=E.types),X.T=y}}else try{y=o(m,u),Eb(i,r,y)}catch($){Ym(i,r,$)}}function Eb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Tb(i,r,u)},function(u){return Ym(i,r,u)}):Tb(i,r,o)}function Tb(i,r,o){r.status="fulfilled",r.value=o,wb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,_b(i,o)))}function Ym(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,wb(r),r=r.next;while(r!==u)}i.action=null}function wb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Sb(i,r){return r}function Ab(i,r){if(ze){var o=nt.formState;if(o!==null){e:{var u=Ne;if(ze){if(st){t:{for(var m=st,y=Xn;m.nodeType!==8;){if(!y){m=null;break t}if(m=Jn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){st=Jn(m.nextSibling),u=m.data==="F!";break e}}nr(u)}u=!1}u&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:r},o.queue=u,o=Gb.bind(null,Ne,u),u.dispatch=o,u=$m(!1),y=ep.bind(null,Ne,!1,u.queue),u=mn(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=u2.bind(null,Ne,m,y,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function Cb(i){var r=wt();return Rb(r,Je,i)}function Rb(i,r,o){if(r=Gm(i,r,Sb)[0],i=Ih(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ou(r)}catch(E){throw E===wo?xh:E}else u=r;r=wt();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ne.flags|=2048,No(9,{destroy:void 0},c2.bind(null,m,o),null)),[u,y,i]}function c2(i,r){i.action=r}function Nb(i){var r=wt(),o=Je;if(o!==null)return Rb(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function No(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Rh(),Ne.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Ib(){return wt().memoizedState}function Dh(i,r,o,u){var m=mn();Ne.flags|=i,m.memoizedState=No(1|r,{destroy:void 0},o,u===void 0?null:u)}function kh(i,r,o,u){var m=wt();u=u===void 0?null:u;var y=m.memoizedState.inst;Je!==null&&u!==null&&Um(u,Je.memoizedState.deps)?m.memoizedState=No(r,y,o,u):(Ne.flags|=i,m.memoizedState=No(1|r,y,o,u))}function Db(i,r){Dh(8390656,8,i,r)}function Qm(i,r){kh(2048,8,i,r)}function h2(i){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=Rh(),Ne.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function kb(i){var r=wt().memoizedState;return h2({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function jb(i,r){return kh(4,2,i,r)}function Mb(i,r){return kh(4,4,i,r)}function Vb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Ob(i,r,o){o=o!=null?o.concat([i]):null,kh(4,4,Vb.bind(null,r,i),o)}function Wm(){}function Pb(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Um(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Lb(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Um(r,u[1]))return u[0];if(u=i(),Ca){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[u,r],u}function Xm(i,r,o){return o===void 0||(gs&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Ux(),Ne.lanes|=i,hr|=i,o)}function Ub(i,r,o,u){return kn(o,r)?o:Ao.current!==null?(i=Xm(i,o,u),kn(i,r)||(jt=!0),i):(gs&42)===0||(gs&1073741824)!==0&&(Ve&261930)===0?(jt=!0,i.memoizedState=o):(i=Ux(),Ne.lanes|=i,hr|=i,r)}function zb(i,r,o,u,m){var y=ae.p;ae.p=y!==0&&8>y?y:8;var E=X.T,S={};X.T=S,ep(i,!1,r,o);try{var V=m(),$=X.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=a2(V,u);lu(i,r,Z,Ln(i))}else lu(i,r,u,Ln(i))}catch(ie){lu(i,r,{then:function(){},status:"rejected",reason:ie},Ln())}finally{ae.p=y,E!==null&&S.types!==null&&(E.types=S.types),X.T=E}}function f2(){}function Zm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=Bb(i).queue;zb(i,m,r,he,o===null?f2:function(){return Fb(i),o(u)})}function Bb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Fb(i){var r=Bb(i);r.next===null&&(r=i.alternate.memoizedState),lu(i,r.next.queue,{},Ln())}function Jm(){return Xt(Su)}function Hb(){return wt().memoizedState}function qb(){return wt().memoizedState}function d2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ln();i=rr(o);var u=ar(r,i,o);u!==null&&(Sn(u,r,o),iu(u,r,o)),r={cache:Rm()},i.payload=r;return}r=r.return}}function m2(i,r,o){var u=Ln();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},jh(i)?Kb(r,o):(o=ym(i,r,o,u),o!==null&&(Sn(o,i,u),$b(o,r,u)))}function Gb(i,r,o){var u=Ln();lu(i,r,o,u)}function lu(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(i))Kb(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,S=y(E,o);if(m.hasEagerState=!0,m.eagerState=S,kn(S,E))return dh(i,r,m,0),nt===null&&fh(),!1}catch{}finally{}if(o=ym(i,r,m,u),o!==null)return Sn(o,i,u),$b(o,r,u),!0}return!1}function ep(i,r,o,u){if(u={lane:2,revertLane:kp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jh(i)){if(r)throw Error(s(479))}else r=ym(i,o,u,2),r!==null&&Sn(r,i,2)}function jh(i){var r=i.alternate;return i===Ne||r!==null&&r===Ne}function Kb(i,r){Co=Ah=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function $b(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Il(i,o)}}var uu={readContext:Xt,use:Nh,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};uu.useEffectEvent=gt;var Yb={readContext:Xt,use:Nh,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Xt,useEffect:Db,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Dh(4194308,4,Vb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Dh(4194308,4,i,r)},useInsertionEffect:function(i,r){Dh(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var u=i();if(Ca){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=mn();if(o!==void 0){var m=o(r);if(Ca){Fn(!0);try{o(r)}finally{Fn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=m2.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=$m(i);var r=i.queue,o=Gb.bind(null,Ne,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Wm,useDeferredValue:function(i,r){var o=mn();return Xm(o,i,r)},useTransition:function(){var i=$m(!1);return i=zb.bind(null,Ne,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ne,m=mn();if(ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(Ve&127)!==0||pb(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,Db(yb.bind(null,u,y,i),[i]),u.flags|=2048,No(9,{destroy:void 0},gb.bind(null,u,y,o,r),null),o},useId:function(){var i=mn(),r=nt.identifierPrefix;if(ze){var o=Ki,u=Gi;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ch++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=o2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Jm,useFormState:Ab,useActionState:Ab,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ep.bind(null,Ne,!0,o),o.dispatch=r,[i,r]},useMemoCache:qm,useCacheRefresh:function(){return mn().memoizedState=d2.bind(null,Ne)},useEffectEvent:function(i){var r=mn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},tp={readContext:Xt,use:Nh,useCallback:Pb,useContext:Xt,useEffect:Qm,useImperativeHandle:Ob,useInsertionEffect:jb,useLayoutEffect:Mb,useMemo:Lb,useReducer:Ih,useRef:Ib,useState:function(){return Ih(ys)},useDebugValue:Wm,useDeferredValue:function(i,r){var o=wt();return Ub(o,Je.memoizedState,i,r)},useTransition:function(){var i=Ih(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:mb,useId:Hb,useHostTransitionStatus:Jm,useFormState:Cb,useActionState:Cb,useOptimistic:function(i,r){var o=wt();return xb(o,Je,i,r)},useMemoCache:qm,useCacheRefresh:qb};tp.useEffectEvent=kb;var Qb={readContext:Xt,use:Nh,useCallback:Pb,useContext:Xt,useEffect:Qm,useImperativeHandle:Ob,useInsertionEffect:jb,useLayoutEffect:Mb,useMemo:Lb,useReducer:Km,useRef:Ib,useState:function(){return Km(ys)},useDebugValue:Wm,useDeferredValue:function(i,r){var o=wt();return Je===null?Xm(o,i,r):Ub(o,Je.memoizedState,i,r)},useTransition:function(){var i=Km(ys)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:mb,useId:Hb,useHostTransitionStatus:Jm,useFormState:Nb,useActionState:Nb,useOptimistic:function(i,r){var o=wt();return Je!==null?xb(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:qm,useCacheRefresh:qb};Qb.useEffectEvent=kb;function np(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ip={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ln(),m=rr(u);m.payload=r,o!=null&&(m.callback=o),r=ar(i,m,u),r!==null&&(Sn(r,i,u),iu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ln(),m=rr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ar(i,m,u),r!==null&&(Sn(r,i,u),iu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ln(),u=rr(o);u.tag=2,r!=null&&(u.callback=r),r=ar(i,u,o),r!==null&&(Sn(r,i,o),iu(r,i,o))}};function Wb(i,r,o,u,m,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,E):r.prototype&&r.prototype.isPureReactComponent?!Ql(o,u)||!Ql(m,y):!0}function Xb(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&ip.enqueueReplaceState(r,r.state,null)}function Ra(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function Zb(i){hh(i)}function Jb(i){console.error(i)}function ex(i){hh(i)}function Mh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function tx(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function sp(i,r,o){return o=rr(o),o.tag=3,o.payload={element:null},o.callback=function(){Mh(i,r)},o}function nx(i){return i=rr(i),i.tag=3,i}function ix(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;i.payload=function(){return m(y)},i.callback=function(){tx(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){tx(r,o,u),typeof m!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function p2(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&_o(r,o,m,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Kh():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===_h?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Np(i,u,m)),!1;case 22:return o.flags|=65536,u===_h?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Np(i,u,m)),!1}throw Error(s(435,o.tag))}return Np(i,u,m),Kh(),!1}if(ze)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Tm&&(i=Error(s(422),{cause:u}),Zl(Yn(i,o)))):(u!==Tm&&(r=Error(s(423),{cause:u}),Zl(Yn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Yn(u,o),m=sp(i.stateNode,u,m),Mm(i,m),yt!==4&&(yt=2)),!1;var y=Error(s(520),{cause:u});if(y=Yn(y,o),yu===null?yu=[y]:yu.push(y),yt!==4&&(yt=2),r===null)return!0;u=Yn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=sp(o.stateNode,u,i),Mm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fr===null||!fr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=nx(m),ix(m,i,o,u),Mm(o,m),!1}o=o.return}while(o!==null);return!1}var rp=Error(s(461)),jt=!1;function Zt(i,r,o,u){r.child=i===null?ob(r,null,o,u):Aa(r,i.child,o,u)}function sx(i,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Ea(r),u=zm(i,r,o,E,y,m),S=Bm(),i!==null&&!jt?(Fm(i,r,m),vs(i,r,m)):(ze&&S&&_m(r),r.flags|=1,Zt(i,r,u,m),r.child)}function rx(i,r,o,u,m){if(i===null){var y=o.type;return typeof y=="function"&&!vm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,ax(i,r,y,u,m)):(i=ph(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!dp(i,m)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(E,u)&&i.ref===r.ref)return vs(i,r,m)}return r.flags|=1,i=fs(y,u),i.ref=r.ref,i.return=r,r.child=i}function ax(i,r,o,u,m){if(i!==null){var y=i.memoizedProps;if(Ql(y,u)&&i.ref===r.ref)if(jt=!1,r.pendingProps=u=y,dp(i,m))(i.flags&131072)!==0&&(jt=!0);else return r.lanes=i.lanes,vs(i,r,m)}return ap(i,r,o,u,m)}function ox(i,r,o,u){var m=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return lx(i,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&bh(r,y!==null?y.cachePool:null),y!==null?cb(r,y):Om(),hb(r);else return u=r.lanes=536870912,lx(i,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(bh(r,y.cachePool),cb(r,y),lr(),r.memoizedState=null):(i!==null&&bh(r,null),Om(),lr());return Zt(i,r,m,o),r.child}function cu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function lx(i,r,o,u,m){var y=Im();return y=y===null?null:{parent:Dt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&bh(r,null),Om(),hb(r),i!==null&&_o(i,r,u,!0),r.childLanes=m,null}function Vh(i,r){return r=Ph({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ux(i,r,o){return Aa(r,i.child,null,o),i=Vh(r,r.pendingProps),i.flags|=2,Vn(r),r.memoizedState=null,i}function g2(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ze){if(u.mode==="hidden")return i=Vh(r,u),r.lanes=536870912,cu(null,i);if(Lm(r),(i=st)?(i=__(i,Xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:er!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=Kv(i),o.return=r,r.child=o,Wt=r,st=null)):i=null,i===null)throw nr(r);return r.lanes=536870912,null}return Vh(r,u)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(Lm(r),m)if(r.flags&256)r.flags&=-257,r=ux(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||_o(i,r,o,!1),m=(o&i.childLanes)!==0,jt||m){if(u=nt,u!==null&&(E=Dl(u,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,va(i,E),Sn(u,i,E),rp;Kh(),r=ux(i,r,o)}else i=y.treeContext,st=Jn(E.nextSibling),Wt=r,ze=!0,tr=null,Xn=!1,i!==null&&Qv(r,i),r=Vh(r,u),r.flags|=4096;return r}return i=fs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Oh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function ap(i,r,o,u,m){return Ea(r),o=zm(i,r,o,u,void 0,m),u=Bm(),i!==null&&!jt?(Fm(i,r,m),vs(i,r,m)):(ze&&u&&_m(r),r.flags|=1,Zt(i,r,o,m),r.child)}function cx(i,r,o,u,m,y){return Ea(r),r.updateQueue=null,o=db(r,u,o,m),fb(i),u=Bm(),i!==null&&!jt?(Fm(i,r,y),vs(i,r,y)):(ze&&u&&_m(r),r.flags|=1,Zt(i,r,o,y),r.child)}function hx(i,r,o,u,m){if(Ea(r),r.stateNode===null){var y=yo,E=o.contextType;typeof E=="object"&&E!==null&&(y=Xt(E)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ip,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},km(r),E=o.contextType,y.context=typeof E=="object"&&E!==null?Xt(E):yo,y.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(np(r,o,E,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&ip.enqueueReplaceState(y,y.state,null),ru(r,u,y,m),su(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var S=r.memoizedProps,V=Ra(o,S);y.props=V;var $=y.context,Z=o.contextType;E=yo,typeof Z=="object"&&Z!==null&&(E=Xt(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||$!==E)&&Xb(r,y,u,E),sr=!1;var Y=r.memoizedState;y.state=Y,ru(r,u,y,m),su(),$=r.memoizedState,S||Y!==$||sr?(typeof ie=="function"&&(np(r,o,ie,u),$=r.memoizedState),(V=sr||Wb(r,o,V,u,Y,$,E))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),y.props=u,y.state=$,y.context=E,u=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,jm(i,r),E=r.memoizedProps,Z=Ra(o,E),y.props=Z,ie=r.pendingProps,Y=y.context,$=o.contextType,V=yo,typeof $=="object"&&$!==null&&(V=Xt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ie||Y!==V)&&Xb(r,y,u,V),sr=!1,Y=r.memoizedState,y.state=Y,ru(r,u,y,m),su();var W=r.memoizedState;E!==ie||Y!==W||sr||i!==null&&i.dependencies!==null&&yh(i.dependencies)?(typeof S=="function"&&(np(r,o,S,u),W=r.memoizedState),(Z=sr||Wb(r,o,Z,u,Y,W,V)||i!==null&&i.dependencies!==null&&yh(i.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),y.props=u,y.state=W,y.context=V,u=Z):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,Oh(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=Aa(r,i.child,null,m),r.child=Aa(r,null,o,m)):Zt(i,r,o,m),r.memoizedState=y.state,i=r.child):i=vs(i,r,m),i}function fx(i,r,o,u){return xa(),r.flags|=256,Zt(i,r,o,u),r.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(i){return{baseLanes:i,cachePool:tb()}}function up(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Pn),i}function dx(i,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(ze){if(m?or(r):lr(),(i=st)?(i=__(i,Xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:er!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=Kv(i),o.return=r,r.child=o,Wt=r,st=null)):i=null,i===null)throw nr(r);return Gp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(lr(),m=r.mode,S=Ph({mode:"hidden",children:S},m),u=ba(u,m,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=lp(o),u.childLanes=up(i,E,o),r.memoizedState=op,cu(null,u)):(or(r),cp(r,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(y)r.flags&256?(or(r),r.flags&=-257,r=hp(i,r,o)):r.memoizedState!==null?(lr(),r.child=i.child,r.flags|=128,r=null):(lr(),S=u.fallback,m=r.mode,u=Ph({mode:"visible",children:u.children},m),S=ba(S,m,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Aa(r,i.child,null,o),u=r.child,u.memoizedState=lp(o),u.childLanes=up(i,E,o),r.memoizedState=op,r=cu(null,u));else if(or(r),Gp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,Zl({value:u,source:null,stack:null}),r=hp(i,r,o)}else if(jt||_o(i,r,o,!1),E=(o&i.childLanes)!==0,jt||E){if(E=nt,E!==null&&(u=Dl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,va(i,u),Sn(E,i,u),rp;qp(S)||Kh(),r=hp(i,r,o)}else qp(S)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,st=Jn(S.nextSibling),Wt=r,ze=!0,tr=null,Xn=!1,i!==null&&Qv(r,i),r=cp(r,u.children),r.flags|=4096);return r}return m?(lr(),S=u.fallback,m=r.mode,V=i.child,$=V.sibling,u=fs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?S=fs($,S):(S=ba(S,m,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,cu(null,u),u=r.child,S=i.child.memoizedState,S===null?S=lp(o):(m=S.cachePool,m!==null?(V=Dt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=tb(),S={baseLanes:S.baseLanes|o,cachePool:m}),u.memoizedState=S,u.childLanes=up(i,E,o),r.memoizedState=op,cu(i.child,u)):(or(r),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function cp(i,r){return r=Ph({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ph(i,r){return i=jn(22,i,null,r),i.lanes=0,i}function hp(i,r,o){return Aa(r,i.child,null,o),i=cp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function mx(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Am(i.return,r,o)}function fp(i,r,o,u,m,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=m,E.treeForkCount=y)}function px(i,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var E=Tt.current,S=(E&2)!==0;if(S?(E=E&1|2,r.flags|=128):E&=1,ue(Tt,E),Zt(i,r,u,o),u=ze?Xl:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mx(i,o,r);else if(i.tag===19)mx(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Sh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),fp(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Sh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}fp(r,!0,o,null,y,u);break;case"together":fp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function vs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),hr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(_o(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function dp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yh(i)))}function y2(i,r,o){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),ir(r,Dt,i.memoizedState.cache),xa();break;case 27:case 5:ea(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:ir(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Lm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?dx(i,r,o):(or(r),i=vs(i,r,o),i!==null?i.sibling:null);or(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(_o(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return px(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(Tt,Tt.current),u)break;return null;case 22:return r.lanes=0,ox(i,r,o,r.pendingProps);case 24:ir(r,Dt,i.memoizedState.cache)}return vs(i,r,o)}function gx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)jt=!0;else{if(!dp(i,o)&&(r.flags&128)===0)return jt=!1,y2(i,r,o);jt=(i.flags&131072)!==0}else jt=!1,ze&&(r.flags&1048576)!==0&&Yv(r,Xl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=wa(r.elementType),r.type=i,typeof i=="function")vm(i)?(u=Ra(i,u),r.tag=1,r=hx(null,r,i,u,o)):(r.tag=0,r=ap(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===oe){r.tag=11,r=sx(null,r,i,u,o);break e}else if(m===k){r.tag=14,r=rx(null,r,i,u,o);break e}}throw r=Ce(i)||i,Error(s(306,r,""))}}return r;case 0:return ap(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Ra(u,r.pendingProps),hx(i,r,u,m,o);case 3:e:{if(Ut(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,jm(i,r),ru(r,u,null,o);var E=r.memoizedState;if(u=E.cache,ir(r,Dt,u),u!==y.cache&&Cm(r,[Dt],o,!0),su(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=fx(i,r,u,o);break e}else if(u!==m){m=Yn(Error(s(424)),r),Zl(m),r=fx(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(st=Jn(i.firstChild),Wt=r,ze=!0,tr=null,Xn=!0,o=ob(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xa(),u===m){r=vs(i,r,o);break e}Zt(i,r,u,o)}r=r.child}return r;case 26:return Oh(i,r),i===null?(o=C_(r.type,null,r.pendingProps,null))?r.memoizedState=o:ze||(o=r.type,i=r.pendingProps,u=Jh(Ie.current).createElement(o),u[Rt]=r,u[qt]=i,Jt(u,o,i),Nt(u),r.stateNode=u):r.memoizedState=C_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ea(r),i===null&&ze&&(u=r.stateNode=w_(r.type,r.pendingProps,Ie.current),Wt=r,Xn=!0,m=st,gr(r.type)?(Kp=m,st=Jn(u.firstChild)):st=m),Zt(i,r,r.pendingProps.children,o),Oh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ze&&((m=u=st)&&(u=$2(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,Wt=r,st=Jn(u.firstChild),Xn=!1,m=!0):m=!1),m||nr(r)),ea(r),m=r.type,y=r.pendingProps,E=i!==null?i.memoizedProps:null,u=y.children,Bp(m,y)?u=null:E!==null&&Bp(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=zm(i,r,l2,null,null,o),Su._currentValue=m),Oh(i,r),Zt(i,r,u,o),r.child;case 6:return i===null&&ze&&((i=o=st)&&(o=Y2(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,Wt=r,st=null,i=!0):i=!1),i||nr(r)),null;case 13:return dx(i,r,o);case 4:return Ut(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Aa(r,null,u,o):Zt(i,r,u,o),r.child;case 11:return sx(i,r,r.type,r.pendingProps,o);case 7:return Zt(i,r,r.pendingProps,o),r.child;case 8:return Zt(i,r,r.pendingProps.children,o),r.child;case 12:return Zt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ir(r,r.type,u.value),Zt(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Ea(r),m=Xt(m),u=u(m),r.flags|=1,Zt(i,r,u,o),r.child;case 14:return rx(i,r,r.type,r.pendingProps,o);case 15:return ax(i,r,r.type,r.pendingProps,o);case 19:return px(i,r,o);case 31:return g2(i,r,o);case 22:return ox(i,r,o,r.pendingProps);case 24:return Ea(r),u=Xt(Dt),i===null?(m=Im(),m===null&&(m=nt,y=Rm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},km(r),ir(r,Dt,m)):((i.lanes&o)!==0&&(jm(i,r),ru(r,null,null,o),su()),m=i.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),ir(r,Dt,u)):(u=y.cache,ir(r,Dt,u),u!==m.cache&&Cm(r,[Dt],o,!0))),Zt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function bs(i){i.flags|=4}function mp(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Hx())i.flags|=8192;else throw Sa=_h,Dm}else i.flags&=-16777217}function yx(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!k_(r))if(Hx())i.flags|=8192;else throw Sa=_h,Dm}function Lh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?qc():536870912,i.lanes|=r,jo|=r)}function hu(i,r){if(!ze)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function rt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function v2(i,r,o){var u=r.pendingProps;switch(Em(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ps(Dt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xo(r)?bs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wm())),rt(r),null;case 26:var m=r.type,y=r.memoizedState;return i===null?(bs(r),y!==null?(rt(r),yx(r,y)):(rt(r),mp(r,m,null,u,o))):y?y!==i.memoizedState?(bs(r),rt(r),yx(r,y)):(rt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&bs(r),rt(r),mp(r,m,i,u,o)),null;case 27:if(Xa(r),o=Ie.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&bs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}i=de.current,xo(r)?Wv(r):(i=w_(m,u,o),r.stateNode=i,bs(r))}return rt(r),null;case 5:if(Xa(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&bs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(y=de.current,xo(r))Wv(r);else{var E=Jh(Ie.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(m,{is:u.is}):E.createElement(m)}}y[Rt]=r,y[qt]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(Jt(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&bs(r)}}return rt(r),mp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&bs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,xo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=Wt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||d_(i.nodeValue,o)),i||nr(r,!0)}else i=Jh(i).createTextNode(u),i[Rt]=r,r.stateNode=i}return rt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=xo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),i=!1}else o=wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=xo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Rt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),m=!1}else m=wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Lh(r,r.updateQueue),rt(r),null);case 4:return lt(),i===null&&Op(r.stateNode.containerInfo),rt(r),null;case 10:return ps(r.type),rt(r),null;case 19:if(se(Tt),u=r.memoizedState,u===null)return rt(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)hu(u,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Sh(i),y!==null){for(r.flags|=128,hu(u,!1),i=y.updateQueue,r.updateQueue=i,Lh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Gv(o,i),o=o.sibling;return ue(Tt,Tt.current&1|2),ze&&ds(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&fn()>Hh&&(r.flags|=128,m=!0,hu(u,!1),r.lanes=4194304)}else{if(!m)if(i=Sh(y),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Lh(r,i),hu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!ze)return rt(r),null}else 2*fn()-u.renderingStartTime>Hh&&o!==536870912&&(r.flags|=128,m=!0,hu(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=fn(),i.sibling=null,o=Tt.current,ue(Tt,m?o&1|2:o&1),ze&&ds(r,u.treeForkCount),i):(rt(r),null);case 22:case 23:return Vn(r),Pm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),o=r.updateQueue,o!==null&&Lh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&se(Ta),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ps(Dt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function b2(i,r){switch(Em(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ps(Dt),lt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Xa(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(s(340));xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Vn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return se(Tt),null;case 4:return lt(),null;case 10:return ps(r.type),null;case 22:case 23:return Vn(r),Pm(),i!==null&&se(Ta),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ps(Dt),null;case 25:return null;default:return null}}function vx(i,r){switch(Em(r),r.tag){case 3:ps(Dt),lt();break;case 26:case 27:case 5:Xa(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:se(Tt);break;case 10:ps(r.type);break;case 22:case 23:Vn(r),Pm(),i!==null&&se(Ta);break;case 24:ps(Dt)}}function fu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var y=o.create,E=o.inst;u=y(),E.destroy=u}o=o.next}while(o!==m)}}catch(S){Xe(r,r.return,S)}}function ur(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,m=r;var V=o,$=S;try{$()}catch(Z){Xe(m,V,Z)}}}u=u.next}while(u!==y)}}catch(Z){Xe(r,r.return,Z)}}function bx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{ub(r,o)}catch(u){Xe(i,i.return,u)}}}function xx(i,r,o){o.props=Ra(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(i,r,u)}}function du(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){Xe(i,r,m)}}function $i(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Xe(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Xe(i,r,m)}else o.current=null}function _x(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Xe(i,i.return,m)}}function pp(i,r,o){try{var u=i.stateNode;B2(u,i.type,o,r),u[qt]=r}catch(m){Xe(i,i.return,m)}}function Ex(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gr(i.type)||i.tag===4}function gp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ex(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(u!==4&&(u===27&&gr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(yp(i,r,o),i=i.sibling;i!==null;)yp(i,r,o),i=i.sibling}function Uh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&gr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Uh(i,r,o),i=i.sibling;i!==null;)Uh(i,r,o),i=i.sibling}function Tx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Jt(r,u,o),r[Rt]=i,r[qt]=o}catch(y){Xe(i,i.return,y)}}var xs=!1,Mt=!1,vp=!1,wx=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function x2(i,r){if(i=i.containerInfo,Up=of,i=Ov(i),hm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,S=-1,V=-1,$=0,Z=0,ie=i,Y=null;t:for(;;){for(var W;ie!==o||m!==0&&ie.nodeType!==3||(S=E+m),ie!==y||u!==0&&ie.nodeType!==3||(V=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Y=ie,ie=W;for(;;){if(ie===i)break t;if(Y===o&&++$===m&&(S=E),Y===y&&++Z===u&&(V=E),(W=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=W}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(zp={focusedElem:i,selectionRange:o},of=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var me=Ra(o.type,m);i=u.getSnapshotBeforeUpdate(me,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Xe(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}}function Sx(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Es(i,o),u&4&&fu(5,o);break;case 1:if(Es(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Xe(o,o.return,E)}else{var m=Ra(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(o,o.return,E)}}u&64&&bx(o),u&512&&du(o,o.return);break;case 3:if(Es(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{ub(i,r)}catch(E){Xe(o,o.return,E)}}break;case 27:r===null&&u&4&&Tx(o);case 26:case 5:Es(i,o),r===null&&u&4&&_x(o),u&512&&du(o,o.return);break;case 12:Es(i,o);break;case 31:Es(i,o),u&4&&Rx(i,o);break;case 13:Es(i,o),u&4&&Nx(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=N2.bind(null,o),Q2(i,o))));break;case 22:if(u=o.memoizedState!==null||xs,!u){r=r!==null&&r.memoizedState!==null||Mt,m=xs;var y=Mt;xs=u,(Mt=r)&&!y?Ts(i,o,(o.subtreeFlags&8772)!==0):Es(i,o),xs=m,Mt=y}break;case 30:break;default:Es(i,o)}}function Ax(i){var r=i.alternate;r!==null&&(i.alternate=null,Ax(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&no(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,_n=!1;function _s(i,r,o){for(o=o.child;o!==null;)Cx(i,r,o),o=o.sibling}function Cx(i,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 26:Mt||$i(o,r),_s(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||$i(o,r);var u=ct,m=_n;gr(o.type)&&(ct=o.stateNode,_n=!1),_s(i,r,o),Eu(o.stateNode),ct=u,_n=m;break;case 5:Mt||$i(o,r);case 6:if(u=ct,m=_n,ct=null,_s(i,r,o),ct=u,_n=m,ct!==null)if(_n)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(y){Xe(o,r,y)}else try{ct.removeChild(o.stateNode)}catch(y){Xe(o,r,y)}break;case 18:ct!==null&&(_n?(i=ct,b_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Bo(i)):b_(ct,o.stateNode));break;case 4:u=ct,m=_n,ct=o.stateNode.containerInfo,_n=!0,_s(i,r,o),ct=u,_n=m;break;case 0:case 11:case 14:case 15:ur(2,o,r),Mt||ur(4,o,r),_s(i,r,o);break;case 1:Mt||($i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&xx(o,r,u)),_s(i,r,o);break;case 21:_s(i,r,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,_s(i,r,o),Mt=u;break;default:_s(i,r,o)}}function Rx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bo(i)}catch(o){Xe(r,r.return,o)}}}function Nx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bo(i)}catch(o){Xe(r,r.return,o)}}function _2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new wx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new wx),r;default:throw Error(s(435,i.tag))}}function zh(i,r){var o=_2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=I2.bind(null,i,u);u.then(m,m)}})}function En(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=i,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(gr(S.type)){ct=S.stateNode,_n=!1;break e}break;case 5:ct=S.stateNode,_n=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(ct===null)throw Error(s(160));Cx(y,E,m),ct=null,_n=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ix(r,i),r=r.sibling}var bi=null;function Ix(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),Tn(i),u&4&&(ur(3,i,i.return),fu(3,i),ur(5,i,i.return));break;case 1:En(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),u&64&&xs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=bi;if(En(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ji]||y[Rt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),Jt(y,u,o),y[Rt]=i,Nt(y),u=y;break e;case"link":var E=I_("link","href",m).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(y=E[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}y=m.createElement(u),Jt(y,u,o),m.head.appendChild(y);break;case"meta":if(E=I_("meta","content",m).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(y=E[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}y=m.createElement(u),Jt(y,u,o),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[Rt]=i,Nt(y),u=y}i.stateNode=u}else D_(m,i.type,i.stateNode);else i.stateNode=N_(m,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?D_(m,i.type,i.stateNode):N_(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&pp(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),o!==null&&u&4&&pp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(r,i),Tn(i),u&512&&(Mt||o===null||$i(o,o.return)),i.flags&32){m=i.stateNode;try{xn(m,"")}catch(me){Xe(i,i.return,me)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,pp(i,m,o!==null?o.memoizedProps:m)),u&1024&&(vp=!0);break;case 6:if(En(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Xe(i,i.return,me)}}break;case 3:if(nf=null,m=bi,bi=ef(r.containerInfo),En(r,i),bi=m,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bo(r.containerInfo)}catch(me){Xe(i,i.return,me)}vp&&(vp=!1,Dx(i));break;case 4:u=bi,bi=ef(i.stateNode.containerInfo),En(r,i),Tn(i),bi=u;break;case 12:En(r,i),Tn(i);break;case 31:En(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zh(i,u)));break;case 13:En(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fh=fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zh(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=xs,Z=Mt;if(xs=$||m,Mt=Z||V,En(r,i),Mt=Z,xs=$,Tn(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||xs||Mt||Na(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(y=V.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=V.stateNode;var ie=V.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Xe(V,V.return,me)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(me){Xe(V,V.return,me)}}}else if(r.tag===18){if(o===null){V=r;try{var W=V.stateNode;m?x_(W,!0):x_(V.stateNode,!1)}catch(me){Xe(V,V.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zh(i,o))));break;case 19:En(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zh(i,u)));break;case 30:break;case 21:break;default:En(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Ex(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=gp(i);Uh(i,y,m);break;case 5:var E=o.stateNode;o.flags&32&&(xn(E,""),o.flags&=-33);var S=gp(i);Uh(i,S,E);break;case 3:case 4:var V=o.stateNode.containerInfo,$=gp(i);yp(i,$,V);break;default:throw Error(s(161))}}catch(Z){Xe(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Dx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Dx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Es(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Sx(i,r.alternate,r),r=r.sibling}function Na(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),Na(r);break;case 1:$i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&xx(r,r.return,o),Na(r);break;case 27:Eu(r.stateNode);case 26:case 5:$i(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}i=i.sibling}}function Ts(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ts(m,y,o),fu(4,y);break;case 1:if(Ts(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){Xe(u,u.return,$)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)lb(V[m],S)}catch($){Xe(u,u.return,$)}}o&&E&64&&bx(y),du(y,y.return);break;case 27:Tx(y);case 26:case 5:Ts(m,y,o),o&&u===null&&E&4&&_x(y),du(y,y.return);break;case 12:Ts(m,y,o);break;case 31:Ts(m,y,o),o&&E&4&&Rx(m,y);break;case 13:Ts(m,y,o),o&&E&4&&Nx(m,y);break;case 22:y.memoizedState===null&&Ts(m,y,o),du(y,y.return);break;case 30:break;default:Ts(m,y,o)}r=r.sibling}}function bp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Jl(o))}function xp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jl(i))}function xi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kx(i,r,o,u),r=r.sibling}function kx(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:xi(i,r,o,u),m&2048&&fu(9,r);break;case 1:xi(i,r,o,u);break;case 3:xi(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jl(i)));break;case 12:if(m&2048){xi(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,E=y.id,S=y.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Xe(r,r.return,V)}}else xi(i,r,o,u);break;case 31:xi(i,r,o,u);break;case 13:xi(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?xi(i,r,o,u):mu(i,r):y._visibility&2?xi(i,r,o,u):(y._visibility|=2,Io(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&bp(E,r);break;case 24:xi(i,r,o,u),m&2048&&xp(r.alternate,r);break;default:xi(i,r,o,u)}}function Io(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,E=r,S=o,V=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:Io(y,E,S,V,m),fu(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Io(y,E,S,V,m):mu(y,E):(Z._visibility|=2,Io(y,E,S,V,m)),m&&$&2048&&bp(E.alternate,E);break;case 24:Io(y,E,S,V,m),m&&$&2048&&xp(E.alternate,E);break;default:Io(y,E,S,V,m)}r=r.sibling}}function mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:mu(o,u),m&2048&&bp(u.alternate,u);break;case 24:mu(o,u),m&2048&&xp(u.alternate,u);break;default:mu(o,u)}r=r.sibling}}var pu=8192;function Do(i,r,o){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)jx(i,r,o),i=i.sibling}function jx(i,r,o){switch(i.tag){case 26:Do(i,r,o),i.flags&pu&&i.memoizedState!==null&&oN(o,bi,i.memoizedState,i.memoizedProps);break;case 5:Do(i,r,o);break;case 3:case 4:var u=bi;bi=ef(i.stateNode.containerInfo),Do(i,r,o),bi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=pu,pu=16777216,Do(i,r,o),pu=u):Do(i,r,o));break;default:Do(i,r,o)}}function Mx(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function gu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Ox(u,i)}Mx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vx(i),i=i.sibling}function Vx(i){switch(i.tag){case 0:case 11:case 15:gu(i),i.flags&2048&&ur(9,i,i.return);break;case 3:gu(i);break;case 12:gu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Bh(i)):gu(i);break;default:gu(i)}}function Bh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,Ox(u,i)}Mx(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),Bh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Bh(r));break;default:Bh(r)}i=i.sibling}}function Ox(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=i;Kt!==null;){u=Kt;var m=u.sibling,y=u.return;if(Ax(u),u===o){Kt=null;break e}if(m!==null){m.return=y,Kt=m;break e}Kt=y}}}var E2={getCacheForType:function(i){var r=Xt(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xt(Dt).controller.signal}},T2=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,ke=null,Ve=0,We=0,On=null,cr=!1,ko=!1,_p=!1,ws=0,yt=0,hr=0,Ia=0,Ep=0,Pn=0,jo=0,yu=null,wn=null,Tp=!1,Fh=0,Px=0,Hh=1/0,qh=null,fr=null,Bt=0,dr=null,Mo=null,Ss=0,wp=0,Sp=null,Lx=null,vu=0,Ap=null;function Ln(){return($e&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?kp():Gc()}function Ux(){if(Pn===0)if((Ve&536870912)===0||ze){var i=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Pn=i}else Pn=536870912;return i=Mn.current,i!==null&&(i.flags|=32),Pn}function Sn(i,r,o){(i===nt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Vo(i,0),mr(i,Ve,Pn,!1)),sa(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(Ia|=o),yt===4&&mr(i,Ve,Pn,!1)),Yi(i))}function zx(i,r,o){if(($e&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),m=u?A2(i,r):Rp(i,r,!0),y=u;do{if(m===0){ko&&!u&&mr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!w2(o)){m=Rp(i,r,!1),y=!1;continue}if(m===2){if(y=r,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=i;m=yu;var V=S.current.memoizedState.isDehydrated;if(V&&(Vo(S,E).flags|=256),E=Rp(S,E,!1),E!==2){if(_p&&!V){S.errorRecoveryDisabledLanes|=y,Ia|=y,m=4;break e}y=wn,wn=m,y!==null&&(wn===null?wn=y:wn.push.apply(wn,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){Vo(i,0),mr(i,r,0,!0);break}e:{switch(u=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mr(u,r,Pn,!cr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Fh+300-fn(),10<m)){if(mr(u,r,Pn,!cr),Ii(u,0,!0)!==0)break e;Ss=r,u.timeoutHandle=y_(Bx.bind(null,u,o,wn,qh,Tp,r,Pn,Ia,jo,cr,y,"Throttled",-0,0),m);break e}Bx(u,o,wn,qh,Tp,r,Pn,Ia,jo,cr,y,null,-0,0)}}break}while(!0);Yi(i)}function Bx(i,r,o,u,m,y,E,S,V,$,Z,ie,Y,W){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},jx(r,y,ie);var me=(y&62914560)===y?Fh-fn():(y&4194048)===y?Px-fn():0;if(me=lN(ie,me),me!==null){Ss=y,i.cancelPendingCommit=me(Qx.bind(null,i,r,y,o,u,m,E,S,V,Z,ie,null,Y,W)),mr(i,y,E,!$);return}}Qx(i,r,y,o,u,m,E,S,V)}function w2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!kn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mr(i,r,o,u){r&=~Ep,r&=~Ia,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var y=31-_t(m),E=1<<y;u[y]=-1,m&=~E}o!==0&&ra(i,o,r)}function Gh(){return($e&6)===0?(bu(0),!1):!0}function Cp(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,ms=_a=null,Hm(i),So=null,tu=0,i=ke;for(;i!==null;)vx(i.alternate,i),i=i.return;ke=null}}function Vo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,q2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ss=0,Cp(),nt=i,ke=o=fs(i.current,null),Ve=r,We=0,On=null,cr=!1,ko=ci(i,r),_p=!1,jo=Pn=Ep=Ia=hr=yt=0,wn=yu=null,Tp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-_t(u),y=1<<m;r|=i[m],u&=~y}return ws=r,fh(),o}function Fx(i,r){Ne=null,X.H=uu,r===wo||r===xh?(r=sb(),We=3):r===Dm?(r=sb(),We=4):We=r===rp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,ke===null&&(yt=1,Mh(i,Yn(r,i.current)))}function Hx(){var i=Mn.current;return i===null?!0:(Ve&4194048)===Ve?Zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===Zn:!1}function qx(){var i=X.H;return X.H=uu,i===null?uu:i}function Gx(){var i=X.A;return X.A=E2,i}function Kh(){yt=4,cr||(Ve&4194048)!==Ve&&Mn.current!==null||(ko=!0),(hr&134217727)===0&&(Ia&134217727)===0||nt===null||mr(nt,Ve,Pn,!1)}function Rp(i,r,o){var u=$e;$e|=2;var m=qx(),y=Gx();(nt!==i||Ve!==r)&&(qh=null,Vo(i,r)),r=!1;var E=yt;e:do try{if(We!==0&&ke!==null){var S=ke,V=On;switch(We){case 8:Cp(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var $=We;if(We=0,On=null,Oo(i,S,V,$),o&&ko){E=0;break e}break;default:$=We,We=0,On=null,Oo(i,S,V,$)}}S2(),E=yt;break}catch(Z){Fx(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ms=_a=null,$e=u,X.H=m,X.A=y,ke===null&&(nt=null,Ve=0,fh()),E}function S2(){for(;ke!==null;)Kx(ke)}function A2(i,r){var o=$e;$e|=2;var u=qx(),m=Gx();nt!==i||Ve!==r?(qh=null,Hh=fn()+500,Vo(i,r)):ko=ci(i,r);e:do try{if(We!==0&&ke!==null){r=ke;var y=On;t:switch(We){case 1:We=0,On=null,Oo(i,r,y,1);break;case 2:case 9:if(nb(y)){We=0,On=null,$x(r);break}r=function(){We!==2&&We!==9||nt!==i||(We=7),Yi(i)},y.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:nb(y)?(We=0,On=null,$x(r)):(We=0,On=null,Oo(i,r,y,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var S=ke;if(E?k_(E):S.stateNode.complete){We=0,On=null;var V=S.sibling;if(V!==null)ke=V;else{var $=S.return;$!==null?(ke=$,$h($)):ke=null}break t}}We=0,On=null,Oo(i,r,y,5);break;case 6:We=0,On=null,Oo(i,r,y,6);break;case 8:Cp(),yt=6;break e;default:throw Error(s(462))}}C2();break}catch(Z){Fx(i,Z)}while(!0);return ms=_a=null,X.H=u,X.A=m,$e=o,ke!==null?0:(nt=null,Ve=0,fh(),yt)}function C2(){for(;ke!==null&&!sm();)Kx(ke)}function Kx(i){var r=gx(i.alternate,i,ws);i.memoizedProps=i.pendingProps,r===null?$h(i):ke=r}function $x(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=cx(o,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=cx(o,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Hm(r);default:vx(o,r),r=ke=Gv(r,ws),r=gx(o,r,ws)}i.memoizedProps=i.pendingProps,r===null?$h(i):ke=r}function Oo(i,r,o,u){ms=_a=null,Hm(r),So=null,tu=0;var m=r.return;try{if(p2(i,m,r,o,Ve)){yt=1,Mh(i,Yn(o,i.current)),ke=null;return}}catch(y){if(m!==null)throw ke=m,y;yt=1,Mh(i,Yn(o,i.current)),ke=null;return}r.flags&32768?(ze||u===1?i=!0:ko||(Ve&536870912)!==0?i=!1:(cr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Yx(r,i)):$h(r)}function $h(i){var r=i;do{if((r.flags&32768)!==0){Yx(r,cr);return}i=r.return;var o=v2(r.alternate,r,ws);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=i}while(r!==null);yt===0&&(yt=5)}function Yx(i,r){do{var o=b2(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);yt=6,ke=null}function Qx(i,r,o,u,m,y,E,S,V){i.cancelPendingCommit=null;do Yh();while(Bt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=gm,om(i,o,y,E,S,V),i===nt&&(ke=nt=null,Ve=0),Mo=r,dr=i,Ss=o,wp=y,Sp=m,Lx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,D2(qs,function(){return e_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,m=ae.p,ae.p=2,E=$e,$e|=4;try{x2(i,r,o)}finally{$e=E,ae.p=m,X.T=u}}Bt=1,Wx(),Xx(),Zx()}}function Wx(){if(Bt===1){Bt=0;var i=dr,r=Mo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ae.p;ae.p=2;var m=$e;$e|=4;try{Ix(r,i);var y=zp,E=Ov(i.containerInfo),S=y.focusedElem,V=y.selectionRange;if(E!==S&&S&&S.ownerDocument&&Vv(S.ownerDocument.documentElement,S)){if(V!==null&&hm(S)){var $=V.start,Z=V.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),me=S.textContent.length,ve=Math.min(V.start,me),tt=V.end===void 0?ve:Math.min(V.end,me);!W.extend&&ve>tt&&(E=tt,tt=ve,ve=E);var F=Mv(S,ve),U=Mv(S,tt);if(F&&U&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var K=ie.createRange();K.setStart(F.node,F.offset),W.removeAllRanges(),ve>tt?(W.addRange(K),W.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),W.addRange(K))}}}}for(ie=[],W=S;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ee=ie[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}of=!!Up,zp=Up=null}finally{$e=m,ae.p=u,X.T=o}}i.current=r,Bt=2}}function Xx(){if(Bt===2){Bt=0;var i=dr,r=Mo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ae.p;ae.p=2;var m=$e;$e|=4;try{Sx(i,r.alternate,r)}finally{$e=m,ae.p=u,X.T=o}}Bt=3}}function Zx(){if(Bt===4||Bt===3){Bt=0,Lc();var i=dr,r=Mo,o=Ss,u=Lx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Mo=dr=null,Jx(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(fr=null),ls(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ui,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,m=ae.p,ae.p=2,X.T=null;try{for(var y=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];y(S.value,{componentStack:S.stack})}}finally{X.T=r,ae.p=m}}(Ss&3)!==0&&Yh(),Yi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Ap?vu++:(vu=0,Ap=i):vu=0,bu(0)}}function Jx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Jl(r)))}function Yh(){return Wx(),Xx(),Zx(),e_()}function e_(){if(Bt!==5)return!1;var i=dr,r=wp;wp=0;var o=ls(Ss),u=X.T,m=ae.p;try{ae.p=32>o?32:o,X.T=null,o=Sp,Sp=null;var y=dr,E=Ss;if(Bt=0,Mo=dr=null,Ss=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,Vx(y.current),kx(y,y.current,E,o),$e=S,bu(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ui,y)}catch{}return!0}finally{ae.p=m,X.T=u,Jx(i,r)}}function t_(i,r,o){r=Yn(o,r),r=sp(i.stateNode,r,2),i=ar(i,r,2),i!==null&&(sa(i,2),Yi(i))}function Xe(i,r,o){if(i.tag===3)t_(i,i,o);else for(;r!==null;){if(r.tag===3){t_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fr===null||!fr.has(u))){i=Yn(o,i),o=nx(2),u=ar(r,o,2),u!==null&&(ix(o,u,r,i),sa(u,2),Yi(u));break}}r=r.return}}function Np(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new T2;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(_p=!0,m.add(o),i=R2.bind(null,i,r,o),r.then(i,i))}function R2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Ve&o)===o&&(yt===4||yt===3&&(Ve&62914560)===Ve&&300>fn()-Fh?($e&2)===0&&Vo(i,0):Ep|=o,jo===Ve&&(jo=0)),Yi(i)}function n_(i,r){r===0&&(r=qc()),i=va(i,r),i!==null&&(sa(i,r),Yi(i))}function N2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),n_(i,o)}function I2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),n_(i,o)}function D2(i,r){return zt(i,r)}var Qh=null,Po=null,Ip=!1,Wh=!1,Dp=!1,pr=0;function Yi(i){i!==Po&&i.next===null&&(Po===null?Qh=Po=i:Po=Po.next=i),Wh=!0,Ip||(Ip=!0,j2())}function bu(i,r){if(!Dp&&Wh){Dp=!0;do for(var o=!1,u=Qh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var E=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-_t(42|i)+1)-1,y&=m&~(E&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,a_(u,y))}else y=Ve,y=Ii(u,u===nt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ci(u,y)||(o=!0,a_(u,y));u=u.next}while(o);Dp=!1}}function k2(){i_()}function i_(){Wh=Ip=!1;var i=0;pr!==0&&H2()&&(i=pr);for(var r=fn(),o=null,u=Qh;u!==null;){var m=u.next,y=s_(u,r);y===0?(u.next=null,o===null?Qh=m:o.next=m,m===null&&(Po=o)):(o=u,(i!==0||(y&3)!==0)&&(Wh=!0)),u=m}Bt!==0&&Bt!==5||bu(i),pr!==0&&(pr=0)}function s_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-_t(y),S=1<<E,V=m[E];V===-1?((S&o)===0||(S&u)!==0)&&(m[E]=am(S,r)):V<=r&&(i.expiredLanes|=S),y&=~S}if(r=nt,o=Ve,o=Ii(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Hs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Hs(u),ls(o)){case 2:case 8:o=Nl;break;case 32:o=qs;break;case 268435456:o=Uc;break;default:o=qs}return u=r_.bind(null,i),o=zt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Hs(u),i.callbackPriority=2,i.callbackNode=null,2}function r_(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yh()&&i.callbackNode!==o)return null;var u=Ve;return u=Ii(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(zx(i,u,r),s_(i,fn()),i.callbackNode!=null&&i.callbackNode===o?r_.bind(null,i):null)}function a_(i,r){if(Yh())return null;zx(i,r,!0)}function j2(){G2(function(){($e&6)!==0?zt(Rl,k2):i_()})}function kp(){if(pr===0){var i=Eo;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),pr=i}return pr}function o_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ao(""+i)}function l_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function M2(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=o_((m[qt]||null).action),E=u.submitter;E&&(r=(r=E[qt]||null)?o_(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var S=new Bi("action","action",null,u,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pr!==0){var V=E?l_(m,E):new FormData(m);Zm(o,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(S.preventDefault(),V=E?l_(m,E):new FormData(m),Zm(o,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var jp=0;jp<pm.length;jp++){var Mp=pm[jp],V2=Mp.toLowerCase(),O2=Mp[0].toUpperCase()+Mp.slice(1);vi(V2,"on"+O2)}vi(Uv,"onAnimationEnd"),vi(zv,"onAnimationIteration"),vi(Bv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(ZR,"onTransitionRun"),vi(JR,"onTransitionStart"),vi(e2,"onTransitionCancel"),vi(Fv,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function u_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=$;try{y(m)}catch(Z){hh(Z)}m.currentTarget=null,y=V}else for(E=0;E<u.length;E++){if(S=u[E],V=S.instance,$=S.currentTarget,S=S.listener,V!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=$;try{y(m)}catch(Z){hh(Z)}m.currentTarget=null,y=V}}}}function je(i,r){var o=r[to];o===void 0&&(o=r[to]=new Set);var u=i+"__bubble";o.has(u)||(c_(r,i,2,!1),o.add(u))}function Vp(i,r,o){var u=0;r&&(u|=4),c_(o,i,u,r)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Op(i){if(!i[Xh]){i[Xh]=!0,kl.forEach(function(o){o!=="selectionchange"&&(P2.has(o)||Vp(o,!1,i),Vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Xh]||(r[Xh]=!0,Vp("selectionchange",!1,r))}}function c_(i,r,o,u){switch(U_(r)){case 2:var m=hN;break;case 8:m=fN;break;default:m=Xp}o=m.bind(null,r,o,i),m=void 0,!ca||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Pp(i,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===m)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;S!==null;){if(E=Mi(S),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=y=E;continue e}S=S.parentNode}}u=u.return}Ws(function(){var $=y,Z=qn(o),ie=[];e:{var Y=Hv.get(i);if(Y!==void 0){var W=Bi,me=i;switch(i){case"keypress":if(fa(o)===0)break e;case"keydown":case"keyup":W=lh;break;case"focusin":me="focus",W=ma;break;case"focusout":me="blur",W=ma;break;case"beforeblur":case"afterblur":W=ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case Uv:case zv:case Bv:W=th;break;case Fv:W=A;break;case"scroll":case"scrollend":W=ql;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hs;break;case"toggle":case"beforetoggle":W=Re}var ve=(r&4)!==0,tt=!ve&&(i==="scroll"||i==="scrollend"),F=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var U=$,K;U!==null;){var ee=U;if(K=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||K===null||F===null||(ee=mi(U,F),ee!=null&&ve.push(_u(U,ee,K))),tt)break;U=U.return}0<ve.length&&(Y=new W(Y,me,null,o,Z),ie.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&o!==Bl&&(me=o.relatedTarget||o.fromElement)&&(Mi(me)||me[ki]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=$,me=me?Mi(me):null,me!==null&&(tt=l(me),ve=me.tag,me!==tt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(W=null,me=$),W!==me)){if(ve=Gl,ee="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ve=hs,ee="onPointerLeave",F="onPointerEnter",U="pointer"),tt=W==null?Y:In(W),K=me==null?Y:In(me),Y=new ve(ee,U+"leave",W,o,Z),Y.target=tt,Y.relatedTarget=K,ee=null,Mi(Z)===$&&(ve=new ve(F,U+"enter",me,o,Z),ve.target=K,ve.relatedTarget=tt,ee=ve),tt=ee,W&&me)t:{for(ve=L2,F=W,U=me,K=0,ee=F;ee;ee=ve(ee))K++;ee=0;for(var ge=U;ge;ge=ve(ge))ee++;for(;0<K-ee;)F=ve(F),K--;for(;0<ee-K;)U=ve(U),ee--;for(;K--;){if(F===U||U!==null&&F===U.alternate){ve=F;break t}F=ve(F),U=ve(U)}ve=null}else ve=null;W!==null&&h_(ie,Y,W,ve,!1),me!==null&&tt!==null&&h_(ie,tt,me,ve,!0)}}e:{if(Y=$?In($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var qe=Rv;else if(Av(Y))if(Nv)qe=QR;else{qe=$R;var pe=KR}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&ro($.elementType)&&(qe=Rv):qe=YR;if(qe&&(qe=qe(i,$))){Cv(ie,qe,o,Z);break e}pe&&pe(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Ll(Y,"number",Y.value)}switch(pe=$?In($):window,i){case"focusin":(Av(pe)||pe.contentEditable==="true")&&(mo=pe,fm=$,Wl=null);break;case"focusout":Wl=fm=mo=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Pv(ie,o,Z);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":Pv(ie,o,Z)}var De;if(Ke)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else fo?pa(i,o)&&(Oe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(qi&&o.locale!=="ko"&&(fo||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&fo&&(De=Hl()):(zi=Z,Fl="value"in zi?zi.value:zi.textContent,fo=!0)),pe=Zh($,Oe),0<pe.length&&(Oe=new Hi(Oe,i,null,o,Z),ie.push({event:Oe,listeners:pe}),De?Oe.data=De:(De=ho(o),De!==null&&(Oe.data=De)))),(De=Kn?FR(i,o):HR(i,o))&&(Oe=Zh($,"onBeforeInput"),0<Oe.length&&(pe=new Hi("onBeforeInput","beforeinput",null,o,Z),ie.push({event:pe,listeners:Oe}),pe.data=De)),M2(ie,i,$,o,Z)}u_(ie,r)})}function _u(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Zh(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=mi(i,o),m!=null&&u.unshift(_u(i,m,y)),m=mi(i,r),m!=null&&u.push(_u(i,m,y))),i.tag===3)return u;i=i.return}return[]}function L2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function h_(i,r,o,u,m){for(var y=r._reactName,E=[];o!==null&&o!==u;){var S=o,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||$===null||(V=$,m?($=mi(o,y),$!=null&&E.unshift(_u(o,$,V))):m||($=mi(o,y),$!=null&&E.push(_u(o,$,V)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var U2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function f_(i){return(typeof i=="string"?i:""+i).replace(U2,`
`).replace(z2,"")}function d_(i,r){return r=f_(r),f_(i)===r}function et(i,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||xn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&xn(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":zl(i,u,y);break;case"data":if(r!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",m.name,m,null),et(i,r,"formEncType",m.formEncType,m,null),et(i,r,"formMethod",m.formMethod,m,null),et(i,r,"formTarget",m.formTarget,m,null)):(et(i,r,"encType",m.encType,m,null),et(i,r,"method",m.method,m,null),et(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=di);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":je("beforetoggle",i),je("toggle",i),io(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":io(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zc.get(o)||o,io(i,o,u))}}function Lp(i,r,o,u,m,y){switch(o){case"style":zl(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?xn(i,u):(typeof u=="number"||typeof u=="bigint")&&xn(i,""+u);break;case"onScroll":u!=null&&je("scroll",i);break;case"onScrollEnd":u!=null&&je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=i[qt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):io(i,o,u)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,y,E,o,null)}}m&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":je("invalid",i);var S=y=E=m=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":m=Z;break;case"type":E=Z;break;case"checked":V=Z;break;case"defaultChecked":$=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:et(i,r,u,Z,o,null)}}Qc(i,y,S,V,$,E,m,!1);return;case"select":je("invalid",i),u=E=y=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:et(i,r,m,S,o,null)}r=y,o=E,i.multiple=!!u,r!=null?Ks(i,!!u,r,!1):o!=null&&Ks(i,!!u,o,!0);return;case"textarea":je("invalid",i),y=m=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(i,r,E,S,o,null)}$s(i,u,m,y);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,V,u,o,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(u=0;u<xu.length;u++)je(xu[u],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,$,u,o,null)}return;default:if(ro(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Lp(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&et(i,r,S,u,o,null))}function B2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,S=null,V=null,$=null,Z=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=ie;default:u.hasOwnProperty(W)||et(i,r,W,null,u,ie)}}for(var Y in u){var W=u[Y];if(ie=o[Y],u.hasOwnProperty(Y)&&(W!=null||ie!=null))switch(Y){case"type":y=W;break;case"name":m=W;break;case"checked":$=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ie&&et(i,r,Y,W,u,ie)}}so(i,E,S,V,$,Z,y,m);return;case"select":W=E=S=Y=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(y)||et(i,r,y,null,u,V)}for(m in u)if(y=u[m],V=o[m],u.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":E=y;default:y!==V&&et(i,r,m,y,u,V)}r=S,o=E,u=W,Y!=null?Ks(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(i,r,S,null,u,m)}for(E in u)if(m=u[E],y=o[E],u.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":Y=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&et(i,r,E,m,u,y)}Wc(i,Y,W);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:et(i,r,me,null,u,Y)}for(V in u)if(Y=u[V],W=o[V],u.hasOwnProperty(V)&&Y!==W&&(Y!=null||W!=null))switch(V){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(i,r,V,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&et(i,r,ve,null,u,Y);for($ in u)if(Y=u[$],W=o[$],u.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,$,Y,u,W)}return;default:if(ro(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!u.hasOwnProperty(tt)&&Lp(i,r,tt,void 0,u,Y);for(Z in u)Y=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Lp(i,r,Z,Y,u,W);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&et(i,r,F,null,u,Y);for(ie in u)Y=u[ie],W=o[ie],!u.hasOwnProperty(ie)||Y===W||Y==null&&W==null||et(i,r,ie,Y,u,W)}function m_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,E=m.initiatorType,S=m.duration;if(y&&S&&m_(E)){for(E=0,S=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],$=V.startTime;if($>S)break;var Z=V.transferSize,ie=V.initiatorType;Z&&m_(ie)&&(V=V.responseEnd,E+=Z*(V<S?1:(S-$)/(V-$)))}if(--u,r+=8*(y+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Up=null,zp=null;function Jh(i){return i.nodeType===9?i:i.ownerDocument}function p_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Bp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fp=null;function H2(){var i=window.event;return i&&i.type==="popstate"?i===Fp?!1:(Fp=i,!0):(Fp=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,G2=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(i){return v_.resolve(null).then(i).catch(K2)}:y_;function K2(i){setTimeout(function(){throw i})}function gr(i){return i==="head"}function b_(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Bo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Eu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Eu(o);for(var y=o.firstChild;y;){var E=y.nextSibling,S=y.nodeName;y[ji]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&Eu(i.ownerDocument.body);o=m}while(o);Bo(r)}function x_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Hp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hp(o),no(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function $2(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ji])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function Y2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function __(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Jn(i.nextSibling),i===null))return null;return i}function qp(i){return i.data==="$?"||i.data==="$~"}function Gp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Q2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Kp=null;function E_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Jn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function T_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function w_(i,r,o){switch(r=Jh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Eu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);no(i)}var ei=new Map,S_=new Set;function ef(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=ae.d;ae.d={f:W2,r:X2,D:Z2,C:J2,L:eN,m:tN,X:iN,S:nN,M:sN};function W2(){var i=As.f(),r=Gh();return i||r}function X2(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?Fb(r):As.r(i)}var Lo=typeof document>"u"?null:document;function A_(i,r,o){var u=Lo;if(u&&typeof r=="string"&&r){var m=bn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),S_.has(m)||(S_.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),Jt(r,"link",i),Nt(r),u.head.appendChild(r)))}}function Z2(i){As.D(i),A_("dns-prefetch",i,null)}function J2(i,r){As.C(i,r),A_("preconnect",i,r)}function eN(i,r,o){As.L(i,r,o);var u=Lo;if(u&&i&&r){var m='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+bn(o.imageSizes)+'"]')):m+='[href="'+bn(i)+'"]';var y=m;switch(r){case"style":y=Uo(i);break;case"script":y=zo(i)}ei.has(y)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(y,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(Tu(y))||r==="script"&&u.querySelector(wu(y))||(r=u.createElement("link"),Jt(r,"link",i),Nt(r),u.head.appendChild(r)))}}function tN(i,r){As.m(i,r);var o=Lo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+bn(u)+'"][href="'+bn(i)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zo(i)}if(!ei.has(y)&&(i=b({rel:"modulepreload",href:i},r),ei.set(y,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(y)))return}u=o.createElement("link"),Jt(u,"link",i),Nt(u),o.head.appendChild(u)}}}function nN(i,r,o){As.S(i,r,o);var u=Lo;if(u&&i){var m=Vi(u).hoistableStyles,y=Uo(i);r=r||"default";var E=m.get(y);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Tu(y)))S.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(y))&&$p(i,o);var V=E=u.createElement("link");Nt(V),Jt(V,"link",i),V._p=new Promise(function($,Z){V.onload=$,V.onerror=Z}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,tf(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},m.set(y,E)}}}function iN(i,r){As.X(i,r);var o=Lo;if(o&&i){var u=Vi(o).hoistableScripts,m=zo(i),y=u.get(m);y||(y=o.querySelector(wu(m)),y||(i=b({src:i,async:!0},r),(r=ei.get(m))&&Yp(i,r),y=o.createElement("script"),Nt(y),Jt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function sN(i,r){As.M(i,r);var o=Lo;if(o&&i){var u=Vi(o).hoistableScripts,m=zo(i),y=u.get(m);y||(y=o.querySelector(wu(m)),y||(i=b({src:i,async:!0,type:"module"},r),(r=ei.get(m))&&Yp(i,r),y=o.createElement("script"),Nt(y),Jt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function C_(i,r,o,u){var m=(m=Ie.current)?ef(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Uo(o.href),o=Vi(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Uo(o.href);var y=Vi(m).hoistableStyles,E=y.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=m.querySelector(Tu(i)))&&!y._p&&(E.instance=y,E.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),y||rN(m,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zo(o),o=Vi(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Uo(i){return'href="'+bn(i)+'"'}function Tu(i){return'link[rel="stylesheet"]['+i+"]"}function R_(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function rN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),Nt(r),i.head.appendChild(r))}function zo(i){return'[src="'+bn(i)+'"]'}function wu(i){return"script[async]"+i}function N_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+bn(o.href)+'"]');if(u)return r.instance=u,Nt(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Nt(u),Jt(u,"style",m),tf(u,o.precedence,i),r.instance=u;case"stylesheet":m=Uo(o.href);var y=i.querySelector(Tu(m));if(y)return r.state.loading|=4,r.instance=y,Nt(y),y;u=R_(o),(m=ei.get(m))&&$p(u,m),y=(i.ownerDocument||i).createElement("link"),Nt(y);var E=y;return E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),Jt(y,"link",u),r.state.loading|=4,tf(y,o.precedence,i),r.instance=y;case"script":return y=zo(o.src),(m=i.querySelector(wu(y)))?(r.instance=m,Nt(m),m):(u=o,(m=ei.get(y))&&(u=b({},o),Yp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Nt(m),Jt(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,tf(u,o.precedence,i));return r.instance}function tf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function $p(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Yp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function I_(i,r,o){if(nf===null){var u=new Map,m=nf=new Map;m.set(o,u)}else m=nf,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[ji]||y[Rt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(y):u.set(E,[y])}}return u}function D_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function aN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function k_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function oN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Uo(u.href),y=r.querySelector(Tu(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,Nt(y);return}y=r.ownerDocument||r,u=R_(u),(m=ei.get(m))&&$p(u,m),y=y.createElement("link"),Nt(y);var E=y;E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),Jt(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Qp=0;function lN(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&Qp===0&&(Qp=62500*F2());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Qp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(uN,i),rf=null,sf.call(i))}function uN(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}m=r.instance,E=m.getAttribute("data-precedence"),y=o.get(E)||u,y===u&&o.set(null,m),o.set(E,m),this.count++,u=sf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Su={$$typeof:G,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function cN(i,r,o,u,m,y,E,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function j_(i,r,o,u,m,y,E,S,V,$,Z,ie){return i=new cN(i,r,o,E,V,$,Z,ie,S),r=1,y===!0&&(r|=24),y=jn(3,null,null,r),i.current=y,y.stateNode=i,r=Rm(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},km(y),i}function M_(i){return i?(i=yo,i):yo}function V_(i,r,o,u,m,y){m=M_(m),u.context===null?u.context=m:u.pendingContext=m,u=rr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=ar(i,u,r),o!==null&&(Sn(o,i,r),iu(o,i,r))}function O_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Wp(i,r){O_(i,r),(i=i.alternate)&&O_(i,r)}function P_(i){if(i.tag===13||i.tag===31){var r=va(i,67108864);r!==null&&Sn(r,i,67108864),Wp(i,67108864)}}function L_(i){if(i.tag===13||i.tag===31){var r=Ln();r=aa(r);var o=va(i,r);o!==null&&Sn(o,i,r),Wp(i,r)}}var of=!0;function hN(i,r,o,u){var m=X.T;X.T=null;var y=ae.p;try{ae.p=2,Xp(i,r,o,u)}finally{ae.p=y,X.T=m}}function fN(i,r,o,u){var m=X.T;X.T=null;var y=ae.p;try{ae.p=8,Xp(i,r,o,u)}finally{ae.p=y,X.T=m}}function Xp(i,r,o,u){if(of){var m=Zp(u);if(m===null)Pp(i,r,u,lf,o),z_(i,u);else if(mN(m,i,r,o,u))u.stopPropagation();else if(z_(i,u),r&4&&-1<dN.indexOf(i)){for(;m!==null;){var y=Hn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Ni(y.pendingLanes);if(E!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var V=1<<31-_t(E);S.entanglements[1]|=V,E&=~V}Yi(y),($e&6)===0&&(Hh=fn()+500,bu(0))}}break;case 31:case 13:S=va(y,2),S!==null&&Sn(S,y,2),Gh(),Wp(y,2)}if(y=Zp(u),y===null&&Pp(i,r,u,lf,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else Pp(i,r,u,null,o)}}function Zp(i){return i=qn(i),Jp(i)}var lf=null;function Jp(i){if(lf=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function U_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case Rl:return 2;case Nl:return 8;case qs:case rm:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var eg=!1,yr=null,vr=null,br=null,Au=new Map,Cu=new Map,xr=[],dN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(i,r){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(r.pointerId)}}function Ru(i,r,o,u,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Hn(r),r!==null&&P_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function mN(i,r,o,u,m){switch(r){case"focusin":return yr=Ru(yr,i,r,o,u,m),!0;case"dragenter":return vr=Ru(vr,i,r,o,u,m),!0;case"mouseover":return br=Ru(br,i,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return Au.set(y,Ru(Au.get(y)||null,i,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Cu.set(y,Ru(Cu.get(y)||null,i,r,o,u,m)),!0}return!1}function B_(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,hi(i.priority,function(){L_(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,hi(i.priority,function(){L_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Zp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Bl=u,o.target.dispatchEvent(u),Bl=null}else return r=Hn(o),r!==null&&P_(r),i.blockedOn=o,!1;r.shift()}return!0}function F_(i,r,o){uf(i)&&o.delete(r)}function pN(){eg=!1,yr!==null&&uf(yr)&&(yr=null),vr!==null&&uf(vr)&&(vr=null),br!==null&&uf(br)&&(br=null),Au.forEach(F_),Cu.forEach(F_)}function cf(i,r){i.blockedOn===r&&(i.blockedOn=null,eg||(eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pN)))}var hf=null;function H_(i){hf!==i&&(hf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===i&&(hf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(Jp(u||o)===null)continue;break}var y=Hn(o);y!==null&&(i.splice(r,3),r-=3,Zm(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Bo(i){function r(V){return cf(V,i)}yr!==null&&cf(yr,i),vr!==null&&cf(vr,i),br!==null&&cf(br,i),Au.forEach(r),Cu.forEach(r);for(var o=0;o<xr.length;o++){var u=xr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<xr.length&&(o=xr[0],o.blockedOn===null);)B_(o),o.blockedOn===null&&xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],E=m[qt]||null;if(typeof y=="function")E||H_(o);else if(E){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[qt]||null)S=E.formAction;else if(Jp(m)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),H_(o)}}}function q_(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function tg(i){this._internalRoot=i}ff.prototype.render=tg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ln();V_(o,u,i,r,null,null)},ff.prototype.unmount=tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;V_(i.current,2,null,i,null,null),Gh(),r[ki]=null}};function ff(i){this._internalRoot=i}ff.prototype.unstable_scheduleHydration=function(i){if(i){var r=Gc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<xr.length&&r!==0&&r<xr[o].priority;o++);xr.splice(o,0,i),o===0&&B_(i)}};var G_=e.version;if(G_!=="19.2.1")throw Error(s(527,G_,"19.2.1"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var gN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{ui=df.inject(gN),Yt=df}catch{}}return Iu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=Zb,y=Jb,E=ex;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=j_(i,1,!1,null,null,o,u,null,m,y,E,q_),i[ki]=r.current,Op(i),new tg(r)},Iu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",y=Zb,E=Jb,S=ex,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=j_(i,1,!0,r,o??null,u,m,V,y,E,S,q_),r.context=M_(null),o=r.current,u=Ln(),u=aa(u),m=rr(u),m.callback=null,ar(o,m,u),o=u,r.current.lanes=o,sa(r,o),Yi(r),i[ki]=r.current,Op(i),new ff(r)},Iu.version="19.2.1",Iu}var tE;function CN(){if(tE)return sg.exports;tE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sg.exports=AN(),sg.exports}var RN=CN();const NN=gS(RN);var nE="popstate";function IN(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Bg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Wu(a)}return kN(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function iE(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||DN()}}function Wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function kN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",d=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let D=v(),O=D==null?null:D-p;p=D,d&&d({action:f,location:N.location,delta:O})}function _(D,O){f="PUSH";let H=Bg(N.location,D,O);p=v()+1;let G=iE(H,p),oe=N.createHref(H);try{c.pushState(G,"",oe)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(oe)}l&&d&&d({action:f,location:N.location,delta:1})}function w(D,O){f="REPLACE";let H=Bg(N.location,D,O);p=v();let G=iE(H,p),oe=N.createHref(H);c.replaceState(G,"",oe),l&&d&&d({action:f,location:N.location,delta:0})}function I(D){return jN(D)}let N={get action(){return f},get location(){return t(a,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(nE,b),d=D,()=>{a.removeEventListener(nE,b),d=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let O=I(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:w,go(D){return c.go(D)}};return N}function jN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Wu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yS(t,e,n="/"){return MN(t,e,n,!1)}function MN(t,e,n,s){let a=typeof e=="string"?fl(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let c=vS(t);VN(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=KN(l);f=qN(c[d],p,s)}return f}function vS(t,e=[],n=[],s="",a=!1){let l=(c,f,d=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&d)return;ft(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Ns([s,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),vS(c.children,e,_,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:FN(b,c.index),routesMeta:_})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let d of bS(c.path))l(c,f,!0,d)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=bS(s.join("/")),f=[];return f.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...c),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function VN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ON=/^:[\w-]+$/,PN=3,LN=2,UN=1,zN=10,BN=-2,sE=t=>t==="*";function FN(t,e){let n=t.split("/"),s=n.length;return n.some(sE)&&(s+=BN),e&&(s+=LN),n.filter(a=>!sE(a)).reduce((a,l)=>a+(ON.test(l)?PN:l===""?UN:zN),s)}function HN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function qN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let d=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),_=d.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ns([l,b.pathname]),pathnameBase:XN(Ns([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=Ns([l,b.pathnameBase]))}return c}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=GN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let I=f[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const w=f[_];return b&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function GN(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(s.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function KN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var $N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YN=t=>$N.test(t);function QN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?fl(t):t,l;if(n)if(YN(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=rE(n.substring(1),"/"):l=rE(n,e)}else l=e;return{pathname:l,search:ZN(s),hash:JN(a)}}function rE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function By(t){let e=WN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Fy(t,e,n,s=!1){let a;typeof t=="string"?a=fl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),lg("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),lg("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),lg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}f=b>=0?e[b]:"/"}let d=QN(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var Ns=t=>t.join("/").replace(/\/\/+/g,"/"),XN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function tI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xS=["POST","PUT","PATCH","DELETE"];new Set(xS);var nI=["GET",...xS];new Set(nI);var dl=C.createContext(null);dl.displayName="DataRouter";var Ad=C.createContext(null);Ad.displayName="DataRouterState";C.createContext(!1);var _S=C.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var iI=C.createContext(new Map);iI.displayName="Fetchers";var sI=C.createContext(null);sI.displayName="Await";var ai=C.createContext(null);ai.displayName="Navigation";var yc=C.createContext(null);yc.displayName="Location";var oi=C.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Hy=C.createContext(null);Hy.displayName="RouteError";function rI(t,{relative:e}={}){ft(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(ai),{hash:a,pathname:l,search:c}=vc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ns([n,l])),s.createHref({pathname:f,search:c,hash:a})}function ml(){return C.useContext(yc)!=null}function Us(){return ft(ml(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(yc).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(t){C.useContext(ai).static||C.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=C.useContext(oi);return t?xI():aI()}function aI(){ft(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(dl),{basename:e,navigator:n}=C.useContext(ai),{matches:s}=C.useContext(oi),{pathname:a}=Us(),l=JSON.stringify(By(s)),c=C.useRef(!1);return TS(()=>{c.current=!0}),C.useCallback((d,p={})=>{if(ri(c.current,ES),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=Fy(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ns([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var oI=C.createContext(null);function lI(t){let e=C.useContext(oi).outlet;return C.useMemo(()=>e&&C.createElement(oI.Provider,{value:t},e),[e,t])}function wS(){let{matches:t}=C.useContext(oi),e=t[t.length-1];return e?e.params:{}}function vc(t,{relative:e}={}){let{matches:n}=C.useContext(oi),{pathname:s}=Us(),a=JSON.stringify(By(n));return C.useMemo(()=>Fy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function uI(t,e){return SS(t,e)}function SS(t,e,n,s,a){ft(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(ai),{matches:c}=C.useContext(oi),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let H=b&&b.path||"";AS(p,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let _=Us(),w;if(e){let H=typeof e=="string"?fl(e):e;ft(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=_;let I=w.pathname||"/",N=I;if(v!=="/"){let H=v.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=yS(t,{pathname:N});ri(b||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ri(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=mI(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Ns([v,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:Ns([v,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&O?C.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function cI(){let t=bI(),e=eI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,c)}var hI=C.createElement(cI,null),fI=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(oi.Provider,{value:this.props.routeContext},C.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dI({routeContext:t,match:e,children:n}){let s=C.useContext(dl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(oi.Provider,{value:t},n)}function mI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,d=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=v),b.route.id){let{loaderData:_,errors:w}=n,I=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||I){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:tI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let w,I=!1,N=null,D=null;n&&(w=c&&b.route.id?c[b.route.id]:void 0,N=b.route.errorElement||hI,f&&(d<0&&_===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):d===_&&(I=!0,D=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),H=()=>{let G;return w?G=N:I?G=D:b.route.Component?G=C.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,C.createElement(dI,{match:b,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:G})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?C.createElement(fI,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:H(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):H()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pI(t){let e=C.useContext(dl);return ft(e,qy(t)),e}function gI(t){let e=C.useContext(Ad);return ft(e,qy(t)),e}function yI(t){let e=C.useContext(oi);return ft(e,qy(t)),e}function Gy(t){let e=yI(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vI(){return Gy("useRouteId")}function bI(){let t=C.useContext(Hy),e=gI("useRouteError"),n=Gy("useRouteError");return t!==void 0?t:e.errors?.[n]}function xI(){let{router:t}=pI("useNavigate"),e=Gy("useNavigate"),n=C.useRef(!1);return TS(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{ri(n.current,ES),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var aE={};function AS(t,e,n){!e&&!aE[t]&&(aE[t]=!0,ri(!1,n))}C.memo(_I);function _I({routes:t,future:e,state:n,unstable_onError:s}){return SS(t,void 0,n,s,e)}function Ba({to:t,replace:e,state:n,relative:s}){ft(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(ai);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(oi),{pathname:c}=Us(),f=zs(),d=Fy(t,By(l),c,s==="path"),p=JSON.stringify(d);return C.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Ky(t){return lI(t.context)}function at(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=fl(n));let{pathname:p="/",search:v="",hash:b="",state:_=null,key:w="default"}=n,I=C.useMemo(()=>{let N=ks(p,f);return N==null?null:{location:{pathname:N,search:v,hash:b,state:_,key:w},navigationType:s}},[f,p,v,b,_,w,s]);return ri(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:C.createElement(ai.Provider,{value:d},C.createElement(yc.Provider,{children:e,value:I}))}function TI({children:t,location:e}){return uI(Fg(t),e)}function Fg(t,e=[]){let n=[];return C.Children.forEach(t,(s,a)=>{if(!C.isValidElement(s))return;let l=[...e,a];if(s.type===C.Fragment){n.push.apply(n,Fg(s.props.children,l));return}ft(s.type===at,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fg(s.props.children,l)),n.push(c)}),n}var jf="get",Mf="application/x-www-form-urlencoded";function Cd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function wI(t){return Cd(t)&&t.tagName.toLowerCase()==="button"}function SI(t){return Cd(t)&&t.tagName.toLowerCase()==="form"}function AI(t){return Cd(t)&&t.tagName.toLowerCase()==="input"}function CI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RI(t,e){return t.button===0&&(!e||e==="_self")&&!CI(t)}var mf=null;function NI(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var II=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(t){return t!=null&&!II.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):t}function DI(t,e){let n,s,a,l,c;if(SI(t)){let f=t.getAttribute("action");s=f?ks(f,e):null,n=t.getAttribute("method")||jf,a=ug(t.getAttribute("enctype"))||Mf,l=new FormData(t)}else if(wI(t)||AI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(s=d?ks(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||jf,a=ug(t.getAttribute("formenctype"))||ug(f.getAttribute("enctype"))||Mf,l=new FormData(f,t),!NI()){let{name:p,type:v,value:b}=t;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,b)}}else{if(Cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Mf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await jI(l,n);return c.links?c.links():[]}return[]}));return UI(s.flat(1).filter(MI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oE(t,e,n,s,a,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>c(d,p)||f(d,p)):l==="data"?e.filter((d,p)=>{let v=s.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function OI(t,e,{includeHydrateFallback:n}={}){return PI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PI(t){return[...new Set(t)]}function LI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function UI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(LI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function CS(){let t=C.useContext(dl);return $y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zI(){let t=C.useContext(Ad);return $y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yy=C.createContext(void 0);Yy.displayName="FrameworkContext";function RS(){let t=C.useContext(Yy);return $y(t,"You must render this element inside a <HydratedRouter> element"),t}function BI(t,e){let n=C.useContext(Yy),[s,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,_=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=O=>{O.forEach(H=>{c(H.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),C.useEffect(()=>{if(s){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[s]);let w=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Du(f,w),onBlur:Du(d,I),onMouseEnter:Du(p,w),onMouseLeave:Du(v,I),onTouchStart:Du(b,w)}]:[!1,_,{}]}function Du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FI({page:t,...e}){let{router:n}=CS(),s=C.useMemo(()=>yS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?C.createElement(qI,{page:t,matches:s,...e}):null}function HI(t){let{manifest:e,routeModules:n}=RS(),[s,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return VI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function qI({page:t,matches:e,...n}){let s=Us(),{manifest:a,routeModules:l}=RS(),{basename:c}=CS(),{loaderData:f,matches:d}=zI(),p=C.useMemo(()=>oE(t,e,d,a,s,"data"),[t,e,d,a,s]),v=C.useMemo(()=>oE(t,e,d,a,s,"assets"),[t,e,d,a,s]),b=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,N=!1;if(e.forEach(O=>{let H=a.routes[O.route.id];!H||!H.hasLoader||(!p.some(G=>G.route.id===O.route.id)&&O.route.id in f&&l[O.route.id]?.shouldRevalidate||H.hasClientLoader?N=!0:I.add(O.route.id))}),I.size===0)return[];let D=kI(t,c,"data");return N&&I.size>0&&D.searchParams.set("_routes",e.filter(O=>I.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[c,f,s,a,p,e,t,l]),_=C.useMemo(()=>OI(v,a),[v,a]),w=HI(v);return C.createElement(C.Fragment,null,b.map(I=>C.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),_.map(I=>C.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:N})=>C.createElement("link",{key:I,nonce:n.nonce,...N})))}function GI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.10.1")}catch{}function KI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=C.useRef();a.current==null&&(a.current=IN({window:s,v5Compat:!0}));let l=a.current,[c,f]=C.useState({action:l.action,location:l.location}),d=C.useCallback(p=>{n===!1?f(p):C.startTransition(()=>f(p))},[n]);return C.useLayoutEffect(()=>l.listen(d),[l,d]),C.createElement(EI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:d,to:p,preventScrollReset:v,viewTransition:b,..._},w){let{basename:I,unstable_useTransitions:N}=C.useContext(ai),D=typeof p=="string"&&IS.test(p),O,H=!1;if(typeof p=="string"&&D&&(O=p,NS))try{let L=new URL(window.location.href),P=p.startsWith("//")?new URL(L.protocol+p):new URL(p),B=ks(P.pathname,I);P.origin===L.origin&&B!=null?p=B+P.search+P.hash:H=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=rI(p,{relative:a}),[oe,J,ne]=BI(s,_),k=WI(p,{replace:c,state:f,target:d,preventScrollReset:v,relative:a,viewTransition:b,unstable_useTransitions:N});function R(L){e&&e(L),L.defaultPrevented||k(L)}let j=C.createElement("a",{..._,...ne,href:O||G,onClick:H||l?e:R,ref:GI(w,J),target:d,"data-discover":!D&&n==="render"?"true":void 0});return oe&&!D?C.createElement(C.Fragment,null,j,C.createElement(FI,{page:G})):j});sn.displayName="Link";var $I=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:d,...p},v){let b=vc(c,{relative:p.relative}),_=Us(),w=C.useContext(Ad),{navigator:I,basename:N}=C.useContext(ai),D=w!=null&&tD(b)&&f===!0,O=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,H=_.pathname,G=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(H=H.toLowerCase(),G=G?G.toLowerCase():null,O=O.toLowerCase()),G&&N&&(G=ks(G,N)||G);const oe=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=H===O||!a&&H.startsWith(O)&&H.charAt(oe)==="/",ne=G!=null&&(G===O||!a&&G.startsWith(O)&&G.charAt(O.length)==="/"),k={isActive:J,isPending:ne,isTransitioning:D},R=J?e:void 0,j;typeof s=="function"?j=s(k):j=[s,J?"active":null,ne?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return C.createElement(sn,{...p,"aria-current":R,className:j,ref:v,style:L,to:c,viewTransition:f},typeof d=="function"?d(k):d)});$I.displayName="NavLink";var YI=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=jf,action:f,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:b,..._},w)=>{let{unstable_useTransitions:I}=C.useContext(ai),N=JI(),D=eD(f,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&IS.test(f),G=oe=>{if(d&&d(oe),oe.defaultPrevented)return;oe.preventDefault();let J=oe.nativeEvent.submitter,ne=J?.getAttribute("formmethod")||c,k=()=>N(J||oe.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b});I&&n!==!1?C.startTransition(()=>k()):k()};return C.createElement("form",{ref:w,method:O,action:D,onSubmit:s?d:G,..._,"data-discover":!H&&t==="render"?"true":void 0})});YI.displayName="Form";function QI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(t){let e=C.useContext(dl);return ft(e,QI(t)),e}function WI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let d=zs(),p=Us(),v=vc(t,{relative:l});return C.useCallback(b=>{if(RI(b,e)){b.preventDefault();let _=n!==void 0?n:Wu(p)===Wu(v),w=()=>d(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c});f?C.startTransition(()=>w()):w()}},[p,d,v,n,s,e,t,a,l,c,f])}var XI=0,ZI=()=>`__${String(++XI)}__`;function JI(){let{router:t}=DS("useSubmit"),{basename:e}=C.useContext(ai),n=vI(),s=t.fetch,a=t.navigate;return C.useCallback(async(l,c={})=>{let{action:f,method:d,encType:p,formData:v,body:b}=DI(l,e);if(c.navigate===!1){let _=c.fetcherKey||ZI();await s(_,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function eD(t,{relative:e}={}){let{basename:n}=C.useContext(ai),s=C.useContext(oi);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...vc(t||".",{relative:e})},c=Us();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ns([n,l.pathname])),Wu(l)}function tD(t,{relative:e}={}){let n=C.useContext(_S);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DS("useViewTransitionState"),a=vc(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qf(a.pathname,c)!=null||Qf(a.pathname,l)!=null}const nD=()=>{};var lE={};const kS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},iD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let _=(f&15)<<2|p>>6,w=p&63;d||(w=64,c||(_=64)),s.push(n[v],n[b],n[_],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new sD;const _=l<<2|f>>4;if(s.push(_),p!==64){const w=f<<4&240|p>>2;if(s.push(w),b!==64){const I=p<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(t){const e=kS(t);return jS.encodeByteArray(e,!0)},Wf=function(t){return rD(t).replace(/\./g,"")},MS=function(t){try{return jS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oD=()=>aD().__FIREBASE_DEFAULTS__,lD=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MS(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return nD()||oD()||lD()||uD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VS=t=>Rd()?.emulatorHosts?.[t],OS=t=>{const e=VS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PS=()=>Rd()?.config,LS=t=>Rd()?.[`_${t}`];class cD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function $r(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qy(t){return(await fetch(t,{credentials:"include"})).ok}function hD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wf(JSON.stringify(n)),Wf(JSON.stringify(c)),""].join(".")}const zu={};function fD(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function dD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uE=!1;function Wy(t,e){if(typeof window>"u"||typeof document>"u"||!$r(window.location.host)||zu[t]===e||zu[t]||uE)return;zu[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",l=fD().prod.length>0;function c(){const _=document.getElementById(s);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{uE=!0,c()},_}function v(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=dD(s),w=n("text"),I=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const G=_.element;f(G),v(D,N);const oe=p();d(H,O),G.append(H,I,D,oe),document.body.appendChild(G)}l?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function pD(){const t=Rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xD(){return!pD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _D(){try{return typeof indexedDB=="object"}catch{return!1}}function ED(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const TD="FirebaseError";class os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TD,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?wD(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new os(a,f,s)}}function wD(t,e){return t.replace(SD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const SD=/\{\$([^}]+)}/g;function AD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(cE(l)&&cE(c)){if(!Fa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}function xc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CD(t,e){const n=new RD(t,e);return n.subscribe.bind(n)}class RD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ND(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=cg),a.error===void 0&&(a.error=cg),a.complete===void 0&&(a.complete=cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ND(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}function xt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class ID{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kD(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DD(t){return t===ka?void 0:t}function kD(t){return t.instantiationMode==="EAGER"}class jD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ID(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const MD={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},VD=Pe.INFO,OD={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},PD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=OD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=VD,this._logHandler=PD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const LD=(t,e)=>e.some(n=>t instanceof n);let hE,fE;function UD(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zD(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,Hg=new WeakMap,zS=new WeakMap,hg=new WeakMap,Zy=new WeakMap;function BD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(kr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),Zy.set(e,t),e}function FD(t){if(Hg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Hg.set(t,e)}let qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){qg=t(qg)}function qD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(fg(this),e,...n);return zS.set(s,e.sort?e.sort():[e]),kr(s)}:zD().includes(t)?function(...e){return t.apply(fg(this),e),kr(US.get(this))}:function(...e){return kr(t.apply(fg(this),e))}}function GD(t){return typeof t=="function"?qD(t):(t instanceof IDBTransaction&&FD(t),LD(t,UD())?new Proxy(t,qg):t)}function kr(t){if(t instanceof IDBRequest)return BD(t);if(hg.has(t))return hg.get(t);const e=GD(t);return e!==t&&(hg.set(t,e),Zy.set(e,t)),e}const fg=t=>Zy.get(t);function KD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=kr(c);return s&&c.addEventListener("upgradeneeded",d=>{s(kr(c.result),d.oldVersion,d.newVersion,kr(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const $D=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],dg=new Map;function dE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=YD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||$D.includes(n)))return;const l=async function(c,...f){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&d.done]))[0]};return dg.set(e,l),l}HD(t=>({...t,get:(e,n,s)=>dE(e,n)||t.get(e,n,s),has:(e,n)=>!!dE(e,n)||t.has(e,n)}));class QD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WD(t){return t.getComponent()?.type==="VERSION"}const Gg="@firebase/app",mE="0.14.6";const js=new Xy("@firebase/app"),XD="@firebase/app-compat",ZD="@firebase/analytics-compat",JD="@firebase/analytics",ek="@firebase/app-check-compat",tk="@firebase/app-check",nk="@firebase/auth",ik="@firebase/auth-compat",sk="@firebase/database",rk="@firebase/data-connect",ak="@firebase/database-compat",ok="@firebase/functions",lk="@firebase/functions-compat",uk="@firebase/installations",ck="@firebase/installations-compat",hk="@firebase/messaging",fk="@firebase/messaging-compat",dk="@firebase/performance",mk="@firebase/performance-compat",pk="@firebase/remote-config",gk="@firebase/remote-config-compat",yk="@firebase/storage",vk="@firebase/storage-compat",bk="@firebase/firestore",xk="@firebase/ai",_k="@firebase/firestore-compat",Ek="firebase",Tk="12.6.0";const Kg="[DEFAULT]",wk={[Gg]:"fire-core",[XD]:"fire-core-compat",[JD]:"fire-analytics",[ZD]:"fire-analytics-compat",[tk]:"fire-app-check",[ek]:"fire-app-check-compat",[nk]:"fire-auth",[ik]:"fire-auth-compat",[sk]:"fire-rtdb",[rk]:"fire-data-connect",[ak]:"fire-rtdb-compat",[ok]:"fire-fn",[lk]:"fire-fn-compat",[uk]:"fire-iid",[ck]:"fire-iid-compat",[hk]:"fire-fcm",[fk]:"fire-fcm-compat",[dk]:"fire-perf",[mk]:"fire-perf-compat",[pk]:"fire-rc",[gk]:"fire-rc-compat",[yk]:"fire-gcs",[vk]:"fire-gcs-compat",[bk]:"fire-fst",[_k]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[Ek]:"fire-js-all"};const Xu=new Map,Sk=new Map,$g=new Map;function pE(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if($g.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of Xu.values())pE(n,t);for(const n of Sk.values())pE(n,t);return!0}function Nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}const Ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new bc("app","Firebase",Ak);class Ck{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const pl=Tk;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Kg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw jr.create("bad-app-name",{appName:String(a)});if(n||(n=PS()),!n)throw jr.create("no-options");const l=Xu.get(a);if(l){if(Fa(n,l.options)&&Fa(s,l.config))return l;throw jr.create("duplicate-app",{appName:a})}const c=new jD(a);for(const d of $g.values())c.addComponent(d);const f=new Ck(n,s,c);return Xu.set(a,f),f}function Id(t=Kg){const e=Xu.get(t);if(!e&&t===Kg&&PS())return BS();if(!e)throw jr.create("no-app",{appName:t});return e}function Rk(){return Array.from(Xu.values())}function Wi(t,e,n){let s=wk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(c.join(" "));return}Ha(new Or(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Nk="firebase-heartbeat-database",Ik=1,Zu="firebase-heartbeat-store";let mg=null;function FS(){return mg||(mg=KD(Nk,Ik,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),mg}async function Dk(t){try{const n=(await FS()).transaction(Zu),s=await n.objectStore(Zu).get(HS(t));return await n.done,s}catch(e){if(e instanceof os)js.warn(e.message);else{const n=jr.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}}async function gE(t,e){try{const s=(await FS()).transaction(Zu,"readwrite");await s.objectStore(Zu).put(e,HS(t)),await s.done}catch(n){if(n instanceof os)js.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n?.message});js.warn(s.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}const kk=1024,jk=30;class Mk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ok(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jk){const a=Pk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){js.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yE(),{heartbeatsToSend:n,unsentEntries:s}=Vk(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return js.warn(e),""}}}function yE(){return new Date().toISOString().substring(0,10)}function Vk(t,e=kk){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),vE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),vE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ok{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _D()?ED().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vE(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function Pk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Lk(t){Ha(new Or("platform-logger",e=>new QD(e),"PRIVATE")),Ha(new Or("heartbeat",e=>new Mk(e),"PRIVATE")),Wi(Gg,mE,t),Wi(Gg,mE,"esm2020"),Wi("fire-js","")}Lk("");function qS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uk=qS,GS=new bc("auth","Firebase",qS());const Xf=new Xy("@firebase/auth");function zk(t,...e){Xf.logLevel<=Pe.WARN&&Xf.warn(`Auth (${pl}): ${t}`,...e)}function Vf(t,...e){Xf.logLevel<=Pe.ERROR&&Xf.error(`Auth (${pl}): ${t}`,...e)}function Si(t,...e){throw Jy(t,...e)}function Xi(t,...e){return Jy(t,...e)}function KS(t,e,n){const s={...Uk(),[e]:n};return new bc("auth","Firebase",s).create(e,{appName:t.name})}function Is(t){return KS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return GS.create(t,...e)}function be(t,e,...n){if(!t)throw Jy(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function Ms(t,e){t||Cs(e)}function Yg(){return typeof self<"u"&&self.location?.href||""}function Bk(){return bE()==="http:"||bE()==="https:"}function bE(){return typeof self<"u"&&self.location?.protocol||null}function Fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bk()||yD()||"connection"in navigator)?navigator.onLine:!0}function Hk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||vD()}get(){return Fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function e0(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $S{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Gk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kk=new _c(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qr(t,e,n,s,a={}){return YS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=xc({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return gD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&$r(t.emulatorConfig.host)&&(p.credentials="include"),$S.fetch()(await QS(t,t.config.apiHost,n,f),p)})}async function YS(t,e,n){t._canInitEmulator=!1;const s={...qk,...e};try{const a=new Yk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw pf(t,"user-disabled",c);const v=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KS(t,v,p);Si(t,v)}}catch(a){if(a instanceof os)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function Ec(t,e,n,s,a={}){const l=await Qr(t,e,n,s,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function QS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?e0(t.config,a):`${t.config.apiScheme}://${a}`;return Gk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $k(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),Kk.get())})}}function pf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Xi(t,e,s);return a.customData._tokenResponse=n,a}function xE(t){return t!==void 0&&t.enterprise!==void 0}class Qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $k(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wk(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Yr(t,e))}async function Xk(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function Zf(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zk(t,e=!1){const n=xt(t),s=await n.getIdToken(e),a=t0(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Bu(pg(a.auth_time)),issuedAtTime:Bu(pg(a.iat)),expirationTime:Bu(pg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function pg(t){return Number(t)*1e3}function t0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=MS(n);return a?JSON.parse(a):(Vf("Failed to decode base64 JWT payload"),null)}catch(a){return Vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _E(t){const e=t0(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ju(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof os&&Jk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ej{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jf(t){const e=t.auth,n=await t.getIdToken(),s=await Ju(t,Zf(e,{idToken:n}));be(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?WS(a.providerUserInfo):[],c=nj(t.providerData,l),f=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,p=f?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Qg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function tj(t){const e=xt(t);await Jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function WS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ij(t,e){const n=await YS(t,{},async()=>{const s=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await QS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:f,body:s};return t.emulatorConfig&&$r(t.emulatorConfig.host)&&(d.credentials="include"),$S.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sj(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await ij(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Zo;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function Er(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new ej(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Qg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zk(this,e)}reload(){return tj(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Jf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Ju(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:I,stsTokenManager:N}=n;be(b&&N,e,"internal-error");const D=Zo.fromJSON(this.name,N);be(typeof b=="string",e,"internal-error"),Er(s,e.name),Er(a,e.name),be(typeof _=="boolean",e,"internal-error"),be(typeof w=="boolean",e,"internal-error"),Er(l,e.name),Er(c,e.name),Er(f,e.name),Er(d,e.name),Er(p,e.name),Er(v,e.name);const O=new Ti({uid:b,auth:e,email:a,emailVerified:_,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:D,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(O.providerData=I.map(H=>({...H}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new Zo;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Jf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?WS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Zo;f.updateFromIdToken(s);const d=new Ti({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Qg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const EE=new Map;function Rs(t){Ms(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const TE=XS;function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Jo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,l),this.fullPersistenceKey=Of("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zf(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Jo(Rs(TE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Rs(TE);const c=Of(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const _=await Zf(e,{idToken:v}).catch(()=>{});if(!_)break;b=await Ti._fromGetAccountInfoResponse(e,_,v)}else b=Ti._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Jo(l,e,s):(l=d[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Jo(l,e,s))}}function wE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(sA(e))return"Webos";if(JS(e))return"Safari";if((e.includes("chrome/")||eA(e))&&!e.includes("edge/"))return"Chrome";if(nA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function ZS(t=hn()){return/firefox\//i.test(t)}function JS(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eA(t=hn()){return/crios\//i.test(t)}function tA(t=hn()){return/iemobile/i.test(t)}function nA(t=hn()){return/android/i.test(t)}function iA(t=hn()){return/blackberry/i.test(t)}function sA(t=hn()){return/webos/i.test(t)}function n0(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rj(t=hn()){return n0(t)&&!!window.navigator?.standalone}function aj(){return bD()&&document.documentMode===10}function rA(t=hn()){return n0(t)||nA(t)||sA(t)||iA(t)||/windows phone/i.test(t)||tA(t)}function aA(t,e=[]){let n;switch(t){case"Browser":n=wE(hn());break;case"Worker":n=`${wE(hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${s}`}class oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const d=e(l);c(d)}catch(d){f(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lj(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Yr(t,e))}const uj=6;class cj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class hj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zf(this,{idToken:e}),s=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Is(this));const n=e?xt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lj(this),n=new cj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ya(t){return xt(t)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fj(t){Dd=t}function oA(t){return Dd.loadJS(t)}function dj(){return Dd.recaptchaEnterpriseScript}function mj(){return Dd.gapiScript}function pj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gj{constructor(){this.enterprise=new yj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vj="recaptcha-enterprise",lA="NO_RECAPTCHA";class bj{constructor(e){this.type=vj,this.auth=Ya(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{Wk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Qk(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{f(d)})})}function a(l,c,f){const d=window.grecaptcha;xE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(lA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gj().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&xE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=dj();d.length!==0&&(d+=f),oA(d).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function AE(t,e,n,s=!1,a=!1){const l=new bj(t);let c;if(a)c=lA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Wg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await AE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await AE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}function xj(t,e){const n=Nd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function _j(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function Ej(t,e,n){const s=Ya(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=uA(e),{host:c,port:f}=Tj(e),d=f===null?"":`:${f}`,p={url:`${l}//${c}${d}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Fa(p,s.config.emulator)&&Fa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,$r(c)?(Qy(`${l}//${c}${d}`),Wy("Auth",!0)):wj()}function uA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tj(t){const e=uA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:CE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:CE(c)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class i0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function Sj(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}async function Aj(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))}async function Cj(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))}async function Rj(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))}class ec extends i0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ec(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,n,"signInWithPassword",Aj);case"emailLink":return Cj(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,s,"signUpPassword",Sj);case"emailLink":return Rj(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function el(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))}const Nj="http://localhost";class qa extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new qa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return el(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,el(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,el(e,n)}buildRequest(){const e={requestUri:Nj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}function Ij(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dj(t){const e=ju(Mu(t)).link,n=e?ju(Mu(e)).deep_link_id:null,s=ju(Mu(t)).deep_link_id;return(s?ju(Mu(s)).link:null)||s||n||e||t}class s0{constructor(e){const n=ju(Mu(e)),s=n.apiKey??null,a=n.oobCode??null,l=Ij(n.mode??null);be(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Dj(e);try{return new s0(n)}catch{return null}}}class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=s0.parseLink(n);return be(s,"argument-error"),ec._fromEmailAndCode(e,s.code,s.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tc extends cA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar extends Tc{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";class Cr extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";class Rr extends Tc{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";class Nr extends Tc{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";async function kj(t,e){return Ec(t,"POST","/v1/accounts:signUp",Yr(t,e))}class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ti._fromIdTokenResponse(e,s,a),c=RE(s);return new Ga({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=RE(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function RE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ed extends os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new ed(e,n,s,a)}}function hA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,l,e,s):l})}async function jj(t,e,n=!1){const s=await Ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",s)}async function Mj(t,e,n=!1){const{auth:s}=t;if(Un(s.app))return Promise.reject(Is(s));const a="reauthenticate";try{const l=await Ju(t,hA(s,a,e,t),n);be(l.idToken,s,"internal-error");const c=t0(l.idToken);be(c,s,"internal-error");const{sub:f}=c;return be(t.uid===f,s,"user-mismatch"),Ga._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}async function fA(t,e,n=!1){if(Un(t.app))return Promise.reject(Is(t));const s="signIn",a=await hA(t,s,e),l=await Ga._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Vj(t,e){return fA(Ya(t),e)}async function dA(t){const e=Ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Oj(t,e,n){if(Un(t.app))return Promise.reject(Is(t));const s=Ya(t),c=await Wg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kj).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dA(t),d}),f=await Ga._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function Pj(t,e,n){return Un(t.app)?Promise.reject(Is(t)):Vj(xt(t),gl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&dA(t),s})}function Lj(t,e,n,s){return xt(t).onIdTokenChanged(e,n,s)}function Uj(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function zj(t,e,n,s){return xt(t).onAuthStateChanged(e,n,s)}function Bj(t){return xt(t).signOut()}const td="__sak";class mA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fj=1e3,Hj=10;class pA extends mA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);aj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Hj):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pA.type="LOCAL";const qj=pA;class gA extends mA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gA.type="SESSION";const yA=gA;function Gj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new kd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),d=await Gj(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];function r0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Kj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,d)=>{const p=r0("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zi(){return window}function $j(t){Zi().location.href=t}function vA(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function Yj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qj(){return navigator?.serviceWorker?.controller||null}function Wj(){return vA()?self:null}const bA="firebaseLocalStorageDb",Xj=1,nd="firebaseLocalStorage",xA="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function Zj(){const t=indexedDB.deleteDatabase(bA);return new wc(t).toPromise()}function Xg(){const t=indexedDB.open(bA,Xj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(nd,{keyPath:xA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(nd)?e(s):(s.close(),await Zj(),e(await Xg()))})})}async function NE(t,e,n){const s=jd(t,!0).put({[xA]:e,value:n});return new wc(s).toPromise()}async function Jj(t,e){const n=jd(t,!1).get(e),s=await new wc(n).toPromise();return s===void 0?null:s.value}function IE(t,e){const n=jd(t,!0).delete(e);return new wc(n).toPromise()}const eM=800,tM=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>tM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(Wj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yj(),!this.activeServiceWorker)return;this.sender=new Kj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await NE(e,td,"1"),await IE(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Jj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=jd(a,!1).getAll();return new wc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const nM=_A;new _c(3e4,6e4);function iM(t,e){return e?Rs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class a0 extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,n){return el(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sM(t){return fA(t.auth,new a0(t),t.bypassAuthState)}function rM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),Mj(n,new a0(t),t.bypassAuthState)}async function aM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),jj(n,new a0(t),t.bypassAuthState)}class EA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sM;case"linkViaPopup":case"linkViaRedirect":return aM;case"reauthViaPopup":case"reauthViaRedirect":return rM;default:Si(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oM=new _c(2e3,1e4);class Ko extends EA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oM.get())};e()}}Ko.currentPopupAction=null;const lM="pendingRedirect",Pf=new Map;class uM extends EA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const s=await cM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cM(t,e){const n=dM(e),s=fM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function hM(t,e){Pf.set(t._key(),e)}function fM(t){return Rs(t._redirectPersistence)}function dM(t){return Of(lM,t.config.apiKey,t.name)}async function mM(t,e,n=!1){if(Un(t.app))return Promise.reject(Is(t));const s=Ya(t),a=iM(s,e),c=await new uM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const pM=600*1e3;class gM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!TA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pM&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TA(t);default:return!1}}async function vM(t,e={}){return Qr(t,"GET","/v1/projects",e)}const bM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xM=/^https?/;async function _M(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vM(t);for(const n of e)try{if(EM(n))return}catch{}Si(t,"unauthorized-domain")}function EM(t){const e=Yg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!xM.test(n))return!1;if(bM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const TM=new _c(3e4,6e4);function kE(){const t=Zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wM(t){return new Promise((e,n)=>{function s(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),n(Xi(t,"network-request-failed"))},timeout:TM.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)s();else{const a=pj("iframefcb");return Zi()[a]=()=>{gapi.load?s():n(Xi(t,"network-request-failed"))},oA(`${mj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function SM(t){return Lf=Lf||wM(t),Lf}const AM=new _c(5e3,15e3),CM="__/auth/iframe",RM="emulator/auth/iframe",NM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DM(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e0(e,RM):`https://${t.config.authDomain}/${CM}`,s={apiKey:e.apiKey,appName:t.name,v:pl},a=IM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${xc(s).slice(1)}`}async function kM(t){const e=await SM(t),n=Zi().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:DM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Xi(t,"network-request-failed"),f=Zi().setTimeout(()=>{l(c)},AM.get());function d(){Zi().clearTimeout(f),a(s)}s.ping(d).then(d,()=>{l(c)})}))}const jM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MM=500,VM=600,OM="_blank",PM="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LM(t,e,n,s=MM,a=VM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const d={...jM,width:s.toString(),height:a.toString(),top:l,left:c},p=hn().toLowerCase();n&&(f=eA(p)?OM:n),ZS(p)&&(e=e||PM,d.scrollbars="yes");const v=Object.entries(d).reduce((_,[w,I])=>`${_}${w}=${I},`,"");if(rj(p)&&f!=="_self")return UM(e||"",f),new jE(null);const b=window.open(e||"",f,v);be(b,t,"popup-blocked");try{b.focus()}catch{}return new jE(b)}function UM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const zM="__/auth/handler",BM="emulator/auth/handler",FM=encodeURIComponent("fac");async function ME(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:pl,eventId:a};if(e instanceof cA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",AD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Tc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await t._getAppCheckToken(),p=d?`#${FM}=${encodeURIComponent(d)}`:"";return`${HM(t)}?${xc(f).slice(1)}${p}`}function HM({config:t}){return t.emulator?e0(t,BM):`https://${t.authDomain}/${zM}`}const gg="webStorageSupport";class qM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yA,this._completeRedirectFn=mM,this._overrideRedirectResult=hM}async _openPopup(e,n,s,a){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ME(e,n,s,Yg(),a);return LM(e,l,r0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await ME(e,n,s,Yg(),a);return $j(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kM(e),s=new gM(e);return n.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},a=>{const l=a?.[0]?.[gg];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_M(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rA()||JS()||n0()}}const GM=qM;var VE="@firebase/auth",OE="1.11.1";class KM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $M(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YM(t){Ha(new Or("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(t)},p=new hj(s,a,l,d);return _j(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ha(new Or("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(s=>new KM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(VE,OE,$M(t)),Wi(VE,OE,"esm2020")}const QM=300,WM=LS("authIdTokenMaxAge")||QM;let PE=null;const XM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WM)return;const a=n?.token;PE!==a&&(PE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ZM(t=Id()){const e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xj(t,{popupRedirectResolver:GM,persistence:[nM,qj,yA]}),s=LS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=XM(l.toString());Uj(n,c,()=>c(n.currentUser)),Lj(n,f=>c(f))}}const a=VS("auth");return a&&Ej(n,`http://${a}`),n}function JM(){return document.getElementsByTagName("head")?.[0]??document}fj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Xi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",JM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YM("Browser");var eV="firebase",tV="12.6.0";Wi(eV,tV,"app");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mr,wA;(function(){var t;function e(k,R){function j(){}j.prototype=R.prototype,k.F=R.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(L,P,B){for(var M=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)M[Ce-2]=arguments[Ce];return R.prototype[P].apply(L,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,R,j){j||(j=0);const L=Array(16);if(typeof R=="string")for(var P=0;P<16;++P)L[P]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(P=0;P<16;++P)L[P]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=k.g[0],j=k.g[1],P=k.g[2];let B=k.g[3],M;M=R+(B^j&(P^B))+L[0]+3614090360&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[2]+606105819&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[3]+3250441966&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(B^j&(P^B))+L[4]+4118548399&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[6]+2821735955&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[7]+4249261313&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(B^j&(P^B))+L[8]+1770035416&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[10]+4294925233&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[11]+2304563134&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(B^j&(P^B))+L[12]+1804603682&4294967295,R=j+(M<<7&4294967295|M>>>25),M=B+(P^R&(j^P))+L[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=P+(j^B&(R^j))+L[14]+2792965006&4294967295,P=B+(M<<17&4294967295|M>>>15),M=j+(R^P&(B^R))+L[15]+1236535329&4294967295,j=P+(M<<22&4294967295|M>>>10),M=R+(P^B&(j^P))+L[1]+4129170786&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[11]+643717713&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[0]+3921069994&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(j^P))+L[5]+3593408605&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[15]+3634488961&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[4]+3889429448&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(j^P))+L[9]+568446438&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[3]+4107603335&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[8]+1163531501&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(P^B&(j^P))+L[13]+2850285829&4294967295,R=j+(M<<5&4294967295|M>>>27),M=B+(j^P&(R^j))+L[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=P+(R^j&(B^R))+L[7]+1735328473&4294967295,P=B+(M<<14&4294967295|M>>>18),M=j+(B^R&(P^B))+L[12]+2368359562&4294967295,j=P+(M<<20&4294967295|M>>>12),M=R+(j^P^B)+L[5]+4294588738&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[11]+1839030562&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[14]+4259657740&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(j^P^B)+L[1]+2763975236&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[7]+4139469664&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[10]+3200236656&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(j^P^B)+L[13]+681279174&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[3]+3572445317&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[6]+76029189&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(j^P^B)+L[9]+3654602809&4294967295,R=j+(M<<4&4294967295|M>>>28),M=B+(R^j^P)+L[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=P+(B^R^j)+L[15]+530742520&4294967295,P=B+(M<<16&4294967295|M>>>16),M=j+(P^B^R)+L[2]+3299628645&4294967295,j=P+(M<<23&4294967295|M>>>9),M=R+(P^(j|~B))+L[0]+4096336452&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[14]+2878612391&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[5]+4237533241&4294967295,j=P+(M<<21&4294967295|M>>>11),M=R+(P^(j|~B))+L[12]+1700485571&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[10]+4293915773&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[1]+2240044497&4294967295,j=P+(M<<21&4294967295|M>>>11),M=R+(P^(j|~B))+L[8]+1873313359&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[6]+2734768916&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[13]+1309151649&4294967295,j=P+(M<<21&4294967295|M>>>11),M=R+(P^(j|~B))+L[4]+4149444226&4294967295,R=j+(M<<6&4294967295|M>>>26),M=B+(j^(R|~P))+L[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=P+(R^(B|~j))+L[2]+718787259&4294967295,P=B+(M<<15&4294967295|M>>>17),M=j+(B^(P|~R))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+B&4294967295}s.prototype.v=function(k,R){R===void 0&&(R=k.length);const j=R-this.blockSize,L=this.C;let P=this.h,B=0;for(;B<R;){if(P==0)for(;B<=j;)a(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<R;)if(L[P++]=k.charCodeAt(B++),P==this.blockSize){a(this,L),P=0;break}}else for(;B<R;)if(L[P++]=k[B++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=R},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;R=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=R&255,R/=256;for(this.v(k),k=Array(16),R=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)k[R++]=this.g[j]>>>L&255;return k};function l(k,R){var j=f;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=R(k)}function c(k,R){this.h=R;const j=[];let L=!0;for(let P=k.length-1;P>=0;P--){const B=k[P]|0;L&&B==R||(j[P]=B,L=!1)}this.g=j}var f={};function d(k){return-128<=k&&k<128?l(k,function(R){return new c([R|0],R<0?-1:0)}):new c([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return D(p(-k));const R=[];let j=1;for(let L=0;k>=j;L++)R[L]=k/j|0,j*=4294967296;return new c(R,0)}function v(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return D(v(k.substring(1),R));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=p(Math.pow(R,8));let L=b;for(let B=0;B<k.length;B+=8){var P=Math.min(8,k.length-B);const M=parseInt(k.substring(B,B+P),R);P<8?(P=p(Math.pow(R,P)),L=L.j(P).add(p(M))):(L=L.j(j),L=L.add(p(M)))}return L}var b=d(0),_=d(1),w=d(16777216);t=c.prototype,t.m=function(){if(N(this))return-D(this).m();let k=0,R=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);k+=(L>=0?L:4294967296+L)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(N(this))return"-"+D(this).toString(k);const R=p(Math.pow(k,6));var j=this;let L="";for(;;){const P=oe(j,R).g;j=O(j,P.j(R));let B=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=P,I(j))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(let R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function N(k){return k.h==-1}t.l=function(k){return k=O(this,k),N(k)?-1:I(k)?0:1};function D(k){const R=k.g.length,j=[];for(let L=0;L<R;L++)j[L]=~k.g[L];return new c(j,~k.h).add(_)}t.abs=function(){return N(this)?D(this):this},t.add=function(k){const R=Math.max(this.g.length,k.g.length),j=[];let L=0;for(let P=0;P<=R;P++){let B=L+(this.i(P)&65535)+(k.i(P)&65535),M=(B>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);L=M>>>16,B&=65535,M&=65535,j[P]=M<<16|B}return new c(j,j[j.length-1]&-2147483648?-1:0)};function O(k,R){return k.add(D(R))}t.j=function(k){if(I(this)||I(k))return b;if(N(this))return N(k)?D(this).j(D(k)):D(D(this).j(k));if(N(k))return D(this.j(D(k)));if(this.l(w)<0&&k.l(w)<0)return p(this.m()*k.m());const R=this.g.length+k.g.length,j=[];for(var L=0;L<2*R;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<k.g.length;P++){const B=this.i(L)>>>16,M=this.i(L)&65535,Ce=k.i(P)>>>16,He=k.i(P)&65535;j[2*L+2*P]+=M*He,H(j,2*L+2*P),j[2*L+2*P+1]+=B*He,H(j,2*L+2*P+1),j[2*L+2*P+1]+=M*Ce,H(j,2*L+2*P+1),j[2*L+2*P+2]+=B*Ce,H(j,2*L+2*P+2)}for(k=0;k<R;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=R;k<2*R;k++)j[k]=0;return new c(j,0)};function H(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function G(k,R){this.g=k,this.h=R}function oe(k,R){if(I(R))throw Error("division by zero");if(I(k))return new G(b,b);if(N(k))return R=oe(D(k),R),new G(D(R.g),D(R.h));if(N(R))return R=oe(k,D(R)),new G(D(R.g),R.h);if(k.g.length>30){if(N(k)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var j=_,L=R;L.l(k)<=0;)j=J(j),L=J(L);var P=ne(j,1),B=ne(L,1);for(L=ne(L,2),j=ne(j,2);!I(L);){var M=B.add(L);M.l(k)<=0&&(P=P.add(j),B=M),L=ne(L,1),j=ne(j,1)}return R=O(k,P.j(R)),new G(P,R)}for(P=b;k.l(R)>=0;){for(j=Math.max(1,Math.floor(k.m()/R.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=p(j),M=B.j(R);N(M)||M.l(k)>0;)j-=L,B=p(j),M=B.j(R);I(B)&&(B=_),P=P.add(B),k=O(k,M)}return new G(P,k)}t.B=function(k){return oe(this,k).h},t.and=function(k){const R=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)&k.i(L);return new c(j,this.h&k.h)},t.or=function(k){const R=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)|k.i(L);return new c(j,this.h|k.h)},t.xor=function(k){const R=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)^k.i(L);return new c(j,this.h^k.h)};function J(k){const R=k.g.length+1,j=[];for(let L=0;L<R;L++)j[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(j,k.h)}function ne(k,R){const j=R>>5;R%=32;const L=k.g.length-j,P=[];for(let B=0;B<L;B++)P[B]=R>0?k.i(B+j)>>>R|k.i(B+j+1)<<32-R:k.i(B+j);return new c(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Mr=c}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SA,Vu,AA,Uf,Zg,CA,RA,NA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var T=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in T))break e;T=T[q]}h=h[h.length-1],A=T[h],x=x(A),x!=A&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],A;for(A in x)Object.prototype.hasOwnProperty.call(x,A)&&T.push([A,x[A]]);return T}});var l=l||{},c=this||self;function f(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function d(h,x,T){return h.call.apply(h.bind,arguments)}function p(h,x,T){return p=d,p.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,q,Q){for(var le=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)le[Re-2]=arguments[Re];return x.prototype[q].apply(A,le)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const x=h.length;if(x>0){const T=Array(x);for(let A=0;A<x;A++)T[A]=h[A];return T}return[]}function I(h,x){for(let A=1;A<arguments.length;A++){const q=arguments[A];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const Q=q.length||0;h.length=T+Q;for(let le=0;le<Q;le++)h[T+le]=q[le]}else h.push(q)}}class N{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(h){c.setTimeout(()=>{throw h},0)}function O(){var h=k;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class H{constructor(){this.h=this.g=null}add(x,T){const A=G.get();A.set(x,T),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new N(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ne=!1,k=new H,R=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(j)}};function j(){for(var h;h=O();){try{h.h.call(h.g)}catch(T){D(T)}var x=G;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ne=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Ce(h,x){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(Ce,P),Ce.prototype.init=function(h,x){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(h,x,T,A,q){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!A,this.ha=q,this.key=++X,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h,x,T){for(const A in h)x.call(T,h[A],A,h)}function Me(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function z(h){const x={};for(const T in h)x[T]=h[T];return x}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let T,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(T in A)h[T]=A[T];for(let Q=0;Q<se.length;Q++)T=se[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,x,T,A,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=Ie(h,x,A,q);return le>-1?(x=h[le],T||(x.fa=!1)):(x=new ae(x,this.src,Q,!!A,q),x.fa=T,h.push(x)),x};function Te(h,x){const T=x.type;if(T in h.g){var A=h.g[T],q=Array.prototype.indexOf.call(A,x,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(he(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,x,T,A){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==x&&Q.capture==!!T&&Q.ha==A)return q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ut={};function lt(h,x,T,A,q){if(Array.isArray(x)){for(let Q=0;Q<x.length;Q++)lt(h,x[Q],T,A,q);return null}return T=Cl(T),h&&h[He]?h.J(x,T,f(A)?!!A.capture:!1,q):ea(h,x,T,!1,A,q)}function ea(h,x,T,A,q,Q){if(!x)throw Error("Invalid event type");const le=f(q)?!!q.capture:!!q;let Re=ta(h);if(Re||(h[Be]=Re=new de(h)),T=Re.add(x,T,A,le,Q),T.proxy)return T;if(A=Xa(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)B||(q=le),q===void 0&&(q=!1),h.addEventListener(x.toString(),A,q);else if(h.attachEvent)h.attachEvent(Ci(x.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Xa(){function h(T){return x.call(h.src,h.listener,T)}const x=Sl;return h}function Za(h,x,T,A,q){if(Array.isArray(x))for(var Q=0;Q<x.length;Q++)Za(h,x[Q],T,A,q);else A=f(A)?!!A.capture:!!A,T=Cl(T),h&&h[He]?(h=h.i,Q=String(x).toString(),Q in h.g&&(x=h.g[Q],T=Ie(x,T,A,q),T>-1&&(he(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[Q],h.h--)))):h&&(h=ta(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ie(x,T,A,q)),(T=h>-1?x[h]:null)&&Ja(T))}function Ja(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[He])Te(x.i,h);else{var T=h.type,A=h.proxy;x.removeEventListener?x.removeEventListener(T,A,h.capture):x.detachEvent?x.detachEvent(Ci(T),A):x.addListener&&x.removeListener&&x.removeListener(A),(T=ta(x))?(Te(T,h),T.h==0&&(T.src=null,x[Be]=null)):he(h)}}}function Ci(h){return h in Ut?Ut[h]:Ut[h]="on"+h}function Sl(h,x){if(h.da)h=!0;else{x=new Ce(x,this);const T=h.listener,A=h.ha||h.src;h.fa&&Ja(h),h=T.call(A,x)}return h}function ta(h){return h=h[Be],h instanceof de?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(x){return h.handleEvent(x)}),h[Al])}function At(){L.call(this),this.i=new de(this),this.M=this,this.G=null}b(At,L),At.prototype[He]=!0,At.prototype.removeEventListener=function(h,x,T,A){Za(this,h,x,T,A)};function zt(h,x){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=x.type||x,typeof x=="string")x=new P(x,h);else if(x instanceof P)x.target=x.target||h;else{var q=x;x=new P(A,h),ue(x,q)}q=!0;let Q,le;if(T)for(le=T.length-1;le>=0;le--)Q=x.g=T[le],q=Hs(Q,A,!0,x)&&q;if(Q=x.g=h,q=Hs(Q,A,!0,x)&&q,q=Hs(Q,A,!1,x)&&q,T)for(le=0;le<T.length;le++)Q=x.g=T[le],q=Hs(Q,A,!1,x)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let A=0;A<T.length;A++)he(T[A]);delete h.g[x],h.h--}}this.G=null},At.prototype.J=function(h,x,T,A){return this.i.add(String(h),x,!1,T,A)},At.prototype.K=function(h,x,T,A){return this.i.add(String(h),x,!0,T,A)};function Hs(h,x,T,A){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let q=!0;for(let Q=0;Q<x.length;++Q){const le=x[Q];if(le&&!le.da&&le.capture==T){const Re=le.listener,Et=le.ha||le.src;le.fa&&Te(h.i,le),q=Re.call(Et,A)!==!1&&q}}return q&&!A.defaultPrevented}function sm(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Lc(h){h.g=sm(()=>{h.g=null,h.i&&(h.i=!1,Lc(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class fn extends L{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Lc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(h){L.call(this),this.h=h,this.g={}}b(na,L);var Rl=[];function Nl(h){Ee(h.g,function(x,T){this.g.hasOwnProperty(T)&&Ja(x)},h),h.g={}}na.prototype.N=function(){na.Z.N.call(this),Nl(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=c.JSON.stringify,rm=c.JSON.parse,Uc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function zc(){}function Bc(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){P.call(this,"d")}b(Yt,P);function Fn(){P.call(this,"c")}b(Fn,P);var _t={},Fc=null;function eo(){return Fc=Fc||new At}_t.Ia="serverreachability";function Hc(h){P.call(this,_t.Ia,h)}b(Hc,P);function Ri(h){const x=eo();zt(x,new Hc(x))}_t.STAT_EVENT="statevent";function ia(h,x){P.call(this,_t.STAT_EVENT,h),this.stat=x}b(ia,P);function Ct(h){const x=eo();zt(x,new ia(x,h))}_t.Ja="timingevent";function Ni(h,x){P.call(this,_t.Ja,h),this.size=x}b(Ni,P);function Ii(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function am(h,x,T,A,q,Q){h.info(function(){if(h.g)if(Q){var le="",Re=Q.split("&");for(let Ke=0;Ke<Re.length;Ke++){var Et=Re[Ke].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Kn=ut.split("_");le=Kn.length>=2&&Kn[1]=="type"?le+(ut+"="+Et+"&"):le+(ut+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+x+`
`+T+`
`+le})}function qc(h,x,T,A,q,Q,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+x+`
`+T+`
`+Q+" "+le})}function Di(h,x,T,A){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+om(h,T)+(A?" "+A:"")})}function sa(h,x){h.info(function(){return"TIMEOUT: "+x})}ci.prototype.info=function(){};function om(h,x){if(!h.g)return x;if(!x)return null;try{const Q=JSON.parse(x);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return qs(Q)}catch{return x}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function aa(){}b(aa,zc),aa.prototype.g=function(){return new XMLHttpRequest},Dl=new aa;function ls(h){return encodeURIComponent(String(h))}function Gc(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function hi(h,x,T,A){this.j=h,this.i=x,this.l=T,this.S=A||1,this.V=new na(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function ki(h,x,T){h.M=1,h.A=oa(It(x)),h.u=T,h.R=!0,to(h,null)}function to(h,x){h.F=Date.now(),ji(h),h.B=It(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ro(T.i,"t",A),h.C=0,T=h.j.L,h.h=new fi,h.g=ah(h.j,T?x:null,!h.u),h.P>0&&(h.O=new fn(p(h.Y,h,h.g),h.P)),x=h.V,T=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Rl[0]=q.toString()),q=Rl);for(let Q=0;Q<q.length;Q++){const le=lt(T,q[Q],A||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Ri(),am(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const x=this.O;x&&pi(h)==3?x.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Re=pi(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Re!=4||Et==7||(Et==8||Ke<=0?Ri(3):Ri(2)),Mi(this);var x=this.g.ca();this.X=x;var T=lm(this);if(this.o=x==200,qc(this.i,this.v,this.B,this.l,this.S,Re,x),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(A)){var Q=A;break t}}Q=null}if(h=Q)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,Ct(12),In(this),Hn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<T.length;)if(ut=$c(this,T),ut==qt){Re==4&&(this.m=4,Ct(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Rt){this.m=4,Ct(15),Di(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,ut,null),Vi(this,ut);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,T,"[Invalid Chunked Response]"),In(this),Hn(this);else if(T.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Kl(le),le.P=!0,Ct(11))}}else Di(this.i,this.l,T,null),Vi(this,T);Re==4&&In(this),this.o&&!this.K&&(Re==4?nh(this.j,this):(this.o=!1,ji(this)))}else cs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),Hn(this)}}}catch{}finally{}};function lm(h){if(!Kc(h))return h.g.la();const x=Qt(h.g);if(x==="")return"";let T="";const A=x.length,q=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return In(h),Hn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,T+=h.h.i.decode(x[Q],{stream:!(q&&Q==A-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function Kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function $c(h,x){var T=h.C,A=x.indexOf(`
`,T);return A==-1?qt:(T=Number(x.substring(T,A)),isNaN(T)?Rt:(A+=1,A+T>x.length?qt:(x=x.slice(A,A+T),h.C=A+T,x)))}hi.prototype.cancel=function(){this.K=!0,In(this)};function ji(h){h.T=Date.now()+h.H,no(h,h.H)}function no(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(p(h.aa,h),x)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(sa(this.i,this.B),this.M!=2&&(Ri(),Ct(17)),In(this),this.m=2,Hn(this)):no(this,this.T-h)};function Hn(h){h.j.I==0||h.K||nh(h.j,h)}function In(h){Mi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Nl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Vi(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||Pi(T.h,h))){if(!h.L&&Pi(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)co(T),Zs(T);else break e;ma(T),Ct(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ii(p(T.Va,T),6e3));Oi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Hi(T,11)}else if((h.L||T.g==h)&&co(T),!M(x))for(q=T.Ba.g.parse(x),x=0;x<q.length;x++){let Ke=q[x];const ut=Ke[0];if(!(ut<=T.K))if(T.K=ut,Ke=Ke[1],T.I==2)if(Ke[0]=="c"){T.M=Ke[1],T.ba=Ke[2];const Kn=Ke[3];Kn!=null&&(T.ka=Kn,T.j.info("VER="+T.ka));const qi=Ke[4];qi!=null&&(T.za=qi,T.j.info("SVER="+T.za));const gi=Ke[5];gi!=null&&typeof gi=="number"&&gi>0&&(A=1.5*gi,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const yi=h.g;if(yi){const pa=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var Q=A.h;Q.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ml(Q,Q.h),Q.h=null))}if(A.G){const ho=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(A.wa=ho,Qe(A.J,A.G,ho))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var le=h;if(A.na=rh(A,A.L?A.ba:null,A.W),le.L){Vl(A.h,le);var Re=le,Et=A.O;Et&&(Re.H=Et),Re.D&&(Mi(Re),ji(Re)),A.g=le}else eh(A);T.i.length>0&&Fi(T)}else Ke[0]!="stop"&&Ke[0]!="close"||Hi(T,7);else T.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Hi(T,7):ql(T):Ke[0]!="noop"&&T.l&&T.l.qa(Ke),T.A=0)}}Ri(4)}catch{}}var Nt=class{constructor(h,x){this.g=h,this.map=x}};function kl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oi(h){return h.h?1:h.g?h.g.size:0}function Pi(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ml(h,x){h.g?h.g.add(x):h.h=x}function Vl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}kl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return w(h.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function io(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let q,Q=null;A>=0?(q=h[T].substring(0,A),Q=h[T].substring(A+1)):q=h[T],x(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Dn?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Gs(this,h.u),this.h=h.h,Pl(this,Zc(h.i)),this.m=h.m):h&&(x=String(h).match(Yc))?(this.l=!1,Gt(this,x[1]||"",!0),this.o=Li(x[2]||""),this.g=Li(x[3]||"",!0),Gs(this,x[4]),this.h=Li(x[5]||"",!0),Pl(this,x[6]||"",!0),this.m=Li(x[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}Dn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(la(x,so,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(la(x,so,!0),"@"),h.push(ls(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(la(T,T.charAt(0)=="/"?Ll:Qc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",la(T,Wc)),h.join("")},Dn.prototype.resolve=function(h){const x=It(this);let T=!!h.j;T?Gt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var A=h.h;if(T)Gs(x,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=x.h.lastIndexOf("/");q!=-1&&(A=x.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let le=0;le<q.length;){const Re=q[le++];Re=="."?A&&le==q.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&le==q.length&&Q.push("")):(Q.push(Re),A=!0)}A=Q.join("/")}else A=q}return T?x.h=A:T=h.i.toString()!=="",T?Pl(x,Zc(h.i)):T=!!h.m,T&&(x.m=h.m),x};function It(h){return new Dn(h)}function Gt(h,x,T){h.j=T?Li(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Gs(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Pl(h,x,T){x instanceof $s?(h.i=x,ao(h.i,h.l)):(T||(x=la(x,Ks)),h.i=new $s(x,h.l))}function Qe(h,x,T){h.i.set(x,T)}function oa(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,bn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var so=/[#\/\?@]/g,Qc=/[#\?:]/g,Ll=/[#\?]/g,Ks=/[#\?@]/g,Wc=/#/g;function $s(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&io(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=$s.prototype,t.add=function(h,x){xn(this),this.i=null,h=Ys(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function Xc(h,x){xn(h),x=Ys(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ul(h,x){return xn(h),x=Ys(h,x),h.g.has(x)}t.forEach=function(h,x){xn(this),this.g.forEach(function(T,A){T.forEach(function(q){h.call(x,q,A,this)},this)},this)};function zl(h,x){xn(h);let T=[];if(typeof x=="string")Ul(h,x)&&(T=T.concat(h.g.get(Ys(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return xn(this),this.i=null,h=Ys(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=zl(this,h),h.length>0?String(h[0]):x):x};function ro(h,x,T){Xc(h,x),T.length>0&&(h.i=null,h.g.set(Ys(h,x),w(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let A=0;A<x.length;A++){var T=x[A];const q=ls(T);T=zl(this,T);for(let Q=0;Q<T.length;Q++){let le=q;T[Q]!==""&&(le+="="+ls(T[Q])),h.push(le)}}return this.i=h.join("&")};function Zc(h){const x=new $s;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Ys(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function ao(h,x){x&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(T,A){const q=A.toLowerCase();A!=q&&(Xc(this,A),ro(this,q,T))},h)),h.j=x}function di(h,x){const T=new ci;if(c.Image){const A=new Image;A.onload=v(qn,T,"TestLoadImage: loaded",!0,x,A),A.onerror=v(qn,T,"TestLoadImage: error",!1,x,A),A.onabort=v(qn,T,"TestLoadImage: abort",!1,x,A),A.ontimeout=v(qn,T,"TestLoadImage: timeout",!1,x,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else x(!1)}function Bl(h,x){const T=new ci,A=new AbortController,q=setTimeout(()=>{A.abort(),qn(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?qn(T,"TestPingServer: ok",!0,x):qn(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),qn(T,"TestPingServer: error",!1,x)})}function qn(h,x,T,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(T)}catch{}}function Qs(){this.g=new Uc}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ui,zc),Ui.prototype.g=function(){return new ua(this.i,this.h)};function ua(h,x){At.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ua,At),t=ua.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Ws(this):mi(this),this.readyState==3&&oo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ws(this))},t.Na=function(h){this.g&&(this.response=h,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let x="";return Ee(h,function(T,A){x+=A,x+=":",x+=T,x+=`\r
`}),x}function ca(h,x,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Gn(T),typeof h=="string"?T!=null&&ls(T):Qe(h,x,T))}function Ze(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,At);var zi=/^https?$/i,Fl=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(Q){ha(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)T.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Fl,x,void 0)>=0)||A||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of T)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ha(this,Q)}};function ha(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Hl(h),us(h)}function Hl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},t.Xa=function(){fa(this)};function fa(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),pi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var A;if(A=Q===0){let le=String(h.D).match(Yc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!zi.test(le?le.toLowerCase():"")}T=A}if(T)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var q=pi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Hl(h)}}finally{us(h)}}}}function us(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||zt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),rm(x)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(h){const x={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(M(h[A]))continue;var T=Gc(h[A]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=x[q]||[];x[q]=Q,Q.push(T)}Me(x,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function Xs(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,h),this.Za=Bi("retryDelaySeedMs",1e4,h),this.Ta=Bi("forwardChannelMaxRetries",2,h),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(h&&h.concurrentRequestLimit),this.Ba=new Qs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xs.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,A){Ct(0),this.W=h,this.H=x||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=rh(this,null,this.W),Fi(this)};function ql(h){if(lo(h),h.I==3){var x=h.V++,T=It(h.J);if(Qe(T,"SID",h.M),Qe(T,"RID",x),Qe(T,"TYPE","terminate"),da(h,T),x=new hi(h,h.j,x),x.M=2,x.A=oa(It(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=ah(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ji(x)}sh(h)}function Zs(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function lo(h){Zs(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Fi(h){if(!jl(h.h)&&!h.m){h.m=!0;var x=h.Ea;J||R(),ne||(J(),ne=!0),k.add(x,h),h.D=0}}function uo(h,x){return Oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(p(h.Ea,h,x),ih(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new hi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=z(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Jc(this,q,x),T=It(this.J),Qe(T,"RID",h),Qe(T,"CVER",22),this.G&&Qe(T,"X-HTTP-Session-Id",this.G),da(this,T),Q&&(this.R?x="headers="+ls(Gn(Q))+"&"+x:this.u&&ca(T,this.u,Q)),Ml(this.h,q),this.Ra&&Qe(T,"TYPE","init"),this.S?(Qe(T,"$req",x),Qe(T,"SID","null"),q.U=!0,ki(q,T,null)):ki(q,T,x),this.I=2}}else this.I==3&&(h?Gl(this,h):this.i.length==0||jl(this.h)||Gl(this))};function Gl(h,x){var T;x?T=x.l:T=h.V++;const A=It(h.J);Qe(A,"SID",h.M),Qe(A,"RID",T),Qe(A,"AID",h.K),da(h,A),h.u&&h.o&&ca(A,h.u,h.o),T=new hi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Jc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ml(h.h,T),ki(T,A,x)}function da(h,x){h.H&&Ee(h.H,function(T,A){Qe(x,A,T)}),h.l&&Ee({},function(T,A){Qe(x,A,T)})}function Jc(h,x,T){T=Math.min(h.i.length,T);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Re=-1;for(;;){const Et=["count="+T];Re==-1?T>0?(Re=q[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Ke=!0;for(let ut=0;ut<T;ut++){var Q=q[ut].g;const Kn=q[ut].map;if(Q-=Re,Q<0)Re=Math.max(0,q[ut].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=Kn instanceof Map?Kn:Object.entries(Kn);for(const[qi,gi]of le){let yi=gi;f(gi)&&(yi=qs(gi)),Et.push(Q+qi+"="+encodeURIComponent(yi))}}catch(qi){throw Et.push(Q+"type="+encodeURIComponent("_badmap")),qi}}catch{A&&A(Kn)}}if(Ke){le=Et.join("&");break e}}le=void 0}return h=h.i.splice(0,T),x.G=h,le}function eh(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;J||R(),ne||(J(),ne=!0),k.add(x,h),h.A=0}}function ma(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(p(h.Da,h),ih(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Zs(this),th(this))};function Kl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function th(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=It(h.na);Qe(x,"RID","rpc"),Qe(x,"SID",h.M),Qe(x,"AID",h.K),Qe(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(x,"TO",h.ia),Qe(x,"TYPE","xmlhttp"),da(h,x),h.u&&h.o&&ca(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=oa(It(x)),T.u=null,T.R=!0,to(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Zs(this),ma(this),Ct(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function nh(h,x){var T=null;if(h.g==x){co(h),Kl(h),h.g=null;var A=2}else if(Pi(h.h,x))T=x.G,Vl(h.h,x),A=1;else return;if(h.I!=0){if(x.o)if(A==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var q=h.D;A=eo(),zt(A,new Ni(A,T)),Fi(h)}else eh(h);else if(q=x.m,q==3||q==0&&x.X>0||!(A==1&&uo(h,x)||A==2&&ma(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),q){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function ih(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function Hi(h,x){if(h.j.info("Error code "+x),x==2){var T=p(h.bb,h),A=h.Ua;const q=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(A,"https"),oa(A),q?di(A.toString(),T):Bl(A.toString(),T)}else Ct(2);h.I=0,h.l&&h.l.pa(x),sh(h),lo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function sh(h){if(h.I=0,h.ja=[],h.l){const x=Ol(h.h);(x.length!=0||h.i.length!=0)&&(I(h.ja,x),I(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function rh(h,x,T){var A=T instanceof Dn?It(T):new Dn(T);if(A.g!="")x&&(A.g=x+"."+A.g),Gs(A,A.u);else{var q=c.location;A=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;const Q=new Dn(null);A&&Gt(Q,A),x&&(Q.g=x),q&&Gs(Q,q),T&&(Q.h=T),A=Q}return T=h.G,x=h.wa,T&&x&&Qe(A,T,x),Qe(A,"VER",h.ka),da(h,A),A}function ah(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Ze(new Ui({ab:T})):new Ze(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(h,x){return new dn(h,x)};function dn(h,x){At.call(this),this.g=new Xs(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new hs(this)}b(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ql(this.g)},dn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=qs(h),h=T);x.i.push(new Nt(x.Ya++,h)),x.I==3&&Fi(x)},dn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,dn.Z.N.call(this)};function lh(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(lh,Yt);function uh(){Fn.call(this),this.status=1}b(uh,Fn);function hs(h){this.g=h}b(hs,oh),hs.prototype.ra=function(){zt(this.g,"a")},hs.prototype.qa=function(h){zt(this.g,new lh(h))},hs.prototype.pa=function(h){zt(this.g,new uh)},hs.prototype.oa=function(){zt(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,NA=function(){return new Js},RA=function(){return eo()},CA=_t,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Uf=ra,Il.COMPLETE="complete",AA=Il,Bc.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",At.prototype.listen=At.prototype.J,Vu=Bc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,SA=Ze}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",zE="4.9.2";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let yl="12.3.0";const Ka=new Xy("@firebase/firestore");function Fo(){return Ka.logLevel}function fe(t,...e){if(Ka.logLevel<=Pe.DEBUG){const n=e.map(o0);Ka.debug(`Firestore (${yl}): ${t}`,...n)}}function Vs(t,...e){if(Ka.logLevel<=Pe.ERROR){const n=e.map(o0);Ka.error(`Firestore (${yl}): ${t}`,...n)}}function il(t,...e){if(Ka.logLevel<=Pe.WARN){const n=e.map(o0);Ka.warn(`Firestore (${yl}): ${t}`,...n)}}function o0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,IA(t,s,n)}function IA(t,e,n){let s=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vs(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||IA(e,a,s)}function Ae(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class DA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class iV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sV{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},f=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new DA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class rV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class l0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=lV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return yg(a)===yg(l)?Le(a,l):yg(a)?1:-1}return Le(t.length,e.length)}const uV=55296,cV=57343;function yg(t){const e=t.charCodeAt(0);return e>=uV&&e<=cV}function sl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const FE="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Qi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),a=Qi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class it extends Qi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Qi{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return hV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new nn([FE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function kA(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fV(t,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HE(t){if(!ye.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(ye.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sc(t,e){if(!jA(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}const GE=-62135596800,KE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*KE);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GE)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Lt("string",ot._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function dV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Pr(a,ye.empty(),e)}function mV(t){return new Pr(t.readTime,t.key,tc)}class Pr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Pr(we.min(),ye.empty(),tc)}static max(){return new Pr(we.max(),ye.empty(),tc)}}function pV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const gV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==gV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function vV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}class Vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vd.ce=-1;const u0=-1;function Od(t){return t==null}function id(t){return t===0&&1/t==-1/0}function bV(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const MA="";function xV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$E(e)),e=_V(t.get(n),e);return $E(e)}function _V(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case MA:n+="";break;default:n+=l}}return n}function $E(t){return t+MA+""}function YE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new tn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QE(this.data.getIterator())}getIteratorFrom(e){return new QE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class QE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class OA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new OA("Invalid base64 string: "+l):l}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const EV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=EV.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}const PA="server_timestamp",LA="__type__",UA="__previous_value__",zA="__local_write_time__";function c0(t){return(t?.mapValue?.fields||{})[LA]?.stringValue===PA}function Pd(t){const e=t.mapValue.fields[UA];return c0(e)?Pd(e):e}function nc(t){const e=Lr(t.mapValue.fields[zA].timestampValue);return new ot(e.seconds,e.nanos)}class TV{constructor(e,n,s,a,l,c,f,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const sd="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||sd}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}const BA="__type__",wV="__max__",vf={mapValue:{}},FA="__vector__",rd="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c0(t)?4:AV(t)?9007199254740991:SV(t)?10:11:xe(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Lr(a.timestampValue),f=Lr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ur(a.bytesValue).isEqual(Ur(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),f=St(l.doubleValue);return c===f?id(c)===id(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(YE(c)!==YE(f))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(f[d]===void 0||!rs(c[d],f[d])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function sc(t,e){return(t.values||[]).find((n=>rs(n,e)))!==void 0}function rl(t,e){if(t===e)return 0;const n=zr(t),s=zr(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=St(l.integerValue||l.doubleValue),d=St(c.integerValue||c.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return WE(t.timestampValue,e.timestampValue);case 4:return WE(nc(t),nc(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ur(l),d=Ur(c);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),d=c.split("/");for(let p=0;p<f.length&&p<d.length;p++){const v=Le(f[p],d[p]);if(v!==0)return v}return Le(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Le(St(l.latitude),St(c.latitude));return f!==0?f:Le(St(l.longitude),St(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return XE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},d=c.fields||{},p=f[rd]?.arrayValue,v=d[rd]?.arrayValue,b=Le(p?.values?.length||0,v?.values?.length||0);return b!==0?b:XE(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),p=c.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const _=Jg(d[b],v[b]);if(_!==0)return _;const w=rl(f[d[b]],p[v[b]]);if(w!==0)return w}return Le(d.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function WE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Lr(t),s=Lr(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function XE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return Le(n.length,s.length)}function al(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Lr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ur(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ey(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ey(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function zf(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Wr(s.fields,((l,c)=>{a+=l.length+zf(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function ZE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function h0(t){return!!t&&"arrayValue"in t}function JE(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function SV(t){return(t?.mapValue?.fields||{})[BA]?.stringValue===FA}function Fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fu(t.arrayValue.values[n]);return e}return{...t}}function AV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wV}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(n)}setAll(e){let n=nn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Fu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Wr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Cn(Fu(this.value))}}function HA(t){const e=[];return Wr(t.fields,((n,s)=>{const a=new nn([n]);if(Bf(s)){const l=HA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}class un{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,we.min(),we.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,we.min(),we.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ad{constructor(e,n){this.position=e,this.inclusive=n}}function tT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=rl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function CV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qA{}class Pt extends qA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NV(e,n,s):n==="array-contains"?new kV(e,s):n==="in"?new jV(e,s):n==="not-in"?new MV(e,s):n==="array-contains-any"?new VV(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IV(e,s):new DV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends qA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ai(e,n)}matches(e){return GA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GA(t){return t.op==="and"}function KA(t){return RV(t)&&GA(t)}function RV(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function ny(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+al(t.value);if(KA(t))return t.filters.map((e=>ny(e))).join(",");{const e=t.filters.map((n=>ny(n))).join(",");return`${t.op}(${e})`}}function $A(t,e){return t instanceof Pt?(function(s,a){return a instanceof Pt&&s.op===a.op&&s.field.isEqual(a.field)&&rs(s.value,a.value)})(t,e):t instanceof Ai?(function(s,a){return a instanceof Ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&$A(c,a.filters[f])),!0):!1})(t,e):void xe(19439)}function YA(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${al(n.value)}`})(t):t instanceof Ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"})(t):"Filter"}class NV extends Pt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class IV extends Pt{constructor(e,n){super(e,"in",n),this.keys=QA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DV extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=QA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QA(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class kV extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return h0(n)&&sc(n.arrayValue,this.value)}}class jV extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class MV extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class VV extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!h0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>sc(this.value.arrayValue,s)))}}class OV{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function iT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new OV(t,e,n,s,a,l,c)}function f0(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ny(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=n}return e.Te}function d0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$A(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function iy(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xl{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PV(t,e,n,s,a,l,c,f){return new xl(t,e,n,s,a,l,c,f)}function Ld(t){return new xl(t)}function sT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WA(t){return t.collectionGroup!==null}function Hu(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ht(nn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new rc(l,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new rc(nn.keyField(),s))}return e.Ie}function Ji(t){const e=Ae(t);return e.Ee||(e.Ee=LV(e,Hu(t))),e.Ee}function LV(t,e){if(t.limitType==="F")return iT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new rc(a.field,l)}));const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return iT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function sy(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function od(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return d0(Ji(t),Ji(e))&&t.limitType===e.limitType}function XA(t){return`${f0(Ji(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YA(a))).join(", ")}]`),Od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>al(a))).join(",")),`Target(${s})`})(Ji(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,d){const p=tT(c,f,d);return c.inclusive?p<=0:p<0})(s.startAt,Hu(s),a)||s.endAt&&!(function(c,f,d){const p=tT(c,f,d);return c.inclusive?p>=0:p>0})(s.endAt,Hu(s),a))})(t,e)}function UV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZA(t){return(e,n)=>{let s=!1;for(const a of Hu(t)){const l=zV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function zV(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const d=c.data.field(l),p=f.data.field(l);return d!==null&&p!==null?rl(d,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return VA(this.inner)}size(){return this.innerSize}}const BV=new pt(ye.comparator);function Os(){return BV}const JA=new pt(ye.comparator);function Ou(...t){let e=JA;for(const n of t)e=e.insert(n.key,n);return e}function e1(t){let e=JA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ma(){return qu()}function t1(){return qu()}function qu(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FV=new pt(ye.comparator),HV=new Ht(ye.comparator);function Ue(...t){let e=HV;for(const n of t)e=e.add(n);return e}const qV=new Ht(Le);function GV(){return qV}function m0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function n1(t){return{integerValue:""+t}}function KV(t,e){return bV(e)?n1(e):m0(t,e)}class Bd{constructor(){this._=void 0}}function $V(t,e,n){return t instanceof ac?(function(a,l){const c={fields:{[LA]:{stringValue:PA},[zA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&c0(l)&&(l=Pd(l)),l&&(c.fields[UA]=l),{mapValue:c}})(n,e):t instanceof oc?s1(t,e):t instanceof lc?r1(t,e):(function(a,l){const c=i1(a,l),f=rT(c)+rT(a.Ae);return ty(c)&&ty(a.Ae)?n1(f):m0(a.serializer,f)})(t,e)}function YV(t,e,n){return t instanceof oc?s1(t,e):t instanceof lc?r1(t,e):n}function i1(t,e){return t instanceof ld?(function(s){return ty(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ac extends Bd{}class oc extends Bd{constructor(e){super(),this.elements=e}}function s1(t,e){const n=a1(e);for(const s of t.elements)n.some((a=>rs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends Bd{constructor(e){super(),this.elements=e}}function r1(t,e){let n=a1(e);for(const s of t.elements)n=n.filter((a=>!rs(a,s)));return{arrayValue:{values:n}}}class ld extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rT(t){return St(t.integerValue||t.doubleValue)}function a1(t){return h0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class QV{constructor(e,n){this.field=e,this.transform=n}}function WV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof oc&&a instanceof oc||s instanceof lc&&a instanceof lc?sl(s.elements,a.elements,rs):s instanceof ld&&a instanceof ld?rs(s.Ae,a.Ae):s instanceof ac&&a instanceof ac})(t.transform,e.transform)}class XV{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fd{}function o1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u1(t.key,wi.none()):new Ac(t.key,t.data,wi.none());{const n=t.data,s=Cn.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Xr(t.key,s,new zn(a.toArray()),wi.none())}}function ZV(t,e,n){t instanceof Ac?(function(a,l,c){const f=a.value.clone(),d=oT(a.fieldTransforms,l,c.transformResults);f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Xr?(function(a,l,c){if(!Ff(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=oT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(l1(a)),d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,s){return t instanceof Ac?(function(l,c,f,d){if(!Ff(l.precondition,c))return f;const p=l.value.clone(),v=lT(l.fieldTransforms,d,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Xr?(function(l,c,f,d){if(!Ff(l.precondition,c))return f;const p=lT(l.fieldTransforms,d,c),v=c.data;return v.setAll(l1(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,f){return Ff(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function JV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=i1(s.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,l))}return n||null}function aT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sl(s,a,((l,c)=>WV(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends Fd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xr extends Fd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function l1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function oT(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,YV(c,f,n[a]))}return s}function lT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,$V(l,c,e))}return s}class u1 extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e4 extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&ZV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=t1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const d=o1(c,f);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,s)=>aT(n,s)))&&sl(this.baseMutations,e.baseMutations,((n,s)=>aT(n,s)))}}class p0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return FV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new p0(e,n,s,a)}}class n4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,Fe;function s4(t){switch(t){case te.OK:return xe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function c1(t){if(t===void 0)return Vs("GRPC error has no .code"),te.UNKNOWN;switch(t){case Vt.OK:return te.OK;case Vt.CANCELLED:return te.CANCELLED;case Vt.UNKNOWN:return te.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return te.INTERNAL;case Vt.UNAVAILABLE:return te.UNAVAILABLE;case Vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Vt.NOT_FOUND:return te.NOT_FOUND;case Vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Vt.ABORTED:return te.ABORTED;case Vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Vt.DATA_LOSS:return te.DATA_LOSS;default:return xe(39323,{code:t})}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function r4(){return new TextEncoder}const a4=new Mr([4294967295,4294967295],0);function uT(t){const e=r4().encode(t),n=new wA;return n.update(e),new Uint8Array(n.digest())}function cT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Mr([n,s],0),new Mr([a,l],0)]}class g0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(s<0)throw new Pu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Mr.fromNumber(s)));return a.compare(a4)===1&&(a=new Mr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[s,a]=cT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new g0(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=uT(e),[s,a]=cT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hd(we.min(),a,new pt(Le),Os(),Ue())}}class Cc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cc(s,n,Ue(),Ue(),Ue())}}class Hf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class h1{constructor(e,n){this.targetId=e,this.Ce=n}}class f1{constructor(e,n,s=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class hT{constructor(){this.ve=0,this.Fe=fT(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new Cc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=bf(),this.He=bf(),this.Ye=new pt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(iy(l))if(s===0){const c=new ye(l.path);this.et(n,c,un.newNoDocument(c,we.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),d=f?this.ct(f,e,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ur(s).toUint8Array()}catch(d){if(d instanceof OA)return il("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new g0(c,a,l)}catch(d){return il(d instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&iy(f.target)){const d=new ye(f.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,un.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Ue();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Hd(e,n,this.Ye,this.je,s);return this.je=Os(),this.Je=bf(),this.He=bf(),this.Ye=new pt(Le),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bf(){return new pt(ye.comparator)}function fT(){return new pt(ye.comparator)}const l4={asc:"ASCENDING",desc:"DESCENDING"},u4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c4={and:"AND",or:"OR"};class h4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f4(t,e){return ud(t,e.toTimestamp())}function es(t){return Ye(!!t,49232),we.fromTimestamp((function(n){const s=Lr(n);return new ot(s.seconds,s.nanos)})(t))}function y0(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=(function(a){return new it(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function m1(t){const e=it.fromString(t);return Ye(b1(e),10190,{key:e.toString()}),e}function oy(t,e){return y0(t.databaseId,e.path)}function vg(t,e){const n=m1(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(g1(n))}function p1(t,e){return y0(t.databaseId,e)}function d4(t){const e=m1(t);return e.length===4?it.emptyPath():g1(e)}function ly(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g1(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dT(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function m4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?te.UNKNOWN:c1(p.code);return new ce(v,p.message||"")})(c);n=new f1(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=vg(t,s.document.name),l=es(s.document.updateTime),c=s.document.createTime?es(s.document.createTime):we.min(),f=new Cn({mapValue:{fields:s.document.fields}}),d=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Hf(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=vg(t,s.document),l=s.readTime?es(s.readTime):we.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Hf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=vg(t,s.document),l=s.removedTargetIds||[];n=new Hf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new i4(a,l),f=s.targetId;n=new h1(f,c)}}return n}function p4(t,e){let n;if(e instanceof Ac)n={update:dT(t,e.key,e.value)};else if(e instanceof u1)n={delete:oy(t,e.key)};else if(e instanceof Xr)n={update:dT(t,e.key,e.data),updateMask:w4(e.fieldMask)};else{if(!(e instanceof e4))return xe(16599,{Vt:e.type});n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ld)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:f4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function g4(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(we.min())&&(c=es(l)),new XV(c,a.transformResults||[])})(n,e)))):[]}function y4(t,e){return{documents:[p1(t,e.path)]}}function v4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=p1(t,a);const l=(function(p){if(p.length!==0)return v1(Ai.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:qo(_.field),direction:_4(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ry(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function b4(t){let e=d4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=y1(b);return _ instanceof Ai&&KA(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((_=>(function(I){return new rc(Go(I.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let _;return _=typeof b=="object"?b.value:b,Od(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(b){const _=!!b.before,w=b.values||[];return new ad(w,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const _=!b.before,w=b.values||[];return new ad(w,_)})(n.endAt)),PV(e,a,c,l,f,"F",d,p)}function x4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Go(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Go(n.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(n.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(n.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(Go(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ai.create(n.compositeFilter.filters.map((s=>y1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function _4(t){return l4[t]}function E4(t){return u4[t]}function T4(t){return c4[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return nn.fromServerFormat(t.fieldPath)}function v1(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:E4(n.op),value:n.value}}})(t):t instanceof Ai?(function(n){const s=n.getFilters().map((a=>v1(a)));return s.length===1?s[0]:{compositeFilter:{op:T4(n.op),filters:s}}})(t):xe(54877,{filter:t})}function w4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function b1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ir{constructor(e,n,s,a,l=we.min(),c=we.min(),f=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class S4{constructor(e){this.yt=e}}function A4(t){const e=b4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?od(e,e.limit,"L"):e}class C4{constructor(){this.Cn=new R4}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Pr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class R4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ht(it.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ht(it.comparator)).toArray()}}const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x1=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(x1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const pT="LruGarbageCollector",N4=1048576;function gT([t,e],[n,s]){const a=Le(t,n);return a===0?Le(e,s):a}class I4{constructor(e){this.Ir=e,this.buffer=new Ht(gT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(pT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?fe(pT,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)}))}}class k4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Vd.ce);const s=new I4(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(mT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),Fo()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${b} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function j4(t,e){return new k4(t,e)}class M4{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class O4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gu(s.mutation,a,zn.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const a=Ma();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Ou();return l.forEach(((f,d)=>{c=c.insert(f,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ma();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Os();const c=qu(),f=(function(){return qu()})();return n.forEach(((d,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Xr)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Gu(v.mutation,p,v.mutation.getFieldMask(),ot.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new V4(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=qu();let a=new pt(((c,f)=>c-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=s.get(d)||zn.empty();v=f.applyToLocalView(p,v),s.set(d,v);const b=(a.get(f.batchId)||Ue()).add(d);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,v=d.value,b=t1();v.forEach((_=>{if(!l.has(_)){const w=o1(n.get(_),s.get(_));w!==null&&b.set(_,w),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(Ma());let f=tc,d=l;return c.next((p=>re.forEach(p,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{d=d.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Ue()))).next((v=>({batchId:f,changes:e1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(d=>{const p=(function(b,_){return new xl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((b,_)=>{c=c.insert(b,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,un.newInvalidDocument(v)))}));let f=Ou();return c.forEach(((d,p)=>{const v=l.get(d);v!==void 0&&Gu(v.mutation,p,zn.empty(),ot.now()),zd(n,p)&&(f=f.insert(d,p))})),f}))}}class P4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:A4(a.bundledQuery),readTime:es(a.readTime)}})(n)),re.resolve()}}class L4{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ma();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=Ma(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ma(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ma(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return re.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new n4(n,s));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class U4{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class v0{constructor(){this.Qr=new Ht($t.$r),this.Ur=new Ht($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new $t(n,e),a=new $t(n,e+1);let l=Ue();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class z4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht($t.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new t4(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?u0:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Le);return n.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ye(l),0);let f=new Ht(Le);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(d.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class B4{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Os();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Os();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||pV(mV(v),s)<=0||(a.has(v.key)||zd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new F4(this)}getSize(e){return re.resolve(this.size)}}class F4 extends M4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class H4{constructor(e){this.persistence=e,this.si=new Qa((n=>f0(n)),d0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new v0,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class _1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vd(0),this.li=!1,this.li=!0,this.hi=new U4,this.referenceDelegate=e(this),this.Pi=new H4(this),this.indexManager=new C4,this.remoteDocumentCache=(function(a){return new B4(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new S4(n),this.Ii=new P4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new z4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new q4(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class q4 extends yV{constructor(e){super(),this.currentSequenceNumber=e}}class b0{constructor(e){this.persistence=e,this.Ri=new v0,this.Vi=null}static mi(e){return new b0(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cd{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>xV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=j4(this,n)}static mi(e,n){return new cd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class x0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new x0(e,n.fromCache,s,a)}}class G4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class K4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xD()?8:vV(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new G4;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Fo()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Fo()<=Pe.DEBUG&&fe("QueryEngine","Query:",Ho(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Fo()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(n))):re.resolve())}ys(e,n){if(sT(n))return re.resolve(null);let s=Ji(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=od(n,null,"F"),s=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((d=>{const p=this.Ds(n,f);return this.Cs(n,p,c,d.readTime)?this.ys(e,od(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,s,a){return sT(n)||a.isEqual(we.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(Fo()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ho(n)),this.vs(e,c,n,dV(a,tc)).next((f=>f)))}))}Ds(e,n){let s=new Ht(ZA(e));return n.forEach(((a,l)=>{zd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Fo()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const _0="LocalStore",$4=3e8;class Y4{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(Le),this.xs=new Qa((l=>f0(l)),d0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Q4(t,e,n,s){return new Y4(t,e,n,s)}async function E1(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let d=Ue();for(const p of a){c.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(s,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function W4(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,d,p,v){const b=p.batch,_=b.keys();let w=re.resolve();return _.forEach((I=>{w=w.next((()=>v.getEntry(d,I))).next((N=>{const D=p.docVersions.get(I);Ye(D!==null,48541),N.version.compareTo(D)<0&&(b.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),v.addEntry(N)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let d=Ue();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function T1(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function X4(t,e){const n=Ae(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let w=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(rn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(b,w),(function(N,D,O){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=$4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,w,v)&&f.push(n.Pi.updateTargetData(l,w))}));let d=Os(),p=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(Z4(l,c,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!s.isEqual(we.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function Z4(t,e,n){let s=Ue(),a=Ue();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Os();return n.forEach(((f,d)=>{const p=l.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual(we.min())?(e.removeEntry(f,d.readTime),c=c.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(f,d)):fe(_0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function J4(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=u0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eO(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Ir(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function uy(t,e,n){const s=Ae(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!bl(c))throw c;fe(_0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function yT(t,e,n){const s=Ae(t);let a=we.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,v){const b=Ae(d),_=b.xs.get(v);return _!==void 0?re.resolve(b.Ms.get(_)):b.Pi.getTargetData(p,v)})(s,c,Ji(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((d=>{l=d}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:we.min(),n?l:Ue()))).next((f=>(tO(s,UV(e),f),{documents:f,Qs:l})))))}function tO(t,e,n){let s=t.Os.get(e)||we.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class vT{constructor(){this.activeTargetIds=GV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this.Mo=new vT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iO{Oo(e){}shutdown(){}}const bT="ConnectivityMonitor";class xT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(bT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xf=null;function cy(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}const bg="RestConnection",sO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===sd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=cy(),f=this.zo(e,n.toUriEncodedString());fe(bg,`Sending RPC '${e}' ${c}:`,f,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(f),v=$r(p);return this.Jo(e,f,d,s,v).then((b=>(fe(bg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw il(bg,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=sO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class aO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class oO extends rO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=cy();return new Promise(((f,d)=>{const p=new SA;p.setWithCredentials(!0),p.listenOnce(AA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uf.NO_ERROR:const b=p.getResponseJson();fe(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Uf.TIMEOUT:fe(on,`RPC '${e}' ${c} timed out`),d(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const _=p.getStatus();if(fe(on,`RPC '${e}' ${c} failed with status:`,_,"response text:",p.getResponseText()),_>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w?.error;if(I&&I.status&&I.message){const N=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN})(I.status);d(new ce(N,I.message))}else d(new ce(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ce(te.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(on,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);fe(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=cy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=NA(),f=RA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const v=l.join("");fe(on,`Creating RPC '${e}' stream ${a}: ${v}`,d);const b=c.createWebChannel(v,d);this.I_(b);let _=!1,w=!1;const I=new aO({Yo:D=>{w?fe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(_||(fe(on,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),fe(on,`RPC '${e}' stream ${a} sending:`,D),b.send(D))},Zo:()=>b.close()}),N=(D,O,H)=>{D.listen(O,(G=>{try{H(G)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return N(b,Vu.EventType.OPEN,(()=>{w||(fe(on,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),N(b,Vu.EventType.CLOSE,(()=>{w||(w=!0,fe(on,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(b))})),N(b,Vu.EventType.ERROR,(D=>{w||(w=!0,il(on,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),I.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),N(b,Vu.EventType.MESSAGE,(D=>{if(!w){const O=D.data[0];Ye(!!O,16349);const H=O,G=H?.error||H[0]?.error;if(G){fe(on,`RPC '${e}' stream ${a} received error:`,G);const oe=G.status;let J=(function(R){const j=Vt[R];if(j!==void 0)return c1(j)})(oe),ne=G.message;J===void 0&&(J=te.INTERNAL,ne="Unknown error status: "+oe+" with message "+G.message),w=!0,I.a_(new ce(J,ne)),b.close()}else fe(on,`RPC '${e}' stream ${a} received:`,O),I.u_(O)}})),N(f,CA.STAT_EVENT,(D=>{D.stat===Zg.PROXY?fe(on,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Zg.NOPROXY&&fe(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xg(){return typeof document<"u"?document:null}function qd(t){return new h4(t,!0)}class w1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _T="PersistentStream";class S1{constructor(e,n,s,a,l,c,f,d){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(_T,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(_T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lO extends S1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=m4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?es(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ly(this.serializer),n.addTarget=(function(l,c){let f;const d=c.target;if(f=iy(d)?{documents:y4(l,d)}:{query:v4(l,d).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=d1(l,c.resumeToken);const p=ry(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){f.readTime=ud(l,c.snapshotVersion.toTimestamp());const p=ry(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=x4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ly(this.serializer),n.removeTarget=e,this.q_(n)}}class uO extends S1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=g4(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ly(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>p4(this.serializer,s)))};this.q_(n)}}class cO{}class hO extends cO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ay(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,ay(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $a="RemoteStore";class dO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Wa(this)&&(fe($a,"Restarting streams for network reachability change."),await(async function(d){const p=Ae(d);p.Ea.add(4),await Rc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Gd(p)})(this))}))})),this.Ra=new fO(s,a)}}async function Gd(t){if(Wa(t))for(const e of t.da)await e(!0)}async function Rc(t){for(const e of t.da)await e(!1)}function A1(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),S0(n)?w0(n):_l(n).O_()&&T0(n,e))}function E0(t,e){const n=Ae(t),s=_l(n);n.Ia.delete(e),s.O_()&&C1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Wa(n)&&n.Ra.set("Unknown"))}function T0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Y_(e)}function C1(t,e){t.Va.Ue(e),_l(t).Z_(e)}function w0(t){t.Va=new o4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Ra.ua()}function S0(t){return Wa(t)&&!_l(t).x_()&&t.Ia.size>0}function Wa(t){return Ae(t).Ea.size===0}function R1(t){t.Va=void 0}async function mO(t){t.Ra.set("Online")}async function pO(t){t.Ia.forEach(((e,n)=>{T0(t,e)}))}async function gO(t,e){R1(t),S0(t)?(t.Ra.ha(e),w0(t)):t.Ra.set("Unknown")}async function yO(t,e,n){if(t.Ra.set("Online"),e instanceof f1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){fe($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hd(t,s)}else if(e instanceof Hf?t.Va.Ze(e):e instanceof h1?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const s=await T1(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(d.resumeToken,c))}})),f.targetMismatches.forEach(((d,p)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),C1(l,d);const b=new Ir(v.target,d,p,v.sequenceNumber);T0(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){fe($a,"Failed to raise snapshot:",s),await hd(t,s)}}async function hd(t,e,n){if(!bl(e))throw e;t.Ea.add(1),await Rc(t),t.Ra.set("Offline"),n||(n=()=>T1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe($a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gd(t)}))}function N1(t,e){return e().catch((n=>hd(t,n,e)))}async function Kd(t){const e=Ae(t),n=Br(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:u0;for(;vO(e);)try{const a=await J4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,bO(e,a)}catch(a){await hd(e,a)}I1(e)&&D1(e)}function vO(t){return Wa(t)&&t.Ta.length<10}function bO(t,e){t.Ta.push(e);const n=Br(t);n.O_()&&n.X_&&n.ea(e.mutations)}function I1(t){return Wa(t)&&!Br(t).x_()&&t.Ta.length>0}function D1(t){Br(t).start()}async function xO(t){Br(t).ra()}async function _O(t){const e=Br(t);for(const n of t.Ta)e.ea(n.mutations)}async function EO(t,e,n){const s=t.Ta.shift(),a=p0.from(s,e,n);await N1(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Kd(t)}async function TO(t,e){e&&Br(t).X_&&await(async function(s,a){if((function(c){return s4(c)&&c!==te.ABORTED})(a.code)){const l=s.Ta.shift();Br(s).B_(),await N1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Kd(s)}})(t,e),I1(t)&&D1(t)}async function ET(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),fe($a,"RemoteStore received new credentials");const s=Wa(n);n.Ea.add(3),await Rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gd(n)}async function wO(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Gd(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function _l(t){return t.ma||(t.ma=(function(n,s,a){const l=Ae(n);return l.sa(),new lO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:mO.bind(null,t),t_:pO.bind(null,t),r_:gO.bind(null,t),H_:yO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),S0(t)?w0(t):t.Ra.set("Unknown")):(await t.ma.stop(),R1(t))}))),t.ma}function Br(t){return t.fa||(t.fa=(function(n,s,a){const l=Ae(n);return l.sa(),new uO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xO.bind(null,t),r_:TO.bind(null,t),ta:_O.bind(null,t),na:EO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Kd(t)):(await t.fa.stop(),t.Ta.length>0&&(fe($a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class A0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new A0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C0(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),bl(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ou(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class TT{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ll{constructor(e,n,s,a,l,c,f,d,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new ll(e,n,tl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class SO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AO{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ae(n),l=a.queries;a.queries=wT(),l.forEach(((c,f)=>{for(const d of f.Sa)d.onError(s)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function wT(){return new Qa((t=>XA(t)),Ud)}async function R0(t,e){const n=Ae(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new SO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=C0(c,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&I0(n)}async function N0(t,e){const n=Ae(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CO(t,e){const n=Ae(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&I0(n)}function RO(t,e,n){const s=Ae(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function I0(t){t.Ca.forEach((e=>{e.next()}))}var hy,ST;(ST=hy||(hy={})).Ma="default",ST.Cache="cache";class D0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hy.Cache}}class k1{constructor(e){this.key=e}}class j1{constructor(e){this.key=e}}class NO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=ZA(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new TT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),w=zd(this.query,b)?b:null,I=!!_&&this.mutatedKeys.has(_.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;_&&w?_.data.isEqual(w.data)?I!==N&&(s.track({type:3,doc:w}),D=!0):this.su(_,w)||(s.track({type:2,doc:w}),D=!0,(d&&this.eu(w,d)>0||p&&this.eu(w,p)<0)&&(f=!0)):!_&&w?(s.track({type:0,doc:w}),D=!0):_&&!w&&(s.track({type:1,doc:_}),D=!0,(d||p)&&(f=!0)),D&&(w?(c=c.add(w),l=N?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(w,I){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:D})}};return N(w)-N(I)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new ll(this.query,e.tu,l,c,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new j1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new k1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const k0="SyncEngine";class IO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class DO{constructor(e){this.key=e,this.hu=!1}}class kO{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qa((f=>XA(f)),Ud),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new v0,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jO(t,e,n=!0){const s=U1(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await M1(s,e,n,!0),a}async function MO(t,e){const n=U1(t);await M1(n,e,!0,!1)}async function M1(t,e,n,s){const a=await eO(t.localStore,Ji(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await VO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&A1(t.remoteStore,a),f}async function VO(t,e,n,s,a){t.pu=(b,_,w)=>(async function(N,D,O,H){let G=D.view.ru(O);G.Cs&&(G=await yT(N.localStore,D.query,!1).then((({documents:k})=>D.view.ru(k,G))));const oe=H&&H.targetChanges.get(D.targetId),J=H&&H.targetMismatches.get(D.targetId)!=null,ne=D.view.applyChanges(G,N.isPrimaryClient,oe,J);return CT(N,D.targetId,ne.au),ne.snapshot})(t,b,_,w);const l=await yT(t.localStore,e,!0),c=new NO(e,l.Qs),f=c.ru(l.documents),d=Cc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,d);CT(t,n,p.au);const v=new IO(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function OO(t,e,n){const s=Ae(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Ud(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await uy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&E0(s.remoteStore,a.targetId),fy(s,a.targetId)})).catch(vl)):(fy(s,a.targetId),await uy(s.localStore,a.targetId,!0))}async function PO(t,e){const n=Ae(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),E0(n.remoteStore,s.targetId))}async function LO(t,e,n){const s=GO(t);try{const a=await(function(c,f){const d=Ae(c),p=ot.now(),v=f.reduce(((w,I)=>w.add(I.key)),Ue());let b,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=Os(),N=Ue();return d.Ns.getEntries(w,v).next((D=>{I=D,I.forEach(((O,H)=>{H.isValidDocument()||(N=N.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,I))).next((D=>{b=D;const O=[];for(const H of f){const G=JV(H,b.get(H.key).overlayedDocument);G!=null&&O.push(new Xr(H.key,G,HA(G.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(w,p,O,f)})).next((D=>{_=D;const O=D.applyToLocalDocumentSet(b,N);return d.documentOverlayCache.saveOverlays(w,D.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:e1(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Le)),p=p.insert(f,d),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Nc(s,a.changes),await Kd(s.remoteStore)}catch(a){const l=C0(a,"Failed to persist write");n.reject(l)}}async function V1(t,e){const n=Ae(t);try{const s=await X4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Nc(n,s,e)}catch(s){await vl(s)}}function AT(t,e,n){const s=Ae(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const d=Ae(c);d.onlineState=f;let p=!1;d.queries.forEach(((v,b)=>{for(const _ of b.Sa)_.va(f)&&(p=!0)})),p&&I0(d)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UO(t,e,n){const s=Ae(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new pt(ye.comparator);c=c.insert(l,un.newNoDocument(l,we.min()));const f=Ue().add(l),d=new Hd(we.min(),new Map,new pt(Le),c,f);await V1(s,d),s.du=s.du.remove(l),s.Au.delete(e),j0(s)}else await uy(s.localStore,e,!1).then((()=>fy(s,e,n))).catch(vl)}async function zO(t,e){const n=Ae(t),s=e.batch.batchId;try{const a=await W4(n.localStore,e);P1(n,s,null),O1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nc(n,a)}catch(a){await vl(a)}}async function BO(t,e,n){const s=Ae(t);try{const a=await(function(c,f){const d=Ae(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,f).next((b=>(Ye(b!==null,37113),v=b.keys(),d.mutationQueue.removeMutationBatch(p,b)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);P1(s,e,n),O1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nc(s,a)}catch(a){await vl(a)}}function O1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function P1(t,e,n){const s=Ae(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||L1(t,s)}))}function L1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(E0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),j0(t))}function CT(t,e,n){for(const s of n)s instanceof k1?(t.Ru.addReference(s.key,e),FO(t,s)):s instanceof j1?(fe(k0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||L1(t,s.key)):xe(19791,{wu:s})}function FO(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(k0,"New document in limbo: "+n),t.Eu.add(s),j0(t))}function j0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(it.fromString(e)),s=t.fu.next();t.Au.set(s,new DO(n)),t.du=t.du.insert(n,s),A1(t.remoteStore,new Ir(Ji(Ld(n.path)),s,"TargetPurposeLimboResolution",Vd.ce))}}async function Nc(t,e,n){const s=Ae(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,d)=>{c.push(s.pu(d,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=x0.As(d.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(d,p){const v=Ae(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(p,(_=>re.forEach(_.Es,(w=>v.persistence.referenceDelegate.addReference(b,_.targetId,w))).next((()=>re.forEach(_.ds,(w=>v.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))))))}catch(b){if(!bl(b))throw b;fe(_0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const w=v.Ms.get(_),I=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(_,N)}}})(s.localStore,l))}async function HO(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){fe(k0,"User change. New user:",e.toKey());const s=await E1(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((d=>{d.reject(new ce(te.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nc(n,s.Ls)}}function qO(t,e){const n=Ae(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function U1(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UO.bind(null,e),e.Pu.H_=CO.bind(null,e.eventManager),e.Pu.yu=RO.bind(null,e.eventManager),e}function GO(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BO.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Q4(this.persistence,new K4,e.initialUser,this.serializer)}Cu(e){return new _1(b0.mi,this.serializer)}Du(e){return new nO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class KO extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof cd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new D4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new _1((s=>cd.mi(s,n)),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>AT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HO.bind(null,this.syncEngine),await wO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AO})()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),s=(function(l){return new oO(l)})(e.databaseInfo);return(function(l,c,f,d){return new hO(l,c,f,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new dO(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>AT(this.syncEngine,n,0)),(function(){return xT.v()?new xT:new iO})())}createSyncEngine(e,n){return(function(a,l,c,f,d,p,v){const b=new kO(a,l,c,f,d,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);fe($a,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dy.provider={build:()=>new dy};class M0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fr="FirestoreClient";class $O{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=l0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{fe(Fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=C0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await E1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function RT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YO(t);fe(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>ET(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>ET(e.remoteStore,a))),t._onlineComponents=e}async function YO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Fr,"Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new fd)}}else fe(Fr,"Using default OfflineComponentProvider"),await _g(t,new KO(void 0));return t._offlineComponents}async function z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Fr,"Using user provided OnlineComponentProvider"),await RT(t,t._uninitializedComponentsProvider._online)):(fe(Fr,"Using default OnlineComponentProvider"),await RT(t,new dy))),t._onlineComponents}function QO(t){return z1(t).then((e=>e.syncEngine))}async function dd(t){const e=await z1(t),n=e.eventManager;return n.onListen=jO.bind(null,e.syncEngine),n.onUnlisten=OO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PO.bind(null,e.syncEngine),n}function WO(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,d,p){const v=new M0({next:_=>{v.Nu(),c.enqueueAndForget((()=>N0(l,b)));const w=_.docs.has(f);!w&&_.fromCache?p.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&d&&d.source==="server"?p.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new D0(Ld(f.path),v,{includeMetadataChanges:!0,qa:!0});return R0(l,b)})(await dd(t),t.asyncQueue,e,n,s))),s.promise}function XO(t,e,n={}){const s=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,d,p){const v=new M0({next:_=>{v.Nu(),c.enqueueAndForget((()=>N0(l,b))),_.fromCache&&d.source==="server"?p.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new D0(f,v,{includeMetadataChanges:!0,qa:!0});return R0(l,b)})(await dd(t),t.asyncQueue,e,n,s))),s.promise}function B1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const NT=new Map;const F1="firestore.googleapis.com",IT=!0;class DT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F1,this.ssl=IT}else this.host=e.host,this.ssl=e.ssl??IT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N4)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nV;switch(s.type){case"firstParty":return new aV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=NT.get(n);s&&(fe("ComponentProvider","Removing Datastore"),NT.delete(n),s.terminate())})(this),Promise.resolve()}}function ZO(t,e,n,s={}){t=Bn(t,$d);const a=$r(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Qy(`https://${f}`),Wy("Firestore",!0)),l.host!==F1&&l.host!==f&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:f,ssl:a,emulatorOptions:s};if(!Fa(d,c)&&(t._setSettings(d),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=ln.MOCK_USER;else{p=hD(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ln(b)}t._authCredentials=new iV(new DA(p,v))}}class Bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sc(n,bt._jsonSchema))return new bt(e,s||null,new ye(it.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Lt("string",bt._jsonSchemaVersion),referencePath:Lt("string")};class Vr extends Bs{constructor(e,n,s){super(e,n,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function as(t,e,...n){if(t=xt(t),kA("collection","path",e),t instanceof $d){const s=it.fromString(e,...n);return qE(s),new Vr(t,null,s)}{if(!(t instanceof bt||t instanceof Vr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return qE(s),new Vr(t.firestore,null,s)}}function yn(t,e,...n){if(t=xt(t),arguments.length===1&&(e=l0.newId()),kA("doc","path",e),t instanceof $d){const s=it.fromString(e,...n);return HE(s),new bt(t,null,new ye(s))}{if(!(t instanceof bt||t instanceof Vr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return HE(s),new bt(t.firestore,t instanceof Vr?t.converter:null,new ye(s))}}const kT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w1(this,"async_queue_retry"),this._c=()=>{const s=xg();s&&fe(kT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;fe(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",MT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=A0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:MT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function MT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function VT(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Hr extends $d{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new jT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function JO(t,e){const n=typeof t=="object"?t:Id(),s=typeof t=="string"?t:sd,a=Nd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=OS("firestore");l&&ZO(a,...l)}return a}function Yd(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eP(t),t._firestoreClient}function eP(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new TV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,B1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $O(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(rn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Lt("string",ni._jsonSchemaVersion),bytes:Lt("string")};class Qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wd{constructor(e){this._methodName=e}}class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Lt("string",ts._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class ns{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ns(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Lt("string",ns._jsonSchemaVersion),vectorValues:Lt("object")};const tP=/^__.*__$/;class nP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class H1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function q1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class V0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new V0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(q1(this.Ac)&&tP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qd(e)}Cc(e,n,s,a=!1){return new V0({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new iP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G1(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);P0("Data must be an object, but it was:",c,s);const f=K1(s,c);let d,p;if(l.merge)d=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=my(e,b,n);if(!c.contains(_))throw new ce(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Y1(v,_)||v.push(_)}d=new zn(v),p=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,p=c.fieldTransforms;return new nP(new Cn(f),d,p)}class Zd extends Wd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}class O0 extends Wd{_toFieldTransform(e){return new QV(e.path,new ac)}isEqual(e){return e instanceof O0}}function sP(t,e,n,s){const a=t.Cc(1,e,n);P0("Data must be an object, but it was:",a,s);const l=[],c=Cn.empty();Wr(s,((d,p)=>{const v=L0(e,d,n);p=xt(p);const b=a.yc(v);if(p instanceof Zd)l.push(v);else{const _=Ic(p,b);_!=null&&(l.push(v),c.set(v,_))}}));const f=new zn(l);return new H1(c,f,a.fieldTransforms)}function rP(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[my(e,s,n)],d=[a];if(l.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)f.push(my(e,l[_])),d.push(l[_+1]);const p=[],v=Cn.empty();for(let _=f.length-1;_>=0;--_)if(!Y1(p,f[_])){const w=f[_];let I=d[_];I=xt(I);const N=c.yc(w);if(I instanceof Zd)p.push(w);else{const D=Ic(I,N);D!=null&&(p.push(w),v.set(w,D))}}const b=new zn(p);return new H1(v,b,c.fieldTransforms)}function aP(t,e,n,s=!1){return Ic(n,t.Cc(s?4:3,e))}function Ic(t,e){if($1(t=xt(t)))return P0("Unsupported field value:",e,t),K1(t,e);if(t instanceof Wd)return(function(s,a){if(!q1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let d=Ic(f,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ot.fromDate(s);return{timestampValue:ud(a.serializer,l)}}if(s instanceof ot){const l=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ud(a.serializer,l)}}if(s instanceof ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:d1(a.serializer,s._byteString)};if(s instanceof bt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:y0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ns)return(function(c,f){return{mapValue:{fields:{[BA]:{stringValue:FA},[rd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return m0(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Md(s)}`)})(t,e)}function K1(t,e){const n={};return VA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,((s,a)=>{const l=Ic(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function $1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ts||t instanceof ni||t instanceof bt||t instanceof Wd||t instanceof ns)}function P0(t,e,n){if(!$1(n)||!jA(n)){const s=Md(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function my(t,e,n){if((e=xt(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return L0(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}const oP=new RegExp("[~\\*/\\[\\]]");function L0(t,e,n){if(e.search(oP)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qd(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new ce(te.INVALID_ARGUMENT,f+t+d)}function Y1(t,e){return t.some((n=>n.isEqual(e)))}class Q1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lP extends Q1{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?L0(t,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function W1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U0{}class z0 extends U0{}function Zr(t,e,...n){let s=[];e instanceof U0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof B0)).length,f=l.filter((d=>d instanceof em)).length;if(c>1||c>0&&f>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class em extends z0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new em(e,n,s)}_apply(e){const n=this._parse(e);return X1(e._query,n),new Bs(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=Xd(e.firestore);return(function(l,c,f,d,p,v,b){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){PT(b,v);const I=[];for(const N of b)I.push(OT(d,l,N));_={arrayValue:{values:I}}}else _=OT(d,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||PT(b,v),_=aP(f,c,b,v==="in"||v==="not-in");return Pt.create(p,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dc(t,e,n){const s=e,a=Jd("where",t);return em._create(a,s,n)}class B0 extends U0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new B0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const d of f)X1(c,d),c=sy(c,d)})(e._query,n),new Bs(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F0 extends z0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new F0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(l,c)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new xl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function kc(t,e="asc"){const n=e,s=Jd("orderBy",t);return F0._create(s,n)}class H0 extends z0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new H0(e,n,s)}_apply(e){return new Bs(e.firestore,e.converter,od(e._query,this._limit,this._limitType))}}function uP(t){return H0._create("limit",t,"F")}function OT(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WA(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ZE(t,new ye(s))}if(n instanceof bt)return ZE(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function PT(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X1(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cP{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[rd].arrayValue?.values?.map((s=>St(s.doubleValue)));return new ns(n)}convertGeoPoint(e){return new ts(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Pd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(b1(s),9688,{name:e});const a=new ic(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Z1(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends Q1{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Lt("string",Pa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class qf extends Pa{data(e={}){return super.data(e)}}class La{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new qf(this._firestore,this._userDataWriter,s.key,s,new Lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const d=new qf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const d=new qf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:hP(f.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}function Fs(t){t=Bn(t,bt);const e=Bn(t.firestore,Hr);return WO(Yd(e),t._key).then((n=>eC(e,t,n)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Lt("string",La._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class q0 extends cP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function qr(t){t=Bn(t,Bs);const e=Bn(t.firestore,Hr),n=Yd(e),s=new q0(e);return W1(t._query),XO(n,t._query).then((a=>new La(e,s,t,a)))}function pd(t,e,n){t=Bn(t,bt);const s=Bn(t.firestore,Hr),a=Z1(t.converter,e,n);return G0(s,[G1(Xd(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function J1(t,e,n,...s){t=Bn(t,bt);const a=Bn(t.firestore,Hr),l=Xd(a);let c;return c=typeof(e=xt(e))=="string"||e instanceof Qd?rP(l,"updateDoc",t._key,e,n,s):sP(l,"updateDoc",t._key,e),G0(a,[c.toMutation(t._key,wi.exists(!0))])}function fP(t,e){const n=Bn(t.firestore,Hr),s=yn(t),a=Z1(t.converter,e);return G0(n,[G1(Xd(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function dP(t,...e){t=xt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VT(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VT(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,c,f;if(t instanceof bt)c=Bn(t.firestore,Hr),f=Ld(t._key.path),l={next:d=>{e[s]&&e[s](eC(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Bn(t,Bs);c=Bn(d.firestore,Hr),f=d._query;const p=new q0(c);l={next:v=>{e[s]&&e[s](new La(c,p,d,v))},error:e[s+1],complete:e[s+2]},W1(t._query)}return(function(p,v,b,_){const w=new M0(_),I=new D0(v,w,b);return p.asyncQueue.enqueueAndForget((async()=>R0(await dd(p),I))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>N0(await dd(p),I)))}})(Yd(c),f,a,l)}function G0(t,e){return(function(s,a){const l=new Ds;return s.asyncQueue.enqueueAndForget((async()=>LO(await QO(s),a,l))),l.promise})(Yd(t),e)}function eC(t,e,n){const s=n.docs.get(e._key),a=new q0(t);return new Pa(t,a,e._key,s,new Lu(n.hasPendingWrites,n.fromCache),e.converter)}function gd(){return new O0("serverTimestamp")}(function(e,n=!0){(function(a){yl=a})(pl),Ha(new Or("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Hr(new sV(s.getProvider("auth-internal")),new oV(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Wi(UE,zE,e),Wi(UE,zE,"esm2020")})();const mP="type.googleapis.com/google.protobuf.Int64Value",pP="type.googleapis.com/google.protobuf.UInt64Value";function tC(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function yd(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>yd(e));if(typeof t=="function"||typeof t=="object")return tC(t,e=>yd(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ul(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case mP:case pP:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ul(e)):typeof t=="function"||typeof t=="object"?tC(t,e=>ul(e)):t}const K0="functions";const LT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rn extends os{constructor(e,n,s){super(`${K0}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,Rn.prototype)}}function gP(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function vd(t,e){let n=gP(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!LT[c])return new Rn("internal","internal");n=LT[c],s=c}const f=l.message;typeof f=="string"&&(s=f),a=l.details,a!==void 0&&(a=ul(a))}}catch{}return n==="ok"?null:new Rn(n,s,a)}class yP{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}const py="us-central1",vP=/^data: (.*?)(?:\n|$)/;function bP(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new Rn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class xP{constructor(e,n,s,a,l=py,c=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new yP(e,n,s,a),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=py}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function _P(t,e,n){const s=$r(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Qy(t.emulatorOrigin+"/backends"),Wy("Functions",!0))}function EP(t,e,n){const s=a=>wP(t,e,a,{});return s.stream=(a,l)=>AP(t,e,a,l),s}function nC(t){return t.emulatorOrigin&&$r(t.emulatorOrigin)?"include":void 0}async function TP(t,e,n,s,a){n["Content-Type"]="application/json";let l;try{l=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:nC(a)})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function iC(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function wP(t,e,n,s){const a=t._url(e);return SP(t,a,n,s)}async function SP(t,e,n,s){n=yd(n);const a={data:n},l=await iC(t,s),c=s.timeout||7e4,f=bP(c),d=await Promise.race([TP(e,a,l,t.fetchImpl,t),f.promise,t.cancelAllRequests]);if(f.cancel(),!d)throw new Rn("cancelled","Firebase Functions instance was deleted.");const p=vd(d.status,d.json);if(p)throw p;if(!d.json)throw new Rn("internal","Response is not valid JSON object.");let v=d.json.data;if(typeof v>"u"&&(v=d.json.result),typeof v>"u")throw new Rn("internal","Response is missing data field.");return{data:ul(v)}}function AP(t,e,n,s){const a=t._url(e);return CP(t,a,n,s||{})}async function CP(t,e,n,s){n=yd(n);const a={data:n},l=await iC(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal,credentials:nC(t)})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const I=new Rn("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const w=vd(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let f,d;const p=new Promise((_,w)=>{f=_,d=w});s?.signal?.addEventListener("abort",()=>{const _=new Rn("cancelled","Request was cancelled.");d(_)});const v=c.body.getReader(),b=RP(v,f,d,s?.signal);return{stream:{[Symbol.asyncIterator](){const _=b.getReader();return{async next(){const{value:w,done:I}=await _.read();return{value:w,done:I}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:p}}function RP(t,e,n,s){const a=(c,f)=>{const d=c.match(vP);if(!d)return;const p=d[1];try{const v=JSON.parse(p);if("result"in v){e(ul(v.result));return}if("message"in v){f.enqueue(ul(v.message));return}if("error"in v){const b=vd(0,v);f.error(b),n(b);return}}catch(v){if(v instanceof Rn){f.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(c){let f="";return d();async function d(){if(s?.aborted){const p=new Rn("cancelled","Request was cancelled");return c.error(p),n(p),Promise.resolve()}try{const{value:p,done:v}=await t.read();if(v){f.trim()&&a(f.trim(),c),c.close();return}if(s?.aborted){const _=new Rn("cancelled","Request was cancelled");c.error(_),n(_),await t.cancel();return}f+=l.decode(p,{stream:!0});const b=f.split(`
`);f=b.pop()||"";for(const _ of b)_.trim()&&a(_.trim(),c);return d()}catch(p){const v=p instanceof Rn?p:vd(0,null);c.error(v),n(v)}}},cancel(){return t.cancel()}})}const UT="@firebase/functions",zT="0.13.1";const NP="auth-internal",IP="app-check-internal",DP="messaging-internal";function kP(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(NP),c=n.getProvider(DP),f=n.getProvider(IP);return new xP(a,l,c,f,s)};Ha(new Or(K0,e,"PUBLIC").setMultipleInstances(!0)),Wi(UT,zT,t),Wi(UT,zT,"esm2020")}function jP(t=Id(),e=py){const s=Nd(xt(t),K0).getImmediate({identifier:e}),a=OS("functions");return a&&MP(s,...a),s}function MP(t,e,n){_P(xt(t),e,n)}function BT(t,e,n){return EP(xt(t),e)}kP();const VP={apiKey:"AIzaSyDERq4e6x6pkVvlQEdLdQU0464SVyb_hrE",authDomain:"immobot-dc818.firebaseapp.com",projectId:"immobot-dc818",storageBucket:"immobot-dc818.firebasestorage.app",messagingSenderId:"601427046911",appId:"1:601427046911:web:c8248a89433a711ef8b7ca"},sC=Rk().length?Id():BS(VP),bd=ZM(sC),dt=JO(sC),FT=jP(void 0,"europe-west1"),rC=C.createContext(null),li=()=>C.useContext(rC);function OP({children:t}){const[e,n]=C.useState(null),[s,a]=C.useState(null),[l,c]=C.useState(!1);C.useEffect(()=>{const d=zj(bd,async p=>{if(n(p||null),p){const v=await Fs(yn(dt,"users",p.uid));a(v.exists()&&v.data()?.role||null)}else a(null);c(!0)});return()=>d()},[]);const f={user:e,role:s,ready:l,logout:()=>Bj(bd)};return g.jsx(rC.Provider,{value:f,children:t})}function $0(){const{user:t,role:e,logout:n,ready:s}=li(),[a,l]=C.useState(!1),c=C.useRef(null);if(C.useEffect(()=>{function v(b){c.current&&!c.current.contains(b.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),!s||!t)return null;const f=e==="admin",d=t?.firstName||t?.email?.split("@")[0]||"U",p=d.charAt(0).toUpperCase();return g.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 h-16",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:g.jsxs("div",{className:"flex justify-between items-center h-full",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs(sn,{to:"/dashboard",className:"flex items-center gap-2 group",children:[g.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-sm group-hover:bg-indigo-700 transition",children:"I"}),g.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Immobot"})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[g.jsx(HT,{to:"/dashboard",children:"Dashboard"}),f&&g.jsx(HT,{to:"/admin",activeColor:"text-indigo-600",children:"Admin"})]})]}),g.jsxs("div",{className:"relative ml-auto",ref:c,children:[g.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-3 p-1 rounded-full hover:bg-gray-100 transition focus:outline-none focus:ring-2 focus:ring-indigo-500/20",children:[g.jsxs("div",{className:"hidden sm:block text-right mr-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700 leading-none",children:d}),g.jsx("p",{className:"text-xs text-gray-400 mt-1 uppercase tracking-wide",children:f?"Admin":"User"})]}),g.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white",children:p})]}),a&&g.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 py-2",children:[g.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 sm:hidden",children:[g.jsx("p",{className:"text-sm font-semibold text-gray-900",children:d}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),g.jsx(sn,{to:"/dashboard/profile",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",children:"Mein Profil"}),f&&g.jsx(sn,{to:"/admin",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 md:hidden",children:"Admin Bereich"}),g.jsx("div",{className:"my-1 border-t border-gray-100"}),g.jsx("button",{onClick:n,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Abmelden"})]})]})]})})})}function HT({to:t,children:e,activeColor:n="text-gray-900"}){return g.jsx(sn,{to:t,className:`text-sm font-medium text-gray-500 hover:${n} hover:bg-gray-50 px-3 py-2 rounded-md transition-all`,children:e})}function PP(){const t=Us(),n=!["/login"].includes(t.pathname);return g.jsxs("div",{className:"min-h-screen ",children:[n&&g.jsx($0,{}),g.jsx("main",{className:"min-h-[calc(100vh-64px)]",children:g.jsx(Ky,{})})]})}function LP(){return g.jsxs("div",{className:"min-h-screen",children:[g.jsx($0,{}),g.jsx("main",{className:"p-6",children:g.jsx(Ky,{})})]})}function UP(){return g.jsxs("div",{className:"min-h-screen",children:[g.jsx($0,{}),g.jsx("main",{className:"p-6",children:g.jsx(Ky,{})})]})}function uc({value:t}){return t==null?g.jsx("span",{className:"text-gray-400",children:""}):typeof t?.toDate=="function"?g.jsx("span",{children:t.toDate().toLocaleString("de-DE")}):Array.isArray(t)?g.jsx("ul",{className:"list-disc ml-5 space-y-1",children:t.map((e,n)=>g.jsx("li",{children:g.jsx(uc,{value:e})},n))}):typeof t=="object"?g.jsx("div",{className:"space-y-1 ml-4 border-l pl-3",children:Object.entries(t).map(([e,n])=>g.jsxs("div",{children:[g.jsx("div",{className:"text-xs text-gray-500",children:e}),g.jsx(uc,{value:n})]},e))}):typeof t=="boolean"?g.jsx("span",{children:t?"Ja":"Nein"}):g.jsx("span",{children:String(t)})}function zP({user:t}){const e=t.stripeStatus||"unbekannt",n=e==="paid"||e==="active",a=n?"bg-emerald-500":e==="canceled"?"bg-red-500":"bg-gray-400",l=t.stripeCustomerId?`https://dashboard.stripe.com/customers/${t.stripeCustomerId}`:null;return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${a} relative z-10`}),n&&g.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-400 animate-ping opacity-75"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Abo-Status"}),g.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:e})]})]}),g.jsxs("div",{className:"sm:text-right",children:[g.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Letzte Zahlung"}),g.jsx("p",{className:"text-sm font-mono text-gray-700",children:t.stripeLastPayment?new Date(t.stripeLastPayment).toLocaleDateString("de-DE"):""})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Eg,{label:"Stripe Customer ID",value:t.stripeCustomerId,icon:g.jsx(BP,{})}),g.jsx(Eg,{label:"Subscription ID",value:t.stripeSubscriptionId,icon:g.jsx(FP,{})}),g.jsx("div",{className:"md:col-span-2",children:g.jsx(Eg,{label:"Checkout Session ID",value:t.stripeCheckoutSessionId,icon:g.jsx(HP,{}),isWide:!0})})]}),l&&g.jsx("div",{className:"pt-2 border-t border-gray-100",children:g.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors group",children:["Kunde im Stripe Dashboard ffnen",g.jsx("svg",{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})}function Eg({label:t,value:e,icon:n,isWide:s}){const[a,l]=C.useState(!1),c=()=>{e&&(navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3))};return g.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-3 hover:border-indigo-300 transition-all duration-200",children:[g.jsxs("div",{className:"flex items-start justify-between mb-1",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[n,g.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t})]}),e&&g.jsx("button",{onClick:c,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-indigo-600",title:"Kopieren",children:a?g.jsx("span",{className:"text-[10px] font-bold text-green-600",children:"Kopiert!"}):g.jsx(qP,{})})]}),g.jsx("div",{className:`text-xs font-mono text-gray-700 truncate ${s?"w-full":"max-w-[200px]"}`,title:e,children:e||g.jsx("span",{className:"text-gray-300 italic",children:"Nicht vorhanden"})})]})}function BP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function FP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}function HP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function qP(){return g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function GP(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Radius: ${s} km`),(a!==""||l!=="")&&c.push(`Preis: ${a||"0"}${l||""}`),c.join("  ")}function KP({uid:t}){const[e,n]=C.useState([]),[s,a]=C.useState(!0),[l,c]=C.useState({});C.useEffect(()=>{if(!t)return;(async()=>{try{const p=Zr(as(dt,"searchEvents"),Dc("uid","==",t),kc("createdAt","desc")),b=(await qr(p)).docs.map(w=>({id:w.id,...w.data(),createdAtDate:w.data().createdAt?.toDate?w.data().createdAt.toDate():null}));n(b);const _={};b.forEach(w=>_[w.id]=!1),c(_)}catch(p){console.error("Error loading search history:",p)}finally{a(!1)}})()},[t]);const f=d=>{const p={};e.forEach(v=>p[v.id]=d),c(p)};return s?g.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsxs("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:[e.length," ",e.length===1?"Eintrag":"Eintrge"]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 transition-colors",children:"Alle ffnen"}),g.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-xs font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Alle schlieen"})]})]}),g.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white shadow-sm",children:g.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar divide-y divide-gray-100",children:e.map(d=>{let p=null;try{p=d.search?JSON.parse(d.search):null}catch{p={raw:d.search}}const v=!!l[d.id],b=GP(p);return g.jsxs("div",{className:"group bg-white transition-colors",children:[g.jsxs("button",{type:"button",onClick:()=>c(_=>({..._,[d.id]:!_[d.id]})),className:`w-full text-left px-4 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors ${v?"bg-gray-50":""}`,children:[g.jsx("div",{className:`p-1.5 rounded-md text-gray-400 transition-transform duration-200 ${v?"rotate-90 text-indigo-600 bg-indigo-50":"group-hover:text-gray-600"}`,children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-baseline gap-2 mb-0.5",children:[g.jsx("span",{className:"text-xs font-bold text-gray-900",children:d.createdAtDate?.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})||""}),g.jsx("span",{className:"text-[10px] text-gray-400",children:d.createdAtDate?.toLocaleDateString("de-DE")||""})]}),g.jsx("div",{className:"text-sm text-gray-600 truncate pr-4",children:b||g.jsx("span",{className:"italic text-gray-400",children:"Leere Suche / Filter reset"})})]}),g.jsx("div",{className:"hidden sm:block",children:g.jsx("span",{className:"text-[10px] font-mono text-gray-300 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 group-hover:border-gray-200 group-hover:text-gray-400 transition-colors",children:d.id.slice(0,6)})})]}),v&&g.jsx("div",{className:"px-4 pb-4 pl-[3.25rem] bg-gray-50 border-t border-gray-100",children:g.jsx("div",{className:"mt-3 text-sm bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:p?g.jsx(uc,{value:p}):g.jsx("div",{className:"text-gray-400 italic",children:"Keine validen Daten gefunden."})})})]},d.id)})})}),g.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
      `})]}):g.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function $P(t){if(!t||typeof t!="object")return"";const e=Array.isArray(t.offerTypes)?t.offerTypes.join(", "):"",n=Array.isArray(t.objectClasses)?t.objectClasses.join(", "):"",s=t.radiusInKm??t.radius??"",a=t?.priceRange?.from??"",l=t?.priceRange?.to??"",c=[];return n&&c.push(n),e&&c.push(e),s!==""&&c.push(`Rad: ${s} km`),(a!==""||l!=="")&&c.push(` ${a}${l}`),c.join("  ")}function YP({uid:t}){const[e,n]=C.useState([]),[s,a]=C.useState(!0);return C.useEffect(()=>{if(!t)return;(async()=>{try{const c=Zr(as(dt,"searchEvents"),Dc("uid","==",t),kc("createdAt","desc")),d=(await qr(c)).docs.map(p=>({id:p.id,...p.data(),createdAtDate:p.data().createdAt?.toDate?p.data().createdAt.toDate():null}));n(d)}catch(c){console.error("Error loading search history:",c)}finally{a(!1)}})()},[t]),s?g.jsx("div",{className:"p-4 text-sm text-gray-500 animate-pulse",children:"Lade Such-Verlauf"}):e.length?g.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[g.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:g.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider w-32",children:"Zeitpunkt"}),g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider",children:"Such-Parameter (Vorschau)"}),g.jsx("th",{className:"px-4 py-3 font-semibold text-xs text-gray-500 uppercase tracking-wider text-right w-16",children:"Details"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(l=>g.jsx(QP,{ev:l},l.id))})]})}),g.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f9fafb; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      `})]}):g.jsx("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400 text-sm",children:"Keine Such-Historie vorhanden"})}function QP({ev:t}){const[e,n]=C.useState(!1);let s=null;try{s=t.search?JSON.parse(t.search):null}catch{s={raw:t.search}}const a=$P(s);return g.jsxs(C.Fragment,{children:[g.jsxs("tr",{onClick:()=>n(!e),className:`cursor-pointer transition-colors ${e?"bg-indigo-50/50":"hover:bg-gray-50"}`,children:[g.jsx("td",{className:"px-4 py-3 font-mono text-xs text-gray-700 align-top",children:t.createdAtDate?g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-gray-900",children:t.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}),g.jsx("span",{className:"text-[10px] text-gray-400",children:t.createdAtDate.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}):g.jsx("span",{className:"text-gray-400",children:""})}),g.jsx("td",{className:"px-4 py-3 align-middle",children:g.jsx("div",{className:"text-sm text-gray-700 truncate max-w-md",children:a||g.jsx("span",{className:"text-gray-400 italic",children:"Filter zurckgesetzt / Leer"})})}),g.jsx("td",{className:"px-4 py-3 text-right align-middle",children:g.jsx("button",{className:`text-gray-400 transition-transform duration-200 ${e?"rotate-180 text-indigo-600":""}`,children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),e&&g.jsx("tr",{className:"bg-gray-50 shadow-inner",children:g.jsx("td",{colSpan:"3",className:"px-4 py-4 border-b border-gray-100",children:g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-xs",children:[g.jsx("h4",{className:"font-bold text-gray-500 uppercase tracking-wider mb-2 text-[10px]",children:"Vollstndige Suchdaten"}),s?g.jsx(uc,{value:s}):g.jsx("span",{className:"text-gray-400",children:"Keine Daten verfgbar"})]})})})]})}function WP(){const{uid:t}=wS(),[e,n]=C.useState(null),[s,a]=C.useState(!0),[l,c]=C.useState(null);C.useEffect(()=>{(async()=>{try{const O=await Fs(yn(dt,"users",t));if(!O.exists()){c("User nicht gefunden");return}n({uid:t,...O.data()})}catch(O){console.error(O),c("Fehler beim Laden des Users")}finally{a(!1)}})()},[t]);const f=D=>{navigator.clipboard.writeText(D)};if(s)return g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-500",children:"Lade Profil..."});if(l)return g.jsx("div",{className:"p-10 text-center text-red-600 font-bold",children:l});const d=e.firstName??e.FirstName??"Unbekannt",p=e.lastName??e.LastName??"",v=e.email??e.Email??"",b=e.role??"user",_=e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString("de-DE"):"",w=e.stripeStatus||"free",N=w==="paid"||w==="active"?"bg-emerald-100 text-emerald-700 border-emerald-200":w==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10",children:g.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[g.jsx("div",{children:g.jsxs(sn,{to:"/admin/users",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors mb-4",children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Zurck zur bersicht"]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[g.jsxs("div",{className:"space-y-6 lg:sticky lg:top-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"h-24 bg-gradient-to-r from-indigo-500 to-blue-600"}),g.jsxs("div",{className:"px-6 pb-6 relative",children:[g.jsx("div",{className:"-mt-12 mb-4",children:g.jsx("div",{className:"h-24 w-24 rounded-full bg-white p-1 shadow-md",children:g.jsxs("div",{className:"h-full w-full rounded-full bg-gray-100 flex items-center justify-center text-2xl font-bold text-gray-400 uppercase",children:[d[0],p[0]]})})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[d," ",p]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[g.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide border ${N}`,children:w}),g.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wide bg-blue-50 text-blue-700 border border-blue-100",children:b})]})]}),g.jsxs("div",{className:"mt-6 space-y-4",children:[g.jsx(qT,{label:"E-Mail",value:v,icon:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsxs("div",{className:"group",children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:"User ID"}),g.jsxs("div",{onClick:()=>f(e.uid),className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors",title:"Klicken zum Kopieren",children:[g.jsx("code",{className:"text-xs text-gray-600 font-mono truncate mr-2",children:e.uid}),g.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]})]}),g.jsx(qT,{label:"Mitglied seit",value:_,icon:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[g.jsx("h2",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-b border-gray-100 pb-2",children:"Aktiver Suchfilter"}),e.lastSearch?g.jsx("div",{className:"text-sm",children:g.jsx(uc,{value:e.lastSearch})}):g.jsx("div",{className:"text-sm text-gray-400 italic",children:"Kein Filter gesetzt."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[g.jsx(Tg,{title:"Zahlungen & Abos",children:g.jsx(zP,{user:e})}),g.jsx(Tg,{title:"Klick-Historie",children:g.jsx(YP,{uid:e.uid})}),g.jsx(Tg,{title:"Such-Verlauf",children:g.jsx(KP,{uid:e.uid})})]})]})]})})}function Tg({title:t,children:e}){return g.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/30",children:g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t})}),g.jsx("div",{className:"p-6",children:e})]})}function qT({label:t,value:e,icon:n}){return g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-0.5",children:t}),g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[n&&g.jsx("span",{className:"text-gray-400",children:n}),e]})]})}function XP(){const[t,e]=C.useState([]),[n,s]=C.useState(!0),[a,l]=C.useState(""),[c,f]=C.useState({key:"createdAt",direction:"desc"});C.useEffect(()=>{(async()=>{const _=Zr(as(dt,"users"),kc("createdAt","desc")),I=(await qr(_)).docs.map(N=>({uid:N.id,...N.data(),firstName:N.data().firstName??N.data().FirstName??"",lastName:N.data().lastName??N.data().LastName??"",email:N.data().email??N.data().Email??"",stripeStatus:N.data().stripeStatus??"",createdAtDate:N.data().createdAt?.toDate?N.data().createdAt.toDate():null}));e(I),s(!1)})()},[]);const d=C.useMemo(()=>{let b=t.filter(_=>`${_.firstName} ${_.lastName} ${_.email}`.toLowerCase().includes(a.toLowerCase()));return c.key&&b.sort((_,w)=>{let I=_[c.key],N=w[c.key];return c.key==="createdAt"&&(I=_.createdAtDate||new Date(0),N=w.createdAtDate||new Date(0)),typeof I=="string"&&(I=I.toLowerCase()),typeof N=="string"&&(N=N.toLowerCase()),I<N?c.direction==="asc"?-1:1:I>N?c.direction==="asc"?1:-1:0}),b},[t,a,c]),p=b=>{let _="asc";c.key===b&&c.direction==="asc"&&(_="desc"),f({key:b,direction:_})},v=({column:b})=>c.key!==b?g.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50",children:""}):g.jsx("span",{className:"ml-2 text-indigo-600",children:c.direction==="asc"?"":""});return n?g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Benutzerdaten..."}):g.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Userbersicht"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[d.length," Benutzer gefunden"]})]}),g.jsxs("div",{className:"relative w-full md:w-72",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"Suchen (Name, E-Mail)...",value:a,onChange:b=>l(b.target.value)})]})]}),g.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:g.jsx("div",{className:"overflow-auto flex-1",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>p("firstName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Name ",g.jsx(v,{column:"firstName"})]}),g.jsxs("th",{onClick:()=>p("email"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["E-Mail ",g.jsx(v,{column:"email"})]}),g.jsxs("th",{onClick:()=>p("stripeStatus"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Status ",g.jsx(v,{column:"stripeStatus"})]}),g.jsxs("th",{onClick:()=>p("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group select-none transition-colors",children:["Erstellt am ",g.jsx(v,{column:"createdAt"})]}),g.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Aktion"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:d.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-500",children:"Keine Benutzer gefunden."})}):d.map(b=>{const _=b.stripeStatus==="paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":b.stripeStatus==="canceled"?"bg-red-50 text-red-600 border-red-100":"bg-gray-100 text-gray-600 border-gray-200";return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:g.jsxs("div",{className:"flex items-center",children:[g.jsxs("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xs mr-3",children:[b.firstName?.[0]||"?",b.lastName?.[0]||""]}),`${b.firstName} ${b.lastName}`.trim()||"Unbekannt"]})}),g.jsx("td",{className:"px-6 py-4 text-gray-500",children:b.email}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${_}`,children:b.stripeStatus})}),g.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:b.createdAtDate?.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})??""}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx(sn,{to:`/admin/user/${b.uid}`,className:"text-indigo-600 hover:text-indigo-900 font-medium text-xs border border-indigo-200 hover:border-indigo-400 px-3 py-1.5 rounded-lg transition-all",children:"Verwalten"})})]},b.uid)})})]})})})]})}function ZP(){const[t,e]=C.useState(""),[n,s]=C.useState(""),[a,l]=C.useState(""),[c,f]=C.useState(!1),d=zs(),p=async v=>{v.preventDefault(),l(""),f(!0);try{await Pj(bd,t.trim(),n),d("/dashboard")}catch(b){l("Login fehlgeschlagen. Bitte E-Mail und Passwort prfen."),console.error(b)}finally{f(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-sky-100 px-4",children:[g.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute -top-32 -left-24 h-80 w-80 rounded-full bg-sky-300/50 blur-3xl"}),g.jsx("div",{className:"absolute bottom-[-60px] right-[-40px] h-80 w-80 rounded-full bg-indigo-300/50 blur-3xl"}),g.jsx("div",{className:"absolute top-1/2 -right-24 h-64 w-64 -translate-y-1/2 rounded-full bg-emerald-200/60 blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs text-slate-600 border border-slate-200 shadow-sm",children:[g.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-sky-500 text-[9px] font-bold text-white",children:"I"}),g.jsx("span",{children:"Immobot  Login"})]}),g.jsx("h1",{className:"mt-4 text-3xl font-semibold text-slate-900",children:"Willkommen zurck"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Melde dich an, um deine Immobot-Suche und gespeicherten Filter fortzusetzen."})]}),g.jsxs("div",{className:"rounded-2xl bg-white/95 border border-slate-200 shadow-xl backdrop-blur-sm p-6",children:[g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a&&g.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"E-Mail"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"email",placeholder:"beispiel@immobot.pro",value:t,onChange:v=>e(v.target.value),autoComplete:"email",required:!0})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-800",children:"Passwort"}),g.jsx("input",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",type:"password",placeholder:"",value:n,onChange:v=>s(v.target.value),autoComplete:"current-password",required:!0})]}),g.jsx("button",{className:"mt-2 w-full rounded-lg bg-sky-600 py-2.5 text-sm font-medium text-white shadow-md shadow-sky-400/40 hover:bg-sky-500 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:c,children:c?"Einloggen":"Einloggen"})]}),g.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Noch kein Account?"," ",g.jsx(sn,{to:"/register",className:"font-medium text-sky-600 hover:text-sky-500",children:"Jetzt registrieren"})]})]}),g.jsx("p",{className:"mt-6 text-center text-[11px] text-slate-400",children:"Mit dem Login akzeptierst du unsere Nutzungsbedingungen & Datenschutzerklrung."})]})]})}function JP(){const[t,e]=C.useState([]),[n,s]=C.useState({}),[a,l]=C.useState(!0),[c,f]=C.useState(""),[d,p]=C.useState({key:"timestamp",direction:"desc"});C.useEffect(()=>{const _=Zr(as(dt,"clickEvents"),kc("timestamp","desc"),uP(100)),w=dP(_,I=>{const N=I.docs.map(D=>({id:D.id,...D.data(),redirectId:D.data().redirectId||"",source:D.data().source||"",timestampDate:D.data().timestamp?.toDate?D.data().timestamp.toDate():new Date(0)}));e(N),l(!1)});return()=>w()},[]),C.useEffect(()=>{if(!t.length)return;const w=[...new Set(t.map(N=>N.userId).filter(Boolean))].filter(N=>!n[N]);if(!w.length)return;(async()=>{const N={...n};await Promise.all(w.map(async D=>{try{const O=await Fs(yn(dt,"users",D));if(O.exists()){const H=O.data();N[D]={firstName:H.firstName??"",lastName:H.lastName??"",email:H.email??""}}else N[D]={firstName:"Gelscht",lastName:"",email:""}}catch{N[D]={firstName:"Fehler",lastName:"",email:""}}})),s(N)})()},[t]);const v=C.useMemo(()=>{let _=t.map(w=>{const I=n[w.userId]||{},N=`${I.firstName||""} ${I.lastName||""}`.trim();return{...w,userLabel:N||w.userId||"Gast",userEmail:I.email||""}});if(c){const w=c.toLowerCase();_=_.filter(I=>I.userLabel.toLowerCase().includes(w)||I.userEmail.toLowerCase().includes(w)||I.redirectId.toLowerCase().includes(w)||I.source.toLowerCase().includes(w))}return d.key&&_.sort((w,I)=>{let N=w[d.key],D=I[d.key];return d.key==="timestamp"&&(N=w.timestampDate,D=I.timestampDate),typeof N=="string"&&(N=N.toLowerCase()),typeof D=="string"&&(D=D.toLowerCase()),N<D?d.direction==="asc"?-1:1:N>D?d.direction==="asc"?1:-1:0}),_},[t,n,c,d]),b=_=>{let w="asc";d.key===_&&d.direction==="asc"&&(w="desc"),p({key:_,direction:w})};return a?g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Events"}):g.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col h-[600px]",children:[g.jsxs("div",{className:"p-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Letzte Aktivitten"}),g.jsxs("p",{className:"text-xs text-gray-500",children:[v.length," Events angezeigt"]})]}),g.jsx("div",{className:"relative w-full sm:w-64",children:g.jsx("input",{type:"text",placeholder:"Suche (User, Redirect, Quelle)",value:c,onChange:_=>f(_.target.value),className:"w-full pl-3 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})})]}),g.jsx("div",{className:"overflow-auto custom-scrollbar flex-1 rounded-b-2xl",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 text-gray-700 sticky top-0 z-10 border-b border-gray-200",children:g.jsxs("tr",{children:[g.jsx(_f,{label:"Zeitpunkt",sortKey:"timestamp",currentSort:d,onSort:b}),g.jsx(_f,{label:"User",sortKey:"userLabel",currentSort:d,onSort:b}),g.jsx(_f,{label:"Redirect",sortKey:"redirectId",currentSort:d,onSort:b}),g.jsx(_f,{label:"Quelle",sortKey:"source",currentSort:d,onSort:b})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:v.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-400",children:"Keine Events gefunden."})}):v.map(_=>{const w=n[_.userId];return g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsx("td",{className:"px-6 py-3 font-mono text-xs text-gray-500",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-gray-700",children:_.timestampDate.toLocaleTimeString("de-DE")}),g.jsx("span",{className:"opacity-70",children:_.timestampDate.toLocaleDateString("de-DE")})]})}),g.jsx("td",{className:"px-6 py-3",children:_.userId?g.jsxs("div",{className:"flex flex-col",children:[g.jsx(sn,{to:`/admin/user/${_.userId}`,className:"text-indigo-600 font-medium hover:underline text-xs sm:text-sm",children:_.userLabel}),w?.email&&g.jsx("span",{className:"text-[10px] text-gray-400",children:w.email})]}):g.jsx("span",{className:"text-gray-400 italic text-xs",children:"Gast"})}),g.jsx("td",{className:"px-6 py-3",children:_.redirectId?g.jsxs(sn,{to:`/admin/offers/${_.redirectId}`,className:"font-mono text-xs bg-indigo-50 px-2 py-1 rounded text-indigo-700 border border-indigo-100 hover:bg-indigo-100 transition",title:_.redirectId,children:[_.redirectId.slice(0,10),""]}):""}),g.jsx("td",{className:"px-6 py-3",children:g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-indigo-50 text-indigo-700 border border-indigo-100",children:_.source})})]},_.id)})})]})})]})}function _f({label:t,sortKey:e,currentSort:n,onSort:s}){const a=n.key===e,l=n.direction==="asc";return g.jsx("th",{onClick:()=>s(e),className:"px-6 py-3 text-xs font-semibold uppercase tracking-wider cursor-pointer select-none group hover:bg-gray-100 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-1",children:[t,g.jsxs("span",{className:`text-[10px] flex flex-col leading-none ml-1 ${a?"text-indigo-600":"text-gray-300 group-hover:text-gray-400"}`,children:[g.jsx("span",{className:a&&l?"opacity-100":"opacity-50",children:""}),g.jsx("span",{className:a&&!l?"opacity-100":"opacity-50",children:""})]})]})})}function eL(){const[t,e]=C.useState({today:0,total:0,topOffer:{id:"",count:0}});return C.useEffect(()=>{async function n(){const s=new Date;s.setHours(0,0,0,0);const a=Zr(as(dt,"clickEvents"),Dc("timestamp",">=",s)),l=await qr(a),c={};l.docs.forEach(p=>{const v=p.data().offerId||p.data().offer_id||"Unbekannt";c[v]=(c[v]||0)+1});let f="",d=0;Object.entries(c).forEach(([p,v])=>{v>d&&(d=v,f=p)}),e({today:l.size,total:"Live",topOffer:{id:f,count:d}})}n()},[]),g.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 md:p-10 flex flex-col space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Click-Events & Analyse"}),g.jsx("p",{className:"text-gray-500 mt-1",children:"Echtzeit-Tracking aller User-Interaktionen."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(wg,{title:"Klicks Heute",value:t.today,icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),color:"text-blue-600 bg-blue-50"}),g.jsx(wg,{title:"Top Offer (Heute)",value:t.topOffer.id,subValue:`${t.topOffer.count} Klicks`,icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}),color:"text-emerald-600 bg-emerald-50"}),g.jsx(wg,{title:"Live Feed",value:"Aktiv",icon:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"}),color:"text-purple-600 bg-purple-50"})]}),g.jsx("div",{className:"flex-1 min-h-0",children:g.jsx(JP,{})})]})}function wg({title:t,value:e,subValue:n,icon:s,color:a}){return g.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm flex items-center justify-between transition-transform hover:-translate-y-1",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),g.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1 truncate max-w-[200px]",title:e,children:e}),n&&g.jsx("p",{className:"text-xs font-semibold text-emerald-600 mt-1",children:n})]}),g.jsx("div",{className:`p-3 rounded-xl ${a}`,children:g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s})})]})}function tL(){const[t,e]=C.useState([]),[n,s]=C.useState({}),[a,l]=C.useState({}),[c,f]=C.useState(!0),[d,p]=C.useState(""),[v,b]=C.useState({key:"createdAt",direction:"desc"});C.useEffect(()=>{(async()=>{const O=(await qr(Zr(as(dt,"offerRedirects"),kc("createdAt","desc")))).docs.map(ne=>({docId:ne.id,...ne.data(),title:ne.data().title||"",vendorName:ne.data().vendor?.name||"",source:ne.data().source||"System",price:Number(ne.data().price)||0,rooms:Number(ne.data().rooms)||0,createdAtDate:ne.data().createdAt?.toDate?ne.data().createdAt.toDate():new Date(0)})),H=[...new Set(O.map(ne=>ne.uid).filter(Boolean))],G={};await Promise.all(H.map(async ne=>{const k=await Fs(yn(dt,"users",ne));if(k.exists()){const R=k.data();G[ne]={firstName:R.firstName??"",lastName:R.lastName??"",email:R.email??""}}}));const oe=await qr(as(dt,"clickEvents")),J={};oe.docs.forEach(ne=>{const k=ne.data().redirectId;k&&(J[k]=(J[k]||0)+1)}),e(O),s(G),l(J),f(!1)})()},[]);const _=C.useMemo(()=>{let N=t.map(D=>{const O=n[D.uid]||{},H=`${O.firstName||""} ${O.lastName||""}`.trim();return{...D,userName:H||"Unbekannt",userEmail:O.email||"",clicks:a[D.docId]||0}});if(d){const D=d.toLowerCase();N=N.filter(O=>O.title.toLowerCase().includes(D)||O.vendorName.toLowerCase().includes(D)||O.userName.toLowerCase().includes(D)||O.userEmail.toLowerCase().includes(D))}return v.key&&N.sort((D,O)=>{let H=D[v.key],G=O[v.key];return v.key==="createdAt"&&(H=D.createdAtDate,G=O.createdAtDate),typeof H=="string"&&(H=H.toLowerCase()),typeof G=="string"&&(G=G.toLowerCase()),H<G?v.direction==="asc"?-1:1:H>G?v.direction==="asc"?1:-1:0}),N},[t,n,a,d,v]),w=N=>{let D="asc";v.key===N&&v.direction==="asc"&&(D="desc"),b({key:N,direction:D})},I=({column:N})=>v.key!==N?g.jsx("span",{className:"ml-2 text-gray-300 opacity-0 group-hover:opacity-50 transition-opacity",children:""}):g.jsx("span",{className:"ml-2 text-indigo-600 font-bold",children:v.direction==="asc"?"":""});return c?g.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 animate-pulse",children:"Lade Angebote..."}):g.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Offer Redirects"}),g.jsxs("p",{className:"text-sm text-gray-500",children:[_.length," Eintrge gefunden"]})]}),g.jsxs("div",{className:"relative w-full md:w-80",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Suchen (Titel, User, Anbieter)...",value:d,onChange:N=>p(N.target.value)})]})]}),g.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col max-h-[75vh]",children:g.jsx("div",{className:"overflow-auto flex-1",children:g.jsxs("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>w("title"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Titel ",g.jsx(I,{column:"title"})]}),g.jsxs("th",{onClick:()=>w("price"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Preis ",g.jsx(I,{column:"price"})]}),g.jsxs("th",{onClick:()=>w("rooms"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Zi. ",g.jsx(I,{column:"rooms"})]}),g.jsxs("th",{onClick:()=>w("clicks"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Klicks ",g.jsx(I,{column:"clicks"})]}),g.jsxs("th",{onClick:()=>w("userName"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["User ",g.jsx(I,{column:"userName"})]}),g.jsxs("th",{onClick:()=>w("createdAt"),className:"px-6 py-4 font-semibold text-gray-700 cursor-pointer hover:bg-gray-100 group",children:["Datum ",g.jsx(I,{column:"createdAt"})]}),g.jsx("th",{className:"px-6 py-4 font-semibold text-gray-700 text-right",children:"Link"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(N=>g.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g.jsxs("td",{className:"px-6 py-4",children:[g.jsx(sn,{to:`/admin/offers/${N.docId}`,className:"font-medium text-indigo-600 hover:underline block max-w-[180px] truncate",title:N.title,children:N.title||""}),g.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:N.vendorName||"Unbekannt"})]}),g.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:N.price>0?`${N.price} `:""}),g.jsx("td",{className:"px-6 py-4 text-gray-600",children:N.rooms||""}),g.jsx("td",{className:"px-6 py-4 font-mono text-gray-700 text-center",children:N.clicks}),g.jsx("td",{className:"px-6 py-4",children:N.uid?g.jsxs("div",{className:"flex flex-col",children:[g.jsx(sn,{to:`/admin/user/${N.uid}`,className:"text-indigo-600 font-medium hover:underline",children:N.userName}),g.jsx("span",{className:"text-xs text-gray-400",children:N.userEmail})]}):g.jsx("span",{className:"text-gray-400 italic",children:"Gast"})}),g.jsxs("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:[N.createdAtDate.toLocaleDateString("de-DE"),g.jsxs("span",{className:"text-gray-400",children:[" "," | ",N.createdAtDate.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]})]}),g.jsx("td",{className:"px-6 py-4 text-right",children:N.redirectUrl?g.jsx("a",{href:N.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 hover:bg-indigo-100 border border-indigo-100 transition-all",children:""}):""})]},N.docId))})]})})})]})}function nL(){const{offerId:t}=wS(),[e,n]=C.useState(null),[s,a]=C.useState([]),[l,c]=C.useState(!0);return C.useEffect(()=>{(async()=>{const d=await Fs(yn(dt,"offerRedirects",t));d.exists()&&n({id:d.id,...d.data()});const p=Zr(as(dt,"clickEvents"),Dc("redirectId","==",t)),v=await qr(p);a(v.docs.map(b=>({id:b.id,...b.data()}))),c(!1)})()},[t]),l?g.jsx("div",{className:"p-10",children:"Lade Offer"}):e?g.jsxs("div",{className:"p-8 space-y-6 max-w-5xl",children:[g.jsx("h1",{className:"text-2xl font-bold",children:e.title}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("b",{children:"Preis:"})," ",e.price," "]}),g.jsxs("div",{children:[g.jsx("b",{children:"Zimmer:"})," ",e.rooms]}),g.jsxs("div",{children:[g.jsx("b",{children:"Quelle:"})," ",e.source]}),g.jsxs("div",{children:[g.jsx("b",{children:"Vendor:"})," ",e.vendor?.name]})]}),g.jsx("a",{href:e.redirectUrl,target:"_blank",rel:"noreferrer",className:"inline-block px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Anzeige ffnen "}),g.jsx("hr",{}),g.jsxs("h2",{className:"text-lg font-semibold",children:["Klicks (",s.length,")"]}),g.jsx("ul",{className:"text-sm space-y-1",children:s.map(f=>g.jsxs("li",{className:"text-gray-600",children:[f.timestamp?.toDate().toLocaleString("de-DE"),"  ",f.source]},f.id))})]}):g.jsx("div",{className:"p-10 text-red-500",children:"Offer nicht gefunden"})}const gy="immobot_register_filters_v1",yy=2,Ef={offerTypes:[],objectClasses:[],constructionStatus:[],searchString:"",coordinate:void 0,radiusInKm:10,priceRange:void 0,propertySpaceRange:void 0,includePriceOnRequest:!1,__version:yy};function vn(){try{const t=localStorage.getItem(gy);if(!t)return{...Ef};const e=JSON.parse(t);if(e.__version!==yy){const n={...Ef,...e,__version:yy};return localStorage.setItem(gy,JSON.stringify(n)),n}return{...Ef,...e}}catch{return{...Ef}}}function gn(t){const e={...vn(),...t};try{localStorage.setItem(gy,JSON.stringify(e))}catch{}return e}const iL=new Set(["Haus","Wohnung","Grundstueck","StellplatzGarage","BroPraxis","Ferienobjekt","Gastronomie","Gewerbeeinheit","HalleLagerProduktion","Hotel","LandForst","Sonstige","Studenten"]);function sL(t){if(!iL.has(t))return vn();const e=vn(),n=new Set(e.objectClasses);if(n.has(t))n.delete(t);else{if(n.size>=2)return e;n.add(t)}return gn({objectClasses:Array.from(n)})}const rL=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}],aL={Haus:"Wohnen",Wohnung:"Wohnen",Studenten:"Wohnen",Ferienobjekt:"Wohnen",Grundstueck:"Wohnen",StellplatzGarage:"Gewerbe",BroPraxis:"Gewerbe",Gastronomie:"Gewerbe",Gewerbeeinheit:"Gewerbe",HalleLagerProduktion:"Gewerbe",Hotel:"Gewerbe",LandForst:"Gewerbe",Sonstige:"Wohnen"};function oL(t=[]){const e=new Set;return t.forEach(n=>{const s=aL[n];s&&e.add(s)}),Array.from(e)}function lL(){const t=zs(),e=C.useMemo(()=>vn(),[]),n=e.offerTypes?.includes("Miete")?"Miete":e.offerTypes?.includes("Kauf")?"Kauf":null,[s,a]=C.useState(n),[l,c]=C.useState(e.objectClasses||[]);function f(p){a(p),p==="Kauf"?gn({offerTypes:["Kauf"],constructionStatus:void 0}):p==="Miete"&&gn({offerTypes:["Miete"],constructionStatus:void 0})}const d=p=>{const v=l.includes(p);if(!v&&l.length>=2)return;const b=v?l.filter(w=>w!==p):[...l,p];c(b);const _=oL(b);gn({objectClasses:b,objectCategories:_}),sL(p)};return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 1 von 5"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"block text-sm font-medium text-center",children:"Angebotsart"}),g.jsx("div",{className:"mx-auto max-w-md",children:g.jsx("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[{key:"Kauf",label:"Kauf"},{key:"Miete",label:"Miete"}].map(p=>g.jsx("button",{type:"button",onClick:()=>f(p.key),className:`px-4 py-2 rounded-full border text-sm transition min-w-[80px]
                  ${s===p.key?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:p.label},p.key))})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"block text-sm font-medium mb-1 text-center",children:"Objektart"}),g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"})]}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:rL.map(p=>{const v=l.includes(p.value),b=!v&&l.length>=2;return g.jsx("button",{type:"button",disabled:b,onClick:()=>d(p.value),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition
                  ${v?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}
                  ${b?"opacity-50 cursor-not-allowed":""}
                `,children:p.label},p.value)})})]}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm active:scale-95 transition-transform",onClick:()=>t("/register/step2"),children:"Schritt 2 >"})})]})}function uL(t){return gn({coordinate:t})}function cL(t){const e=Number(t);return gn({radiusInKm:Number.isFinite(e)?e:10})}const GT="VUVj9lGbHQAdYVsF04k8",hL=[5,7.5,10,12.5,15];function fL(){const t=zs(),e=C.useMemo(()=>vn(),[]),[n,s]=C.useState(""),[a,l]=C.useState([]),[c,f]=C.useState(e.radiusInKm??10),d=C.useRef(null),p=C.useRef({L:null,map:null,marker:null,circle:null});C.useEffect(()=>{let _=!1;return(async()=>{if(!document.querySelector("link[data-leaflet]")){const I=document.createElement("link");I.rel="stylesheet",I.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",I.setAttribute("data-leaflet","1"),document.head.appendChild(I)}return window.L||await new Promise(I=>{const N=document.createElement("script");N.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",N.onload=I,document.body.appendChild(N)}),window.L})().then(I=>{if(_||!d.current)return;p.current.L=I;const N=I.map(d.current,{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1}).setView([52.52,13.405],10);p.current.map=N,I.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${GT}`,{attribution:"&copy; MapTiler"}).addTo(N),e.coordinate?.lat&&e.coordinate?.lon&&b(e.coordinate.lat,e.coordinate.lon,c)}),()=>{_=!0}},[]),C.useEffect(()=>{cL(c);const{marker:_}=p.current;if(_){const w=_.getLatLng();b(w.lat,w.lng,c)}},[c]),C.useEffect(()=>{if(n.trim().length<3){l([]);return}const _=setTimeout(async()=>{const w=`https://api.maptiler.com/geocoding/${encodeURIComponent(n.trim())}.json?key=${GT}&language=de&country=DE,AT,CH&limit=5`;try{const D=(await(await fetch(w)).json()).features?.map(O=>({label:O.place_name,lat:O.center?.[1],lon:O.center?.[0]})).filter(O=>Number.isFinite(O.lat)&&Number.isFinite(O.lon))||[];l(D)}catch{l([])}},200);return()=>clearTimeout(_)},[n]);function v(_){s(_.label),l([]),uL({lat:_.lat,lon:_.lon}),b(_.lat,_.lon,c)}function b(_,w,I){const{L:N,map:D,marker:O,circle:H}=p.current;if(!N||!D)return;O&&O.remove(),H&&H.remove();const G=N.marker([_,w]).addTo(D),oe=N.circle([_,w],{radius:(I||0)*1e3,color:"#007bff",fillOpacity:.25}).addTo(D);p.current.marker=G,p.current.circle=oe,D.fitBounds(oe.getBounds(),{padding:[40,40]})}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6 md:space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 2 von 5"}),g.jsx("h2",{className:"text-lg md:text-xl font-semibold text-center leading-tight",children:"Wo sollen wir etwas fr dich finden?"}),g.jsxs("div",{className:"mx-auto max-w-md relative w-full",children:[g.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Ort/Stadt eingeben"}),g.jsx("input",{value:n,onChange:_=>s(_.target.value),placeholder:"z. B. Freiburg im Breisgau",className:"w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",onKeyDown:_=>{_.key==="Enter"&&_.preventDefault()}}),a.length>0&&g.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-lg border bg-white shadow-lg z-[9999] max-h-60 overflow-y-auto",children:a.map((_,w)=>g.jsx("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer text-sm border-b last:border-0",onClick:()=>v(_),children:_.label},w))})]}),g.jsxs("div",{className:"mx-auto max-w-md",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-center",children:"Radius auswhlen:"}),g.jsx("div",{className:"flex justify-center flex-wrap gap-2",children:hL.map(_=>g.jsxs("button",{type:"button",onClick:()=>f(_),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-sm transition
                ${Number(c)===_?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:[_," km"]},_))})]}),g.jsx("div",{className:"w-full h-64 md:h-[400px] rounded-xl border border-gray-300 relative overflow-hidden",style:{pointerEvents:"none"},children:g.jsx("div",{ref:d,className:"w-full h-full"})}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step1"),children:"< Zurck"}),g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step3"),children:"Schritt 3 >"})]})]})}function dL(t){if(t===null)return gn({propertySpaceRange:void 0});if(t.type==="max")return gn({propertySpaceRange:{from:0,to:t.value}});if(t.type==="min")return gn({propertySpaceRange:{from:t.value,to:9999999}})}function mL(t){if(t==null)return gn({priceRange:void 0});const e=Number(t);return!Number.isFinite(e)||e<=0?vn():gn({priceRange:{from:0,to:e}})}function pL(){const t=vn();return t.offerTypes.includes("Miete")&&!t.offerTypes.includes("Kauf")?[300,500,700,900,1200,1500,1800,null]:[15e4,25e4,4e5,6e5,8e5,1e6,15e5,null]}function gL(){return vn().objectClasses?.includes("Grundstueck")?[{type:"max",value:500},{type:"min",value:500},null]:[{type:"max",value:100},{type:"min",value:100},null]}function KT({active:t,onClick:e,children:n}){return g.jsx("button",{type:"button",onClick:e,className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition transform active:scale-95
        ${t?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,children:n})}function yL(){const t=zs(),e=C.useMemo(()=>vn(),[]),n=pL(),s=gL(),[a,l]=C.useState(e.priceRange?.to??null),[c,f]=C.useState(e.propertySpaceRange?.to??null),d=e.objectClasses?.includes("Grundstueck"),p=e.offerTypes?.includes("Miete")&&!e.offerTypes?.includes("Kauf"),v=(_,w)=>{if(_==null)return"beliebig";const I=_.toLocaleString("de-DE");return p?`bis ${I} `:w===n.length-2&&n[n.length-1]===null?`ab ${I} `:`bis ${I} `},b=_=>{if(_===null)return"beliebig";if(_.type==="max")return`bis ${_.value} m`;if(_.type==="min")return`ab ${_.value} m`};return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-8
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 3 von 5"}),g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center text-gray-800 leading-tight",children:p?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:"Whle deinen maximalen Preis:"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:n.map((_,w)=>g.jsx(KT,{active:a===_,onClick:()=>{l(_),mL(_)},children:v(_,w)},w))})]}),g.jsxs("div",{className:"pt-2",children:[g.jsx("h3",{className:"text-lg md:text-xl font-semibold text-center text-gray-800 mb-1",children:"Flche"}),g.jsx("p",{className:"text-sm text-center text-gray-600 mb-3",children:d?"Wie gro soll dein Grundstck sein?":"Wie gro soll die Wohnflche sein?"}),g.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.map((_,w)=>g.jsx(KT,{active:c===(_?.value??null),onClick:()=>{f(_?.value??null),dL(_)},children:b(_)},w))})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step2"),children:"< Zurck"}),g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step4"),children:"Weiter >"})]})]})}const aC=["balconyTerrace","garden","parkingSpace","cellar","bathroomWithWindow","builtInKitchen","elevator","underfloorHeating","fireplace","furnished","firstTimeUse","refurbished","leased","freeOfCommission","preservationOrder","divisible","barrierFree","airConditioningVentilation"];function vL(){const t=vn()||{},e={};for(const n of aC)e[n]=!!t[n];return e}function bL(t){if(!aC.includes(t))return vn();const e=vn()||{},n=!e[t];return gn({...e,[t]:n})}const $T=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function xL(){const t=zs(),e=C.useMemo(()=>vL(),[]),[n,s]=C.useState($T.reduce((f,d)=>({...f,[d.key]:!!e[d.key]}),{})),[a,l]=C.useState(!1);function c(f){bL(f),s(d=>({...d,[f]:!d[f]}))}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 4 von 5 (optional)"}),!a&&g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere Filter nutzen?"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>l(!0),children:"Ja, unbedingt"}),g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),a&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Ausstattung"}),g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",g.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:"Siehe FAQ"}),"."]}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto mt-2",children:$T.map(f=>{const d=!!n[f.key];return g.jsx("button",{type:"button",onClick:()=>c(f.key),className:`px-3 py-2 md:px-4 md:py-2 rounded-full border text-xs md:text-sm transition active:scale-95
                    ${d?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:f.key,children:f.label},f.key)})})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step3"),children:"< Zurck"}),a&&g.jsx("button",{type:"button",className:"px-8 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95",onClick:()=>t("/register/step5"),children:"Weiter >"})]})]})}function _L(t,e){const n=vn(),s=Array.isArray(n[t])?[...n[t]]:[],a=s.indexOf(e);return a>=0?s.splice(a,1):s.push(e),gn({[t]:s.length?s:void 0})}function Tf(t,e,n){const s=YT(e),a=YT(n);return s==null&&a==null?gn({[t]:void 0}):gn({[t]:{...s!=null?{from:s}:{},...a!=null?{to:a}:{}}})}function YT(t){if(t===""||t==null)return;const e=Number(t);return Number.isFinite(e)?e:void 0}function EL(){const t=vn();return{energySources:t.energySources||[],heatingTypes:t.heatingTypes||[],energyRatings:t.energyRatings||[],energyEfficiencyStandards:t.energyEfficiencyStandards||[],pricePerSqmRange:t.pricePerSqmRange,yieldRange:t.yieldRange,energyConsumptionRange:t.energyConsumptionRange,constructionYearRange:t.constructionYearRange}}const TL=[{value:"Erdgas",label:"Erdgas"},{value:"Erdwaerme",label:"Erdwrme"},{value:"Fernwaerme",label:"Fernwrme"},{value:"Fluessiggas",label:"Flssiggas"},{value:"Gas",label:"Gas"},{value:"Holz",label:"Holz"},{value:"Kohle",label:"Kohle"},{value:"Luftwaerme",label:"Luftwrme"},{value:"Nahwaerme",label:"Nahwrme"},{value:"Oel",label:"l"},{value:"Pellets",label:"Pellets"},{value:"Solar",label:"Solar"},{value:"Strom",label:"Strom"},{value:"Wasserwaerme",label:"Wasserwrme"},{value:"Alternativ",label:"Alternativ"}],wL=[{value:"Blockheizkraftwerk",label:"Blockheizkraftwerk"},{value:"Etagenheizung",label:"Etagenheizung"},{value:"Fernheizung",label:"Fernheizung"},{value:"Fussbodenheizung",label:"Fubodenheizung"},{value:"Kachelofen",label:"Kachelofen"},{value:"Kamin",label:"Kamin"},{value:"Nachtspeicher",label:"Nachtspeicher"},{value:"Ofenheizung",label:"Ofenheizung"},{value:"Solarheizung",label:"Solarheizung"},{value:"Waermepumpe",label:"Wrmepumpe"},{value:"Zentralheizung",label:"Zentralheizung"}],SL=[{value:"A3Plus",label:"A+++"},{value:"A2Plus",label:"A++"},{value:"APlus",label:"A+"},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"},{value:"E",label:"E"},{value:"F",label:"F"},{value:"G",label:"G"},{value:"H",label:"H"}],AL=[{value:"KfwEffizienzhausDenkmal",label:"KfW Effizienzhaus Denkmal"},{value:"KfwEffizienzhaus115",label:"KfW Effizienzhaus 115"},{value:"KfwEffizienzhaus100",label:"KfW Effizienzhaus 100"},{value:"KfwEffizienzhaus85",label:"KfW Effizienzhaus 85"},{value:"KfwEffizienzhaus70",label:"KfW Effizienzhaus 70"},{value:"KfwEffizienzhaus60",label:"KfW Effizienzhaus 60"},{value:"KfwEffizienzhaus55",label:"KfW Effizienzhaus 55"},{value:"KfwEffizienzhaus40",label:"KfW Effizienzhaus 40"},{value:"KfwEffizienzhaus40Plus",label:"KfW Effizienzhaus 40+"},{value:"Passivhaus",label:"Passivhaus"},{value:"Nullenergiehaus",label:"Nullenergiehaus"},{value:"Plusenergiehaus",label:"Plusenergiehaus"}],QT=t=>{if(t===""||t==null)return null;const e=Number(t);return Number.isFinite(e)?e:null},WT=(t,e)=>!e||e<=0?t:Math.round(t/e)*e;function wf(t,e,{step:n=1,min:s=null,max:a=null,integer:l=!1}={}){let c=QT(t),f=QT(e);if(c!=null&&(c=WT(c,n),l&&(c=Math.round(c)),s!=null&&(c=Math.max(s,c)),a!=null&&(c=Math.min(a,c))),f!=null&&(f=WT(f,n),l&&(f=Math.round(f)),s!=null&&(f=Math.max(s,f)),a!=null&&(f=Math.min(a,f))),c!=null&&f!=null&&c>f){const d=c;c=f,f=d}return{from:c,to:f,fromStr:c==null?"":String(c),toStr:f==null?"":String(f)}}function CL(){const t=zs(),e=C.useMemo(()=>EL(),[]),[n,s]=C.useState(!1),[a,l]=C.useState(e.energySources||[]),[c,f]=C.useState(e.heatingTypes||[]),[d,p]=C.useState(e.energyRatings||[]),[v,b]=C.useState(e.energyEfficiencyStandards||[]),[_,w]=C.useState(e.pricePerSqmRange?.from??""),[I,N]=C.useState(e.pricePerSqmRange?.to??""),[D,O]=C.useState(e.yieldRange?.from??""),[H,G]=C.useState(e.yieldRange?.to??""),[oe,J]=C.useState(e.energyConsumptionRange?.from??""),[ne,k]=C.useState(e.energyConsumptionRange?.to??""),[R,j]=C.useState(e.constructionYearRange?.from??""),[L,P]=C.useState(e.constructionYearRange?.to??"");function B(Ce,He,X){_L(Ce,He),X(ae=>ae?.includes(He)?ae.filter(he=>he!==He):[...ae||[],He])}function M(){const Ce=wf(_,I,{step:100,min:0});w(Ce.fromStr),N(Ce.toStr),Tf("pricePerSqmRange",Ce.fromStr,Ce.toStr);const He=wf(D,H,{step:1,min:0});O(He.fromStr),G(He.toStr),Tf("yieldRange",He.fromStr,He.toStr);const X=wf(oe,ne,{step:50,min:0});J(X.fromStr),k(X.toStr),Tf("energyConsumptionRange",X.fromStr,X.toStr);const ae=1800,he=new Date().getFullYear()+1,Ee=wf(R,L,{step:1,min:ae,max:he,integer:!0});j(Ee.fromStr),P(Ee.toStr),Tf("constructionYearRange",Ee.fromStr,Ee.toStr)}return g.jsxs("div",{className:`
      w-full mx-auto max-w-2xl bg-white space-y-6
      p-4 mt-2
      md:p-6 md:mt-10 md:w-2/3 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("p",{className:"text-center text-xs md:text-sm text-gray-500",children:"Schritt 5 von 5 (optional)"}),!n&&g.jsxs("div",{className:"py-2",children:[g.jsx("p",{className:"text-sm md:text-base text-gray-700 mb-6 text-center font-medium",children:"Mchtest du noch weitere technische Filter nutzen?"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-white border border-gray-300 text-sm font-medium text-gray-800 hover:bg-gray-50 active:scale-95 transition",onClick:()=>s(!0),children:"Ja, unbedingt"}),g.jsx("button",{type:"button",className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-blue-900 text-white text-sm font-medium shadow-sm hover:bg-blue-800 active:scale-95 transition",onClick:()=>t("/register/finish"),children:"Nein, jetzt registrieren"})]})]}),n&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center leading-tight",children:"Technische Filter"}),g.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center max-w-xl mx-auto",children:["Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."," ",g.jsx("a",{href:"https://immobot.pro/funktionen/",target:"_blank",rel:"noreferrer",className:"underline text-blue-600",children:"Siehe FAQ"}),"."]}),g.jsxs("div",{className:"space-y-6 pt-2",children:[g.jsx(Tr,{title:"Energietrger",children:g.jsx(Sf,{options:TL,active:a,onToggle:Ce=>B("energySources",Ce,l)})}),g.jsx(Tr,{title:"Heizungsart",children:g.jsx(Sf,{options:wL,active:c,onToggle:Ce=>B("heatingTypes",Ce,f)})}),g.jsx(Tr,{title:"Energieklasse",children:g.jsx(Sf,{options:SL,active:d,onToggle:Ce=>B("energyRatings",Ce,p)})}),g.jsx(Tr,{title:"Energiestandard",children:g.jsx(Sf,{options:AL,active:v,onToggle:Ce=>B("energyEfficiencyStandards",Ce,b)})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsx(Tr,{title:"Preis pro m (/m)",children:g.jsx(Af,{unit:"",step:"100",from:_,to:I,setFrom:w,setTo:N,onBlurSave:M})}),g.jsx(Tr,{title:"Rendite (%)",children:g.jsx(Af,{unit:"",step:"1",from:D,to:H,setFrom:O,setTo:G,onBlurSave:M})}),g.jsx(Tr,{title:"Energieverbrauch (kWh/m*a)",children:g.jsx(Af,{unit:"",step:"50",from:oe,to:ne,setFrom:J,setTo:k,onBlurSave:M})}),g.jsx(Tr,{title:"Baujahr",children:g.jsx(Af,{unit:"",step:"1",from:R,to:L,setFrom:j,setTo:P,onBlurSave:M})})]})]})]}),g.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium transition",onClick:()=>t("/register/step4"),children:"< Zurck"}),n?g.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 transition active:scale-95 text-sm md:text-base",onClick:()=>{M(),t("/register/finish")},children:"Registrieren >"}):g.jsx("div",{})]})]})}function Tr({title:t,children:e}){return g.jsxs("div",{className:"w-full",children:[g.jsx("h3",{className:"mb-3 font-semibold text-sm text-center text-gray-800",children:t}),e]})}function Sf({options:t,active:e=[],onToggle:n}){return g.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto",children:t.map(s=>{const a=typeof s=="string"?s:s.value,l=typeof s=="string"?s:s.label,c=e?.includes(a);return g.jsx("button",{type:"button",onClick:()=>n(a),className:`inline-flex items-center justify-center rounded-full border px-3 py-2 text-xs transition active:scale-95
              ${c?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-300 hover:bg-gray-100"}`,title:a,children:l},a)})})}function Af({unit:t,from:e,to:n,setFrom:s,setTo:a,step:l="1",onBlurSave:c}){return g.jsxs("div",{className:"flex items-end justify-center gap-3 w-full max-w-sm mx-auto",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"von"}),g.jsx("input",{type:"number",step:l,value:e,onChange:f=>s(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0"})]}),g.jsx("span",{className:"text-gray-400 pb-3",children:"-"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-gray-500 mb-1 text-center",children:"bis"}),g.jsx("input",{type:"number",step:l,value:n,onChange:f=>a(f.target.value),onBlur:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-center text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"max"})]}),t&&g.jsx("span",{className:"text-xs text-gray-500 pb-3 w-10",children:t})]})}function XT(t){if(t===""||t===null||t===void 0)return!1;const e=typeof t=="string"?Number(t):t;return typeof e=="number"&&Number.isFinite(e)}function RL(t){if(!t||typeof t!="object")return;const e=XT(t.from),n=XT(t.to);if(!(!e&&!n))return!e&&n?{from:0,to:Number(t.to)}:e&&!n?{from:Number(t.from)}:{from:Number(t.from),to:Number(t.to)}}function vy(t){if(t===null)return null;if(Array.isArray(t))return t.map(vy).filter(e=>e!==void 0);if(typeof t=="object"){const e={};for(const[n,s]of Object.entries(t)){if(s===void 0)continue;if(n.endsWith("Range")){const l=RL(s);l!==void 0&&(e[n]=l);continue}const a=vy(s);a!==void 0&&(e[n]=a)}return Object.keys(e).length===0?void 0:e}return typeof t=="number"?Number.isFinite(t)?t:void 0:t}async function NL(t){const e=vn(),n=vy(e),s=yn(dt,"users",t);await pd(s,{lastSearch:n,lastSearchUpdatedAt:gd()},{merge:!0})}function IL(){const t=zs(),[e,n]=C.useState(""),[s,a]=C.useState(""),[l,c]=C.useState(""),[f,d]=C.useState(""),[p,v]=C.useState(""),[b,_]=C.useState(!1),[w,I]=C.useState(!1),[N,D]=C.useState(!1),[O,H]=C.useState(""),G=!N&&b&&e.trim()&&s.trim()&&l.trim()&&f.trim()&&p.trim();async function oe(ne){if(ne.preventDefault(),!!G){if(f!==p){H("Die Passwrter stimmen nicht berein.");return}D(!0),H("");try{const{user:k}=await Oj(bd,l.trim(),f);await pd(yn(dt,"users",k.uid),{firstName:e.trim(),lastName:s.trim(),email:l.trim().toLowerCase(),role:"user",stripeStatus:"none",stripeCustomerId:null,marketingOptIn:w,acceptedTermsAt:gd(),createdAt:gd()},{merge:!0}),await NL(k.uid),t("/dashboard")}catch(k){H(k.message||"Fehler bei der Registrierung")}finally{D(!1)}}}const J="w-full rounded-lg border border-gray-300 px-3 py-3 md:py-2 text-base md:text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none transition";return g.jsxs("div",{className:`
      w-full mx-auto max-w-lg bg-white
      p-4 mt-2
      md:p-8 md:mt-10 md:border md:rounded-2xl md:shadow-sm
    `,children:[g.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-center leading-tight mb-2",children:"Dein Immobot-Konto"}),g.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Lege jetzt dein Konto an. Im nchsten Schritt whlst du dein Abo und aktivierst deinen Zugang."}),g.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-1/2",children:g.jsx("input",{type:"text",className:J,placeholder:"Vorname",value:e,onChange:ne=>n(ne.target.value),required:!0})}),g.jsx("div",{className:"w-1/2",children:g.jsx("input",{type:"text",className:J,placeholder:"Nachname",value:s,onChange:ne=>a(ne.target.value),required:!0})})]}),g.jsx("input",{type:"email",className:J,placeholder:"E-Mail",value:l,onChange:ne=>c(ne.target.value),required:!0,autoComplete:"email"}),g.jsx("input",{type:"password",className:J,placeholder:"Passwort",value:f,onChange:ne=>d(ne.target.value),required:!0,autoComplete:"new-password"}),g.jsx("input",{type:"password",className:J,placeholder:"Passwort wiederholen",value:p,onChange:ne=>v(ne.target.value),required:!0,autoComplete:"new-password"}),g.jsxs("div",{className:"space-y-3 pt-2",children:[g.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:b,onChange:ne=>_(ne.target.checked),required:!0}),g.jsxs("span",{className:"text-gray-700",children:["Ich akzeptiere die"," ",g.jsx(sn,{to:"/terms",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"AGB"})," ","und die"," ",g.jsx(sn,{to:"/privacy",className:"underline text-blue-600 hover:text-blue-800",target:"_blank",rel:"noreferrer",children:"Datenschutzerklrung"}),"."]})]}),g.jsxs("label",{className:"flex items-start gap-3 text-sm cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:w,onChange:ne=>I(ne.target.checked)}),g.jsx("span",{className:"text-gray-700",children:"Ich mchte hilfreiche Updates & Angebote per E-Mail erhalten (optional)."})]})]}),O&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg",children:g.jsx("p",{className:"text-sm text-red-600 text-center",children:O})}),g.jsx("button",{type:"submit",disabled:!G,className:"w-full px-6 py-3 rounded-xl bg-blue-900 text-white font-medium shadow-sm hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed transition active:scale-95",children:N?"Speichere...":"Kostenpflichtig weiter"}),g.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center px-2",children:"Keine Sorge: Du kannst dein Abo im nchsten Schritt whlen und spter jederzeit kndigen."})]})]})}const oC=C.createContext({});function DL(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Y0=typeof window<"u",kL=Y0?C.useLayoutEffect:C.useEffect,Q0=C.createContext(null);function W0(t,e){t.indexOf(e)===-1&&t.push(e)}function X0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ps=(t,e,n)=>n>e?e:n<t?t:n;let Z0=()=>{};const Ls={},lC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uC(t){return typeof t=="object"&&t!==null}const cC=t=>/^0[^.\s]+$/u.test(t);function J0(t){let e;return()=>(e===void 0&&(e=t()),e)}const si=t=>t,jL=(t,e)=>n=>e(t(n)),jc=(...t)=>t.reduce(jL),cc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class ev{constructor(){this.subscriptions=[]}add(e){return W0(this.subscriptions,e),()=>X0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const is=t=>t*1e3,ii=t=>t/1e3;function hC(t,e){return e?t*(1e3/e):0}const fC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ML=1e-7,VL=12;function OL(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=fC(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>ML&&++f<VL);return c}function Mc(t,e,n,s){if(t===e&&n===s)return si;const a=l=>OL(l,0,1,t,n);return l=>l===0||l===1?l:fC(a(l),e,s)}const dC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mC=t=>e=>1-t(1-e),pC=Mc(.33,1.53,.69,.99),tv=mC(pC),gC=dC(tv),yC=t=>(t*=2)<1?.5*tv(t):.5*(2-Math.pow(2,-10*(t-1))),nv=t=>1-Math.sin(Math.acos(t)),vC=mC(nv),bC=dC(nv),PL=Mc(.42,0,1,1),LL=Mc(0,0,.58,1),xC=Mc(.42,0,.58,1),UL=t=>Array.isArray(t)&&typeof t[0]!="number",_C=t=>Array.isArray(t)&&typeof t[0]=="number",zL={linear:si,easeIn:PL,easeInOut:xC,easeOut:LL,circIn:nv,circInOut:bC,circOut:vC,backIn:tv,backInOut:gC,backOut:pC,anticipate:yC},BL=t=>typeof t=="string",ZT=t=>{if(_C(t)){Z0(t.length===4);const[e,n,s,a]=t;return Mc(e,n,s,a)}else if(BL(t))return zL[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,b=!1,_=!1)=>{const I=_&&a?n:s;return b&&c.add(v),I.has(v)||I.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const HL=40;function EC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Cf.reduce((G,oe)=>(G[oe]=FL(l),G),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:v,update:b,preRender:_,render:w,postRender:I}=c,N=()=>{const G=Ls.useManualTiming?a.timestamp:performance.now();n=!1,Ls.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(G-a.timestamp,HL),1)),a.timestamp=G,a.isProcessing=!0,f.process(a),d.process(a),p.process(a),v.process(a),b.process(a),_.process(a),w.process(a),I.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(N))},D=()=>{n=!0,s=!0,a.isProcessing||t(N)};return{schedule:Cf.reduce((G,oe)=>{const J=c[oe];return G[oe]=(ne,k=!1,R=!1)=>(n||D(),J.schedule(ne,k,R)),G},{}),cancel:G=>{for(let oe=0;oe<Cf.length;oe++)c[Cf[oe]].cancel(G)},state:a,steps:c}}const{schedule:ht,cancel:Gr,state:en,steps:Sg}=EC(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Gf;function qL(){Gf=void 0}const Nn={now:()=>(Gf===void 0&&Nn.set(en.isProcessing||Ls.useManualTiming?en.timestamp:performance.now()),Gf),set:t=>{Gf=t,queueMicrotask(qL)}},TC=t=>e=>typeof e=="string"&&e.startsWith(t),iv=TC("--"),GL=TC("var(--"),sv=t=>GL(t)?KL.test(t.split("/*")[0].trim()):!1,KL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hc={...El,transform:t=>Ps(0,1,t)},Rf={...El,default:1},Ku=t=>Math.round(t*1e5)/1e5,rv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $L(t){return t==null}const YL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,av=(t,e)=>n=>!!(typeof n=="string"&&YL.test(n)&&n.startsWith(t)||e&&!$L(n)&&Object.prototype.hasOwnProperty.call(n,e)),wC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(rv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},QL=t=>Ps(0,255,t),Ag={...El,transform:t=>Math.round(QL(t))},Va={test:av("rgb","red"),parse:wC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ag.transform(t)+", "+Ag.transform(e)+", "+Ag.transform(n)+", "+Ku(hc.transform(s))+")"};function WL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const by={test:av("#"),parse:WL,transform:Va.transform},Vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=Vc("deg"),ss=Vc("%"),_e=Vc("px"),XL=Vc("vh"),ZL=Vc("vw"),JT={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},$o={test:av("hsl","hue"),parse:wC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ss.transform(Ku(e))+", "+ss.transform(Ku(n))+", "+Ku(hc.transform(s))+")"},Ot={test:t=>Va.test(t)||by.test(t)||$o.test(t),parse:t=>Va.test(t)?Va.parse(t):$o.test(t)?$o.parse(t):by.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):$o.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},JL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function e3(t){return isNaN(t)&&typeof t=="string"&&(t.match(rv)?.length||0)+(t.match(JL)?.length||0)>0}const SC="number",AC="color",t3="var",n3="var(",ew="${}",i3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(i3,d=>(Ot.test(d)?(s.color.push(l),a.push(AC),n.push(Ot.parse(d))):d.startsWith(n3)?(s.var.push(l),a.push(t3),n.push(d)):(s.number.push(l),a.push(SC),n.push(parseFloat(d))),++l,ew)).split(ew);return{values:n,split:f,indexes:s,types:a}}function CC(t){return fc(t).values}function RC(t){const{split:e,types:n}=fc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===SC?l+=Ku(a[c]):f===AC?l+=Ot.transform(a[c]):l+=a[c]}return l}}const s3=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function r3(t){const e=CC(t);return RC(t)(e.map(s3))}const Kr={test:e3,parse:CC,createTransformer:RC,getAnimatableNone:r3};function Cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function a3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=Cg(d,f,t+1/3),l=Cg(d,f,t),c=Cg(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function xd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Rg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},o3=[by,Va,$o],l3=t=>o3.find(e=>e.test(t));function tw(t){const e=l3(t);if(!e)return!1;let n=e.parse(t);return e===$o&&(n=a3(n)),n}const nw=(t,e)=>{const n=tw(t),s=tw(e);if(!n||!s)return xd(t,e);const a={...n};return l=>(a.red=Rg(n.red,s.red,l),a.green=Rg(n.green,s.green,l),a.blue=Rg(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Va.transform(a))},xy=new Set(["none","hidden"]);function u3(t,e){return xy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function c3(t,e){return n=>mt(t,e,n)}function ov(t){return typeof t=="number"?c3:typeof t=="string"?sv(t)?xd:Ot.test(t)?nw:d3:Array.isArray(t)?NC:typeof t=="object"?Ot.test(t)?nw:h3:xd}function NC(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>ov(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function h3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=ov(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function f3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const d3=(t,e)=>{const n=Kr.createTransformer(e),s=fc(t),a=fc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?xy.has(t)&&!a.values.length||xy.has(e)&&!s.values.length?u3(t,e):jc(NC(f3(s,a),a.values),n):xd(t,e)};function IC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):ov(t)(t,e)}const m3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Gr(e),now:()=>en.isProcessing?en.timestamp:Nn.now()}},DC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},_d=2e4;function lv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<_d;)e+=n,s=t.next(e);return e>=_d?1/0:e}function p3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(lv(s),_d);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ii(a)}}const g3=5;function kC(t,e,n){const s=Math.max(e-g3,0);return hC(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ng=.001;function y3({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,c=1-e;c=Ps(vt.minDamping,vt.maxDamping,c),t=Ps(vt.minDuration,vt.maxDuration,ii(t)),c<1?(a=p=>{const v=p*c,b=v*t,_=v-n,w=_y(p,c),I=Math.exp(-b);return Ng-_/w*I},l=p=>{const b=p*c*t,_=b*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-b),N=_y(Math.pow(p,2),c);return(-a(p)+Ng>0?-1:1)*((_-w)*I)/N}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-Ng+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const f=5/t,d=b3(a,l,f);if(t=is(t),isNaN(d))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const v3=12;function b3(t,e,n){let s=n;for(let a=1;a<v3;a++)s=s-t(s)/e(s);return s}function _y(t,e){return t*Math.sqrt(1-e*e)}const x3=["duration","bounce"],_3=["stiffness","damping","mass"];function iw(t,e){return e.some(n=>t[n]!==void 0)}function E3(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!iw(t,_3)&&iw(t,x3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=y3(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Ed(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:p,mass:v,duration:b,velocity:_,isResolvedFromDuration:w}=E3({...n,velocity:-ii(n.velocity||0)}),I=_||0,N=p/(2*Math.sqrt(d*v)),D=c-l,O=ii(Math.sqrt(d/v)),H=Math.abs(D)<5;s||(s=H?vt.restSpeed.granular:vt.restSpeed.default),a||(a=H?vt.restDelta.granular:vt.restDelta.default);let G;if(N<1){const J=_y(O,N);G=ne=>{const k=Math.exp(-N*O*ne);return c-k*((I+N*O*D)/J*Math.sin(J*ne)+D*Math.cos(J*ne))}}else if(N===1)G=J=>c-Math.exp(-O*J)*(D+(I+O*D)*J);else{const J=O*Math.sqrt(N*N-1);G=ne=>{const k=Math.exp(-N*O*ne),R=Math.min(J*ne,300);return c-k*((I+N*O*D)*Math.sinh(R)+J*D*Math.cosh(R))/J}}const oe={calculatedDuration:w&&b||null,next:J=>{const ne=G(J);if(w)f.done=J>=b;else{let k=J===0?I:0;N<1&&(k=J===0?is(I):kC(G,J,ne));const R=Math.abs(k)<=s,j=Math.abs(c-ne)<=a;f.done=R&&j}return f.value=f.done?c:ne,f},toString:()=>{const J=Math.min(lv(oe),_d),ne=DC(k=>oe.next(J*k).value,J,30);return J+"ms "+ne},toTransition:()=>{}};return oe}Ed.applyToOptions=t=>{const e=p3(t,100,Ed);return t.ease=e.ease,t.duration=is(e.duration),t.type="keyframes",t};function Ey({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:d,restDelta:p=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},w=R=>f!==void 0&&R<f||d!==void 0&&R>d,I=R=>f===void 0?d:d===void 0||Math.abs(f-R)<Math.abs(d-R)?f:d;let N=n*e;const D=b+N,O=c===void 0?D:c(D);O!==D&&(N=O-b);const H=R=>-N*Math.exp(-R/s),G=R=>O+H(R),oe=R=>{const j=H(R),L=G(R);_.done=Math.abs(j)<=p,_.value=_.done?O:L};let J,ne;const k=R=>{w(_.value)&&(J=R,ne=Ed({keyframes:[_.value,I(_.value)],velocity:kC(G,R,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return k(0),{calculatedDuration:null,next:R=>{let j=!1;return!ne&&J===void 0&&(j=!0,oe(R),k(R)),J!==void 0&&R>=J?ne.next(R-J):(!j&&oe(R),_)}}}function T3(t,e,n){const s=[],a=n||Ls.mix||IC,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||si:e;f=jc(d,f)}s.push(f)}return s}function w3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Z0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=T3(e,s,a),d=f.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=cc(t[b],t[b+1],v);return f[b](_)};return n?v=>p(Ps(t[0],t[l-1],v)):p}function S3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=cc(0,e,s);t.push(mt(n,1,a))}}function A3(t){const e=[0];return S3(e,t.length-1),e}function C3(t,e){return t.map(n=>n*e)}function R3(t,e){return t.map(()=>e||xC).splice(0,t.length-1)}function $u({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=UL(s)?s.map(ZT):ZT(s),l={done:!1,value:e[0]},c=C3(n&&n.length===e.length?n:A3(e),t),f=w3(c,e,{ease:Array.isArray(a)?a:R3(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const N3=t=>t!==null;function uv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(N3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const I3={decay:Ey,inertia:Ey,tween:$u,keyframes:$u,spring:Ed};function jC(t){typeof t.type=="string"&&(t.type=I3[t.type])}class cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const D3=t=>t/100;class hv extends cv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jC(e);const{type:n=$u,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const d=n||$u;d!==$u&&typeof f[0]!="number"&&(this.mixKeyframes=jc(D3,IC(f[0],f[1])),f=[0,100]);const p=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=lv(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:w,type:I,onUpdate:N,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let G=this.currentTime,oe=s;if(b){const R=Math.min(this.currentTime,a)/f;let j=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&j--,j=Math.min(j,b+1),!!(j%2)&&(_==="reverse"?(L=1-L,w&&(L-=w/f)):_==="mirror"&&(oe=c)),G=Ps(0,1,L)*f}const J=H?{done:!1,value:v[0]}:oe.next(G);l&&(J.value=l(J.value));let{done:ne}=J;!H&&d!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return k&&I!==Ey&&(J.value=uv(v,this.options,D,this.speed)),N&&N(J.value),k&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=m3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function k3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oa=t=>t*180/Math.PI,Ty=t=>{const e=Oa(Math.atan2(t[1],t[0]));return wy(e)},j3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ty,rotateZ:Ty,skewX:t=>Oa(Math.atan(t[1])),skewY:t=>Oa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wy=t=>(t=t%360,t<0&&(t+=360),t),sw=Ty,rw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rw,scaleY:aw,scale:t=>(rw(t)+aw(t))/2,rotateX:t=>wy(Oa(Math.atan2(t[6],t[5]))),rotateY:t=>wy(Oa(Math.atan2(-t[2],t[0]))),rotateZ:sw,rotate:sw,skewX:t=>Oa(Math.atan(t[4])),skewY:t=>Oa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sy(t){return t.includes("scale")?1:0}function Ay(t,e){if(!t||t==="none")return Sy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=M3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=j3,a=f}if(!a)return Sy(e);const l=s[e],c=a[1].split(",").map(O3);return typeof l=="function"?l(c):c[l]}const V3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ay(n,e)};function O3(t){return parseFloat(t.trim())}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wl=new Set(Tl),ow=t=>t===El||t===_e,P3=new Set(["x","y","z"]),L3=Tl.filter(t=>!P3.has(t));function U3(t){const e=[];return L3.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ay(e,"x"),y:(t,{transform:e})=>Ay(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const za=new Set;let Cy=!1,Ry=!1,Ny=!1;function MC(){if(Ry){const t=Array.from(za).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=U3(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ry=!1,Cy=!1,za.forEach(t=>t.complete(Ny)),za.clear()}function VC(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ry=!0)})}function z3(){Ny=!0,VC(),MC(),Ny=!1}class fv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),Cy||(Cy=!0,ht.read(VC),ht.resolveKeyframes(MC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}k3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B3=t=>t.startsWith("--");function F3(t,e,n){B3(e)?t.style.setProperty(e,n):t.style[e]=n}const H3=J0(()=>window.ScrollTimeline!==void 0),q3={};function G3(t,e){const n=J0(t);return()=>q3[e]??n()}const OC=G3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,lw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function PC(t,e){if(t)return typeof t=="function"?OC()?DC(t,e):"ease-out":_C(t)?Uu(t):Array.isArray(t)?t.map(n=>PC(n,e)||lw.easeOut):lw[t]}function K3(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:d}={},p=void 0){const v={[e]:n};d&&(v.offset=d);const b=PC(f,a);Array.isArray(b)&&(v.easing=b);const _={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(v,_)}function LC(t){return typeof t=="function"&&"applyToOptions"in t}function $3({type:t,...e}){return LC(t)&&OC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Y3 extends cv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Z0(typeof e.type!="string");const p=$3(e);this.animation=K3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=uv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):F3(n,s,v),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&H3()?(this.animation.timeline=e,si):n(this)}}const UC={anticipate:yC,backInOut:gC,circInOut:bC};function Q3(t){return t in UC}function W3(t){typeof t.ease=="string"&&Q3(t.ease)&&(t.ease=UC[t.ease])}const uw=10;class X3 extends Y3{constructor(e){W3(e),jC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new hv({...c,autoplay:!1}),d=is(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-uw).value,f.sample(d).value,uw),f.stop()}}const cw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Kr.test(t)||t==="0")&&!t.startsWith("url("));function Z3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function J3(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=cw(a,e),f=cw(l,e);return!c||!f?!1:Z3(t)||(n==="spring"||LC(n))&&s}function Iy(t){t.duration=0,t.type="keyframes"}const e6=new Set(["opacity","clipPath","filter","transform"]),t6=J0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return t6()&&n&&e6.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const i6=40;class s6 extends cv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:d,motionValue:p,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const _={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:p,element:v,...b},w=v?.KeyframeResolver||fv;this.keyframeResolver=new w(f,(I,N,D)=>this.onKeyframesResolved(I,N,_,!D),d,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:d,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Nn.now(),J3(e,l,c,f)||((Ls.instantAnimations||!d)&&v?.(uv(e,s,n)),e[0]=e[e.length-1],Iy(s),s.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>i6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&n6(_)?new X3({..._,element:_.motionValue.owner.current}):new hv(_);w.finished.then(()=>this.notifyFinished()).catch(si),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),z3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const r6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a6(t){const e=r6.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function zC(t,e,n=1){const[s,a]=a6(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return lC(c)?parseFloat(c):c}return sv(a)?zC(a,e,n+1):a}function dv(t,e){return t?.[e]??t?.default??t}const BC=new Set(["width","height","top","left","right","bottom",...Tl]),o6={test:t=>t==="auto",parse:t=>t},FC=t=>e=>e.test(t),HC=[El,_e,ss,Sr,ZL,XL,o6],hw=t=>HC.find(FC(t));function l6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cC(t):!0}const u6=new Set(["brightness","contrast","saturate","opacity"]);function c6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(rv)||[];if(!s)return t;const a=n.replace(s,"");let l=u6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const h6=/\b([a-z-]*)\(.*?\)/gu,Dy={...Kr,getAnimatableNone:t=>{const e=t.match(h6);return e?e.map(c6).join(" "):t}},fw={...El,transform:Math.round},f6={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:Sr,skewX:Sr,skewY:Sr,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:hc,originX:JT,originY:JT,originZ:_e},mv={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e,...f6,zIndex:fw,fillOpacity:hc,strokeOpacity:hc,numOctaves:fw},d6={...mv,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Dy,WebkitFilter:Dy},qC=t=>d6[t];function GC(t,e){let n=qC(t);return n!==Dy&&(n=Kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const m6=new Set(["auto","none","0"]);function p6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!m6.has(l)&&fc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=GC(n,a)}class g6 extends fv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),sv(p))){const v=zC(p,n.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!BC.has(s)||e.length!==2)return;const[a,l]=e,c=hw(a),f=hw(l);if(c!==f)if(ow(c)&&ow(f))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||l6(e[a]))&&s.push(a);s.length&&p6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function y6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const KC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function v6(t){return uC(t)&&"offsetHeight"in t}const dw=30,b6=t=>!isNaN(parseFloat(t));class x6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=b6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ev);const s=this.events[e].add(n);return e==="change"?()=>{s(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dw);return hC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cl(t,e){return new x6(t,e)}const{schedule:pv}=EC(queueMicrotask,!1),Ei={x:!1,y:!1};function $C(){return Ei.x||Ei.y}function _6(t){return t==="x"||t==="y"?Ei[t]?null:(Ei[t]=!0,()=>{Ei[t]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function YC(t,e){const n=y6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function mw(t){return!(t.pointerType==="touch"||$C())}function E6(t,e,n={}){const[s,a,l]=YC(t,n),c=f=>{if(!mw(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const v=b=>{mw(b)&&(p(b),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const QC=(t,e)=>e?t===e?!0:QC(t,e.parentElement):!1,gv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,T6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w6(t){return T6.has(t.tagName)||t.tabIndex!==-1}const Kf=new WeakSet;function pw(t){return e=>{e.key==="Enter"&&t(e)}}function Ig(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const S6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=pw(()=>{if(Kf.has(n))return;Ig(n,"down");const a=pw(()=>{Ig(n,"up")}),l=()=>Ig(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function gw(t){return gv(t)&&!$C()}function A6(t,e,n={}){const[s,a,l]=YC(t,n),c=f=>{const d=f.currentTarget;if(!gw(f))return;Kf.add(d);const p=e(d,f),v=(w,I)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),Kf.has(d)&&Kf.delete(d),gw(w)&&typeof p=="function"&&p(w,{success:I})},b=w=>{v(w,d===window||d===document||n.useGlobalTarget||QC(d,w.target))},_=w=>{v(w,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),v6(f)&&(f.addEventListener("focus",p=>S6(p,a)),!w6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function WC(t){return uC(t)&&"ownerSVGElement"in t}function C6(t){return WC(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),R6=[...HC,Ot,Kr],N6=t=>R6.find(FC(t)),XC=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function I6(t=!0){const e=C.useContext(Q0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const c=C.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const ZC=C.createContext({strict:!1}),yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in yw)hl[t]={isEnabled:e=>yw[t].some(n=>!!e[n])};function D6(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const k6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k6.has(t)}let JC=t=>!Td(t);function j6(t){typeof t=="function"&&(JC=e=>e.startsWith("on")?!Td(e):t(e))}try{j6(require("@emotion/is-prop-valid").default)}catch{}function M6(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(JC(a)||n===!0&&Td(a)||!e&&!Td(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const tm=C.createContext({});function nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dc(t){return typeof t=="string"||Array.isArray(t)}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function im(t){return nm(t.animate)||vv.some(e=>dc(t[e]))}function eR(t){return!!(im(t)||t.variants)}function V6(t,e){if(im(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dc(n)?n:void 0,animate:dc(s)?s:void 0}}return t.inherit!==!1?e:{}}function O6(t){const{initial:e,animate:n}=V6(t,C.useContext(tm));return C.useMemo(()=>({initial:e,animate:n}),[vw(e),vw(n)])}function vw(t){return Array.isArray(t)?t.join(" "):t}const mc={};function P6(t){for(const e in t)mc[e]=t[e],iv(e)&&(mc[e].isCSSVariable=!0)}function tR(t,{layout:e,layoutId:n}){return wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mc[t]||t==="opacity")}const L6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U6=Tl.length;function z6(t,e,n){let s="",a=!0;for(let l=0;l<U6;l++){const c=Tl[l],f=t[c];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(c.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=KC(f,mv[c]);if(!d){a=!1;const v=L6[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function bv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const d in e){const p=e[d];if(wl.has(d)){c=!0;continue}else if(iv(d)){a[d]=p;continue}else{const v=KC(p,mv[d]);d.startsWith("origin")?(f=!0,l[d]=v):s[d]=v}}if(e.transform||(c||n?s.transform=z6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${d} ${p} ${v}`}}const xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nR(t,e,n){for(const s in e)!cn(e[s])&&!tR(s,n)&&(t[s]=e[s])}function B6({transformTemplate:t},e){return C.useMemo(()=>{const n=xv();return bv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function F6(t,e){const n=t.style||{},s={};return nR(s,n,t),Object.assign(s,B6(t,e)),s}function H6(t,e){const n={},s=F6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const q6={offset:"stroke-dashoffset",array:"stroke-dasharray"},G6={offset:"strokeDashoffset",array:"strokeDasharray"};function K6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?q6:G6;t[l.offset]=_e.transform(-s);const c=_e.transform(e),f=_e.transform(n);t[l.array]=`${c} ${f}`}function iR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},d,p,v){if(bv(t,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&K6(b,a,l,c,!1)}const sR=()=>({...xv(),attrs:{}}),rR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $6(t,e,n,s){const a=C.useMemo(()=>{const l=sR();return iR(l,e,rR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};nR(l,t.style,t),a.style={...l,...a.style}}return a}const Y6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(t){return typeof t!="string"||t.includes("-")?!1:!!(Y6.indexOf(t)>-1||/[A-Z]/u.test(t))}function Q6(t,e,n,{latestValues:s},a,l=!1){const f=(_v(t)?$6:H6)(e,s,a,t),d=M6(e,typeof t=="string",l),p=t!==C.Fragment?{...d,...f,ref:n}:{},{children:v}=e,b=C.useMemo(()=>cn(v)?v.get():v,[v]);return C.createElement(t,{...p,children:b})}function bw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ev(t,e,n,s){if(typeof e=="function"){const[a,l]=bw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=bw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function $f(t){return cn(t)?t.get():t}function W6({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:X6(n,s,a,t),renderState:e()}}function X6(t,e,n,s){const a={},l=s(t,{});for(const _ in l)a[_]=$f(l[_]);let{initial:c,animate:f}=t;const d=im(t),p=eR(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?f:c;if(b&&typeof b!="boolean"&&!nm(b)){const _=Array.isArray(b)?b:[b];for(let w=0;w<_.length;w++){const I=Ev(t,_[w]);if(I){const{transitionEnd:N,transition:D,...O}=I;for(const H in O){let G=O[H];if(Array.isArray(G)){const oe=v?G.length-1:0;G=G[oe]}G!==null&&(a[H]=G)}for(const H in N)a[H]=N[H]}}}return a}const aR=t=>(e,n)=>{const s=C.useContext(tm),a=C.useContext(Q0),l=()=>W6(t,e,s,a);return n?l():DL(l)};function Tv(t,e,n){const{style:s}=t,a={};for(const l in s)(cn(s[l])||e.style&&cn(e.style[l])||tR(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const Z6=aR({scrapeMotionValuesFromProps:Tv,createRenderState:xv});function oR(t,e,n){const s=Tv(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=Tl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const J6=aR({scrapeMotionValuesFromProps:oR,createRenderState:sR}),e5=Symbol.for("motionComponentSymbol");function Yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function t5(t,e,n){return C.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Yo(n)&&(n.current=s))},[e])}const wv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n5="framerAppearId",lR="data-"+wv(n5),uR=C.createContext({});function i5(t,e,n,s,a){const{visualElement:l}=C.useContext(tm),c=C.useContext(ZC),f=C.useContext(Q0),d=C.useContext(XC).reducedMotion,p=C.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=p.current,b=C.useContext(uR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&s5(p.current,n,a,b);const _=C.useRef(!1);C.useInsertionEffect(()=>{v&&_.current&&v.update(n,f)});const w=n[lR],I=C.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return kL(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),I.current=!1),v.enteringChildren=void 0)}),v}function s5(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Yo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:d,layoutRoot:p})}function cR(t){if(t)return t.options.allowProjection!==!1?t.projection:cR(t.parent)}function Dg(t,{forwardMotionProps:e=!1}={},n,s){n&&D6(n);const a=_v(t)?J6:Z6;function l(f,d){let p;const v={...C.useContext(XC),...f,layoutId:r5(f)},{isStatic:b}=v,_=O6(f),w=a(f,b);if(!b&&Y0){a5();const I=o5(v);p=I.MeasureLayout,_.visualElement=i5(t,w,v,s,I.ProjectionNode)}return g.jsxs(tm.Provider,{value:_,children:[p&&_.visualElement?g.jsx(p,{visualElement:_.visualElement,...v}):null,Q6(t,f,t5(w,_.visualElement,d),w,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=C.forwardRef(l);return c[e5]=t,c}function r5({layoutId:t}){const e=C.useContext(oC).id;return e&&t!==void 0?e+"-"+t:t}function a5(t,e){C.useContext(ZC).strict}function o5(t){const{drag:e,layout:n}=hl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function l5(t,e){if(typeof Proxy>"u")return Dg;const n=new Map,s=(l,c)=>Dg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Dg(c,void 0,t,e)),n.get(c))})}function hR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function u5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function kg(t){return t===void 0||t===1}function ky({scale:t,scaleX:e,scaleY:n}){return!kg(t)||!kg(e)||!kg(n)}function ja(t){return ky(t)||fR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fR(t){return xw(t.x)||xw(t.y)}function xw(t){return t&&t!=="0%"}function wd(t,e,n){const s=t-n,a=e*s;return n+a}function _w(t,e,n,s,a){return a!==void 0&&(t=wd(t,a,s)),wd(t,n,s)+e}function jy(t,e=0,n=1,s,a){t.min=_w(t.min,e,n,s,a),t.max=_w(t.max,e,n,s,a)}function dR(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const Ew=.999999999999,Tw=1.0000000000001;function h5(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,dR(t,c)),s&&ja(l.latestValues)&&Wo(t,l.latestValues))}e.x<Tw&&e.x>Ew&&(e.x=1),e.y<Tw&&e.y>Ew&&(e.y=1)}function Qo(t,e){t.min=t.min+e,t.max=t.max+e}function ww(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);jy(t,e,n,l,s)}function Wo(t,e){ww(t.x,e.x,e.scaleX,e.scale,e.originX),ww(t.y,e.y,e.scaleY,e.scale,e.originY)}function mR(t,e){return hR(c5(t.getBoundingClientRect(),e))}function f5(t,e,n){const s=mR(t,n),{scroll:a}=e;return a&&(Qo(s.x,a.offset.x),Qo(s.y,a.offset.y)),s}const Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:Sw(),y:Sw()}),Aw=()=>({min:0,max:0}),Ft=()=>({x:Aw(),y:Aw()}),My={current:null},pR={current:!1};function d5(){if(pR.current=!0,!!Y0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>My.current=t.matches;t.addEventListener("change",e),e()}else My.current=!1}const m5=new WeakMap;function p5(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,cl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,cl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g5{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Nn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ht.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=im(n),this.isVariantNode=eR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const w=b[_];d[_]!==void 0&&cn(w)&&w.set(d[_])}}mount(e){this.current=e,m5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),pR.current||d5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:My.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gr(this.notifyUpdate),Gr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=wl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Cw.length;s++){const a=Cw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=p5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=cl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(lC(s)||cC(s))?s=parseFloat(s):!N6(s)&&Kr.test(n)&&(s=GC(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Ev(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ev),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pv.render(this.render)}}class gR extends g5{constructor(){super(...arguments),this.KeyframeResolver=g6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function y5(t){return window.getComputedStyle(t)}class v5 extends gR{constructor(){super(...arguments),this.type="html",this.renderInstance=yR}readValueFromInstance(e,n){if(wl.has(n))return this.projection?.isProjecting?Sy(n):V3(e,n);{const s=y5(e),a=(iv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mR(e,n)}build(e,n,s){bv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Tv(e,n,s)}}const vR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b5(t,e,n,s){yR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(vR.has(a)?a:wv(a),e.attrs[a])}class x5 extends gR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wl.has(n)){const s=qC(n);return s&&s.default||0}return n=vR.has(n)?n:wv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return oR(e,n,s)}build(e,n,s){iR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){b5(e,n,s,a)}mount(e){this.isSVGTag=rR(e.tagName),super.mount(e)}}const _5=(t,e)=>_v(t)?new x5(e):new v5(e,{allowProjection:t!==C.Fragment});function nl(t,e,n){const s=t.getProps();return Ev(s,e,n!==void 0?n:s.custom,t)}const Vy=t=>Array.isArray(t);function E5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cl(n))}function T5(t){return Vy(t)?t[t.length-1]||0:t}function w5(t,e){const n=nl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=T5(l[c]);E5(t,c,f)}}function S5(t){return!!(cn(t)&&t.add)}function Oy(t,e){const n=t.getValue("willChange");if(S5(n))return n.add(e);if(!n&&Ls.WillChange){const s=new Ls.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function bR(t){return t.props[lR]}const A5=t=>t!==null;function C5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(A5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const R5={type:"spring",stiffness:500,damping:25,restSpeed:10},N5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),I5={type:"keyframes",duration:.8},D5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k5=(t,{keyframes:e})=>e.length>2?I5:wl.has(t)?t.startsWith("scale")?N5(e[1]):R5:D5;function j5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:d,elapsed:p,...v}){return!!Object.keys(v).length}const Sv=(t,e,n,s={},a,l)=>c=>{const f=dv(s,t)||{},d=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-is(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:_=>{e.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};j5(f)||Object.assign(v,k5(t,v)),v.duration&&(v.duration=is(v.duration)),v.repeatDelay&&(v.repeatDelay=is(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Iy(v),v.delay===0&&(b=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(b=!0,Iy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const _=C5(v.keyframes,f);if(_!==void 0){ht.update(()=>{v.onUpdate(_),v.onComplete()});return}}return f.isSync?new hv(v):new s6(v)};function M5({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),_=f[v];if(_===void 0||p&&M5(p,v))continue;const w={delay:n,...dv(l||{},v)},I=b.get();if(I!==void 0&&!b.isAnimating&&!Array.isArray(_)&&_===I&&!w.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const O=bR(t);if(O){const H=window.MotionHandoffAnimation(O,v,ht);H!==null&&(w.startTime=H,N=!0)}}Oy(t,v),b.start(Sv(v,b,_,t.shouldReduceMotion&&BC.has(v)?{type:!1}:w,t,N));const D=b.animation;D&&d.push(D)}return c&&Promise.all(d).then(()=>{ht.update(()=>{c&&w5(t,c)})}),d}function _R(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function Py(t,e,n={}){const s=nl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(xR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=a;return V5(t,e,d,p,v,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[d,p]=f==="beforeChildren"?[l,c]:[c,l];return d().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function V5(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(Py(d,e,{...c,delay:n+(typeof s=="function"?0:s)+_R(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function O5(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Py(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Py(t,e,n);else{const a=typeof e=="function"?nl(t,e,n.custom):e;s=Promise.all(xR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function ER(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const P5=vv.length;function TR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P5;n++){const s=vv[n],a=t.props[s];(dc(a)||a===!1)&&(e[s]=a)}return e}const L5=[...yv].reverse(),U5=yv.length;function z5(t){return e=>Promise.all(e.map(({animation:n,options:s})=>O5(t,n,s)))}function B5(t){let e=z5(t),n=Rw(),s=!0;const a=d=>(p,v)=>{const b=nl(t,v,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:_,transitionEnd:w,...I}=b;p={...p,...I,...w}}return p};function l(d){e=d(t)}function c(d){const{props:p}=t,v=TR(t.parent)||{},b=[],_=new Set;let w={},I=1/0;for(let D=0;D<U5;D++){const O=L5[D],H=n[O],G=p[O]!==void 0?p[O]:v[O],oe=dc(G),J=O===d?H.isActive:null;J===!1&&(I=D);let ne=G===v[O]&&G!==p[O]&&oe;if(ne&&s&&t.manuallyAnimateOnMount&&(ne=!1),H.protectedKeys={...w},!H.isActive&&J===null||!G&&!H.prevProp||nm(G)||typeof G=="boolean")continue;const k=F5(H.prevProp,G);let R=k||O===d&&H.isActive&&!ne&&oe||D>I&&oe,j=!1;const L=Array.isArray(G)?G:[G];let P=L.reduce(a(O),{});J===!1&&(P={});const{prevResolvedValues:B={}}=H,M={...B,...P},Ce=ae=>{R=!0,_.has(ae)&&(j=!0,_.delete(ae)),H.needsAnimating[ae]=!0;const he=t.getValue(ae);he&&(he.liveStyle=!1)};for(const ae in M){const he=P[ae],Ee=B[ae];if(w.hasOwnProperty(ae))continue;let Me=!1;Vy(he)&&Vy(Ee)?Me=!ER(he,Ee):Me=he!==Ee,Me?he!=null?Ce(ae):_.add(ae):he!==void 0&&_.has(ae)?Ce(ae):H.protectedKeys[ae]=!0}H.prevProp=G,H.prevResolvedValues=P,H.isActive&&(w={...w,...P}),s&&t.blockInitialAnimation&&(R=!1);const He=ne&&k;R&&(!He||j)&&b.push(...L.map(ae=>{const he={type:O};if(typeof ae=="string"&&s&&!He&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ee}=t,Me=nl(Ee,ae);if(Ee.enteringChildren&&Me){const{delayChildren:z}=Me.transition||{};he.delay=_R(Ee.enteringChildren,t,z)}}return{animation:ae,options:he}}))}if(_.size){const D={};if(typeof p.initial!="boolean"){const O=nl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(D.transition=O.transition)}_.forEach(O=>{const H=t.getBaseTarget(O),G=t.getValue(O);G&&(G.liveStyle=!0),D[O]=H??null}),b.push({animation:D})}let N=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(b):Promise.resolve()}function f(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,p)),n[d].isActive=p;const v=c(d);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Rw()}}}function F5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ER(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rw(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class Jr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H5 extends Jr{constructor(e){super(e),e.animationState||(e.animationState=B5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let q5=0;class G5 extends Jr{constructor(){super(...arguments),this.id=q5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const K5={animation:{Feature:H5},exit:{Feature:G5}};function pc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const $5=t=>e=>gv(e)&&t(e,Oc(e));function Yu(t,e,n,s){return pc(t,e,$5(n),s)}const wR=1e-4,Y5=1-wR,Q5=1+wR,SR=.01,W5=0-SR,X5=0+SR;function pn(t){return t.max-t.min}function Z5(t,e,n){return Math.abs(t-e)<=n}function Nw(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Y5&&t.scale<=Q5||isNaN(t.scale))&&(t.scale=1),(t.translate>=W5&&t.translate<=X5||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,n,s){Nw(t.x,e.x,n.x,s?s.originX:void 0),Nw(t.y,e.y,n.y,s?s.originY:void 0)}function Iw(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function J5(t,e,n){Iw(t.x,e.x,n.x),Iw(t.y,e.y,n.y)}function Dw(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Sd(t,e,n){Dw(t.x,e.x,n.x),Dw(t.y,e.y,n.y)}function ti(t){return[t("x"),t("y")]}const AR=({current:t})=>t?t.ownerDocument.defaultView:null,kw=(t,e)=>Math.abs(t-e);function eU(t,e){const n=kw(t.x,e.x),s=kw(t.y,e.y);return Math.sqrt(n**2+s**2)}class CR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Mg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=eU(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!I)return;const{point:N}=_,{timestamp:D}=en;this.history.push({...N,timestamp:D});const{onStart:O,onMove:H}=this.handlers;w||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=jg(w,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Mg(_.type==="pointercancel"?this.lastMoveEventInfo:jg(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,O),N&&N(_,O)},!gv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Oc(e),d=jg(f,this.transformPagePoint),{point:p}=d,{timestamp:v}=en;this.history=[{...p,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Mg(d,this.history)),this.removeListeners=jc(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gr(this.updatePoint)}}function jg(t,e){return e?{point:e(t.point)}:t}function jw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mg({point:t},e){return{point:t,delta:jw(t,RR(e)),offset:jw(t,tU(e)),velocity:nU(e,.1)}}function tU(t){return t[0]}function RR(t){return t[t.length-1]}function nU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=RR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>is(e)));)n--;if(!s)return{x:0,y:0};const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function iU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function Mw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sU(t,{top:e,left:n,bottom:s,right:a}){return{x:Mw(t.x,n,a),y:Mw(t.y,e,s)}}function Vw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function rU(t,e){return{x:Vw(t.x,e.x),y:Vw(t.y,e.y)}}function aU(t,e){let n=.5;const s=pn(t),a=pn(e);return a>s?n=cc(e.min,e.max-s,t.min):s>a&&(n=cc(t.min,t.max-a,e.min)),Ps(0,1,n)}function oU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ly=.35;function lU(t=Ly){return t===!1?t=0:t===!0&&(t=Ly),{x:Ow(t,"left","right"),y:Ow(t,"top","bottom")}}function Ow(t,e,n){return{min:Pw(t,e),max:Pw(t,n)}}function Pw(t,e){return typeof t=="number"?t:t[e]||0}const uU=new WeakMap;class cU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(b).point)},c=(b,_)=>{const{drag:w,dragPropagation:I,onDragStart:N}=this.getProps();if(w&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_6(w),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(O=>{let H=this.getAxisMotionValue(O).get()||0;if(ss.test(H)){const{projection:G}=this.visualElement;if(G&&G.layout){const oe=G.layout.layoutBox[O];oe&&(H=pn(oe)*(parseFloat(H)/100))}}this.originPoint[O]=H}),N&&ht.postRender(()=>N(b,_)),Oy(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},f=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:N,onDrag:D}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:O}=_;if(I&&this.currentDirection===null){this.currentDirection=hU(O),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),D&&D(b,_)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ti(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new CR(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:AR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ht.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Nf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=iU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Yo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=sU(s.layoutBox,e):this.constraints=!1,this.elastic=lU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=oU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=f5(s,a.root,this.visualElement.getTransformPagePoint());let c=rU(a.layout.layoutBox,l);if(n){const f=n(u5(c));this.hasMutatedConstraints=!!f,f&&(c=hR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=ti(v=>{if(!Nf(v,n,this.currentDirection))return;let b=d&&d[v]||{};c&&(b={min:0,max:0});const _=a?200:1e6,w=a?40:1e7,I={type:"inertia",velocity:s?e[v]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,I)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Oy(this.visualElement,e),s.start(Sv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ti(n=>{const{drag:s}=this.getProps();if(!Nf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-mt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const d=f.get();a[c]=aU({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ti(c=>{if(!Nf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];f.set(mt(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;uU.set(this.visualElement,this);const e=this.visualElement.current,n=Yu(e,"pointerdown",d=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Yo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(s);const c=pc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ti(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=d[v].translate,b.set(b.get()+d[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ly,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Nf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fU extends Jr{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new cU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class dU extends Jr{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new CR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=Uw(t,e.target.x),s=Uw(t,e.target.y);return`${n}% ${s}%`}},mU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Kr.parse(t);if(a.length>5)return s;const l=Kr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=d;const p=mt(f,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Vg=!1;class pU extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;P6(gU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Vg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NR(t){const[e,n]=I6(),s=C.useContext(oC);return g.jsx(pU,{...t,layoutGroup:s,switchLayoutGroup:C.useContext(uR),isPresent:e,safeToRemove:n})}const gU={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:mU};function yU(t,e,n){const s=cn(t)?t:cl(t);return s.start(Sv("",s,e,n)),s.animation}const vU=(t,e)=>t.depth-e.depth;class bU{constructor(){this.children=[],this.isDirty=!1}add(e){W0(this.children,e),this.isDirty=!0}remove(e){X0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vU),this.isDirty=!1,this.children.forEach(e)}}function xU(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Gr(s),t(l-e))};return ht.setup(s,!0),()=>Gr(s)}const IR=["TopLeft","TopRight","BottomLeft","BottomRight"],_U=IR.length,zw=t=>typeof t=="string"?parseFloat(t):t,Bw=t=>typeof t=="number"||_e.test(t);function EU(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,TU(s)),t.opacityExit=mt(e.opacity??1,0,wU(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<_U;c++){const f=`border${IR[c]}Radius`;let d=Fw(e,f),p=Fw(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Bw(d)===Bw(p)?(t[f]=Math.max(mt(zw(d),zw(p),s),0),(ss.test(p)||ss.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function Fw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TU=DR(0,.5,vC),wU=DR(.5,.95,si);function DR(t,e,n){return s=>s<t?0:s>e?1:n(cc(t,e,s))}function Hw(t,e){t.min=e.min,t.max=e.max}function _i(t,e){Hw(t.x,e.x),Hw(t.y,e.y)}function qw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gw(t,e,n,s,a){return t-=e,t=wd(t,1/n,s),a!==void 0&&(t=wd(t,1/a,s)),t}function SU(t,e=0,n=1,s=.5,a,l=t,c=t){if(ss.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=mt(l.min,l.max,s);t===l&&(f-=e),t.min=Gw(t.min,e,n,f,a),t.max=Gw(t.max,e,n,f,a)}function Kw(t,e,[n,s,a],l,c){SU(t,e[n],e[s],e[a],e.scale,l,c)}const AU=["x","scaleX","originX"],CU=["y","scaleY","originY"];function $w(t,e,n,s){Kw(t.x,e,AU,n?n.x:void 0,s?s.x:void 0),Kw(t.y,e,CU,n?n.y:void 0,s?s.y:void 0)}function Yw(t){return t.translate===0&&t.scale===1}function kR(t){return Yw(t.x)&&Yw(t.y)}function Qw(t,e){return t.min===e.min&&t.max===e.max}function RU(t,e){return Qw(t.x,e.x)&&Qw(t.y,e.y)}function Ww(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jR(t,e){return Ww(t.x,e.x)&&Ww(t.y,e.y)}function Xw(t){return pn(t.x)/pn(t.y)}function Zw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NU{constructor(){this.members=[]}add(e){W0(this.members,e),e.scheduleRender()}remove(e){if(X0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:_,skewX:w,skewY:I}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),_&&(s+=`rotateY(${_}deg) `),w&&(s+=`skewX(${w}deg) `),I&&(s+=`skewY(${I}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(s+=`scale(${f}, ${d})`),s||"none"}const Og=["","X","Y","Z"],DU=1e3;let kU=0;function Pg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function MR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&MR(s)}function VR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=kU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VU),this.nodes.forEach(UU),this.nodes.forEach(zU),this.nodes.forEach(OU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new bU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ev),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const d=this.eventHandlers.get(c);d&&d.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=WC(c)&&!C6(c),this.instance=c;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==b&&(b=w,this.root.updateBlockedByResize=!0,v&&v(),v=xU(_,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(tS)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||GU,{onLayoutAnimationStart:N,onLayoutAnimationComplete:D}=p.getProps(),O=!this.targetLayout||!jR(this.targetLayout,w),H=!b&&_;if(this.options.layoutRoot||this.resumeFrom||H||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...dv(I,"layout"),onPlay:N,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(v,H)}else b||tS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LU),this.nodes.forEach(jU),this.nodes.forEach(MU)):this.nodes.forEach(eS),this.clearAllSnapshots();const f=Nn.now();en.delta=Ps(0,1e3/60,f-en.timestamp),en.timestamp=f,en.isProcessing=!0,Sg.update.process(en),Sg.preRender.process(en),Sg.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PU),this.sharedNodes.forEach(FU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!kR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ja(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return c&&(d=this.removeTransform(d)),KU(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ft();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($U))){const{scroll:p}=this.root;p&&(Qo(f.x,p.offset.x),Qo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=Ft();if(_i(f,c),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&_i(f,c),Qo(f.x,v.offset.x),Qo(f.y,v.offset.y))}return f}applyTransform(c,f=!1){const d=Ft();_i(d,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Wo(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ja(v.latestValues)&&Wo(d,v.latestValues)}return ja(this.latestValues)&&Wo(d,this.latestValues),d}removeTransform(c){const f=Ft();_i(f,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!ja(p.latestValues))continue;ky(p.latestValues)&&p.updateSnapshot();const v=Ft(),b=p.measurePageBox();_i(v,b),$w(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ja(this.latestValues)&&$w(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=en.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),dR(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ky(this.parent.latestValues)||fR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),Sd(this.relativeTargetOrigin,f,d),_i(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===en.timestamp&&(d=!1),d)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;_i(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;h5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ft());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qw(this.prevProjectionDelta.x,this.projectionDelta.x),qw(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!Zw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(c,f=!1){const d=this.snapshot,p=d?d.latestValues:{},v={...this.latestValues},b=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=Ft(),w=d?d.source:void 0,I=this.layout?this.layout.source:void 0,N=w!==I,D=this.getStack(),O=!D||D.members.length<=1,H=!!(N&&!O&&this.options.crossfade===!0&&!this.path.some(qU));this.animationProgress=0;let G;this.mixTargetDelta=oe=>{const J=oe/1e3;nS(b.x,c.x,J),nS(b.y,c.y,J),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HU(this.relativeTarget,this.relativeTargetOrigin,_,J),G&&RU(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Ft()),_i(G,this.relativeTarget)),N&&(this.animationValues=v,EU(v,p,this.latestValues,J,H,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cl(0)),this.currentAnimation=yU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:v}=c;if(!(!f||!d||!p)){if(this!==c&&this.layout&&p&&OR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ft();const b=pn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const _=pn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}_i(f,d),Wo(f,v),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new NU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&Pg("z",c,p,this.animationValues);for(let v=0;v<Og.length;v++)Pg(`rotate${Og[v]}`,c,p,this.animationValues),Pg(`skew${Og[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=$f(f?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=$f(f?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=IU(this.projectionDeltaWithTransform,this.treeScale,v);d&&(b=d(v,b)),c.transform=b;const{x:_,y:w}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in mc){if(v[I]===void 0)continue;const{correct:N,applyTo:D,isCSSVariable:O}=mc[I],H=b==="none"?v[I]:N(v[I],p);if(D){const G=D.length;for(let oe=0;oe<G;oe++)c[D[oe]]=H}else O?this.options.visualElement.renderState.vars[I]=H:c[I]=H}this.options.layoutId&&(c.pointerEvents=p===this?$f(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Jw),this.root.sharedNodes.clear()}}}function jU(t){t.updateLayout()}function MU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ti(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=pn(b);b.min=n[v].min,b.max=b.min+_}):OR(a,e.layoutBox,n)&&ti(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=pn(n[v]);b.max=b.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const c=Xo();Qu(c,n,e.layoutBox);const f=Xo();l?Qu(f,t.applyTransform(s,!0),e.measuredBox):Qu(f,n,e.layoutBox);const d=!kR(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const w=Ft();Sd(w,e.layoutBox,b.layoutBox);const I=Ft();Sd(I,n,_.layoutBox),jR(w,I)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PU(t){t.clearSnapshot()}function Jw(t){t.clearMeasurements()}function eS(t){t.isLayoutDirty=!1}function LU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UU(t){t.resolveTargetDelta()}function zU(t){t.calcProjection()}function BU(t){t.resetSkewAndRotation()}function FU(t){t.removeLeadSnapshot()}function nS(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iS(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function HU(t,e,n,s){iS(t.x,e.x,n.x,s),iS(t.y,e.y,n.y,s)}function qU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GU={duration:.45,ease:[.4,0,.1,1]},sS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rS=sS("applewebkit/")&&!sS("chrome/")?Math.round:si;function aS(t){t.min=rS(t.min),t.max=rS(t.max)}function KU(t){aS(t.x),aS(t.y)}function OR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z5(Xw(e),Xw(n),.2)}function $U(t){return t!==t.root&&t.scroll?.wasRoot}const YU=VR({attachResizeListener:(t,e)=>pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lg={current:void 0},PR=VR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lg.current){const t=new YU({});t.mount(window),t.setOptions({layoutScroll:!0}),Lg.current=t}return Lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),QU={pan:{Feature:dU},drag:{Feature:fU,ProjectionNode:PR,MeasureLayout:NR}};function oS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ht.postRender(()=>l(e,Oc(e)))}class WU extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=E6(e,(n,s)=>(oS(this.node,s,"Start"),a=>oS(this.node,a,"End"))))}unmount(){}}class XU extends Jr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ht.postRender(()=>l(e,Oc(e)))}class ZU extends Jr{mount(){const{current:e}=this.node;e&&(this.unmount=A6(e,(n,s)=>(lS(this.node,s,"Start"),(a,{success:l})=>lS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uy=new WeakMap,Ug=new WeakMap,JU=t=>{const e=Uy.get(t.target);e&&e(t)},e9=t=>{t.forEach(JU)};function t9({root:t,...e}){const n=t||document;Ug.has(n)||Ug.set(n,{});const s=Ug.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(e9,{root:t,...e})),s[a]}function n9(t,e,n){const s=t9(e);return Uy.set(t,n),s.observe(t),()=>{Uy.delete(t),s.unobserve(t)}}const i9={some:0,all:1};class s9 extends Jr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:i9[a]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=p?v:b;_&&_(d)};return n9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(r9(e,n))&&this.startObserver()}unmount(){}}function r9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const a9={inView:{Feature:s9},tap:{Feature:ZU},focus:{Feature:XU},hover:{Feature:WU}},o9={layout:{ProjectionNode:PR,MeasureLayout:NR}},l9={...K5,...a9,...QU,...o9},Dr=l5(l9,_5);function LR({label:t="System wird initialisiert...",theme:e="light"}){const n=e==="dark",s=n?"bg-[#050505]":"bg-[#f8f9fa]",a=n?"text-white/60":"text-black/60",l=n?"bg-indigo-500/20":"bg-blue-400/20",c=n?"bg-white":"bg-gray-900",f={animate:{rotate:[0,90,180,270,360],transition:{duration:4,ease:"linear",repeat:1/0}}};return g.jsxs("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center overflow-hidden ${s}`,children:[g.jsx(Dr.div,{className:`absolute h-[400px] w-[400px] rounded-full blur-[100px] ${l}`,animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-12",children:[g.jsx(Dr.div,{className:"grid h-16 w-16 grid-cols-2 grid-rows-2 gap-2",variants:f,animate:"animate",children:[0,1,2,3].map(d=>g.jsx(Dr.div,{className:`h-full w-full rounded-lg shadow-2xl ${c}`,animate:{scale:[1,.5,1],borderRadius:["30%","50%","30%"],x:d%2===0?[0,-4,0]:[0,4,0],y:d<2?[0,-4,0]:[0,4,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:d*.1},style:{backdropFilter:"blur(10px)"}},d))}),g.jsxs("div",{className:"relative overflow-hidden",children:[g.jsx("p",{className:`text-sm font-medium tracking-[0.2em] uppercase ${a}`,children:t}),g.jsx(Dr.div,{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/50 to-transparent",animate:{translateX:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",repeatDelay:.5}})]})]}),g.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]})}function u9({children:t}){const{user:e,ready:n}=li();return n?e?t:g.jsx(Ba,{to:"/login",replace:!0}):g.jsx(LR,{label:"Profil wird geladen"})}function c9({children:t}){const{user:e,role:n,ready:s}=li();return s?e?n!=="admin"?g.jsx(Ba,{to:"/",replace:!0}):t:g.jsx(Ba,{to:"/login",replace:!0}):g.jsx(LR,{label:"Adminrechte werden geprft"})}function UR(){const{user:t}=li(),[e,n]=C.useState(null),[s,a]=C.useState(!0),l=C.useRef(null);C.useEffect(()=>{if(!t?.uid)return;async function f(){a(!0);try{const d=yn(dt,"users",t.uid),p=await Fs(d);let v=p.exists()?p.data()?.lastSearch:null;v?v.objectCategories=v.objectCategories||[]:(v={offerTypes:[],objectClasses:[],objectCategories:[],priceRange:{to:null},propertySpaceRange:{from:null,to:null}},await pd(d,{lastSearch:v},{merge:!0})),n(v),l.current=v}catch(d){console.error("Fehler beim Laden der Filters:",d),n({})}finally{a(!1)}}f()},[t?.uid]);const c=C.useCallback(async f=>{if(!t?.uid)return;const d=l.current||{};let p={...d,...f};p.objectCategories=p.objectCategories||[],p.objectClasses=p.objectClasses||[];const v=d.offerTypes?.[0]??null,b=p.offerTypes?.[0]??null;v&&b&&v!==b&&(p={...p,priceRange:{...p.priceRange||{},to:null}});const _=d.objectClasses?.includes("Grundstueck")||!1,w=p.objectClasses?.includes("Grundstueck")||!1;_!==w&&(p={...p,propertySpaceRange:{from:null,to:null}}),n(p),l.current=p,await pd(yn(dt,"users",t.uid),{lastSearch:p},{merge:!0})},[t?.uid]);return{filters:e,updateFilters:c,loading:s}}function h9(){const{user:t}=li(),[e,n]=C.useState("loading"),[s,a]=C.useState(null),[l,c]=C.useState(!0);C.useEffect(()=>{if(!t)return;(async()=>{c(!0);const O=(await Fs(yn(dt,"users",t.uid))).data()||null;a(O),O?.stripeStatus?n(O.stripeStatus):n("free"),c(!1)})()},[t]);const f=s?.stripeStatus,d=s?.stripeSubscriptionStatus,p=f==="paid"&&d!=="past_due"&&d!=="unpaid",v=f==="pending",b=f==="payment_failed";return{status:e,userDoc:s,loading:l,isPaid:p,isPending:v,isPaymentFailed:b,isCancelled:f==="cancelled",isFree:e==="free",needsAction:b||d==="past_due"||d==="unpaid"}}function f9({loading:t,error:e,onSelectMonthly:n}){return g.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex justify-center items-center z-50 px-4",children:g.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-xl border border-slate-100 p-8",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold text-slate-900 text-center mb-2",children:"Fast geschafft!"}),g.jsx("p",{className:"text-slate-600 text-center mb-6",children:"Aktiviere ImmobotPro und starte direkt mit deiner automatischen Immobiliensuche."}),g.jsxs("button",{type:"button",onClick:n,disabled:t,className:"group w-full border rounded-2xl p-6 text-left hover:border-sky-500 hover:shadow-md transition flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-600 mb-1",children:"Monatlich"}),g.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:"6,99 "}),g.jsx("p",{className:"text-sm text-slate-500",children:"pro Monat, jederzeit kndbar"})]}),g.jsx("span",{className:"text-sm font-medium text-sky-600 group-hover:translate-x-0.5 transition",children:"Jetzt starten "})]}),e&&g.jsx("p",{className:"text-sm text-red-600 text-center mt-4",children:e}),t&&g.jsx("p",{className:"text-xs text-slate-500 text-center mt-3",children:"Weiterleitung zu Stripe"})]})})}const d9="price_1SaeE9DhGVwiGXJYxm5oZdI6";function zR({children:t}){const{loading:e,isPaid:n,isPending:s,needsAction:a,isCancelled:l,isFree:c}=h9(),[f,d]=C.useState(!1),[p,v]=C.useState("");async function b(){v(""),d(!0);try{const I=(await BT(FT,"createCheckoutSession")({priceId:d9})).data?.url;if(!I)throw new Error("Keine Checkout-URL erhalten");window.location.href=I}catch(_){console.error(_),v(_.message||"Fehler beim Starten des Checkouts"),d(!1)}}return e?g.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Prfe deinen Zugang"}):s?g.jsx("div",{className:"p-6 text-center text-sm text-gray-600",children:"Zahlung wird geprft"}):a?g.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-md flex items-center justify-center z-50 px-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border p-6 max-w-md text-center",children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Zahlung fehlgeschlagen"}),g.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Bitte aktualisiere deine Zahlungsmethode, um ImmobotPro weiter nutzen zu knnen."}),g.jsx("button",{onClick:async()=>{const w=await BT(FT,"createCustomerPortal")();window.location.href=w.data.url},className:"px-4 py-2 rounded-xl bg-sky-600 text-white text-sm font-medium hover:bg-sky-700",children:"Zahlung reparieren"})]})}):c||l||!n?g.jsx(f9,{loading:f,error:p,onSelectMonthly:b}):t}function m9(){const t=new Date().getHours();return t<11?"Guten Morgen":t<18?"Guten Tag":"Guten Abend"}function p9(t){return t?Object.values(t).filter(e=>Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:e!==null&&e!==""&&e!==!1).length:0}function g9(){const{user:t}=li(),{filters:e,loading:n}=UR(),[s,a]=C.useState("");C.useEffect(()=>{let p=!1;async function v(){if(t?.uid)try{const b=yn(dt,"users",t.uid),_=await Fs(b);if(p)return;if(_.exists()){const w=_.data()||{};a(typeof w.firstName=="string"?w.firstName:"")}else a("")}catch(b){console.error("Fehler beim Laden des Userprofils:",b),p||a("")}}return v(),()=>{p=!0}},[t?.uid]);const l=C.useMemo(()=>p9(e),[e]),c=m9(),f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},d={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[g.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-4"}),g.jsx("div",{className:"h-64 w-64 bg-gray-200 rounded-3xl"})]})}):g.jsx(zR,{children:g.jsx(Dr.div,{className:"min-h-screen bg-[#FDFDFD] p-6 md:p-12 font-sans text-gray-900",variants:f,initial:"hidden",animate:"visible",children:g.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[g.jsxs(Dr.div,{variants:d,className:"space-y-1",children:[g.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight",children:[c,", ",g.jsx("br",{className:"md:hidden"}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-600",children:s}),g.jsx(Dr.span,{className:"inline-block ml-4",animate:{rotate:[0,14,-8,14,-4,10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:1},children:""})]}),g.jsx("p",{className:"text-lg md:text-xl text-gray-400 font-medium",children:"Schn, dich wiederzusehen. Hier ist dein Status."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx(uS,{to:"/dashboard/filters",variant:"dark",children:g.jsxs("div",{className:"flex flex-col h-full justify-between",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("div",{className:"p-3 rounded-2xl bg-white/10 backdrop-blur-md border border-white/5",children:g.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),g.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-white/20 text-white backdrop-blur-sm border border-white/10",children:"Konfiguration"})]}),g.jsxs("div",{className:"space-y-2 mt-8",children:[g.jsx("div",{className:"text-6xl font-black text-white tracking-tighter",children:l}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Aktive Suchfilter"}),g.jsx("p",{className:"text-white/60 text-sm leading-relaxed max-w-xs",children:"Deine Kriterien fr Standort, Preis und Ausstattung."})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-bold text-white/80 group-hover:text-white transition-colors",children:["Bearbeiten ",g.jsx(cS,{})]})]})}),g.jsx(uS,{to:"/dashboard/results",variant:"light",children:g.jsxs("div",{className:"flex flex-col h-full justify-between relative overflow-hidden",children:[g.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-50 rounded-full blur-3xl opacity-50 pointer-events-none mix-blend-multiply"}),g.jsxs("div",{className:"flex justify-between items-start z-10",children:[g.jsx("div",{className:"p-3 rounded-2xl bg-indigo-50 border border-indigo-100",children:g.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),g.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700 border border-green-200",children:"Live Suche"})]}),g.jsxs("div",{className:"space-y-2 mt-8 z-10",children:[g.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Suchergebnisse"}),g.jsx("p",{className:"text-gray-500 text-sm leading-relaxed max-w-xs",children:"Wir haben den Markt gescannt. Schau dir die Treffer an, die zu deinen Filtern passen."})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-bold text-indigo-600 group-hover:text-indigo-700 transition-colors z-10",children:["Ergebnisse ffnen ",g.jsx(cS,{})]})]})})]})]})})})}function uS({children:t,to:e,variant:n}){const s=n==="dark";return g.jsx(Dr.div,{variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1}},whileHover:{y:-8},whileTap:{scale:.98},children:g.jsxs(sn,{to:e,className:`
          group relative block h-full p-8 md:p-10 rounded-[2.5rem] overflow-hidden transition-all duration-500 shadow-xl
          ${s?"bg-gray-900 border border-gray-800 shadow-2xl shadow-gray-900/20":"bg-white border border-gray-100 shadow-2xl shadow-indigo-100/50"}
        `,children:[s&&g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 via-transparent to-purple-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),g.jsx("div",{className:"relative z-10 h-full",children:t})]})})}function cS(){return g.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}function y9(){return g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-8 md:p-12",children:g.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:["Immobot ",g.jsx("span",{className:"text-indigo-600",children:"Admin"})]}),g.jsx("p",{className:"text-lg text-gray-500",children:"Willkommen zurck. Whle einen Bereich zur Verwaltung."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(zg,{title:"User Management",desc:"Benutzerliste, Rollen & Zugriffsrechte verwalten.",to:"/admin/users",icon:g.jsx(v9,{}),color:"text-blue-600",bg:"bg-blue-50"}),g.jsx(zg,{title:"Klick-Events",desc:"Tracking-Daten und Klick-Analysen einsehen.",to:"/admin/clicks",icon:g.jsx(b9,{}),color:"text-violet-600",bg:"bg-violet-50"}),g.jsx(zg,{title:"Offer Redirects",desc:"Weiterleitungen zu Partner-Angeboten steuern.",to:"/admin/offers",icon:g.jsx(x9,{}),color:"text-emerald-600",bg:"bg-emerald-50"})]})]})})}function zg({title:t,desc:e,to:n,icon:s,color:a,bg:l}){return g.jsxs(sn,{to:n,className:"group relative flex flex-col justify-between p-8 bg-white rounded-2xl border border-gray-200 shadow-sm transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-indigo-100 overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${l} rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity duration-500 -mr-10 -mt-10 pointer-events-none`}),g.jsxs("div",{children:[g.jsx("div",{className:`w-12 h-12 rounded-xl ${l} ${a} flex items-center justify-center mb-6 transition-transform group-hover:scale-110`,children:s}),g.jsx("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:t}),g.jsx("p",{className:"text-sm text-gray-500 mt-2 leading-relaxed",children:e})]}),g.jsxs("div",{className:"mt-8 flex items-center text-sm font-medium text-gray-400 group-hover:text-indigo-600 transition-colors",children:["ffnen",g.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}function v9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}function b9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}function x9(){return g.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function Pc({isEditing:t,header:e,children:n}){return g.jsxs("section",{className:`
        relative h-full rounded-[20px] p-6 md:p-8 transition-all duration-200
        ${t?"bg-white ring-4 ring-blue-50 shadow-md":"bg-gray-50 border border-gray-200 shadow-sm"}
      `,children:[g.jsx("div",{className:"relative z-20 mb-8",children:e}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:t?"":"opacity-75",children:n}),!t&&g.jsx("div",{className:`
              absolute inset-0 rounded-xl
              bg-white/40 backdrop-blur-[1px]
              pointer-events-none
            `,"aria-hidden":"true"})]})]})}const hS="VUVj9lGbHQAdYVsF04k8",_9=[5,7.5,10,12.5,15];function E9({filters:t}){const{user:e}=li(),[n,s]=C.useState(!1),[a,l]=C.useState(t?.address||""),[c,f]=C.useState([]),[d,p]=C.useState(t?.coordinate?.lat??52.52),[v,b]=C.useState(t?.coordinate?.lon??13.405),[_,w]=C.useState(t?.radiusInKm??10),I=C.useRef(null),N=C.useRef({map:null,marker:null,circle:null});C.useEffect(()=>{t&&(t.coordinate?.lat!=null&&p(t.coordinate.lat),t.coordinate?.lon!=null&&b(t.coordinate.lon),t.radiusInKm!=null&&w(t.radiusInKm),t.address&&l(t.address))},[t]);const D=()=>s(!0),O=async()=>{e?.uid&&await J1(yn(dt,"users",e.uid),{lastSearch:{...t||{},coordinate:{lat:d,lon:v},radiusInKm:_,address:a}}),s(!1)};async function H(J){if(!J||J.length<3){f([]);return}try{const k=await(await fetch(`https://api.maptiler.com/geocoding/${encodeURIComponent(J)}.json?key=${hS}&language=de&country=de,at,ch`)).json();f(k.features?.map(R=>({label:R.place_name,lat:R.center[1],lon:R.center[0]}))??[])}catch(ne){console.error("Fehler bei der Adresssuche:",ne)}}function G(J){l(J.label),p(J.lat),b(J.lon),f([])}C.useEffect(()=>{let J=!1;async function ne(){return window.L||await new Promise(R=>{const j=document.createElement("link");j.rel="stylesheet",j.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",document.head.appendChild(j);const L=document.createElement("script");L.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",L.onload=R,document.body.appendChild(L)}),window.L}async function k(){if(!I.current)return;const R=await ne();J||(N.current.map?N.current.map.setView([d,v]):(N.current.map=R.map(I.current,{zoomControl:!1}).setView([d,v],11),R.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${hS}`,{attribution:'&copy; <a href="https://www.maptiler.com/copyright/">MapTiler</a>'}).addTo(N.current.map)),N.current.marker?.remove(),N.current.circle?.remove(),N.current.marker=R.marker([d,v]).addTo(N.current.map),N.current.circle=R.circle([d,v],{radius:_*1e3,color:"#2563eb",fillOpacity:.2}).addTo(N.current.map),N.current.map.fitBounds(N.current.circle.getBounds(),{padding:[20,20]}))}return k(),()=>{J=!0}},[d,v,_]);const oe=J=>{const ne="px-4 py-2 text-sm rounded-full border transition-all duration-200";return J?n?`${ne} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${ne} bg-gray-200 border-gray-200 text-gray-700`:n?`${ne} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${ne} bg-white border-gray-200 text-gray-500`};return g.jsx(Pc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Standort & Radius"}),!n&&a&&g.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate max-w-[200px]",children:a}),!n&&g.jsx("button",{type:"button",onClick:D,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:O,className:`
                shrink-0
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"space-y-8",children:[n&&g.jsxs("div",{className:"space-y-4 relative",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5 uppercase tracking-wider",children:"Adresse suchen"}),g.jsx("input",{value:a,onChange:J=>{l(J.target.value),H(J.target.value)},className:"w-full rounded-xl border-gray-300 bg-gray-50 px-4 py-3 text-sm",placeholder:"z.B. Berlin Alexanderplatz"}),c.length>0&&g.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 rounded-xl border bg-white shadow-2xl z-[1000] max-h-60 overflow-auto",children:c.map((J,ne)=>g.jsx("button",{onClick:()=>G(J),className:"block w-full text-left px-4 py-3 text-sm hover:bg-blue-50 border-b last:border-0 text-gray-700",children:J.label},ne))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Radius"}),g.jsx("div",{className:"flex flex-wrap gap-3",children:_9.map(J=>g.jsxs("button",{type:"button",disabled:!n,onClick:()=>w(J),className:oe(_===J),children:[J," km"]},J))})]})]}),g.jsx("div",{className:"h-64 w-full rounded-2xl border border-gray-200 overflow-hidden relative z-0",children:g.jsx("div",{ref:I,className:"h-full w-full bg-gray-100"})})]}),!n&&g.jsx("button",{type:"button",onClick:D,className:"absolute inset-0 rounded-xl cursor-pointer bg-transparent z-10","aria-label":"Bearbeiten aktivieren"})]})})}const T9=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}],w9={Haus:"Wohnen",Wohnung:"Wohnen",Studenten:"Wohnen",Ferienobjekt:"Wohnen",Grundstueck:"Wohnen",StellplatzGarage:"Gewerbe",BroPraxis:"Gewerbe",Gastronomie:"Gewerbe",Gewerbeeinheit:"Gewerbe",HalleLagerProduktion:"Gewerbe",Hotel:"Gewerbe",LandForst:"Gewerbe",Sonstige:"Wohnen"};function S9(t=[]){return Array.from(new Set(t.map(e=>w9[e]).filter(Boolean)))}function A9({filters:t,onChange:e}){const[n,s]=C.useState(t.objectClasses||[]),[a,l]=C.useState(t.offerTypes||[]),[c,f]=C.useState(!1);C.useEffect(()=>{s(t.objectClasses||[]),l(t.offerTypes||[])},[t]);const d=()=>f(!0),p=_=>{if(!c)return;const w=n.includes(_);if(!w&&n.length>=2)return;const I=w?n.filter(D=>D!==_):[...n,_],N=S9(I);s(I),e({...t,objectClasses:I,objectCategories:N})},v=_=>{if(!c||a[0]===_)return;const w=[_];l(w),e({...t,offerTypes:w})},b=(_,w)=>{const I="px-4 py-2 text-sm rounded-full border transition-all duration-200";return _?`${I} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:w?`${I} bg-white border-gray-200 text-gray-400 cursor-not-allowed`:`${I} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`};return g.jsx(Pc,{isEditing:c,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Objekt & Angebot"}),!c&&g.jsx("button",{type:"button",onClick:d,className:"mt-2 px-3 py-1.5 text-sm font-semibold rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Bearbeiten"})]}),c&&g.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-5 py-2 text-sm font-semibold rounded-xl bg-blue-600 text-white hover:bg-blue-700",children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx("hr",{className:"border-gray-200/60"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Angebotsart"}),g.jsx("div",{className:"flex flex-wrap gap-3",children:["Kauf","Miete"].map(_=>g.jsx("button",{type:"button",disabled:!c,onClick:()=>v(_),className:b(a.includes(_)),children:_},_))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Objektarten"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"}),g.jsx("br",{}),g.jsx("div",{className:"flex flex-wrap gap-3",children:T9.map(_=>{const w=n.includes(_.value),I=!w&&n.length>=2;return g.jsx("button",{type:"button",disabled:!c||I,onClick:()=>p(_.value),className:b(w,I),children:_.label},_.value)})})]})]}),!c&&g.jsx("button",{type:"button",onClick:d,className:"absolute inset-0 rounded-xl bg-transparent"})]})})}function fS({active:t,onClick:e,children:n,disabled:s,isEditing:a}){const l="px-4 py-2 text-sm rounded-full font-medium transition-all duration-200 border";return t?g.jsx("button",{type:"button",disabled:s,onClick:e,className:a?`${l} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${l} bg-gray-200 border-gray-200 text-gray-700`,children:n}):g.jsx("button",{type:"button",disabled:s,onClick:e,className:a?`${l} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${l} bg-white border-gray-200 text-gray-400`,children:n})}const C9=[600,800,1e3,1200,1500,null],R9=[2e5,3e5,4e5,5e5,75e4,1e6,null],N9=[{label:"bis 100 m",from:null,to:100},{label:"ab 100 m",from:100,to:null},{label:"beliebig",from:null,to:null}],I9=[{label:"bis 500 m",from:null,to:500},{label:"ab 500 m",from:500,to:null},{label:"beliebig",from:null,to:null}];function D9({filters:t,onChange:e}){const[n,s]=C.useState(!1),a=t.offerTypes?.includes("Miete")&&!t.offerTypes?.includes("Kauf"),l=t.objectClasses?.includes("Grundstueck"),c=C.useMemo(()=>a?C9:R9,[a]),f=l?I9:N9,[d,p]=C.useState(t.priceRange?.to??null),[v,b]=C.useState({from:t.propertySpaceRange?.from??null,to:t.propertySpaceRange?.to??null});C.useEffect(()=>{p(t.priceRange?.to??null),b({from:t.propertySpaceRange?.from??null,to:t.propertySpaceRange?.to??null})},[t]);const _=()=>s(!0),w=(D,O)=>{if(D==null)return"beliebig";const H=D.toLocaleString("de-DE");return a?`bis ${H} `:O===c.length-2&&c[c.length-1]===null?`ab ${H} `:`bis ${H} `},I=D=>{n&&(p(D),e({...t,priceRange:{...t.priceRange||{},to:D}}))},N=D=>{n&&(b({from:D.from,to:D.to}),e({...t,propertySpaceRange:{from:D.from,to:D.to}}))};return g.jsx(Pc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Preis & Flche"}),!n&&g.jsx("button",{type:"button",onClick:_,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:()=>s(!1),className:`
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:a?"Maximale Kaltmiete":"Maximaler Kaufpreis"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((D,O)=>g.jsx(fS,{active:d===D,onClick:()=>I(D),disabled:!n,isEditing:n,children:w(D,O)},O))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4",children:l?"Grundstcksflche":"Wohnflche"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((D,O)=>{const H=v.from===D.from&&v.to===D.to;return g.jsx(fS,{active:H,onClick:()=>N(D),disabled:!n,isEditing:n,children:D.label},O)})})]})]}),!n&&g.jsx("button",{type:"button",onClick:_,className:"absolute inset-0 rounded-xl bg-transparent","aria-label":"Bearbeiten aktivieren"})]})})}const BR=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function dS(t){return BR.reduce((e,n)=>({...e,[n.key]:t?.[n.key]??!1}),{})}function k9({filters:t}){const{user:e}=li(),[n,s]=C.useState(!1),[a,l]=C.useState(()=>dS(t));C.useEffect(()=>{l(dS(t))},[t]);const c=()=>s(!0),f=async p=>{if(!n)return;const v={...a,[p]:!a[p]};l(v),e?.uid&&await J1(yn(dt,"users",e.uid),{lastSearch:{...t,...v}})},d=p=>{const v="px-4 py-2 text-sm rounded-full border transition-all duration-200";return p?n?`${v} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${v} bg-gray-200 border-gray-200 text-gray-700`:n?`${v} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${v} bg-white border-gray-200 text-gray-400`};return g.jsx(Pc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Ausstattung & Extras"}),!n&&g.jsx("button",{type:"button",onClick:c,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:()=>s(!1),className:`
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"flex flex-wrap gap-2.5",children:BR.map(p=>g.jsx("button",{type:"button",disabled:!n,onClick:()=>f(p.key),className:d(a[p.key]),children:p.label},p.key))}),!n&&g.jsx("button",{type:"button",onClick:c,className:"absolute inset-0 rounded-xl bg-transparent","aria-label":"Bearbeiten aktivieren"})]})})}const j9=[{value:"Erdgas",label:"Erdgas"},{value:"Erdwaerme",label:"Erdwrme"},{value:"Fernwaerme",label:"Fernwrme"},{value:"Fluessiggas",label:"Flssiggas"},{value:"Gas",label:"Gas"},{value:"Holz",label:"Holz"},{value:"Kohle",label:"Kohle"},{value:"Luftwaerme",label:"Luftwrme"},{value:"Nahwaerme",label:"Nahwrme"},{value:"Oel",label:"l"},{value:"Pellets",label:"Pellets"},{value:"Solar",label:"Solar"},{value:"Strom",label:"Strom"},{value:"Wasserwaerme",label:"Wasserwrme"},{value:"Alternativ",label:"Alternativ"}],M9=[{value:"Blockheizkraftwerk",label:"Blockheizkraftwerk"},{value:"Etagenheizung",label:"Etagenheizung"},{value:"Fernheizung",label:"Fernheizung"},{value:"Fussbodenheizung",label:"Fubodenheizung"},{value:"Kachelofen",label:"Kachelofen"},{value:"Kamin",label:"Kamin"},{value:"Nachtspeicher",label:"Nachtspeicher"},{value:"Ofenheizung",label:"Ofenheizung"},{value:"Solarheizung",label:"Solarheizung"},{value:"Waermepumpe",label:"Wrmepumpe"},{value:"Zentralheizung",label:"Zentralheizung"}],V9=[{value:"A3Plus",label:"A+++"},{value:"A2Plus",label:"A++"},{value:"APlus",label:"A+"},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"},{value:"E",label:"E"},{value:"F",label:"F"},{value:"G",label:"G"},{value:"H",label:"H"}],O9=[{value:"KfwEffizienzhausDenkmal",label:"KfW Denkmal"},{value:"KfwEffizienzhaus115",label:"KfW 115"},{value:"KfwEffizienzhaus100",label:"KfW 100"},{value:"KfwEffizienzhaus85",label:"KfW 85"},{value:"KfwEffizienzhaus70",label:"KfW 70"},{value:"KfwEffizienzhaus60",label:"KfW 60"},{value:"KfwEffizienzhaus55",label:"KfW 55"},{value:"KfwEffizienzhaus40",label:"KfW 40"},{value:"KfwEffizienzhaus40Plus",label:"KfW 40 Plus"},{value:"Passivhaus",label:"Passivhaus"},{value:"Nullenergiehaus",label:"Nullenergiehaus"},{value:"Plusenergiehaus",label:"Plusenergiehaus"}];function wr({title:t,children:e}){return g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:t}),e]})}function If({options:t,active:e=[],onToggle:n,isEditing:s}){return g.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(a=>{const l=typeof a=="string"?a:a.value,c=typeof a=="string"?a:a.label,f=e.includes(l),d="px-3 py-1.5 text-xs font-medium rounded-full border transition-all",p=f?s?`${d} bg-blue-600 border-blue-600 text-white hover:bg-blue-700`:`${d} bg-gray-200 border-gray-200 text-gray-700`:s?`${d} bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400`:`${d} bg-white border-gray-200 text-gray-400`;return g.jsx("button",{type:"button",disabled:!s,onClick:()=>n(l),className:p,children:c},l)})})}function gc(t,e,n){const s=[];for(let a=t;a<=e;a+=n)s.push(a);return s}function Df({from:t,to:e,unit:n,options:s,isEditing:a,onChange:l,placeholders:c={from:"von",to:"bis"}}){const f=t??null,d=e??null,p=f==null?s:s.filter(b=>b>=f),v=(b,_)=>{let w=b??null,I=_??null;if(w!=null&&I!=null&&w>I){const N=w;w=I,I=N}l({from:w,to:I})};return g.jsxs("div",{className:"flex items-center gap-2 max-w-xs",children:[g.jsxs("select",{disabled:!a,value:f??"",onChange:b=>{const _=b.target.value===""?null:Number(b.target.value);v(_,d)},className:"w-24 rounded-lg border-gray-300 bg-gray-50 px-3 py-2 text-sm disabled:text-gray-400",children:[g.jsx("option",{value:"",children:c.from}),s.map(b=>g.jsx("option",{value:b,children:b},b))]}),g.jsx("span",{className:"text-gray-400",children:"-"}),g.jsxs("select",{disabled:!a,value:d??"",onChange:b=>{const _=b.target.value===""?null:Number(b.target.value);v(f,_)},className:"w-24 rounded-lg border-gray-300 bg-gray-50 px-3 py-2 text-sm disabled:text-gray-400",children:[g.jsx("option",{value:"",children:c.to}),p.map(b=>g.jsx("option",{value:b,children:b},b))]}),n?g.jsx("span",{className:"text-sm text-gray-500 font-medium ml-1",children:n}):null]})}const P9=[...gc(0,3e3,100),...gc(3250,1e4,250)],L9=gc(0,15,1),U9=gc(0,500,50),z9=new Date().getFullYear(),B9=gc(1900,z9,5);function F9({filters:t,onChange:e}){const[n,s]=C.useState(!1),a=()=>s(!0),l=(N,D)=>{if(!n)return;const O=t[N]||[],H=O.includes(D)?O.filter(G=>G!==D):[...O,D];e({...t,[N]:H})},c=(N,D)=>{e({...t,[N]:{from:D?.from??null,to:D?.to??null}})},{energySources:f=[],heatingTypes:d=[],energyRatings:p=[],energyEfficiencyStandards:v=[],pricePerSqmRange:b={},yieldRange:_={},energyConsumptionRange:w={},constructionYearRange:I={}}=t||{};return g.jsx(Pc,{isEditing:n,header:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Erweiterte Filter"}),!n&&g.jsx("button",{type:"button",onClick:a,className:`
                  inline-flex items-center
                  mt-2
                  px-3 py-1.5
                  text-sm font-semibold
                  rounded-full
                  bg-gray-200 text-gray-800
                  hover:bg-gray-300
                  transition
                `,children:"Bearbeiten"})]}),n&&g.jsx("button",{type:"button",onClick:()=>s(!1),className:`
                px-5 py-2
                text-sm font-semibold
                rounded-xl
                bg-blue-600 text-white
                hover:bg-blue-700
                transition
              `,children:"Fertig"})]}),children:g.jsxs("div",{className:"relative space-y-8",children:[g.jsx(wr,{title:"Energietrger",children:g.jsx(If,{options:j9,active:f,isEditing:n,onToggle:N=>l("energySources",N)})}),g.jsx(wr,{title:"Heizung",children:g.jsx(If,{options:M9,active:d,isEditing:n,onToggle:N=>l("heatingTypes",N)})}),g.jsx(wr,{title:"Energieklasse",children:g.jsx(If,{options:V9,active:p,isEditing:n,onToggle:N=>l("energyRatings",N)})}),g.jsx(wr,{title:"Energiestandard",children:g.jsx(If,{options:O9,active:v,isEditing:n,onToggle:N=>l("energyEfficiencyStandards",N)})}),g.jsx("hr",{className:"border-gray-200/60"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx(wr,{title:"Preis pro m (/m)",children:g.jsx(Df,{from:b.from??null,to:b.to??null,unit:"",options:P9,isEditing:n,onChange:N=>c("pricePerSqmRange",N)})}),g.jsx(wr,{title:"Rendite (%)",children:g.jsx(Df,{from:_.from??null,to:_.to??null,unit:!0,options:L9,isEditing:n,onChange:N=>c("yieldRange",N)})}),g.jsx(wr,{title:"Energieverbrauch kWh",children:g.jsx(Df,{from:w.from??null,to:w.to??null,unit:"",options:U9,isEditing:n,onChange:N=>c("energyConsumptionRange",N)})}),g.jsx(wr,{title:"Baujahr",children:g.jsx(Df,{from:I.from??null,to:I.to??null,unit:"",options:B9,isEditing:n,onChange:N=>c("constructionYearRange",N)})})]}),!n&&g.jsx("button",{type:"button",onClick:a,className:"absolute inset-0 rounded-xl bg-transparent","aria-label":"Bearbeiten aktivieren"})]})})}function H9(){const{filters:t,loading:e,updateFilters:n}=UR();return e||!t?g.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:g.jsx("div",{className:"text-gray-500 font-medium animate-pulse",children:"Lade Filter"})}):g.jsx(zR,{children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:px-8",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 tracking-tight",children:"Meine Suchfilter"}),g.jsx("p",{className:"text-gray-500 mt-2 text-lg",children:"Passe deine Suche an, um die besten Deals zu finden."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsx("div",{className:"h-full",children:g.jsx(E9,{filters:t,onChange:n})}),g.jsx("div",{className:"h-full",children:g.jsx(A9,{filters:t,onChange:n})}),g.jsx("div",{className:"h-full",children:g.jsx(D9,{filters:t,onChange:n})}),g.jsx("div",{className:"h-full",children:g.jsx(k9,{filters:t,onChange:n})}),g.jsx("div",{className:"lg:col-span-2",children:g.jsx(F9,{filters:t,onChange:n})})]})]})})}const q9="VUVj9lGbHQAdYVsF04k8";function G9({offers:t=[],onMarkerClick:e}){const n=C.useRef(null),s=C.useRef({map:null,L:null,markers:[]});return C.useEffect(()=>{let a=!1;async function l(){if(!window.L){const d=document.createElement("link");d.rel="stylesheet",d.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(d),await new Promise(p=>{const v=document.createElement("script");v.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",v.onload=p,document.body.appendChild(v)})}return window.L}async function c(){const d=await l();a||!n.current||(s.current.map||(s.current.map=d.map(n.current).setView([51,10],6),s.current.L=d,d.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${q9}`,{attribution:"&copy; MapTiler"}).addTo(s.current.map)),f())}function f(){const{map:d,L:p}=s.current;if(!d||!p)return;s.current.markers.forEach(b=>b.remove()),s.current.markers=[];const v=t.filter(b=>typeof b.latitude=="number"&&typeof b.longitude=="number"&&b.docId);if(v.forEach(b=>{const _=p.marker([b.latitude,b.longitude]).addTo(d).bindPopup(`
            <div style="min-width:180px">
              <strong>${b.title||"Ohne Titel"}</strong><br/>
              ${b.price?b.price+" ":""}<br/>
              ${b.rooms?b.rooms+" Zimmer":""}
            </div>
          `);_.on("click",()=>{_.openPopup(),e?.(b.docId)}),s.current.markers.push(_)}),v.length>0){const b=p.latLngBounds(v.map(_=>[_.latitude,_.longitude]));d.fitBounds(b,{padding:[30,30],maxZoom:14})}}return c(),()=>a=!0},[t,e]),g.jsx("div",{ref:n,className:"h-full w-full rounded-2xl border border-gray-200"})}async function K9({redirectId:t,geomapOfferId:e,redirectUrl:n,userId:s,source:a="web-app"}){if(!t||!n){console.error("trackAndRedirect: missing data",{redirectId:t,redirectUrl:n,geomapOfferId:e,userId:s,source:a});return}try{const l={redirectId:t,source:a,timestamp:gd()};e&&(l.geomapOfferId=e),s&&(l.userId=s),await fP(as(dt,"clickEvents"),l)}catch(l){console.error("Click tracking failed",l)}window.open(n,"_blank","noopener,noreferrer")}const mS=t=>{if(!t)return!1;const e=t.toDate?t.toDate():new Date(t),n=new Date;return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()},$9=t=>{if(!t)return"Preis a. A.";const e=parseFloat(String(t).replace(/[^0-9.,-]/g,""));return isNaN(e)?t:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)};function Y9({offers:t=[],highlightedId:e}){const{user:n}=li(),s=C.useRef({}),[a,l]=C.useState(!1),c=t.filter(d=>d.createdAt&&mS(d.createdAt)),f=t.filter(d=>!d.createdAt||!mS(d.createdAt));return C.useEffect(()=>{e&&s.current[e]&&(s.current[e].scrollIntoView({behavior:"smooth",block:"center"}),f.find(p=>p.docId===e)&&l(!0))},[e,f]),g.jsxs("div",{className:"space-y-6",children:[c.length===0&&f.length>0&&g.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5 text-center shadow-sm",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-white text-gray-400 mb-2 border border-gray-100",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),g.jsx("h3",{className:"text-gray-900 font-bold text-sm",children:"Heute noch nichts Neues"}),g.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Wir scannen den Markt weiter fr dich. Hier sind deine ",f.length," gespeicherten Ergebnisse."]})]}),c.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-1",children:[g.jsxs("span",{className:"relative flex h-2 w-2",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Neu eingetroffen"})]}),c.map(d=>g.jsx(pS,{o:d,user:n,isActive:d.docId===e,setRef:p=>s.current[d.docId]=p},d.docId))]}),f.length>0&&g.jsxs("div",{className:"space-y-4 pt-2",children:[g.jsxs("button",{onClick:()=>l(!a),className:"flex items-center justify-between w-full text-sm font-bold text-gray-500 hover:text-indigo-600 transition-colors py-2 group",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:a?"ltere verbergen":"ltere anzeigen"}),g.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs",children:f.length})]}),g.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&g.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300",children:f.map(d=>g.jsx(pS,{o:d,user:n,isActive:d.docId===e,setRef:p=>s.current[d.docId]=p},d.docId))})]}),t.length===0&&g.jsx("div",{className:"p-10 text-center border border-dashed border-gray-300 rounded-2xl bg-gray-50",children:g.jsx("p",{className:"text-gray-500 font-medium",children:"Keine Angebote gefunden."})})]})}function pS({o:t,user:e,isActive:n,setRef:s}){return g.jsx("div",{ref:s,className:`
        rounded-2xl p-5 transition-all duration-200
        ${n?"border-2 border-indigo-500 bg-indigo-50 shadow-lg scale-[1.02]":"border border-gray-200 bg-white hover:border-indigo-200 hover:shadow-md"}
      `,children:g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900 text-sm sm:text-base line-clamp-2",children:t.title||"Ohne Titel"}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.vendor?.name,"  ",t.rooms," Zi."]})]}),g.jsxs("div",{className:"text-right whitespace-nowrap",children:[g.jsx("div",{className:"font-bold text-gray-900",children:$9(t.price)}),g.jsx("button",{onClick:()=>K9({redirectId:t.docId,geomapOfferId:t.geomapOfferId,redirectUrl:t.redirectUrl,userId:e?.uid||null,source:"web-app"}),className:"mt-2 px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-bold hover:bg-indigo-700 transition-colors",children:"Zum Angebot"})]})]})})}function Q9(){const{user:t}=li(),[e,n]=C.useState([]),[s,a]=C.useState(!0),[l,c]=C.useState(null);return C.useEffect(()=>{if(!t?.uid)return;async function f(){a(!0);try{const d=Zr(as(dt,"offerRedirects"),Dc("uid","==",t.uid)),v=(await qr(d)).docs.map(b=>({docId:b.id,...b.data()}));v.sort((b,_)=>{const w=b.createdAt?.seconds||0;return(_.createdAt?.seconds||0)-w}),n(v)}catch(d){console.error("Fehler beim Laden:",d)}finally{a(!1)}}f()},[t]),g.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 p-6 max-w-[1800px] mx-auto min-h-screen",children:[g.jsxs("div",{className:"order-2 xl:order-1 flex flex-col gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Deine Ergebnisse"}),g.jsxs("p",{className:"text-gray-500 mt-1",children:[e.length," Angebote gefunden"]})]}),s&&g.jsx("div",{className:"p-10 text-center text-gray-400 animate-pulse",children:"Lade Daten..."}),!s&&g.jsx(Y9,{offers:e,highlightedId:l})]}),g.jsx("div",{className:"order-1 xl:order-2",children:g.jsx("div",{className:"sticky top-6",children:g.jsx("div",{className:"h-[360px] xl:h-[520px] rounded-2xl overflow-hidden border border-gray-200 bg-white shadow-sm",children:g.jsx(G9,{offers:e,onMarkerClick:c})})})})]})}function W9(){const{user:t,ready:e}=li();return e?t?g.jsx(Ba,{to:"/dashboard",replace:!0}):g.jsx(Ba,{to:"/login",replace:!0}):null}function X9(){const{user:t,logout:e}=li(),[n,s]=C.useState(null),[a,l]=C.useState(!0);if(C.useEffect(()=>{async function w(){if(t?.uid)try{const I=yn(dt,"users",t.uid),N=await Fs(I);N.exists()&&s(N.data())}catch(I){console.error("Fehler beim Laden des Profils:",I)}finally{l(!1)}}w()},[t]),a)return g.jsx("div",{className:"p-10 text-center animate-pulse text-gray-400",children:"Lade Profil..."});const c=n?.firstName||n?.FirstName||"User",f=n?.lastName||n?.LastName||"",d=c.charAt(0).toUpperCase(),p=n?.stripeStatus||"free",v=p==="active"||p==="paid",b=v?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-gray-100 text-gray-600 border-gray-200",_=()=>{alert("Hier wrde sich das Stripe Portal ffnen.")};return g.jsx("div",{className:"min-h-[80vh] bg-gray-50/50 p-6 md:p-12",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"Mein Profil"}),g.jsx("p",{className:"text-gray-500 mt-1",children:"Verwalte deine persnlichen Daten und dein Abonnement."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-2 space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[g.jsx("h2",{className:"font-bold text-gray-900",children:"Persnliche Daten"}),g.jsx("button",{className:"text-sm text-indigo-600 font-medium hover:underline",children:"Bearbeiten"})]}),g.jsxs("div",{className:"p-8 flex flex-col sm:flex-row gap-8 items-start",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg ring-4 ring-white",children:d})}),g.jsxs("div",{className:"flex-1 w-full grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsx(kf,{label:"Vorname",value:c}),g.jsx(kf,{label:"Nachname",value:f}),g.jsx(kf,{label:"E-Mail Adresse",value:t.email,fullWidth:!0}),g.jsx(kf,{label:"Kundennummer (UID)",value:t.uid,fullWidth:!0,copyable:!0})]})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("button",{onClick:e,className:"text-red-600 font-medium text-sm hover:bg-red-50 px-4 py-2 rounded-lg transition-colors border border-transparent hover:border-red-100",children:"Vom Konto abmelden"})})]}),g.jsx("div",{className:"md:col-span-1 space-y-6",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 flex flex-col h-full relative overflow-hidden",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl opacity-20 -mr-10 -mt-10 pointer-events-none ${v?"bg-emerald-400":"bg-gray-400"}`}),g.jsx("h2",{className:"font-bold text-gray-900 mb-6 relative z-10",children:"Mitgliedschaft"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"flex items-center gap-3 mb-2",children:g.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border ${b}`,children:p==="paid"?"PRO PLAN":p.toUpperCase()})}),g.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6",children:v?"Du hast vollen Zugriff auf alle Premium-Features. Deine nchste Abrechnung erfolgt am Monatsende.":"Du nutzt aktuell den kostenlosen Basis-Plan. Upgrade fr mehr Features."}),v&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Z9,{}),g.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" 4242"})]}),g.jsx("p",{className:"text-xs text-gray-400",children:"Nchste Zahlung: 01.01.2024"})]})]}),g.jsx("button",{onClick:_,className:"w-full py-2.5 rounded-xl font-semibold text-sm transition-all shadow-sm hover:shadow active:scale-95 bg-gray-900 text-white hover:bg-black",children:v?"Abo verwalten":"Jetzt upgraden"})]})})]})]})})}function kf({label:t,value:e,fullWidth:n,copyable:s}){const a=()=>{navigator.clipboard.writeText(e),alert("Kopiert!")};return g.jsxs("div",{className:`${n?"col-span-1 sm:col-span-2":"col-span-1"}`,children:[g.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1",children:t}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"font-medium text-gray-900 break-all",children:e||""}),s&&g.jsx("button",{onClick:a,className:"text-gray-300 hover:text-indigo-600 transition-colors",title:"Kopieren",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})}function Z9(){return g.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}function J9(){return g.jsxs(TI,{children:[g.jsxs(at,{element:g.jsx(PP,{}),children:[g.jsx(at,{index:!0,element:g.jsx(W9,{})}),g.jsx(at,{path:"/login",element:g.jsx(ZP,{})}),g.jsxs(at,{path:"/register",children:[g.jsx(at,{index:!0,element:g.jsx(Ba,{to:"/register/step1",replace:!0})}),g.jsx(at,{path:"step1",element:g.jsx(lL,{})}),g.jsx(at,{path:"step2",element:g.jsx(fL,{})}),g.jsx(at,{path:"step3",element:g.jsx(yL,{})}),g.jsx(at,{path:"step4",element:g.jsx(xL,{})}),g.jsx(at,{path:"step5",element:g.jsx(CL,{})}),g.jsx(at,{path:"finish",element:g.jsx(IL,{})})]})]}),g.jsxs(at,{element:g.jsx(u9,{children:g.jsx(LP,{})}),children:[g.jsx(at,{path:"/dashboard",element:g.jsx(g9,{})}),g.jsx(at,{path:"/dashboard/filters",element:g.jsx(H9,{})}),g.jsx(at,{path:"/dashboard/results",element:g.jsx(Q9,{})}),g.jsx(at,{path:"/dashboard/profile",element:g.jsx(X9,{})})]}),g.jsxs(at,{element:g.jsx(c9,{children:g.jsx(UP,{})}),children:[g.jsx(at,{path:"/admin",element:g.jsx(y9,{})}),g.jsx(at,{path:"/admin/users",element:g.jsx(XP,{})}),g.jsx(at,{path:"/admin/user/:uid",element:g.jsx(WP,{})}),g.jsx(at,{path:"/admin/clicks",element:g.jsx(eL,{})}),g.jsx(at,{path:"/admin/offers",element:g.jsx(tL,{})}),g.jsx(at,{path:"/admin/offers/:offerId",element:g.jsx(nL,{})})]}),g.jsx(at,{path:"*",element:g.jsx(Ba,{to:"/",replace:!0})})]})}NN.createRoot(document.getElementById("root")).render(g.jsx(_N.StrictMode,{children:g.jsx(OP,{children:g.jsx(KI,{children:g.jsx(J9,{})})})}));
