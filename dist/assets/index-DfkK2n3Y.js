(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function db(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function zC(){if(_T)return Zl;_T=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=t,Zl.jsx=i,Zl.jsxs=i,Zl}var TT;function BC(){return TT||(TT=1,Qm.exports=zC()),Qm.exports}var P=BC(),Wm={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function FC(){if(ET)return Et;ET=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,U={};function B(k,et,lt){this.props=k,this.context=et,this.refs=U,this.updater=lt||N}B.prototype.isReactComponent={},B.prototype.setState=function(k,et){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,et,"setState")},B.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function q(k,et,lt){this.props=k,this.context=et,this.refs=U,this.updater=lt||N}var rt=q.prototype=new Y;rt.constructor=q,F(rt,B.prototype),rt.isPureReactComponent=!0;var at=Array.isArray;function ht(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(k,et,lt){var ct=lt.ref;return{$$typeof:e,type:k,key:et,ref:ct!==void 0?ct:null,props:lt}}function V(k,et){return R(k.type,et,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function j(k){var et={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(lt){return et[lt]})}var x=/\/+/g;function It(k,et){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):et.toString(36)}function Wt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ht,ht):(k.status="pending",k.then(function(et){k.status==="pending"&&(k.status="fulfilled",k.value=et)},function(et){k.status==="pending"&&(k.status="rejected",k.reason=et)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function W(k,et,lt,ct,Tt){var wt=typeof k;(wt==="undefined"||wt==="boolean")&&(k=null);var kt=!1;if(k===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(k.$$typeof){case e:case t:kt=!0;break;case v:return kt=k._init,W(kt(k._payload),et,lt,ct,Tt)}}if(kt)return Tt=Tt(k),kt=ct===""?"."+It(k,0):ct,at(Tt)?(lt="",kt!=null&&(lt=kt.replace(x,"$&/")+"/"),W(Tt,et,lt,"",function(Rr){return Rr})):Tt!=null&&(M(Tt)&&(Tt=V(Tt,lt+(Tt.key==null||k&&k.key===Tt.key?"":(""+Tt.key).replace(x,"$&/")+"/")+kt)),et.push(Tt)),1;kt=0;var Me=ct===""?".":ct+":";if(at(k))for(var ne=0;ne<k.length;ne++)ct=k[ne],wt=Me+It(ct,ne),kt+=W(ct,et,lt,wt,Tt);else if(ne=I(k),typeof ne=="function")for(k=ne.call(k),ne=0;!(ct=k.next()).done;)ct=ct.value,wt=Me+It(ct,ne++),kt+=W(ct,et,lt,wt,Tt);else if(wt==="object"){if(typeof k.then=="function")return W(Wt(k),et,lt,ct,Tt);throw et=String(k),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return kt}function it(k,et,lt){if(k==null)return k;var ct=[],Tt=0;return W(k,ct,"","",function(wt){return et.call(lt,wt,Tt++)}),ct}function ut(k){if(k._status===-1){var et=k._result;et=et(),et.then(function(lt){(k._status===0||k._status===-1)&&(k._status=1,k._result=lt)},function(lt){(k._status===0||k._status===-1)&&(k._status=2,k._result=lt)}),k._status===-1&&(k._status=0,k._result=et)}if(k._status===1)return k._result.default;throw k._result}var At=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Mt={map:it,forEach:function(k,et,lt){it(k,function(){et.apply(this,arguments)},lt)},count:function(k){var et=0;return it(k,function(){et++}),et},toArray:function(k){return it(k,function(et){return et})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Et.Activity=E,Et.Children=Mt,Et.Component=B,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=q,Et.StrictMode=r,Et.Suspense=p,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Et.cache=function(k){return function(){return k.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(k,et,lt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ct=F({},k.props),Tt=k.key;if(et!=null)for(wt in et.key!==void 0&&(Tt=""+et.key),et)!w.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(ct[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)ct.children=lt;else if(1<wt){for(var kt=Array(wt),Me=0;Me<wt;Me++)kt[Me]=arguments[Me+2];ct.children=kt}return R(k.type,Tt,ct)},Et.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Et.createElement=function(k,et,lt){var ct,Tt={},wt=null;if(et!=null)for(ct in et.key!==void 0&&(wt=""+et.key),et)w.call(et,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Tt[ct]=et[ct]);var kt=arguments.length-2;if(kt===1)Tt.children=lt;else if(1<kt){for(var Me=Array(kt),ne=0;ne<kt;ne++)Me[ne]=arguments[ne+2];Tt.children=Me}if(k&&k.defaultProps)for(ct in kt=k.defaultProps,kt)Tt[ct]===void 0&&(Tt[ct]=kt[ct]);return R(k,wt,Tt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(k){return{$$typeof:m,render:k}},Et.isValidElement=M,Et.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ut}},Et.memo=function(k,et){return{$$typeof:g,type:k,compare:et===void 0?null:et}},Et.startTransition=function(k){var et=C.T,lt={};C.T=lt;try{var ct=k(),Tt=C.S;Tt!==null&&Tt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(ht,At)}catch(wt){At(wt)}finally{et!==null&&lt.types!==null&&(et.types=lt.types),C.T=et}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(k){return C.H.use(k)},Et.useActionState=function(k,et,lt){return C.H.useActionState(k,et,lt)},Et.useCallback=function(k,et){return C.H.useCallback(k,et)},Et.useContext=function(k){return C.H.useContext(k)},Et.useDebugValue=function(){},Et.useDeferredValue=function(k,et){return C.H.useDeferredValue(k,et)},Et.useEffect=function(k,et){return C.H.useEffect(k,et)},Et.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(k,et,lt){return C.H.useImperativeHandle(k,et,lt)},Et.useInsertionEffect=function(k,et){return C.H.useInsertionEffect(k,et)},Et.useLayoutEffect=function(k,et){return C.H.useLayoutEffect(k,et)},Et.useMemo=function(k,et){return C.H.useMemo(k,et)},Et.useOptimistic=function(k,et){return C.H.useOptimistic(k,et)},Et.useReducer=function(k,et,lt){return C.H.useReducer(k,et,lt)},Et.useRef=function(k){return C.H.useRef(k)},Et.useState=function(k){return C.H.useState(k)},Et.useSyncExternalStore=function(k,et,lt){return C.H.useSyncExternalStore(k,et,lt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.0",Et}var ST;function xg(){return ST||(ST=1,Wm.exports=FC()),Wm.exports}var O=xg();const HC=db(O);var Zm={exports:{}},Jl={},Jm={exports:{}},tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function qC(){return bT||(bT=1,(function(e){function t(W,it){var ut=W.length;W.push(it);t:for(;0<ut;){var At=ut-1>>>1,Mt=W[At];if(0<o(Mt,it))W[At]=it,W[ut]=Mt,ut=At;else break t}}function i(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var it=W[0],ut=W.pop();if(ut!==it){W[0]=ut;t:for(var At=0,Mt=W.length,k=Mt>>>1;At<k;){var et=2*(At+1)-1,lt=W[et],ct=et+1,Tt=W[ct];if(0>o(lt,ut))ct<Mt&&0>o(Tt,lt)?(W[At]=Tt,W[ct]=ut,At=ct):(W[At]=lt,W[et]=ut,At=et);else if(ct<Mt&&0>o(Tt,ut))W[At]=Tt,W[ct]=ut,At=ct;else break t}}return it}function o(W,it){var ut=W.sortIndex-it.sortIndex;return ut!==0?ut:W.id-it.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,S=3,I=!1,N=!1,F=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function rt(W){for(var it=i(g);it!==null;){if(it.callback===null)r(g);else if(it.startTime<=W)r(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=i(g)}}function at(W){if(F=!1,rt(W),!N)if(i(p)!==null)N=!0,ht||(ht=!0,j());else{var it=i(g);it!==null&&Wt(at,it.startTime-W)}}var ht=!1,C=-1,w=5,R=-1;function V(){return U?!0:!(e.unstable_now()-R<w)}function M(){if(U=!1,ht){var W=e.unstable_now();R=W;var it=!0;try{t:{N=!1,F&&(F=!1,Y(C),C=-1),I=!0;var ut=S;try{e:{for(rt(W),E=i(p);E!==null&&!(E.expirationTime>W&&V());){var At=E.callback;if(typeof At=="function"){E.callback=null,S=E.priorityLevel;var Mt=At(E.expirationTime<=W);if(W=e.unstable_now(),typeof Mt=="function"){E.callback=Mt,rt(W),it=!0;break e}E===i(p)&&r(p),rt(W)}else r(p);E=i(p)}if(E!==null)it=!0;else{var k=i(g);k!==null&&Wt(at,k.startTime-W),it=!1}}break t}finally{E=null,S=ut,I=!1}it=void 0}}finally{it?j():ht=!1}}}var j;if(typeof q=="function")j=function(){q(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,It=x.port2;x.port1.onmessage=M,j=function(){It.postMessage(null)}}else j=function(){B(M,0)};function Wt(W,it){C=B(function(){W(e.unstable_now())},it)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var it=3;break;default:it=S}var ut=S;S=it;try{return W()}finally{S=ut}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(W,it){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ut=S;S=W;try{return it()}finally{S=ut}},e.unstable_scheduleCallback=function(W,it,ut){var At=e.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?At+ut:At):ut=At,W){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=ut+Mt,W={id:v++,callback:it,priorityLevel:W,startTime:ut,expirationTime:Mt,sortIndex:-1},ut>At?(W.sortIndex=ut,t(g,W),i(p)===null&&W===i(g)&&(F?(Y(C),C=-1):F=!0,Wt(at,ut-At))):(W.sortIndex=Mt,t(p,W),N||I||(N=!0,ht||(ht=!0,j()))),W},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(W){var it=S;return function(){var ut=S;S=it;try{return W.apply(this,arguments)}finally{S=ut}}}})(tp)),tp}var AT;function GC(){return AT||(AT=1,Jm.exports=qC()),Jm.exports}var ep={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function KC(){if(wT)return Ze;wT=1;var e=xg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ze.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:I}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Ze.requestFormReset=function(p){r.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var RT;function YC(){if(RT)return ep.exports;RT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ep.exports=KC(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function XC(){if(CT)return Jl;CT=1;var e=GC(),t=xg(),i=YC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function It(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case at:return"Suspense";case ht:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case q:return n.displayName||"Context";case Y:return(n._context.displayName||"Context")+".Consumer";case rt:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:It(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return It(n(s))}catch{}}return null}var Wt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},At=[],Mt=-1;function k(n){return{current:n}}function et(n){0>Mt||(n.current=At[Mt],At[Mt]=null,Mt--)}function lt(n,s){Mt++,At[Mt]=n.current,n.current=s}var ct=k(null),Tt=k(null),wt=k(null),kt=k(null);function Me(n,s){switch(lt(wt,s),lt(Tt,n),lt(ct,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?F0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=F0(s),n=H0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}et(ct),lt(ct,n)}function ne(){et(ct),et(Tt),et(wt)}function Rr(n){n.memoizedState!==null&&lt(kt,n);var s=ct.current,a=H0(s,n.type);s!==a&&(lt(Tt,n),lt(ct,a))}function Aa(n){Tt.current===n&&(et(ct),et(Tt)),kt.current===n&&(et(kt),Xl._currentValue=ut)}var wa,Ra;function _i(n){if(wa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);wa=s&&s[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+n+Ra}var Xo=!1;function Cr(n,s){if(!n||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var X=Q}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(Q){X=Q}n.call(tt.prototype)}}else{try{throw Error()}catch(Q){X=Q}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),K=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===K.length)for(l=D.length-1,f=K.length-1;1<=l&&0<=f&&D[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==K[f]){var Z=`
`+D[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?_i(a):""}function $o(n,s){switch(n.tag){case 26:case 27:case 5:return _i(n.type);case 16:return _i("Lazy");case 13:return n.child!==s&&s!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Cr(n.type,!1);case 11:return Cr(n.type.render,!1);case 1:return Cr(n.type,!0);case 31:return _i("Activity");default:return""}}function Qo(n){try{var s="",a=null;do s+=$o(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Cs=e.unstable_cancelCallback,Zf=e.unstable_shouldYield,tc=e.unstable_requestPaint,an=e.unstable_now,xr=e.unstable_getCurrentPriorityLevel,Wo=e.unstable_ImmediatePriority,Zo=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,Jf=e.unstable_LowPriority,ec=e.unstable_IdlePriority,nc=e.log,ic=e.unstable_setDisableYieldValue,Qn=null,ze=null;function Mn(n){if(typeof nc=="function"&&ic(n),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Qn,n)}catch{}}var me=Math.clz32?Math.clz32:rc,sc=Math.log,Ca=Math.LN2;function rc(n){return n>>>=0,n===0?32:31-(sc(n)/Ca|0)|0}var Ti=256,Ir=262144,Ee=4194304;function Ei(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Si(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Ei(l):(_&=b,_!==0?f=Ei(_):a||(a=b&~n,a!==0&&(f=Ei(a))))):(b=l&~d,b!==0?f=Ei(b):_!==0?f=Ei(_):a||(a=l&~n,a!==0&&(f=Ei(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function td(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var n=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),n}function bi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Dr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ed(n,s,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-me(a),tt=1<<Z;b[Z]=0,D[Z]=-1;var X=K[Z];if(X!==null)for(K[Z]=null,Z=0;Z<X.length;Z++){var Q=X[Z];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&Nr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function Nr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-me(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Jo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-me(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function tl(n,s){var a=s&-s;return a=(a&42)!==0?1:Mr(a),(a&(n.suspendedLanes|s))!==0?0:a}function Mr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Xi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function oc(){var n=it.p;return n!==0?n:(n=window.event,n===void 0?32:fT(n.type))}function Zn(n,s){var a=it.p;try{return it.p=n,s()}finally{it.p=a}}var Jn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Jn,Pe="__reactProps$"+Jn,Ai="__reactContainer$"+Jn,xa="__reactEvents$"+Jn,nd="__reactListeners$"+Jn,lc="__reactHandles$"+Jn,uc="__reactResources$"+Jn,wi="__reactMarker$"+Jn;function Ia(n){delete n[Se],delete n[Pe],delete n[xa],delete n[nd],delete n[lc]}function Ri(n){var s=n[Se];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ai]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Q0(n);n!==null;){if(a=n[Se])return a;n=Q0(n)}return s}n=a,a=n.parentNode}return null}function On(n){if(n=n[Se]||n[Ai]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Sn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ci(n){var s=n[uc];return s||(s=n[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(n){n[wi]=!0}var el=new Set,nl={};function xi(n,s){Ii(n,s),Ii(n+"Capture",s)}function Ii(n,s){for(nl[n]=s,n=0;n<s.length;n++)el.add(s[n])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},rl={};function cc(n){return Te.call(rl,n)?!0:Te.call(sl,n)?!1:il.test(n)?rl[n]=!0:(sl[n]=!0,!1)}function Da(n,s,a){if(cc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function bn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ae(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function Le(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Is(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function al(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function qt(n){if(!n._valueTracker){var s=Is(n)?"checked":"value";n._valueTracker=al(n,s,""+n[s])}}function Or(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Is(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Di(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vr=/[\n"\\]/g;function fn(n){return n.replace(Vr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(n,s,a,l,f,d,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Le(s)):n.value!==""+Le(s)&&(n.value=""+Le(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?ol(n,_,Le(s)):a!=null?ol(n,_,Le(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Le(b):n.removeAttribute("name")}function hc(n,s,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){qt(n);return}a=a!=null?""+Le(a):"",s=s!=null?""+Le(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),qt(n)}function ol(n,s,a){s==="number"&&Di(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ds(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Le(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function fc(n,s,a){if(s!=null&&(s=""+Le(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Le(a):""}function Ns(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Wt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Le(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),qt(n)}function dn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||dc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ul(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ll(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&ll(n,d,s[d])}function Ma(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(n){return Ms.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var cl=null;function Vn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Os=null,Ni=null;function Pr(n){var s=On(n);if(s&&(n=s.stateNode)){var a=n[Pe]||null;t:switch(n=s.stateNode,s.type){case"input":if(Na(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Pe]||null;if(!f)throw Error(r(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Or(l)}break t;case"textarea":fc(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ds(n,!!a.multiple,s,!1)}}}var Va=!1;function Vs(n,s,a){if(Va)return n(s,a);Va=!0;try{var l=n(s);return l}finally{if(Va=!1,(Os!==null||Ni!==null)&&(oh(),Os&&(s=Os,n=Ni,Ni=Os=null,Pr(s),n)))for(s=0;s<n.length;s++)Pr(n[s])}}function ei(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Pn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Lr=!1}var Mi=null,hl=null,kr=null;function fl(){if(kr)return kr;var n,s=hl,a=s.length,l,f="value"in Mi?Mi.value:Mi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return kr=f.slice(n,1<l?1-l:void 0)}function Ur(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function $i(){return!0}function ni(){return!1}function Be(n){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:ni,this.isPropagationStopped=ni,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Be(Qi),Ps=E({},Qi,{view:0,detail:0}),dl=Be(Ps),Ls,Pa,Vi,La=E({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vi&&(Vi&&n.type==="mousemove"?(Ls=n.screenX-Vi.screenX,Pa=n.screenY-Vi.screenY):Pa=Ls=0,Vi=n),Ls)},movementY:function(n){return"movementY"in n?n.movementY:Pa}}),ml=Be(La),jr=E({},La,{dataTransfer:0}),pc=Be(jr),gc=E({},Ps,{relatedTarget:0}),zr=Be(gc),pl=E({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=Be(pl),ka=E({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vc=Be(ka),_c=E({},Qi,{data:0}),Pi=Be(_c),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Sc[n])?!!s[n]:!1}function ks(){return bc}var on=E({},Ps,{key:function(n){if(n.key){var s=Tc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(n){return n.type==="keypress"?Ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ac=Be(on),wc=E({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Be(wc),h=E({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),y=Be(h),T=E({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(T),H=E({},La,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Be(H),ot=E({},Qi,{newState:0,oldState:0}),St=Be(ot),pe=[9,13,27,32],Bt=Pn&&"CompositionEvent"in window,ie=null;Pn&&"documentMode"in document&&(ie=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ie,Li=Pn&&(!Bt||ie&&8<ie&&11>=ie),ii=" ",si=!1;function Br(n,s){switch(n){case"keyup":return pe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ja=!1;function cR(n,s){switch(n){case"compositionend":return Ua(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return n=s.data,n===ii&&si?null:n;default:return null}}function hR(n,s){if(ja)return n==="compositionend"||!Bt&&Br(n,s)?(n=fl(),kr=hl=Mi=null,ja=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Li&&s.locale!=="ko"?null:s.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!fR[n.type]:s==="textarea"}function tv(n,s,a,l){Os?Ni?Ni.push(l):Ni=[l]:Os=l,s=mh(s,"onChange"),0<s.length&&(a=new Oi("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var gl=null,yl=null;function dR(n){L0(n,0)}function Rc(n){var s=Sn(n);if(Or(s))return n}function ev(n,s){if(n==="change")return s}var nv=!1;if(Pn){var id;if(Pn){var sd="oninput"in document;if(!sd){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),sd=typeof iv.oninput=="function"}id=sd}else id=!1;nv=id&&(!document.documentMode||9<document.documentMode)}function sv(){gl&&(gl.detachEvent("onpropertychange",rv),yl=gl=null)}function rv(n){if(n.propertyName==="value"&&Rc(yl)){var s=[];tv(s,yl,n,Vn(n)),Vs(dR,s)}}function mR(n,s,a){n==="focusin"?(sv(),gl=s,yl=a,gl.attachEvent("onpropertychange",rv)):n==="focusout"&&sv()}function pR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rc(yl)}function gR(n,s){if(n==="click")return Rc(s)}function yR(n,s){if(n==="input"||n==="change")return Rc(s)}function vR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var An=typeof Object.is=="function"?Object.is:vR;function vl(n,s){if(An(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Te.call(s,f)||!An(n[f],s[f]))return!1}return!0}function av(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ov(n,s){var a=av(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=av(a)}}function lv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?lv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function uv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Di(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Di(n.document)}return s}function rd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var _R=Pn&&"documentMode"in document&&11>=document.documentMode,za=null,ad=null,_l=null,od=!1;function cv(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;od||za==null||za!==Di(l)||(l=za,"selectionStart"in l&&rd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=mh(ad,"onSelect"),0<l.length&&(s=new Oi("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=za)))}function Fr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ba={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},ld={},hv={};Pn&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Hr(n){if(ld[n])return ld[n];if(!Ba[n])return n;var s=Ba[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in hv)return ld[n]=s[a];return n}var fv=Hr("animationend"),dv=Hr("animationiteration"),mv=Hr("animationstart"),TR=Hr("transitionrun"),ER=Hr("transitionstart"),SR=Hr("transitioncancel"),pv=Hr("transitionend"),gv=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function ri(n,s){gv.set(n,s),xi(s,[n])}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},kn=[],Fa=0,cd=0;function xc(){for(var n=Fa,s=cd=Fa=0;s<n;){var a=kn[s];kn[s++]=null;var l=kn[s];kn[s++]=null;var f=kn[s];kn[s++]=null;var d=kn[s];if(kn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&yv(a,f,d)}}function Ic(n,s,a,l){kn[Fa++]=n,kn[Fa++]=s,kn[Fa++]=a,kn[Fa++]=l,cd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function hd(n,s,a,l){return Ic(n,s,a,l),Dc(n)}function qr(n,s){return Ic(n,null,null,s),Dc(n)}function yv(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-me(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Dc(n){if(50<Bl)throw Bl=0,Tm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ha={};function bR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,s,a,l){return new bR(n,s,a,l)}function fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zi(n,s){var a=n.alternate;return a===null?(a=wn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vv(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Nc(n,s,a,l,f,d){var _=0;if(l=n,typeof n=="function")fd(n)&&(_=1);else if(typeof n=="string")_=xC(n,a,ct.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=wn(31,a,s,f),n.elementType=R,n.lanes=d,n;case F:return Gr(a.children,f,d,s);case U:_=8,f|=24;break;case B:return n=wn(12,a,s,f|2),n.elementType=B,n.lanes=d,n;case at:return n=wn(13,a,s,f),n.elementType=at,n.lanes=d,n;case ht:return n=wn(19,a,s,f),n.elementType=ht,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:_=10;break t;case Y:_=9;break t;case rt:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=wn(_,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function Gr(n,s,a,l){return n=wn(7,n,l,s),n.lanes=a,n}function dd(n,s,a){return n=wn(6,n,null,s),n.lanes=a,n}function _v(n){var s=wn(18,null,null,0);return s.stateNode=n,s}function md(n,s,a){return s=wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Tv=new WeakMap;function Un(n,s){if(typeof n=="object"&&n!==null){var a=Tv.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Qo(s)},Tv.set(n,s),s)}return{value:n,source:s,stack:Qo(s)}}var qa=[],Ga=0,Mc=null,Tl=0,jn=[],zn=0,Us=null,ki=1,Ui="";function Ji(n,s){qa[Ga++]=Tl,qa[Ga++]=Mc,Mc=n,Tl=s}function Ev(n,s,a){jn[zn++]=ki,jn[zn++]=Ui,jn[zn++]=Us,Us=n;var l=ki;n=Ui;var f=32-me(l)-1;l&=~(1<<f),a+=1;var d=32-me(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ki=1<<32-me(s)+f|a<<f|l,Ui=d+n}else ki=1<<d|a<<f|l,Ui=n}function pd(n){n.return!==null&&(Ji(n,1),Ev(n,1,0))}function gd(n){for(;n===Mc;)Mc=qa[--Ga],qa[Ga]=null,Tl=qa[--Ga],qa[Ga]=null;for(;n===Us;)Us=jn[--zn],jn[zn]=null,Ui=jn[--zn],jn[zn]=null,ki=jn[--zn],jn[zn]=null}function Sv(n,s){jn[zn++]=ki,jn[zn++]=Ui,jn[zn++]=Us,ki=s.id,Ui=s.overflow,Us=n}var Fe=null,te=null,Lt=!1,js=null,Bn=!1,yd=Error(r(519));function zs(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(Un(s,n)),yd}function bv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Se]=n,s[Pe]=l,a){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Nt(Hl[a],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),hc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),Ns(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||z0(s.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),l.onScroll!=null&&Nt("scroll",s),l.onScrollEnd!=null&&Nt("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||zs(n,!0)}function Av(n){for(Fe=n.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Fe=Fe.return}}function Ka(n){if(n!==Fe)return!1;if(!Lt)return Av(n),Lt=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Pm(n.type,n.memoizedProps)),a=!a),a&&te&&zs(n),Av(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));te=$0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));te=$0(n)}else s===27?(s=te,tr(n.type)?(n=zm,zm=null,te=n):te=s):te=Fe?Hn(n.stateNode.nextSibling):null;return!0}function Kr(){te=Fe=null,Lt=!1}function vd(){var n=js;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),js=null),n}function El(n){js===null?js=[n]:js.push(n)}var _d=k(null),Yr=null,ts=null;function Bs(n,s,a){lt(_d,s._currentValue),s._currentValue=a}function es(n){n._currentValue=_d.current,et(_d)}function Td(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Ed(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var D=0;D<s.length;D++)if(b.context===s[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Td(d.return,a,n),l||(_=null);break t}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Td(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=f.type;An(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===kt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&Ed(s,n,a,l),s.flags|=262144}function Oc(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xr(n){Yr=n,ts=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function He(n){return wv(Yr,n)}function Vc(n,s){return Yr===null&&Xr(n),wv(n,s)}function wv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ts===null){if(n===null)throw Error(r(308));ts=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ts=ts.next=s;return a}var AR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},wR=e.unstable_scheduleCallback,RR=e.unstable_NormalPriority,we={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new AR,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&wR(RR,function(){n.controller.abort()})}var bl=null,bd=0,Xa=0,$a=null;function CR(n,s){if(bl===null){var a=bl=[];bd=0,Xa=Rm(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bd++,s.then(Rv,Rv),s}function Rv(){if(--bd===0&&bl!==null){$a!==null&&($a.status="fulfilled");var n=bl;bl=null,Xa=0,$a=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function xR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Cv=W.S;W.S=function(n,s){c0=an(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&CR(n,s),Cv!==null&&Cv(n,s)};var $r=k(null);function Ad(){var n=$r.current;return n!==null?n:Zt.pooledCache}function Pc(n,s){s===null?lt($r,$r.current):lt($r,s.pool)}function xv(){var n=Ad();return n===null?null:{parent:we._currentValue,pool:n}}var Qa=Error(r(460)),wd=Error(r(474)),Lc=Error(r(542)),kc={then:function(){}};function Iv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Dv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ti,ti),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Mv(n),n;default:if(typeof s.status=="string")s.then(ti,ti);else{if(n=Zt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Mv(n),n}throw Wr=s,Qa}}function Qr(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Qa):a}}var Wr=null;function Nv(){if(Wr===null)throw Error(r(459));var n=Wr;return Wr=null,n}function Mv(n){if(n===Qa||n===Lc)throw Error(r(483))}var Wa=null,Al=0;function Uc(n){var s=Al;return Al+=1,Wa===null&&(Wa=[]),Dv(Wa,n,s)}function wl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function jc(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ov(n){function s(z,L){if(n){var G=z.deletions;G===null?(z.deletions=[L],z.flags|=16):G.push(L)}}function a(z,L){if(!n)return null;for(;L!==null;)s(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=Zi(z,L),z.index=0,z.sibling=null,z}function d(z,L,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<L?(z.flags|=67108866,L):G):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function _(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,L,G,J){return L===null||L.tag!==6?(L=dd(G,z.mode,J),L.return=z,L):(L=f(L,G),L.return=z,L)}function D(z,L,G,J){var pt=G.type;return pt===F?Z(z,L,G.props.children,J,G.key):L!==null&&(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Qr(pt)===L.type)?(L=f(L,G.props),wl(L,G),L.return=z,L):(L=Nc(G.type,G.key,G.props,null,z.mode,J),wl(L,G),L.return=z,L)}function K(z,L,G,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=md(G,z.mode,J),L.return=z,L):(L=f(L,G.children||[]),L.return=z,L)}function Z(z,L,G,J,pt){return L===null||L.tag!==7?(L=Gr(G,z.mode,J,pt),L.return=z,L):(L=f(L,G),L.return=z,L)}function tt(z,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=dd(""+L,z.mode,G),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return G=Nc(L.type,L.key,L.props,null,z.mode,G),wl(G,L),G.return=z,G;case N:return L=md(L,z.mode,G),L.return=z,L;case w:return L=Qr(L),tt(z,L,G)}if(Wt(L)||j(L))return L=Gr(L,z.mode,G,null),L.return=z,L;if(typeof L.then=="function")return tt(z,Uc(L),G);if(L.$$typeof===q)return tt(z,Vc(z,L),G);jc(z,L)}return null}function X(z,L,G,J){var pt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pt!==null?null:b(z,L,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return G.key===pt?D(z,L,G,J):null;case N:return G.key===pt?K(z,L,G,J):null;case w:return G=Qr(G),X(z,L,G,J)}if(Wt(G)||j(G))return pt!==null?null:Z(z,L,G,J,null);if(typeof G.then=="function")return X(z,L,Uc(G),J);if(G.$$typeof===q)return X(z,L,Vc(z,G),J);jc(z,G)}return null}function Q(z,L,G,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(G)||null,b(L,z,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return z=z.get(J.key===null?G:J.key)||null,D(L,z,J,pt);case N:return z=z.get(J.key===null?G:J.key)||null,K(L,z,J,pt);case w:return J=Qr(J),Q(z,L,G,J,pt)}if(Wt(J)||j(J))return z=z.get(G)||null,Z(L,z,J,pt,null);if(typeof J.then=="function")return Q(z,L,G,Uc(J),pt);if(J.$$typeof===q)return Q(z,L,G,Vc(L,J),pt);jc(L,J)}return null}function ft(z,L,G,J){for(var pt=null,jt=null,dt=L,Rt=L=0,Vt=null;dt!==null&&Rt<G.length;Rt++){dt.index>Rt?(Vt=dt,dt=null):Vt=dt.sibling;var zt=X(z,dt,G[Rt],J);if(zt===null){dt===null&&(dt=Vt);break}n&&dt&&zt.alternate===null&&s(z,dt),L=d(zt,L,Rt),jt===null?pt=zt:jt.sibling=zt,jt=zt,dt=Vt}if(Rt===G.length)return a(z,dt),Lt&&Ji(z,Rt),pt;if(dt===null){for(;Rt<G.length;Rt++)dt=tt(z,G[Rt],J),dt!==null&&(L=d(dt,L,Rt),jt===null?pt=dt:jt.sibling=dt,jt=dt);return Lt&&Ji(z,Rt),pt}for(dt=l(dt);Rt<G.length;Rt++)Vt=Q(dt,z,Rt,G[Rt],J),Vt!==null&&(n&&Vt.alternate!==null&&dt.delete(Vt.key===null?Rt:Vt.key),L=d(Vt,L,Rt),jt===null?pt=Vt:jt.sibling=Vt,jt=Vt);return n&&dt.forEach(function(rr){return s(z,rr)}),Lt&&Ji(z,Rt),pt}function yt(z,L,G,J){if(G==null)throw Error(r(151));for(var pt=null,jt=null,dt=L,Rt=L=0,Vt=null,zt=G.next();dt!==null&&!zt.done;Rt++,zt=G.next()){dt.index>Rt?(Vt=dt,dt=null):Vt=dt.sibling;var rr=X(z,dt,zt.value,J);if(rr===null){dt===null&&(dt=Vt);break}n&&dt&&rr.alternate===null&&s(z,dt),L=d(rr,L,Rt),jt===null?pt=rr:jt.sibling=rr,jt=rr,dt=Vt}if(zt.done)return a(z,dt),Lt&&Ji(z,Rt),pt;if(dt===null){for(;!zt.done;Rt++,zt=G.next())zt=tt(z,zt.value,J),zt!==null&&(L=d(zt,L,Rt),jt===null?pt=zt:jt.sibling=zt,jt=zt);return Lt&&Ji(z,Rt),pt}for(dt=l(dt);!zt.done;Rt++,zt=G.next())zt=Q(dt,z,Rt,zt.value,J),zt!==null&&(n&&zt.alternate!==null&&dt.delete(zt.key===null?Rt:zt.key),L=d(zt,L,Rt),jt===null?pt=zt:jt.sibling=zt,jt=zt);return n&&dt.forEach(function(jC){return s(z,jC)}),Lt&&Ji(z,Rt),pt}function Qt(z,L,G,J){if(typeof G=="object"&&G!==null&&G.type===F&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case I:t:{for(var pt=G.key;L!==null;){if(L.key===pt){if(pt=G.type,pt===F){if(L.tag===7){a(z,L.sibling),J=f(L,G.props.children),J.return=z,z=J;break t}}else if(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Qr(pt)===L.type){a(z,L.sibling),J=f(L,G.props),wl(J,G),J.return=z,z=J;break t}a(z,L);break}else s(z,L);L=L.sibling}G.type===F?(J=Gr(G.props.children,z.mode,J,G.key),J.return=z,z=J):(J=Nc(G.type,G.key,G.props,null,z.mode,J),wl(J,G),J.return=z,z=J)}return _(z);case N:t:{for(pt=G.key;L!==null;){if(L.key===pt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(z,L.sibling),J=f(L,G.children||[]),J.return=z,z=J;break t}else{a(z,L);break}else s(z,L);L=L.sibling}J=md(G,z.mode,J),J.return=z,z=J}return _(z);case w:return G=Qr(G),Qt(z,L,G,J)}if(Wt(G))return ft(z,L,G,J);if(j(G)){if(pt=j(G),typeof pt!="function")throw Error(r(150));return G=pt.call(G),yt(z,L,G,J)}if(typeof G.then=="function")return Qt(z,L,Uc(G),J);if(G.$$typeof===q)return Qt(z,L,Vc(z,G),J);jc(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(z,L.sibling),J=f(L,G),J.return=z,z=J):(a(z,L),J=dd(G,z.mode,J),J.return=z,z=J),_(z)):a(z,L)}return function(z,L,G,J){try{Al=0;var pt=Qt(z,L,G,J);return Wa=null,pt}catch(dt){if(dt===Qa||dt===Lc)throw dt;var jt=wn(29,dt,null,z.mode);return jt.lanes=J,jt.return=z,jt}finally{}}}var Zr=Ov(!0),Vv=Ov(!1),Fs=!1;function Rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Dc(n),yv(n,null,a),s}return Ic(n,l,s,a),Dc(n)}function Rl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jo(n,a)}}function xd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Id=!1;function Cl(){if(Id){var n=$a;if(n!==null)throw n}}function xl(n,s,a,l){Id=!1;var f=n.updateQueue;Fs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,K=D.next;D.next=null,_===null?d=K:_.next=K,_=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=K:b.next=K,Z.lastBaseUpdate=D))}if(d!==null){var tt=f.baseState;_=0,Z=K=D=null,b=d;do{var X=b.lane&-536870913,Q=X!==b.lane;if(Q?(Ot&X)===X:(l&X)===X){X!==0&&X===Xa&&(Id=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ft=n,yt=b;X=s;var Qt=a;switch(yt.tag){case 1:if(ft=yt.payload,typeof ft=="function"){tt=ft.call(Qt,tt,X);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=yt.payload,X=typeof ft=="function"?ft.call(Qt,tt,X):ft,X==null)break t;tt=E({},tt,X);break t;case 2:Fs=!0}}X=b.callback,X!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(K=Z=Q,D=tt):Z=Z.next=Q,_|=X;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(D=tt),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),$s|=_,n.lanes=_,n.memoizedState=tt}}function Pv(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Lv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Pv(a[n],s)}var Za=k(null),zc=k(0);function kv(n,s){n=cs,lt(zc,n),lt(Za,s),cs=n|s.baseLanes}function Dd(){lt(zc,cs),lt(Za,Za.current)}function Nd(){cs=zc.current,et(Za),et(zc)}var Rn=k(null),Fn=null;function Gs(n){var s=n.alternate;lt(ge,ge.current&1),lt(Rn,n),Fn===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Fn=n)}function Md(n){lt(ge,ge.current),lt(Rn,n),Fn===null&&(Fn=n)}function Uv(n){n.tag===22?(lt(ge,ge.current),lt(Rn,n),Fn===null&&(Fn=n)):Ks()}function Ks(){lt(ge,ge.current),lt(Rn,Rn.current)}function Cn(n){et(Rn),Fn===n&&(Fn=null),et(ge)}var ge=k(0);function Bc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Um(a)||jm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ns=0,bt=null,Xt=null,Re=null,Fc=!1,Ja=!1,Jr=!1,Hc=0,Il=0,to=null,IR=0;function ce(){throw Error(r(321))}function Od(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!An(n[a],s[a]))return!1;return!0}function Vd(n,s,a,l,f,d){return ns=d,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?E_:$d,Jr=!1,d=a(l,f),Jr=!1,Ja&&(d=zv(s,a,l,f)),jv(n),d}function jv(n){W.H=Ml;var s=Xt!==null&&Xt.next!==null;if(ns=0,Re=Xt=bt=null,Fc=!1,Il=0,to=null,s)throw Error(r(300));n===null||Ce||(n=n.dependencies,n!==null&&Oc(n)&&(Ce=!0))}function zv(n,s,a,l){bt=n;var f=0;do{if(Ja&&(to=null),Il=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Re=Xt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=S_,d=s(a,l)}while(Ja);return d}function DR(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?Dl(s):s,n=n.useState()[0],(Xt!==null?Xt.memoizedState:null)!==n&&(bt.flags|=1024),s}function Pd(){var n=Hc!==0;return Hc=0,n}function Ld(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function kd(n){if(Fc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fc=!1}ns=0,Re=Xt=bt=null,Ja=!1,Il=Hc=0,to=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?bt.memoizedState=Re=n:Re=Re.next=n,Re}function ye(){if(Xt===null){var n=bt.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var s=Re===null?bt.memoizedState:Re.next;if(s!==null)Re=s,Xt=n;else{if(n===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Re===null?bt.memoizedState=Re=n:Re=Re.next=n}return Re}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(n){var s=Il;return Il+=1,to===null&&(to=[]),n=Dv(to,n,s),s=bt,(Re===null?s.memoizedState:Re.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?E_:$d),n}function Gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Dl(n);if(n.$$typeof===q)return He(n)}throw Error(r(438,String(n)))}function Ud(n){var s=null,a=bt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=qc(),bt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=V;return s.index++,a}function is(n,s){return typeof s=="function"?s(n):s}function Kc(n){var s=ye();return jd(s,Xt,n)}function jd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var b=_=null,D=null,K=s,Z=!1;do{var tt=K.lane&-536870913;if(tt!==K.lane?(Ot&tt)===tt:(ns&tt)===tt){var X=K.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),tt===Xa&&(Z=!0);else if((ns&X)===X){K=K.next,X===Xa&&(Z=!0);continue}else tt={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(b=D=tt,_=d):D=D.next=tt,bt.lanes|=X,$s|=X;tt=K.action,Jr&&a(d,tt),d=K.hasEagerState?K.eagerState:a(d,tt)}else X={lane:tt,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(b=D=X,_=d):D=D.next=X,bt.lanes|=tt,$s|=tt;K=K.next}while(K!==null&&K!==s);if(D===null?_=d:D.next=b,!An(d,n.memoizedState)&&(Ce=!0,Z&&(a=$a,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function zd(n){var s=ye(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);An(d,s.memoizedState)||(Ce=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Bv(n,s,a){var l=bt,f=ye(),d=Lt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!An((Xt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ce=!0),f=f.queue,Hd(qv.bind(null,l,f,n),[n]),f.getSnapshot!==s||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},Hv.bind(null,l,f,a,s),null),Zt===null)throw Error(r(349));d||(ns&127)!==0||Fv(l,s,a)}return a}function Fv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=bt.updateQueue,s===null?(s=qc(),bt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Hv(n,s,a,l){s.value=a,s.getSnapshot=l,Gv(s)&&Kv(n)}function qv(n,s,a){return a(function(){Gv(s)&&Kv(n)})}function Gv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!An(n,a)}catch{return!0}}function Kv(n){var s=qr(n,2);s!==null&&vn(s,n,2)}function Bd(n){var s=ln();if(typeof n=="function"){var a=n;if(n=a(),Jr){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:n},s}function Yv(n,s,a,l){return n.baseState=a,jd(n,Xt,typeof l=="function"?l:is)}function NR(n,s,a,l,f){if($c(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Xv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Xv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=W.T,_={};W.T=_;try{var b=a(f,l),D=W.S;D!==null&&D(_,b),$v(n,s,b)}catch(K){Fd(n,s,K)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),$v(n,s,d)}catch(K){Fd(n,s,K)}}function $v(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qv(n,s,l)},function(l){return Fd(n,s,l)}):Qv(n,s,a)}function Qv(n,s,a){s.status="fulfilled",s.value=a,Wv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Xv(n,a)))}function Fd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Wv(s),s=s.next;while(s!==l)}n.action=null}function Wv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Zv(n,s){return s}function Jv(n,s){if(Lt){var a=Zt.formState;if(a!==null){t:{var l=bt;if(Lt){if(te){e:{for(var f=te,d=Bn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Hn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){te=Hn(f.nextSibling),l=f.data==="F!";break t}}zs(l)}l=!1}l&&(s=a[0])}}return a=ln(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zv,lastRenderedState:s},a.queue=l,a=v_.bind(null,bt,l),l.dispatch=a,l=Bd(!1),d=Xd.bind(null,bt,!1,l.queue),l=ln(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=NR.bind(null,bt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function t_(n){var s=ye();return e_(s,Xt,n)}function e_(n,s,a){if(s=jd(n,s,Zv)[0],n=Kc(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Dl(s)}catch(_){throw _===Qa?Lc:_}else l=s;s=ye();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(bt.flags|=2048,eo(9,{destroy:void 0},MR.bind(null,f,a),null)),[l,d,n]}function MR(n,s){n.action=s}function n_(n){var s=ye(),a=Xt;if(a!==null)return e_(s,a,n);ye(),s=s.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function eo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=bt.updateQueue,s===null&&(s=qc(),bt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function i_(){return ye().memoizedState}function Yc(n,s,a,l){var f=ln();bt.flags|=n,f.memoizedState=eo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Xc(n,s,a,l){var f=ye();l=l===void 0?null:l;var d=f.memoizedState.inst;Xt!==null&&l!==null&&Od(l,Xt.memoizedState.deps)?f.memoizedState=eo(s,d,a,l):(bt.flags|=n,f.memoizedState=eo(1|s,d,a,l))}function s_(n,s){Yc(8390656,8,n,s)}function Hd(n,s){Xc(2048,8,n,s)}function OR(n){bt.flags|=4;var s=bt.updateQueue;if(s===null)s=qc(),bt.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function r_(n){var s=ye().memoizedState;return OR({ref:s,nextImpl:n}),function(){if((Ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function a_(n,s){return Xc(4,2,n,s)}function o_(n,s){return Xc(4,4,n,s)}function l_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function u_(n,s,a){a=a!=null?a.concat([n]):null,Xc(4,4,l_.bind(null,s,n),a)}function qd(){}function c_(n,s){var a=ye();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Od(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function h_(n,s){var a=ye();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Od(s,l[1]))return l[0];if(l=n(),Jr){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,s],l}function Gd(n,s,a){return a===void 0||(ns&1073741824)!==0&&(Ot&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=f0(),bt.lanes|=n,$s|=n,a)}function f_(n,s,a,l){return An(a,s)?a:Za.current!==null?(n=Gd(n,a,l),An(n,s)||(Ce=!0),n):(ns&42)===0||(ns&1073741824)!==0&&(Ot&261930)===0?(Ce=!0,n.memoizedState=a):(n=f0(),bt.lanes|=n,$s|=n,s)}function d_(n,s,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var _=W.T,b={};W.T=b,Xd(n,!1,s,a);try{var D=f(),K=W.S;if(K!==null&&K(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=xR(D,l);Nl(n,s,Z,Dn(n))}else Nl(n,s,l,Dn(n))}catch(tt){Nl(n,s,{then:function(){},status:"rejected",reason:tt},Dn())}finally{it.p=d,_!==null&&b.types!==null&&(_.types=b.types),W.T=_}}function VR(){}function Kd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=m_(n).queue;d_(n,f,s,ut,a===null?VR:function(){return p_(n),a(l)})}function m_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ut},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function p_(n){var s=m_(n);s.next===null&&(s=n.alternate.memoizedState),Nl(n,s.next.queue,{},Dn())}function Yd(){return He(Xl)}function g_(){return ye().memoizedState}function y_(){return ye().memoizedState}function PR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();n=Hs(a);var l=qs(s,n,a);l!==null&&(vn(l,s,a),Rl(l,s,a)),s={cache:Sd()},n.payload=s;return}s=s.return}}function LR(n,s,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$c(n)?__(s,a):(a=hd(n,s,a,l),a!==null&&(vn(a,n,l),T_(a,s,l)))}function v_(n,s,a){var l=Dn();Nl(n,s,a,l)}function Nl(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(n))__(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,An(b,_))return Ic(n,s,f,0),Zt===null&&xc(),!1}catch{}finally{}if(a=hd(n,s,f,l),a!==null)return vn(a,n,l),T_(a,s,l),!0}return!1}function Xd(n,s,a,l){if(l={lane:2,revertLane:Rm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$c(n)){if(s)throw Error(r(479))}else s=hd(n,a,l,2),s!==null&&vn(s,n,2)}function $c(n){var s=n.alternate;return n===bt||s!==null&&s===bt}function __(n,s){Ja=Fc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function T_(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jo(n,a)}}var Ml={readContext:He,use:Gc,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Ml.useEffectEvent=ce;var E_={readContext:He,use:Gc,useCallback:function(n,s){return ln().memoizedState=[n,s===void 0?null:s],n},useContext:He,useEffect:s_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Yc(4194308,4,l_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Yc(4194308,4,n,s)},useInsertionEffect:function(n,s){Yc(4,2,n,s)},useMemo:function(n,s){var a=ln();s=s===void 0?null:s;var l=n();if(Jr){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=ln();if(a!==void 0){var f=a(s);if(Jr){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=LR.bind(null,bt,n),[l.memoizedState,n]},useRef:function(n){var s=ln();return n={current:n},s.memoizedState=n},useState:function(n){n=Bd(n);var s=n.queue,a=v_.bind(null,bt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:qd,useDeferredValue:function(n,s){var a=ln();return Gd(a,n,s)},useTransition:function(){var n=Bd(!1);return n=d_.bind(null,bt,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=bt,f=ln();if(Lt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Zt===null)throw Error(r(349));(Ot&127)!==0||Fv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,s_(qv.bind(null,l,d,n),[n]),l.flags|=2048,eo(9,{destroy:void 0},Hv.bind(null,l,d,a,s),null),a},useId:function(){var n=ln(),s=Zt.identifierPrefix;if(Lt){var a=Ui,l=ki;a=(l&~(1<<32-me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Hc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=IR++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Yd,useFormState:Jv,useActionState:Jv,useOptimistic:function(n){var s=ln();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Xd.bind(null,bt,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ud,useCacheRefresh:function(){return ln().memoizedState=PR.bind(null,bt)},useEffectEvent:function(n){var s=ln(),a={impl:n};return s.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$d={readContext:He,use:Gc,useCallback:c_,useContext:He,useEffect:Hd,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Kc,useRef:i_,useState:function(){return Kc(is)},useDebugValue:qd,useDeferredValue:function(n,s){var a=ye();return f_(a,Xt.memoizedState,n,s)},useTransition:function(){var n=Kc(is)[0],s=ye().memoizedState;return[typeof n=="boolean"?n:Dl(n),s]},useSyncExternalStore:Bv,useId:g_,useHostTransitionStatus:Yd,useFormState:t_,useActionState:t_,useOptimistic:function(n,s){var a=ye();return Yv(a,Xt,n,s)},useMemoCache:Ud,useCacheRefresh:y_};$d.useEffectEvent=r_;var S_={readContext:He,use:Gc,useCallback:c_,useContext:He,useEffect:Hd,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:zd,useRef:i_,useState:function(){return zd(is)},useDebugValue:qd,useDeferredValue:function(n,s){var a=ye();return Xt===null?Gd(a,n,s):f_(a,Xt.memoizedState,n,s)},useTransition:function(){var n=zd(is)[0],s=ye().memoizedState;return[typeof n=="boolean"?n:Dl(n),s]},useSyncExternalStore:Bv,useId:g_,useHostTransitionStatus:Yd,useFormState:n_,useActionState:n_,useOptimistic:function(n,s){var a=ye();return Xt!==null?Yv(a,Xt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:y_};S_.useEffectEvent=r_;function Qd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Wd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Hs(l);f.payload=s,a!=null&&(f.callback=a),s=qs(n,f,l),s!==null&&(vn(s,n,l),Rl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Hs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=qs(n,f,l),s!==null&&(vn(s,n,l),Rl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Dn(),l=Hs(a);l.tag=2,s!=null&&(l.callback=s),s=qs(n,l,a),s!==null&&(vn(s,n,a),Rl(s,n,a))}};function b_(n,s,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!vl(a,l)||!vl(f,d):!0}function A_(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Wd.enqueueReplaceState(s,s.state,null)}function ta(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function w_(n){Cc(n)}function R_(n){console.error(n)}function C_(n){Cc(n)}function Qc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function x_(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Zd(n,s,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(n,s)},a}function I_(n){return n=Hs(n),n.tag=3,n}function D_(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){x_(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){x_(s,a,l),typeof f!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function kR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ya(s,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?lh():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===kc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),bm(n,l,f)),!1;case 22:return a.flags|=65536,l===kc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),bm(n,l,f)),!1}throw Error(r(435,a.tag))}return bm(n,l,f),lh(),!1}if(Lt)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==yd&&(n=Error(r(422),{cause:l}),El(Un(n,a)))):(l!==yd&&(s=Error(r(423),{cause:l}),El(Un(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Un(l,a),f=Zd(n.stateNode,l,f),xd(n,f),he!==4&&(he=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),zl===null?zl=[d]:zl.push(d),he!==4&&(he=2),s===null)return!0;l=Un(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Zd(a.stateNode,l,n),xd(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qs===null||!Qs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=I_(f),D_(f,n,a,l),xd(a,f),!1}a=a.return}while(a!==null);return!1}var Jd=Error(r(461)),Ce=!1;function qe(n,s,a,l){s.child=n===null?Vv(s,null,a,l):Zr(s,n.child,a,l)}function N_(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Xr(s),l=Vd(n,s,a,_,d,f),b=Pd(),n!==null&&!Ce?(Ld(n,s,f),ss(n,s,f)):(Lt&&b&&pd(s),s.flags|=1,qe(n,s,l,f),s.child)}function M_(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!fd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,O_(n,s,d,l,f)):(n=Nc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!om(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&n.ref===s.ref)return ss(n,s,f)}return s.flags|=1,n=Zi(d,l),n.ref=s.ref,n.return=s,s.child=n}function O_(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(vl(d,l)&&n.ref===s.ref)if(Ce=!1,s.pendingProps=l=d,om(n,f))(n.flags&131072)!==0&&(Ce=!0);else return s.lanes=n.lanes,ss(n,s,f)}return tm(n,s,a,l,f)}function V_(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return P_(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pc(s,d!==null?d.cachePool:null),d!==null?kv(s,d):Dd(),Uv(s);else return l=s.lanes=536870912,P_(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Pc(s,d.cachePool),kv(s,d),Ks(),s.memoizedState=null):(n!==null&&Pc(s,null),Dd(),Ks());return qe(n,s,f,a),s.child}function Ol(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function P_(n,s,a,l,f){var d=Ad();return d=d===null?null:{parent:we._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Pc(s,null),Dd(),Uv(s),n!==null&&Ya(n,s,l,!0),s.childLanes=f,null}function Wc(n,s){return s=Jc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function L_(n,s,a){return Zr(s,n.child,null,a),n=Wc(s,s.pendingProps),n.flags|=2,Cn(s),s.memoizedState=null,n}function UR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Lt){if(l.mode==="hidden")return n=Wc(s,l),s.lanes=536870912,Ol(null,n);if(Md(s),(n=te)?(n=X0(n,Bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Us!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=_v(n),a.return=s,s.child=a,Fe=s,te=null)):n=null,n===null)throw zs(s);return s.lanes=536870912,null}return Wc(s,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Md(s),f)if(s.flags&256)s.flags&=-257,s=L_(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ce||Ya(n,s,a,!1),f=(a&n.childLanes)!==0,Ce||f){if(l=Zt,l!==null&&(_=tl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,qr(n,_),vn(l,n,_),Jd;lh(),s=L_(n,s,a)}else n=d.treeContext,te=Hn(_.nextSibling),Fe=s,Lt=!0,js=null,Bn=!1,n!==null&&Sv(s,n),s=Wc(s,l),s.flags|=4096;return s}return n=Zi(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Zc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function tm(n,s,a,l,f){return Xr(s),a=Vd(n,s,a,l,void 0,f),l=Pd(),n!==null&&!Ce?(Ld(n,s,f),ss(n,s,f)):(Lt&&l&&pd(s),s.flags|=1,qe(n,s,a,f),s.child)}function k_(n,s,a,l,f,d){return Xr(s),s.updateQueue=null,a=zv(s,l,a,f),jv(n),l=Pd(),n!==null&&!Ce?(Ld(n,s,d),ss(n,s,d)):(Lt&&l&&pd(s),s.flags|=1,qe(n,s,a,d),s.child)}function U_(n,s,a,l,f){if(Xr(s),s.stateNode===null){var d=Ha,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Rd(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):Ha,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wd.enqueueReplaceState(d,d.state,null),xl(s,l,d,f),Cl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var b=s.memoizedProps,D=ta(a,b);d.props=D;var K=d.context,Z=a.contextType;_=Ha,typeof Z=="object"&&Z!==null&&(_=He(Z));var tt=a.getDerivedStateFromProps;Z=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||K!==_)&&A_(s,d,l,_),Fs=!1;var X=s.memoizedState;d.state=X,xl(s,l,d,f),Cl(),K=s.memoizedState,b||X!==K||Fs?(typeof tt=="function"&&(Qd(s,a,tt,l),K=s.memoizedState),(D=Fs||b_(s,a,D,l,X,K,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Cd(n,s),_=s.memoizedProps,Z=ta(a,_),d.props=Z,tt=s.pendingProps,X=d.context,K=a.contextType,D=Ha,typeof K=="object"&&K!==null&&(D=He(K)),b=a.getDerivedStateFromProps,(K=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||X!==D)&&A_(s,d,l,D),Fs=!1,X=s.memoizedState,d.state=X,xl(s,l,d,f),Cl();var Q=s.memoizedState;_!==tt||X!==Q||Fs||n!==null&&n.dependencies!==null&&Oc(n.dependencies)?(typeof b=="function"&&(Qd(s,a,b,l),Q=s.memoizedState),(Z=Fs||b_(s,a,Z,l,X,Q,D)||n!==null&&n.dependencies!==null&&Oc(n.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Zc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Zr(s,n.child,null,f),s.child=Zr(s,null,a,f)):qe(n,s,a,f),s.memoizedState=d.state,n=s.child):n=ss(n,s,f),n}function j_(n,s,a,l){return Kr(),s.flags|=256,qe(n,s,a,l),s.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(n){return{baseLanes:n,cachePool:xv()}}function im(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=In),n}function z_(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(ge.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Lt){if(f?Gs(s):Ks(),(n=te)?(n=X0(n,Bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Us!==null?{id:ki,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=_v(n),a.return=s,s.child=a,Fe=s,te=null)):n=null,n===null)throw zs(s);return jm(n)?s.lanes=32:s.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Ks(),f=s.mode,b=Jc({mode:"hidden",children:b},f),l=Gr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,l=s.child,l.memoizedState=nm(a),l.childLanes=im(n,_,a),s.memoizedState=em,Ol(null,l)):(Gs(s),sm(s,b))}var D=n.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)s.flags&256?(Gs(s),s.flags&=-257,s=rm(n,s,a)):s.memoizedState!==null?(Ks(),s.child=n.child,s.flags|=128,s=null):(Ks(),b=l.fallback,f=s.mode,l=Jc({mode:"visible",children:l.children},f),b=Gr(b,f,a,null),b.flags|=2,l.return=s,b.return=s,l.sibling=b,s.child=l,Zr(s,n.child,null,a),l=s.child,l.memoizedState=nm(a),l.childLanes=im(n,_,a),s.memoizedState=em,s=Ol(null,l));else if(Gs(s),jm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var K=_.dgst;_=K,l=Error(r(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),s=rm(n,s,a)}else if(Ce||Ya(n,s,a,!1),_=(a&n.childLanes)!==0,Ce||_){if(_=Zt,_!==null&&(l=tl(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,qr(n,l),vn(_,n,l),Jd;Um(b)||lh(),s=rm(n,s,a)}else Um(b)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,te=Hn(b.nextSibling),Fe=s,Lt=!0,js=null,Bn=!1,n!==null&&Sv(s,n),s=sm(s,l.children),s.flags|=4096);return s}return f?(Ks(),b=l.fallback,f=s.mode,D=n.child,K=D.sibling,l=Zi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,K!==null?b=Zi(K,b):(b=Gr(b,f,a,null),b.flags|=2),b.return=s,l.return=s,l.sibling=b,s.child=l,Ol(null,l),l=s.child,b=n.child.memoizedState,b===null?b=nm(a):(f=b.cachePool,f!==null?(D=we._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=xv(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=im(n,_,a),s.memoizedState=em,Ol(n.child,l)):(Gs(s),a=n.child,n=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=a,s.memoizedState=null,a)}function sm(n,s){return s=Jc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Jc(n,s){return n=wn(22,n,null,s),n.lanes=0,n}function rm(n,s,a){return Zr(s,n.child,null,a),n=sm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function B_(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Td(n.return,s,a)}function am(n,s,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function F_(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ge.current,b=(_&2)!==0;if(b?(_=_&1|2,s.flags|=128):_&=1,lt(ge,_),qe(n,s,l,a),l=Lt?Tl:0,!b&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&B_(n,a,s);else if(n.tag===19)B_(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Bc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),am(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Bc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}am(s,!0,a,null,d,l);break;case"together":am(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ss(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),$s|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ya(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Zi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Zi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function om(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Oc(n)))}function jR(n,s,a){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),Bs(s,we,n.memoizedState.cache),Kr();break;case 27:case 5:Rr(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Md(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?z_(n,s,a):(Gs(s),n=ss(n,s,a),n!==null?n.sibling:null);Gs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ya(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return F_(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(ge,ge.current),l)break;return null;case 22:return s.lanes=0,V_(n,s,a,s.pendingProps);case 24:Bs(s,we,n.memoizedState.cache)}return ss(n,s,a)}function H_(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ce=!0;else{if(!om(n,a)&&(s.flags&128)===0)return Ce=!1,jR(n,s,a);Ce=(n.flags&131072)!==0}else Ce=!1,Lt&&(s.flags&1048576)!==0&&Ev(s,Tl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(n=Qr(s.elementType),s.type=n,typeof n=="function")fd(n)?(l=ta(n,l),s.tag=1,s=U_(null,s,n,l,a)):(s.tag=0,s=tm(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===rt){s.tag=11,s=N_(null,s,n,l,a);break t}else if(f===C){s.tag=14,s=M_(null,s,n,l,a);break t}}throw s=It(n)||n,Error(r(306,s,""))}}return s;case 0:return tm(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ta(l,s.pendingProps),U_(n,s,l,f,a);case 3:t:{if(Me(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Cd(n,s),xl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Bs(s,we,l),l!==d.cache&&Ed(s,[we],a,!0),Cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=j_(n,s,l,a);break t}else if(l!==f){f=Un(Error(r(424)),s),El(f),s=j_(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(te=Hn(n.firstChild),Fe=s,Lt=!0,js=null,Bn=!0,a=Vv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Kr(),l===f){s=ss(n,s,a);break t}qe(n,s,l,a)}s=s.child}return s;case 26:return Zc(n,s),n===null?(a=tT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Lt||(a=s.type,n=s.pendingProps,l=ph(wt.current).createElement(a),l[Se]=s,l[Pe]=n,Ge(l,a,n),be(l),s.stateNode=l):s.memoizedState=tT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Rr(s),n===null&&Lt&&(l=s.stateNode=W0(s.type,s.pendingProps,wt.current),Fe=s,Bn=!0,f=te,tr(s.type)?(zm=f,te=Hn(l.firstChild)):te=f),qe(n,s,s.pendingProps.children,a),Zc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Lt&&((f=l=te)&&(l=pC(l,s.type,s.pendingProps,Bn),l!==null?(s.stateNode=l,Fe=s,te=Hn(l.firstChild),Bn=!1,f=!0):f=!1),f||zs(s)),Rr(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Pm(f,d)?l=null:_!==null&&Pm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Vd(n,s,DR,null,null,a),Xl._currentValue=f),Zc(n,s),qe(n,s,l,a),s.child;case 6:return n===null&&Lt&&((n=a=te)&&(a=gC(a,s.pendingProps,Bn),a!==null?(s.stateNode=a,Fe=s,te=null,n=!0):n=!1),n||zs(s)),null;case 13:return z_(n,s,a);case 4:return Me(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Zr(s,null,l,a):qe(n,s,l,a),s.child;case 11:return N_(n,s,s.type,s.pendingProps,a);case 7:return qe(n,s,s.pendingProps,a),s.child;case 8:return qe(n,s,s.pendingProps.children,a),s.child;case 12:return qe(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bs(s,s.type,l.value),qe(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Xr(s),f=He(f),l=l(f),s.flags|=1,qe(n,s,l,a),s.child;case 14:return M_(n,s,s.type,s.pendingProps,a);case 15:return O_(n,s,s.type,s.pendingProps,a);case 19:return F_(n,s,a);case 31:return UR(n,s,a);case 22:return V_(n,s,a,s.pendingProps);case 24:return Xr(s),l=He(we),n===null?(f=Ad(),f===null&&(f=Zt,d=Sd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Rd(s),Bs(s,we,f)):((n.lanes&a)!==0&&(Cd(n,s),xl(s,null,null,a),Cl()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bs(s,we,l)):(l=d.cache,Bs(s,we,l),l!==f.cache&&Ed(s,[we],a,!0))),qe(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(n){n.flags|=4}function lm(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(g0())n.flags|=8192;else throw Wr=kc,wd}else n.flags&=-16777217}function q_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rT(s))if(g0())n.flags|=8192;else throw Wr=kc,wd}function th(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ac():536870912,n.lanes|=s,ro|=s)}function Vl(n,s){if(!Lt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ee(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function zR(n,s,a){var l=s.pendingProps;switch(gd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(s),null;case 1:return ee(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),es(we),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ka(s)?rs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vd())),ee(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(rs(s),d!==null?(ee(s),q_(s,d)):(ee(s),lm(s,f,null,l,a))):d?d!==n.memoizedState?(rs(s),ee(s),q_(s,d)):(ee(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&rs(s),ee(s),lm(s,f,n,l,a)),null;case 27:if(Aa(s),a=wt.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ee(s),null}n=ct.current,Ka(s)?bv(s):(n=W0(f,l,a),s.stateNode=n,rs(s))}return ee(s),null;case 5:if(Aa(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ee(s),null}if(d=ct.current,Ka(s))bv(s);else{var _=ph(wt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Se]=s,d[Pe]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Ge(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&rs(s)}}return ee(s),lm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=wt.current,Ka(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Fe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Se]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z0(n.nodeValue,a)),n||zs(s,!0)}else n=ph(n).createTextNode(l),n[Se]=s,s.stateNode=n}return ee(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Ka(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Se]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ee(s),n=!1}else a=vd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ee(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ka(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Se]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ee(s),f=!1}else f=vd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),th(s,s.updateQueue),ee(s),null);case 4:return ne(),n===null&&Dm(s.stateNode.containerInfo),ee(s),null;case 10:return es(s.type),ee(s),null;case 19:if(et(ge),l=s.memoizedState,l===null)return ee(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Vl(l,!1);else{if(he!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=Bc(n),d!==null){for(s.flags|=128,Vl(l,!1),n=d.updateQueue,s.updateQueue=n,th(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)vv(a,n),a=a.sibling;return lt(ge,ge.current&1|2),Lt&&Ji(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&an()>rh&&(s.flags|=128,f=!0,Vl(l,!1),s.lanes=4194304)}else{if(!f)if(n=Bc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,th(s,n),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Lt)return ee(s),null}else 2*an()-l.renderingStartTime>rh&&a!==536870912&&(s.flags|=128,f=!0,Vl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=an(),n.sibling=null,a=ge.current,lt(ge,f?a&1|2:a&1),Lt&&Ji(s,l.treeForkCount),n):(ee(s),null);case 22:case 23:return Cn(s),Nd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ee(s),s.subtreeFlags&6&&(s.flags|=8192)):ee(s),a=s.updateQueue,a!==null&&th(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&et($r),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),es(we),ee(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function BR(n,s){switch(gd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return es(we),ne(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Aa(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(r(340));Kr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Kr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return et(ge),null;case 4:return ne(),null;case 10:return es(s.type),null;case 22:case 23:return Cn(s),Nd(),n!==null&&et($r),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return es(we),null;case 25:return null;default:return null}}function G_(n,s){switch(gd(s),s.tag){case 3:es(we),ne();break;case 26:case 27:case 5:Aa(s);break;case 4:ne();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:et(ge);break;case 10:es(s.type);break;case 22:case 23:Cn(s),Nd(),n!==null&&et($r);break;case 24:es(we)}}function Pl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Kt(s,s.return,b)}}function Ys(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=s;var D=a,K=b;try{K()}catch(Z){Kt(f,D,Z)}}}l=l.next}while(l!==d)}}catch(Z){Kt(s,s.return,Z)}}function K_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Lv(s,a)}catch(l){Kt(n,n.return,l)}}}function Y_(n,s,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(n,s,l)}}function Ll(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Kt(n,s,f)}}function ji(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Kt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(n,s,f)}else a.current=null}function X_(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Kt(n,n.return,f)}}function um(n,s,a){try{var l=n.stateNode;uC(l,n.type,a,s),l[Pe]=s}catch(f){Kt(n,n.return,f)}}function $_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&tr(n.type)||n.tag===4}function cm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||$_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&tr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&tr(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(hm(n,s,a),n=n.sibling;n!==null;)hm(n,s,a),n=n.sibling}function eh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&tr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(eh(n,s,a),n=n.sibling;n!==null;)eh(n,s,a),n=n.sibling}function Q_(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ge(s,l,a),s[Se]=n,s[Pe]=a}catch(d){Kt(n,n.return,d)}}var as=!1,xe=!1,fm=!1,W_=typeof WeakSet=="function"?WeakSet:Set,ke=null;function FR(n,s){if(n=n.containerInfo,Om=Sh,n=uv(n),rd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,D=-1,K=0,Z=0,tt=n,X=null;e:for(;;){for(var Q;tt!==a||f!==0&&tt.nodeType!==3||(b=_+f),tt!==d||l!==0&&tt.nodeType!==3||(D=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)X=tt,tt=Q;for(;;){if(tt===n)break e;if(X===a&&++K===f&&(b=_),X===d&&++Z===l&&(D=_),(Q=tt.nextSibling)!==null)break;tt=X,X=tt.parentNode}tt=Q}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vm={focusedElem:n,selectionRange:a},Sh=!1,ke=s;ke!==null;)if(s=ke,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ke=n;else for(;ke!==null;){switch(s=ke,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=ta(a.type,f);n=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(yt){Kt(a,a.return,yt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)km(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":km(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,ke=n;break}ke=s.return}}function Z_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(n,a),l&4&&Pl(5,a);break;case 1:if(ls(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(_){Kt(a,a.return,_)}else{var f=ta(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Kt(a,a.return,_)}}l&64&&K_(a),l&512&&Ll(a,a.return);break;case 3:if(ls(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Lv(n,s)}catch(_){Kt(a,a.return,_)}}break;case 27:s===null&&l&4&&Q_(a);case 26:case 5:ls(n,a),s===null&&l&4&&X_(a),l&512&&Ll(a,a.return);break;case 12:ls(n,a);break;case 31:ls(n,a),l&4&&e0(n,a);break;case 13:ls(n,a),l&4&&n0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=WR.bind(null,a),yC(n,a))));break;case 22:if(l=a.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||xe,f=as;var d=xe;as=l,(xe=s)&&!d?us(n,a,(a.subtreeFlags&8772)!==0):ls(n,a),as=f,xe=d}break;case 30:break;default:ls(n,a)}}function J_(n){var s=n.alternate;s!==null&&(n.alternate=null,J_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ia(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var se=null,mn=!1;function os(n,s,a){for(a=a.child;a!==null;)t0(n,s,a),a=a.sibling}function t0(n,s,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:xe||ji(a,s),os(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||ji(a,s);var l=se,f=mn;tr(a.type)&&(se=a.stateNode,mn=!1),os(n,s,a),Gl(a.stateNode),se=l,mn=f;break;case 5:xe||ji(a,s);case 6:if(l=se,f=mn,se=null,os(n,s,a),se=l,mn=f,se!==null)if(mn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(d){Kt(a,s,d)}else try{se.removeChild(a.stateNode)}catch(d){Kt(a,s,d)}break;case 18:se!==null&&(mn?(n=se,K0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),mo(n)):K0(se,a.stateNode));break;case 4:l=se,f=mn,se=a.stateNode.containerInfo,mn=!0,os(n,s,a),se=l,mn=f;break;case 0:case 11:case 14:case 15:Ys(2,a,s),xe||Ys(4,a,s),os(n,s,a);break;case 1:xe||(ji(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Y_(a,s,l)),os(n,s,a);break;case 21:os(n,s,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,os(n,s,a),xe=l;break;default:os(n,s,a)}}function e0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{mo(n)}catch(a){Kt(s,s.return,a)}}}function n0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{mo(n)}catch(a){Kt(s,s.return,a)}}function HR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new W_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new W_),s;default:throw Error(r(435,n.tag))}}function nh(n,s){var a=HR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=ZR.bind(null,n,l);l.then(f,f)}})}function pn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=s,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(tr(b.type)){se=b.stateNode,mn=!1;break t}break;case 5:se=b.stateNode,mn=!1;break t;case 3:case 4:se=b.stateNode.containerInfo,mn=!0;break t}b=b.return}if(se===null)throw Error(r(160));t0(d,_,f),se=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)i0(s,n),s=s.sibling}var ai=null;function i0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(s,n),gn(n),l&4&&(Ys(3,n,n.return),Pl(3,n),Ys(5,n,n.return));break;case 1:pn(s,n),gn(n),l&512&&(xe||a===null||ji(a,a.return)),l&64&&as&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(pn(s,n),gn(n),l&512&&(xe||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ge(d,l,a),d[Se]=n,be(d),l=d;break t;case"link":var _=iT("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;case"meta":if(_=iT("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Se]=n,be(d),l=d}n.stateNode=l}else sT(f,n.type,n.stateNode);else n.stateNode=nT(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sT(f,n.type,n.stateNode):nT(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&um(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(s,n),gn(n),l&512&&(xe||a===null||ji(a,a.return)),a!==null&&l&4&&um(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(s,n),gn(n),l&512&&(xe||a===null||ji(a,a.return)),n.flags&32){f=n.stateNode;try{dn(f,"")}catch(ft){Kt(n,n.return,ft)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,um(n,f,a!==null?a.memoizedProps:f)),l&1024&&(fm=!0);break;case 6:if(pn(s,n),gn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ft){Kt(n,n.return,ft)}}break;case 3:if(vh=null,f=ai,ai=gh(s.containerInfo),pn(s,n),ai=f,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(s.containerInfo)}catch(ft){Kt(n,n.return,ft)}fm&&(fm=!1,s0(n));break;case 4:l=ai,ai=gh(n.stateNode.containerInfo),pn(s,n),gn(n),ai=l;break;case 12:pn(s,n),gn(n);break;case 31:pn(s,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nh(n,l)));break;case 13:pn(s,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sh=an()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nh(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=as,Z=xe;if(as=K||f,xe=Z||D,pn(s,n),xe=Z,as=K,gn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||as||xe||ea(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var tt=D.memoizedProps.style,X=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ft){Kt(D,D.return,ft)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ft){Kt(D,D.return,ft)}}}else if(s.tag===18){if(a===null){D=s;try{var Q=D.stateNode;f?Y0(Q,!0):Y0(D.stateNode,!1)}catch(ft){Kt(D,D.return,ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(n,a))));break;case 19:pn(s,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nh(n,l)));break;case 30:break;case 21:break;default:pn(s,n),gn(n)}}function gn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if($_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=cm(n);eh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var b=cm(n);eh(n,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,K=cm(n);hm(n,K,D);break;default:throw Error(r(161))}}catch(Z){Kt(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function s0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;s0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ls(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z_(n,s.alternate,s),s=s.sibling}function ea(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Ys(4,s,s.return),ea(s);break;case 1:ji(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Y_(s,s.return,a),ea(s);break;case 27:Gl(s.stateNode);case 26:case 5:ji(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}n=n.sibling}}function us(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:us(f,d,a),Pl(4,d);break;case 1:if(us(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Kt(l,l.return,K)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Pv(D[f],b)}catch(K){Kt(l,l.return,K)}}a&&_&64&&K_(d),Ll(d,d.return);break;case 27:Q_(d);case 26:case 5:us(f,d,a),a&&l===null&&_&4&&X_(d),Ll(d,d.return);break;case 12:us(f,d,a);break;case 31:us(f,d,a),a&&_&4&&e0(f,d);break;case 13:us(f,d,a),a&&_&4&&n0(f,d);break;case 22:d.memoizedState===null&&us(f,d,a),Ll(d,d.return);break;case 30:break;default:us(f,d,a)}s=s.sibling}}function dm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Sl(a))}function mm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Sl(n))}function oi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r0(n,s,a,l),s=s.sibling}function r0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(n,s,a,l),f&2048&&Pl(9,s);break;case 1:oi(n,s,a,l);break;case 3:oi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Sl(n)));break;case 12:if(f&2048){oi(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Kt(s,s.return,D)}}else oi(n,s,a,l);break;case 31:oi(n,s,a,l);break;case 13:oi(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?oi(n,s,a,l):kl(n,s):d._visibility&2?oi(n,s,a,l):(d._visibility|=2,no(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&dm(_,s);break;case 24:oi(n,s,a,l),f&2048&&mm(s.alternate,s);break;default:oi(n,s,a,l)}}function no(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,b=a,D=l,K=_.flags;switch(_.tag){case 0:case 11:case 15:no(d,_,b,D,f),Pl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?no(d,_,b,D,f):kl(d,_):(Z._visibility|=2,no(d,_,b,D,f)),f&&K&2048&&dm(_.alternate,_);break;case 24:no(d,_,b,D,f),f&&K&2048&&mm(_.alternate,_);break;default:no(d,_,b,D,f)}s=s.sibling}}function kl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:kl(a,l),f&2048&&dm(l.alternate,l);break;case 24:kl(a,l),f&2048&&mm(l.alternate,l);break;default:kl(a,l)}s=s.sibling}}var Ul=8192;function io(n,s,a){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)a0(n,s,a),n=n.sibling}function a0(n,s,a){switch(n.tag){case 26:io(n,s,a),n.flags&Ul&&n.memoizedState!==null&&IC(a,ai,n.memoizedState,n.memoizedProps);break;case 5:io(n,s,a);break;case 3:case 4:var l=ai;ai=gh(n.stateNode.containerInfo),io(n,s,a),ai=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,io(n,s,a),Ul=l):io(n,s,a));break;default:io(n,s,a)}}function o0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function jl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ke=l,u0(l,n)}o0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l0(n),n=n.sibling}function l0(n){switch(n.tag){case 0:case 11:case 15:jl(n),n.flags&2048&&Ys(9,n,n.return);break;case 3:jl(n);break;case 12:jl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ih(n)):jl(n);break;default:jl(n)}}function ih(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ke=l,u0(l,n)}o0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Ys(8,s,s.return),ih(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ih(s));break;default:ih(s)}n=n.sibling}}function u0(n,s){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Ys(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=n;ke!==null;){l=ke;var f=l.sibling,d=l.return;if(J_(l),l===a){ke=null;break t}if(f!==null){f.return=d,ke=f;break t}ke=d}}}var qR={getCacheForType:function(n){var s=He(we),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return He(we).controller.signal}},GR=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Zt=null,Dt=null,Ot=0,Gt=0,xn=null,Xs=!1,so=!1,pm=!1,cs=0,he=0,$s=0,na=0,gm=0,In=0,ro=0,zl=null,yn=null,ym=!1,sh=0,c0=0,rh=1/0,ah=null,Qs=null,Ve=0,Ws=null,ao=null,hs=0,vm=0,_m=null,h0=null,Bl=0,Tm=null;function Dn(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:W.T!==null?Rm():oc()}function f0(){if(In===0)if((Ot&536870912)===0||Lt){var n=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),In=n}else In=536870912;return n=Rn.current,n!==null&&(n.flags|=32),In}function vn(n,s,a){(n===Zt&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(oo(n,0),Zs(n,Ot,In,!1)),Dr(n,a),((Ft&2)===0||n!==Zt)&&(n===Zt&&((Ft&2)===0&&(na|=a),he===4&&Zs(n,Ot,In,!1)),zi(n))}function d0(n,s,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Wn(n,s),f=l?XR(n,s):Sm(n,s,!0),d=l;do{if(f===0){so&&!l&&Zs(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!KR(a)){f=Sm(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var b=n;f=zl;var D=b.current.memoizedState.isDehydrated;if(D&&(oo(b,_).flags|=256),_=Sm(b,_,!1),_!==2){if(pm&&!D){b.errorRecoveryDisabledLanes|=d,na|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){oo(n,0),Zs(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zs(l,s,In,!Xs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=sh+300-an(),10<f)){if(Zs(l,s,In,!Xs),Si(l,0,!0)!==0)break t;hs=s,l.timeoutHandle=q0(m0.bind(null,l,a,yn,ah,ym,s,In,na,ro,Xs,d,"Throttled",-0,0),f);break t}m0(l,a,yn,ah,ym,s,In,na,ro,Xs,d,null,-0,0)}}break}while(!0);zi(n)}function m0(n,s,a,l,f,d,_,b,D,K,Z,tt,X,Q){if(n.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},a0(s,d,tt);var ft=(d&62914560)===d?sh-an():(d&4194048)===d?c0-an():0;if(ft=DC(tt,ft),ft!==null){hs=d,n.cancelPendingCommit=ft(S0.bind(null,n,s,d,a,l,f,_,b,D,Z,tt,null,X,Q)),Zs(n,d,_,!K);return}}S0(n,s,d,a,l,f,_,b,D)}function KR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zs(n,s,a,l){s&=~gm,s&=~na,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-me(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Nr(n,a,s)}function oh(){return(Ft&6)===0?(Fl(0),!1):!0}function Em(){if(Dt!==null){if(Gt===0)var n=Dt.return;else n=Dt,ts=Yr=null,kd(n),Wa=null,Al=0,n=Dt;for(;n!==null;)G_(n.alternate,n),n=n.return;Dt=null}}function oo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,fC(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),hs=0,Em(),Zt=n,Dt=a=Zi(n.current,null),Ot=s,Gt=0,xn=null,Xs=!1,so=Wn(n,s),pm=!1,ro=In=gm=na=$s=he=0,yn=zl=null,ym=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-me(l),d=1<<f;s|=n[f],l&=~d}return cs=s,xc(),a}function p0(n,s){bt=null,W.H=Ml,s===Qa||s===Lc?(s=Nv(),Gt=3):s===wd?(s=Nv(),Gt=4):Gt=s===Jd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Dt===null&&(he=1,Qc(n,Un(s,n.current)))}function g0(){var n=Rn.current;return n===null?!0:(Ot&4194048)===Ot?Fn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?n===Fn:!1}function y0(){var n=W.H;return W.H=Ml,n===null?Ml:n}function v0(){var n=W.A;return W.A=qR,n}function lh(){he=4,Xs||(Ot&4194048)!==Ot&&Rn.current!==null||(so=!0),($s&134217727)===0&&(na&134217727)===0||Zt===null||Zs(Zt,Ot,In,!1)}function Sm(n,s,a){var l=Ft;Ft|=2;var f=y0(),d=v0();(Zt!==n||Ot!==s)&&(ah=null,oo(n,s)),s=!1;var _=he;t:do try{if(Gt!==0&&Dt!==null){var b=Dt,D=xn;switch(Gt){case 8:Em(),_=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var K=Gt;if(Gt=0,xn=null,lo(n,b,D,K),a&&so){_=0;break t}break;default:K=Gt,Gt=0,xn=null,lo(n,b,D,K)}}YR(),_=he;break}catch(Z){p0(n,Z)}while(!0);return s&&n.shellSuspendCounter++,ts=Yr=null,Ft=l,W.H=f,W.A=d,Dt===null&&(Zt=null,Ot=0,xc()),_}function YR(){for(;Dt!==null;)_0(Dt)}function XR(n,s){var a=Ft;Ft|=2;var l=y0(),f=v0();Zt!==n||Ot!==s?(ah=null,rh=an()+500,oo(n,s)):so=Wn(n,s);t:do try{if(Gt!==0&&Dt!==null){s=Dt;var d=xn;e:switch(Gt){case 1:Gt=0,xn=null,lo(n,s,d,1);break;case 2:case 9:if(Iv(d)){Gt=0,xn=null,T0(s);break}s=function(){Gt!==2&&Gt!==9||Zt!==n||(Gt=7),zi(n)},d.then(s,s);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Iv(d)?(Gt=0,xn=null,T0(s)):(Gt=0,xn=null,lo(n,s,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var b=Dt;if(_?rT(_):b.stateNode.complete){Gt=0,xn=null;var D=b.sibling;if(D!==null)Dt=D;else{var K=b.return;K!==null?(Dt=K,uh(K)):Dt=null}break e}}Gt=0,xn=null,lo(n,s,d,5);break;case 6:Gt=0,xn=null,lo(n,s,d,6);break;case 8:Em(),he=6;break t;default:throw Error(r(462))}}$R();break}catch(Z){p0(n,Z)}while(!0);return ts=Yr=null,W.H=l,W.A=f,Ft=a,Dt!==null?0:(Zt=null,Ot=0,xc(),he)}function $R(){for(;Dt!==null&&!Zf();)_0(Dt)}function _0(n){var s=H_(n.alternate,n,cs);n.memoizedProps=n.pendingProps,s===null?uh(n):Dt=s}function T0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=k_(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=k_(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:kd(s);default:G_(a,s),s=Dt=vv(s,cs),s=H_(a,s,cs)}n.memoizedProps=n.pendingProps,s===null?uh(n):Dt=s}function lo(n,s,a,l){ts=Yr=null,kd(s),Wa=null,Al=0;var f=s.return;try{if(kR(n,f,s,a,Ot)){he=1,Qc(n,Un(a,n.current)),Dt=null;return}}catch(d){if(f!==null)throw Dt=f,d;he=1,Qc(n,Un(a,n.current)),Dt=null;return}s.flags&32768?(Lt||l===1?n=!0:so||(Ot&536870912)!==0?n=!1:(Xs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E0(s,n)):uh(s)}function uh(n){var s=n;do{if((s.flags&32768)!==0){E0(s,Xs);return}n=s.return;var a=zR(s.alternate,s,cs);if(a!==null){Dt=a;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=n}while(s!==null);he===0&&(he=5)}function E0(n,s){do{var a=BR(n.alternate,n);if(a!==null){a.flags&=32767,Dt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Dt=n;return}Dt=n=a}while(n!==null);he=6,Dt=null}function S0(n,s,a,l,f,d,_,b,D){n.cancelPendingCommit=null;do ch();while(Ve!==0);if((Ft&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=cd,ed(n,a,d,_,b,D),n===Zt&&(Dt=Zt=null,Ot=0),ao=s,Ws=n,hs=a,vm=d,_m=f,h0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,JR(xs,function(){return C0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=it.p,it.p=2,_=Ft,Ft|=4;try{FR(n,s,a)}finally{Ft=_,it.p=f,W.T=l}}Ve=1,b0(),A0(),w0()}}function b0(){if(Ve===1){Ve=0;var n=Ws,s=ao,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=it.p;it.p=2;var f=Ft;Ft|=4;try{i0(s,n);var d=Vm,_=uv(n.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&lv(b.ownerDocument.documentElement,b)){if(D!==null&&rd(b)){var K=D.start,Z=D.end;if(Z===void 0&&(Z=K),"selectionStart"in b)b.selectionStart=K,b.selectionEnd=Math.min(Z,b.value.length);else{var tt=b.ownerDocument||document,X=tt&&tt.defaultView||window;if(X.getSelection){var Q=X.getSelection(),ft=b.textContent.length,yt=Math.min(D.start,ft),Qt=D.end===void 0?yt:Math.min(D.end,ft);!Q.extend&&yt>Qt&&(_=Qt,Qt=yt,yt=_);var z=ov(b,yt),L=ov(b,Qt);if(z&&L&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var G=tt.createRange();G.setStart(z.node,z.offset),Q.removeAllRanges(),yt>Qt?(Q.addRange(G),Q.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),Q.addRange(G))}}}}for(tt=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var J=tt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Sh=!!Om,Vm=Om=null}finally{Ft=f,it.p=l,W.T=a}}n.current=s,Ve=2}}function A0(){if(Ve===2){Ve=0;var n=Ws,s=ao,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=it.p;it.p=2;var f=Ft;Ft|=4;try{Z_(n,s.alternate,s)}finally{Ft=f,it.p=l,W.T=a}}Ve=3}}function w0(){if(Ve===4||Ve===3){Ve=0,tc();var n=Ws,s=ao,a=hs,l=h0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ve=5:(Ve=0,ao=Ws=null,R0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Qs=null),Xi(a),s=s.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Qn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=it.p,it.p=2,W.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{W.T=s,it.p=f}}(hs&3)!==0&&ch(),zi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Tm?Bl++:(Bl=0,Tm=n):Bl=0,Fl(0)}}function R0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Sl(s)))}function ch(){return b0(),A0(),w0(),C0()}function C0(){if(Ve!==5)return!1;var n=Ws,s=vm;vm=0;var a=Xi(hs),l=W.T,f=it.p;try{it.p=32>a?32:a,W.T=null,a=_m,_m=null;var d=Ws,_=hs;if(Ve=0,ao=Ws=null,hs=0,(Ft&6)!==0)throw Error(r(331));var b=Ft;if(Ft|=4,l0(d.current),r0(d,d.current,_,a),Ft=b,Fl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{it.p=f,W.T=l,R0(n,s)}}function x0(n,s,a){s=Un(a,s),s=Zd(n.stateNode,s,2),n=qs(n,s,2),n!==null&&(Dr(n,2),zi(n))}function Kt(n,s,a){if(n.tag===3)x0(n,n,a);else for(;s!==null;){if(s.tag===3){x0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){n=Un(a,n),a=I_(2),l=qs(s,a,2),l!==null&&(D_(a,l,s,n),Dr(l,2),zi(l));break}}s=s.return}}function bm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new GR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(pm=!0,f.add(a),n=QR.bind(null,n,s,a),s.then(n,n))}function QR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Zt===n&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>an()-sh?(Ft&2)===0&&oo(n,0):gm|=a,ro===Ot&&(ro=0)),zi(n)}function I0(n,s){s===0&&(s=ac()),n=qr(n,s),n!==null&&(Dr(n,s),zi(n))}function WR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),I0(n,a)}function ZR(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),I0(n,a)}function JR(n,s){return Oe(n,s)}var hh=null,uo=null,Am=!1,fh=!1,wm=!1,Js=0;function zi(n){n!==uo&&n.next===null&&(uo===null?hh=uo=n:uo=uo.next=n),fh=!0,Am||(Am=!0,eC())}function Fl(n,s){if(!wm&&fh){wm=!0;do for(var a=!1,l=hh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-me(42|n)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,O0(l,d))}else d=Ot,d=Si(l,l===Zt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,O0(l,d));l=l.next}while(a);wm=!1}}function tC(){D0()}function D0(){fh=Am=!1;var n=0;Js!==0&&hC()&&(n=Js);for(var s=an(),a=null,l=hh;l!==null;){var f=l.next,d=N0(l,s);d===0?(l.next=null,a===null?hh=f:a.next=f,f===null&&(uo=a)):(a=l,(n!==0||(d&3)!==0)&&(fh=!0)),l=f}Ve!==0&&Ve!==5||Fl(n),Js!==0&&(Js=0)}function N0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-me(d),b=1<<_,D=f[_];D===-1?((b&a)===0||(b&l)!==0)&&(f[_]=td(b,s)):D<=s&&(n.expiredLanes|=b),d&=~b}if(s=Zt,a=Ot,a=Si(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Cs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Wn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Cs(l),Xi(a)){case 2:case 8:a=Zo;break;case 32:a=xs;break;case 268435456:a=ec;break;default:a=xs}return l=M0.bind(null,n),a=Oe(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Cs(l),n.callbackPriority=2,n.callbackNode=null,2}function M0(n,s){if(Ve!==0&&Ve!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ch()&&n.callbackNode!==a)return null;var l=Ot;return l=Si(n,n===Zt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(d0(n,l,s),N0(n,an()),n.callbackNode!=null&&n.callbackNode===a?M0.bind(null,n):null)}function O0(n,s){if(ch())return null;d0(n,s,!0)}function eC(){dC(function(){(Ft&6)!==0?Oe(Wo,tC):D0()})}function Rm(){if(Js===0){var n=Xa;n===0&&(n=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Js=n}return Js}function V0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oa(""+n)}function P0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function nC(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=V0((f[Pe]||null).action),_=l.submitter;_&&(s=(s=_[Pe]||null)?V0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var b=new Oi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var D=_?P0(f,_):new FormData(f);Kd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?P0(f,_):new FormData(f),Kd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Cm=0;Cm<ud.length;Cm++){var xm=ud[Cm],iC=xm.toLowerCase(),sC=xm[0].toUpperCase()+xm.slice(1);ri(iC,"on"+sC)}ri(fv,"onAnimationEnd"),ri(dv,"onAnimationIteration"),ri(mv,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(TR,"onTransitionRun"),ri(ER,"onTransitionStart"),ri(SR,"onTransitionCancel"),ri(pv,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function L0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,K=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=K;try{d(f)}catch(Z){Cc(Z)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,K=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=K;try{d(f)}catch(Z){Cc(Z)}f.currentTarget=null,d=D}}}}function Nt(n,s){var a=s[xa];a===void 0&&(a=s[xa]=new Set);var l=n+"__bubble";a.has(l)||(k0(s,n,2,!1),a.add(l))}function Im(n,s,a){var l=0;s&&(l|=4),k0(a,n,l,s)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Dm(n){if(!n[dh]){n[dh]=!0,el.forEach(function(a){a!=="selectionchange"&&(rC.has(a)||Im(a,!1,n),Im(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[dh]||(s[dh]=!0,Im("selectionchange",!1,s))}}function k0(n,s,a,l){switch(fT(s)){case 2:var f=OC;break;case 8:f=VC;break;default:f=Gm}a=f.bind(null,s,a,n),f=void 0,!Lr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Nm(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Ri(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}b=b.parentNode}}l=l.return}Vs(function(){var K=d,Z=Vn(a),tt=[];t:{var X=gv.get(n);if(X!==void 0){var Q=Oi,ft=n;switch(n){case"keypress":if(Ur(a)===0)break t;case"keydown":case"keyup":Q=Ac;break;case"focusin":ft="focus",Q=zr;break;case"focusout":ft="blur",Q=zr;break;case"beforeblur":case"afterblur":Q=zr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case fv:case dv:case mv:Q=yc;break;case pv:Q=A;break;case"scroll":case"scrollend":Q=dl;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=St}var yt=(s&4)!==0,Qt=!yt&&(n==="scroll"||n==="scrollend"),z=yt?X!==null?X+"Capture":null:X;yt=[];for(var L=K,G;L!==null;){var J=L;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||z===null||(J=ei(L,z),J!=null&&yt.push(ql(L,J,G))),Qt)break;L=L.return}0<yt.length&&(X=new Q(X,ft,null,a,Z),tt.push({event:X,listeners:yt}))}}if((s&7)===0){t:{if(X=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",X&&a!==cl&&(ft=a.relatedTarget||a.fromElement)&&(Ri(ft)||ft[Ai]))break t;if((Q||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(ft=a.relatedTarget||a.toElement,Q=K,ft=ft?Ri(ft):null,ft!==null&&(Qt=u(ft),yt=ft.tag,ft!==Qt||yt!==5&&yt!==27&&yt!==6)&&(ft=null)):(Q=null,ft=K),Q!==ft)){if(yt=ml,J="onMouseLeave",z="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(yt=Wi,J="onPointerLeave",z="onPointerEnter",L="pointer"),Qt=Q==null?X:Sn(Q),G=ft==null?X:Sn(ft),X=new yt(J,L+"leave",Q,a,Z),X.target=Qt,X.relatedTarget=G,J=null,Ri(Z)===K&&(yt=new yt(z,L+"enter",ft,a,Z),yt.target=G,yt.relatedTarget=Qt,J=yt),Qt=J,Q&&ft)e:{for(yt=aC,z=Q,L=ft,G=0,J=z;J;J=yt(J))G++;J=0;for(var pt=L;pt;pt=yt(pt))J++;for(;0<G-J;)z=yt(z),G--;for(;0<J-G;)L=yt(L),J--;for(;G--;){if(z===L||L!==null&&z===L.alternate){yt=z;break e}z=yt(z),L=yt(L)}yt=null}else yt=null;Q!==null&&U0(tt,X,Q,yt,!1),ft!==null&&Qt!==null&&U0(tt,Qt,ft,yt,!0)}}t:{if(X=K?Sn(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var jt=ev;else if(Jy(X))if(nv)jt=yR;else{jt=pR;var dt=mR}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Ma(K.elementType)&&(jt=ev):jt=gR;if(jt&&(jt=jt(n,K))){tv(tt,jt,a,Z);break t}dt&&dt(n,X,K),n==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&ol(X,"number",X.value)}switch(dt=K?Sn(K):window,n){case"focusin":(Jy(dt)||dt.contentEditable==="true")&&(za=dt,ad=K,_l=null);break;case"focusout":_l=ad=za=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,cv(tt,a,Z);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":cv(tt,a,Z)}var Rt;if(Bt)t:{switch(n){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ja?Br(n,a)&&(Vt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(Li&&a.locale!=="ko"&&(ja||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ja&&(Rt=fl()):(Mi=Z,hl="value"in Mi?Mi.value:Mi.textContent,ja=!0)),dt=mh(K,Vt),0<dt.length&&(Vt=new Pi(Vt,n,null,a,Z),tt.push({event:Vt,listeners:dt}),Rt?Vt.data=Rt:(Rt=Ua(a),Rt!==null&&(Vt.data=Rt)))),(Rt=Ln?cR(n,a):hR(n,a))&&(Vt=mh(K,"onBeforeInput"),0<Vt.length&&(dt=new Pi("onBeforeInput","beforeinput",null,a,Z),tt.push({event:dt,listeners:Vt}),dt.data=Rt)),nC(tt,n,K,a,Z)}L0(tt,s)})}function ql(n,s,a){return{instance:n,listener:s,currentTarget:a}}function mh(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(n,a),f!=null&&l.unshift(ql(n,f,d)),f=ei(n,s),f!=null&&l.push(ql(n,f,d))),n.tag===3)return l;n=n.return}return[]}function aC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function U0(n,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,K=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||K===null||(D=K,f?(K=ei(a,d),K!=null&&_.unshift(ql(a,K,D))):f||(K=ei(a,d),K!=null&&_.push(ql(a,K,D)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var oC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function j0(n){return(typeof n=="string"?n:""+n).replace(oC,`
`).replace(lC,"")}function z0(n,s){return s=j0(s),j0(n)===s}function $t(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||dn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&dn(n,""+l);break;case"className":bn(n,"class",l);break;case"tabIndex":bn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(n,a,l);break;case"style":ul(n,l,d);break;case"data":if(s!=="object"){bn(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Oa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&$t(n,s,"name",f.name,f,null),$t(n,s,"formEncType",f.formEncType,f,null),$t(n,s,"formMethod",f.formMethod,f,null),$t(n,s,"formTarget",f.formTarget,f,null)):($t(n,s,"encType",f.encType,f,null),$t(n,s,"method",f.method,f,null),$t(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Oa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ti);break;case"onScroll":l!=null&&Nt("scroll",n);break;case"onScrollEnd":l!=null&&Nt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Oa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Nt("beforetoggle",n),Nt("toggle",n),Da(n,"popover",l);break;case"xlinkActuate":Ae(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mc.get(a)||a,Da(n,a,l))}}function Mm(n,s,a,l,f,d){switch(a){case"style":ul(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?dn(n,l):(typeof l=="number"||typeof l=="bigint")&&dn(n,""+l);break;case"onScroll":l!=null&&Nt("scroll",n);break;case"onScrollEnd":l!=null&&Nt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Da(n,a,l)}}}function Ge(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",n),Nt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(n,s,d,_,a,null)}}f&&$t(n,s,"srcSet",a.srcSet,a,null),l&&$t(n,s,"src",a.src,a,null);return;case"input":Nt("invalid",n);var b=d=_=f=null,D=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":K=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:$t(n,s,l,Z,a,null)}}hc(n,d,b,D,K,_,f,!1);return;case"select":Nt("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:$t(n,s,f,b,a,null)}s=d,a=_,n.multiple=!!l,s!=null?Ds(n,!!l,s,!1):a!=null&&Ds(n,!!l,a,!0);return;case"textarea":Nt("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:$t(n,s,_,b,a,null)}Ns(n,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(n,s,D,l,a,null)}return;case"dialog":Nt("beforetoggle",n),Nt("toggle",n),Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":Nt("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Nt(Hl[l],n);break;case"image":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"embed":case"source":case"link":Nt("error",n),Nt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(n,s,K,l,a,null)}return;default:if(Ma(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Mm(n,s,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&$t(n,s,b,l,a,null))}function uC(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,K=null,Z=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(Q)||$t(n,s,Q,null,l,tt)}}for(var X in l){var Q=l[X];if(tt=a[X],l.hasOwnProperty(X)&&(Q!=null||tt!=null))switch(X){case"type":d=Q;break;case"name":f=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==tt&&$t(n,s,X,Q,l,tt)}}Na(n,_,b,D,K,Z,d,f);return;case"select":Q=_=b=X=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||$t(n,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":X=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&$t(n,s,f,d,l,D)}s=b,a=_,l=Q,X!=null?Ds(n,!!a,X,!1):!!l!=!!a&&(s!=null?Ds(n,!!a,s,!0):Ds(n,!!a,a?[]:"",!1));return;case"textarea":Q=X=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$t(n,s,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":X=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&$t(n,s,_,f,l,d)}fc(n,X,Q);return;case"option":for(var ft in a)if(X=a[ft],a.hasOwnProperty(ft)&&X!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":n.selected=!1;break;default:$t(n,s,ft,null,l,X)}for(D in l)if(X=l[D],Q=a[D],l.hasOwnProperty(D)&&X!==Q&&(X!=null||Q!=null))switch(D){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:$t(n,s,D,X,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)X=a[yt],a.hasOwnProperty(yt)&&X!=null&&!l.hasOwnProperty(yt)&&$t(n,s,yt,null,l,X);for(K in l)if(X=l[K],Q=a[K],l.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:$t(n,s,K,X,l,Q)}return;default:if(Ma(s)){for(var Qt in a)X=a[Qt],a.hasOwnProperty(Qt)&&X!==void 0&&!l.hasOwnProperty(Qt)&&Mm(n,s,Qt,void 0,l,X);for(Z in l)X=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||X===Q||X===void 0&&Q===void 0||Mm(n,s,Z,X,l,Q);return}}for(var z in a)X=a[z],a.hasOwnProperty(z)&&X!=null&&!l.hasOwnProperty(z)&&$t(n,s,z,null,l,X);for(tt in l)X=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||X===Q||X==null&&Q==null||$t(n,s,tt,X,l,Q)}function B0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cC(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&B0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],K=D.startTime;if(K>b)break;var Z=D.transferSize,tt=D.initiatorType;Z&&B0(tt)&&(D=D.responseEnd,_+=Z*(D<b?1:(b-K)/(D-K)))}if(--l,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Om=null,Vm=null;function ph(n){return n.nodeType===9?n:n.ownerDocument}function F0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Pm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lm=null;function hC(){var n=window.event;return n&&n.type==="popstate"?n===Lm?!1:(Lm=n,!0):(Lm=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,fC=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(n){return G0.resolve(null).then(n).catch(mC)}:q0;function mC(n){setTimeout(function(){throw n})}function tr(n){return n==="head"}function K0(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),mo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[wi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Gl(n.ownerDocument.body);a=f}while(a);mo(s)}function Y0(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function km(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":km(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function pC(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[wi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function gC(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function X0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Hn(n.nextSibling),n===null))return null;return n}function Um(n){return n.data==="$?"||n.data==="$~"}function jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function yC(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Hn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var zm=null;function $0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Hn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Q0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function W0(n,s,a){switch(s=ph(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Gl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ia(n)}var qn=new Map,Z0=new Set;function gh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var fs=it.d;it.d={f:vC,r:_C,D:TC,C:EC,L:SC,m:bC,X:wC,S:AC,M:RC};function vC(){var n=fs.f(),s=oh();return n||s}function _C(n){var s=On(n);s!==null&&s.tag===5&&s.type==="form"?p_(s):fs.r(n)}var co=typeof document>"u"?null:document;function J0(n,s,a){var l=co;if(l&&typeof s=="string"&&s){var f=fn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Z0.has(f)||(Z0.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ge(s,"link",n),be(s),l.head.appendChild(s)))}}function TC(n){fs.D(n),J0("dns-prefetch",n,null)}function EC(n,s){fs.C(n,s),J0("preconnect",n,s)}function SC(n,s,a){fs.L(n,s,a);var l=co;if(l&&n&&s){var f='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(s){case"style":d=ho(n);break;case"script":d=fo(n)}qn.has(d)||(n=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),qn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Kl(d))||s==="script"&&l.querySelector(Yl(d))||(s=l.createElement("link"),Ge(s,"link",n),be(s),l.head.appendChild(s)))}}function bC(n,s){fs.m(n,s);var a=co;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(n)}if(!qn.has(d)&&(n=E({rel:"modulepreload",href:n},s),qn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Ge(l,"link",n),be(l),a.head.appendChild(l)}}}function AC(n,s,a){fs.S(n,s,a);var l=co;if(l&&n){var f=Ci(l).hoistableStyles,d=ho(n);s=s||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Kl(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},a),(a=qn.get(d))&&Bm(n,a);var D=_=l.createElement("link");be(D),Ge(D,"link",n),D._p=new Promise(function(K,Z){D.onload=K,D.onerror=Z}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,yh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function wC(n,s){fs.X(n,s);var a=co;if(a&&n){var l=Ci(a).hoistableScripts,f=fo(n),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(n=E({src:n,async:!0},s),(s=qn.get(f))&&Fm(n,s),d=a.createElement("script"),be(d),Ge(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function RC(n,s){fs.M(n,s);var a=co;if(a&&n){var l=Ci(a).hoistableScripts,f=fo(n),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(n=E({src:n,async:!0,type:"module"},s),(s=qn.get(f))&&Fm(n,s),d=a.createElement("script"),be(d),Ge(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tT(n,s,a,l){var f=(f=wt.current)?gh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ho(a.href),a=Ci(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ho(a.href);var d=Ci(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(Kl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),d||CC(f,n,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fo(a),a=Ci(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function ho(n){return'href="'+fn(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function eT(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function CC(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ge(s,"link",a),be(s),n.head.appendChild(s))}function fo(n){return'[src="'+fn(n)+'"]'}function Yl(n){return"script[async]"+n}function nT(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,be(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),be(l),Ge(l,"style",f),yh(l,a.precedence,n),s.instance=l;case"stylesheet":f=ho(a.href);var d=n.querySelector(Kl(f));if(d)return s.state.loading|=4,s.instance=d,be(d),d;l=eT(a),(f=qn.get(f))&&Bm(l,f),d=(n.ownerDocument||n).createElement("link"),be(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Ge(d,"link",l),s.state.loading|=4,yh(d,a.precedence,n),s.instance=d;case"script":return d=fo(a.src),(f=n.querySelector(Yl(d)))?(s.instance=f,be(f),f):(l=a,(f=qn.get(d))&&(l=E({},a),Fm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),be(f),Ge(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,yh(l,a.precedence,n));return s.instance}function yh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===s)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Bm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Fm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var vh=null;function iT(n,s,a){if(vh===null){var l=new Map,f=vh=new Map;f.set(a,l)}else f=vh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[Se]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function sT(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function xC(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function IC(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ho(l.href),d=s.querySelector(Kl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=_h.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,be(d);return}d=s.ownerDocument||s,l=eT(l),(f=qn.get(f))&&Bm(l,f),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Ge(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=_h.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Hm=0;function DC(n,s){return n.stylesheets&&n.count===0&&Eh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Eh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Hm===0&&(Hm=62500*cC());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Eh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Hm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function _h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Th=null;function Eh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Th=new Map,s.forEach(NC,n),Th=null,_h.call(n))}function NC(n,s){if(!(s.state.loading&4)){var a=Th.get(n);if(a)var l=a.get(null);else{a=new Map,Th.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=_h.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Xl={$$typeof:q,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function MC(n,s,a,l,f,d,_,b,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function aT(n,s,a,l,f,d,_,b,D,K,Z,tt){return n=new MC(n,s,a,_,D,K,Z,tt,b),s=1,d===!0&&(s|=24),d=wn(3,null,null,s),n.current=d,d.stateNode=n,s=Sd(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Rd(d),n}function oT(n){return n?(n=Ha,n):Ha}function lT(n,s,a,l,f,d){f=oT(f),l.context===null?l.context=f:l.pendingContext=f,l=Hs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qs(n,l,s),a!==null&&(vn(a,n,s),Rl(a,n,s))}function uT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function qm(n,s){uT(n,s),(n=n.alternate)&&uT(n,s)}function cT(n){if(n.tag===13||n.tag===31){var s=qr(n,67108864);s!==null&&vn(s,n,67108864),qm(n,67108864)}}function hT(n){if(n.tag===13||n.tag===31){var s=Dn();s=Mr(s);var a=qr(n,s);a!==null&&vn(a,n,s),qm(n,s)}}var Sh=!0;function OC(n,s,a,l){var f=W.T;W.T=null;var d=it.p;try{it.p=2,Gm(n,s,a,l)}finally{it.p=d,W.T=f}}function VC(n,s,a,l){var f=W.T;W.T=null;var d=it.p;try{it.p=8,Gm(n,s,a,l)}finally{it.p=d,W.T=f}}function Gm(n,s,a,l){if(Sh){var f=Km(l);if(f===null)Nm(n,s,l,bh,a),dT(n,l);else if(LC(f,n,s,a,l))l.stopPropagation();else if(dT(n,l),s&4&&-1<PC.indexOf(n)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ei(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-me(_);b.entanglements[1]|=D,_&=~D}zi(d),(Ft&6)===0&&(rh=an()+500,Fl(0))}}break;case 31:case 13:b=qr(d,2),b!==null&&vn(b,d,2),oh(),qm(d,2)}if(d=Km(l),d===null&&Nm(n,s,l,bh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Nm(n,s,l,null,a)}}function Km(n){return n=Vn(n),Ym(n)}var bh=null;function Ym(n){if(bh=null,n=Ri(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=m(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return bh=n,null}function fT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Wo:return 2;case Zo:return 8;case xs:case Jf:return 32;case ec:return 268435456;default:return 32}default:return 32}}var Xm=!1,er=null,nr=null,ir=null,$l=new Map,Ql=new Map,sr=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dT(n,s){switch(n){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(s.pointerId)}}function Wl(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=On(s),s!==null&&cT(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function LC(n,s,a,l,f){switch(s){case"focusin":return er=Wl(er,n,s,a,l,f),!0;case"dragenter":return nr=Wl(nr,n,s,a,l,f),!0;case"mouseover":return ir=Wl(ir,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Wl($l.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,Wl(Ql.get(d)||null,n,s,a,l,f)),!0}return!1}function mT(n){var s=Ri(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Zn(n.priority,function(){hT(a)});return}}else if(s===31){if(s=m(a),s!==null){n.blockedOn=s,Zn(n.priority,function(){hT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ah(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Km(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return s=On(a),s!==null&&cT(s),n.blockedOn=a,!1;s.shift()}return!0}function pT(n,s,a){Ah(n)&&a.delete(s)}function kC(){Xm=!1,er!==null&&Ah(er)&&(er=null),nr!==null&&Ah(nr)&&(nr=null),ir!==null&&Ah(ir)&&(ir=null),$l.forEach(pT),Ql.forEach(pT)}function wh(n,s){n.blockedOn===s&&(n.blockedOn=null,Xm||(Xm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kC)))}var Rh=null;function gT(n){Rh!==n&&(Rh=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rh===n&&(Rh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Ym(l||a)===null)continue;break}var d=On(a);d!==null&&(n.splice(s,3),s-=3,Kd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mo(n){function s(D){return wh(D,n)}er!==null&&wh(er,n),nr!==null&&wh(nr,n),ir!==null&&wh(ir,n),$l.forEach(s),Ql.forEach(s);for(var a=0;a<sr.length;a++){var l=sr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)mT(a),a.blockedOn===null&&sr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pe]||null;if(typeof d=="function")_||gT(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pe]||null)b=_.formAction;else if(Ym(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),gT(a)}}}function yT(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function $m(n){this._internalRoot=n}Ch.prototype.render=$m.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();lT(a,l,n,s,null,null)},Ch.prototype.unmount=$m.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;lT(n.current,2,null,n,null,null),oh(),s[Ai]=null}};function Ch(n){this._internalRoot=n}Ch.prototype.unstable_scheduleHydration=function(n){if(n){var s=oc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<sr.length&&s!==0&&s<sr[a].priority;a++);sr.splice(a,0,n),a===0&&mT(n)}};var vT=t.version;if(vT!=="19.2.0")throw Error(r(527,vT,"19.2.0"));it.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var UC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Qn=xh.inject(UC),ze=xh}catch{}}return Jl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=w_,d=R_,_=C_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=aT(n,1,!1,null,null,a,l,null,f,d,_,yT),n[Ai]=s.current,Dm(n),new $m(s)},Jl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=w_,_=R_,b=C_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=aT(n,1,!0,s,a??null,l,f,D,d,_,b,yT),s.context=oT(null),a=s.current,l=Dn(),l=Mr(l),f=Hs(l),f.callback=null,qs(a,f,l),a=l,s.current.lanes=a,Dr(s,a),zi(s),n[Ai]=s.current,Dm(n),new Ch(s)},Jl.version="19.2.0",Jl}var xT;function $C(){if(xT)return Zm.exports;xT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zm.exports=XC(),Zm.exports}var QC=$C();const WC=db(QC);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IT="popstate";function ZC(e={}){function t(r,o){let{pathname:u,search:c,hash:m}=r.location;return Np("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:_u(o)}return tx(t,i,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JC(){return Math.random().toString(36).substring(2,10)}function DT(e,t){return{usr:e.state,key:e.key,idx:t}}function Np(e,t,i=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ko(t):t,state:i,key:t&&t.key||r||JC()}}function _u({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ko(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function tx(e,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){m="POP";let U=v(),B=U==null?null:U-g;g=U,p&&p({action:m,location:F.location,delta:B})}function S(U,B){m="PUSH";let Y=Np(F.location,U,B);g=v()+1;let q=DT(Y,g),rt=F.createHref(Y);try{c.pushState(q,"",rt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(rt)}u&&p&&p({action:m,location:F.location,delta:1})}function I(U,B){m="REPLACE";let Y=Np(F.location,U,B);g=v();let q=DT(Y,g),rt=F.createHref(Y);c.replaceState(q,"",rt),u&&p&&p({action:m,location:F.location,delta:0})}function N(U){return ex(U)}let F={get action(){return m},get location(){return e(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(IT,E),p=U,()=>{o.removeEventListener(IT,E),p=null}},createHref(U){return t(o,U)},createURL:N,encodeLocation(U){let B=N(U);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:I,go(U){return c.go(U)}};return F}function ex(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function mb(e,t,i="/"){return nx(e,t,i,!1)}function nx(e,t,i,r){let o=typeof t=="string"?ko(t):t,u=Ts(o.pathname||"/",i);if(u==null)return null;let c=pb(e);ix(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=mx(u);m=fx(c[p],g,r)}return m}function pb(e,t=[],i=[],r="",o=!1){let u=(c,m,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;le(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=ps([r,v.relativePath]),S=i.concat(v);c.children&&c.children.length>0&&(le(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),pb(c.children,t,S,E,p)),!(c.path==null&&!c.index)&&t.push({path:E,score:cx(E,c.index),routesMeta:S})};return e.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of gb(c.path))u(c,m,!0,p)}),t}function gb(e){let t=e.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=gb(r.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>e.startsWith("/")&&p===""?"/":p)}function ix(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:hx(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var sx=/^:[\w-]+$/,rx=3,ax=2,ox=1,lx=10,ux=-2,NT=e=>e==="*";function cx(e,t){let i=e.split("/"),r=i.length;return i.some(NT)&&(r+=ux),t&&(r+=ax),i.filter(o=>!NT(o)).reduce((o,u)=>o+(sx.test(u)?rx:u===""?ox:lx),r)}function hx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function fx(e,t,i=!1){let{routesMeta:r}=e,o={},u="/",c=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,v=u==="/"?t:t.slice(u.length)||"/",E=of({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!E&&g&&i&&!r[r.length-1].route.index&&(E=of({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:ps([u,E.pathname]),pathnameBase:vx(ps([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=ps([u,E.pathnameBase]))}return c}function of(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,r]=dx(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:E},S)=>{if(v==="*"){let N=m[S]||"";c=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const I=m[S];return E&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function dx(e,t=!1,i=!0){pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function mx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=e.charAt(i);return r&&r!=="/"?null:e.slice(i)||"/"}function px(e,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof e=="string"?ko(e):e;return{pathname:i?i.startsWith("/")?i:gx(i,t):t,search:_x(r),hash:Tx(o)}}function gx(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function np(e,t,i,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yx(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Ig(e){let t=yx(e);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Dg(e,t,i,r=!1){let o;typeof e=="string"?o=ko(e):(o={...e},le(!o.pathname||!o.pathname.includes("?"),np("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),np("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),np("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=i;else{let E=t.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}m=E>=0?t[E]:"/"}let p=px(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ps=e=>e.join("/").replace(/\/\/+/g,"/"),vx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_x=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ex(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var yb=["POST","PUT","PATCH","DELETE"];new Set(yb);var Sx=["GET",...yb];new Set(Sx);var Uo=O.createContext(null);Uo.displayName="DataRouter";var Pf=O.createContext(null);Pf.displayName="DataRouterState";O.createContext(!1);var vb=O.createContext({isTransitioning:!1});vb.displayName="ViewTransition";var bx=O.createContext(new Map);bx.displayName="Fetchers";var Ax=O.createContext(null);Ax.displayName="Await";var yi=O.createContext(null);yi.displayName="Navigation";var Lu=O.createContext(null);Lu.displayName="Location";var vi=O.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var Ng=O.createContext(null);Ng.displayName="RouteError";function wx(e,{relative:t}={}){le(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=O.useContext(yi),{hash:o,pathname:u,search:c}=ku(e,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:ps([i,u])),r.createHref({pathname:m,search:c,hash:o})}function jo(){return O.useContext(Lu)!=null}function Sr(){return le(jo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Lu).location}var _b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(e){O.useContext(yi).static||O.useLayoutEffect(e)}function ws(){let{isDataRoute:e}=O.useContext(vi);return e?zx():Rx()}function Rx(){le(jo(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Uo),{basename:t,navigator:i}=O.useContext(yi),{matches:r}=O.useContext(vi),{pathname:o}=Sr(),u=JSON.stringify(Ig(r)),c=O.useRef(!1);return Tb(()=>{c.current=!0}),O.useCallback((p,g={})=>{if(pi(c.current,_b),!c.current)return;if(typeof p=="number"){i.go(p);return}let v=Dg(p,JSON.parse(u),o,g.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ps([t,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[t,i,u,o,e])}var Cx=O.createContext(null);function xx(e){let t=O.useContext(vi).outlet;return O.useMemo(()=>t&&O.createElement(Cx.Provider,{value:e},t),[t,e])}function ku(e,{relative:t}={}){let{matches:i}=O.useContext(vi),{pathname:r}=Sr(),o=JSON.stringify(Ig(i));return O.useMemo(()=>Dg(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function Ix(e,t){return Eb(e,t)}function Eb(e,t,i,r,o){le(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(yi),{matches:c}=O.useContext(vi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",E=m&&m.route;{let Y=E&&E.path||"";Sb(g,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Sr(),I;if(t){let Y=typeof t=="string"?ko(t):t;le(v==="/"||Y.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),I=Y}else I=S;let N=I.pathname||"/",F=N;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");F="/"+N.replace(/^\//,"").split("/").slice(Y.length).join("/")}let U=mb(e,{pathname:F});pi(E||U!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),pi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Vx(U&&U.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:ps([v,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:ps([v,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),c,i,r,o);return t&&B?O.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},B):B}function Dx(){let e=jx(),t=Ex(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),i?O.createElement("pre",{style:o},i):null,c)}var Nx=O.createElement(Dx,null),Mx=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(vi.Provider,{value:this.props.routeContext},O.createElement(Ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ox({routeContext:e,match:t,children:i}){let r=O.useContext(Uo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(vi.Provider,{value:e},i)}function Vx(e,t=[],i=null,r=null,o=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let u=e,c=i?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);le(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(i)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:E,errors:S}=i,I=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||I){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,E)=>{let S,I=!1,N=null,F=null;i&&(S=c&&v.route.id?c[v.route.id]:void 0,N=v.route.errorElement||Nx,m&&(p<0&&E===0?(Sb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,F=null):p===E&&(I=!0,F=v.route.hydrateFallbackElement||null)));let U=t.concat(u.slice(0,E+1)),B=()=>{let Y;return S?Y=N:I?Y=F:v.route.Component?Y=O.createElement(v.route.Component,null):v.route.element?Y=v.route.element:Y=g,O.createElement(Ox,{match:v,routeContext:{outlet:g,matches:U,isDataRoute:i!=null},children:Y})};return i&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?O.createElement(Mx,{location:i.location,revalidation:i.revalidation,component:N,error:S,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:r}):B()},null)}function Mg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Px(e){let t=O.useContext(Uo);return le(t,Mg(e)),t}function Lx(e){let t=O.useContext(Pf);return le(t,Mg(e)),t}function kx(e){let t=O.useContext(vi);return le(t,Mg(e)),t}function Og(e){let t=kx(e),i=t.matches[t.matches.length-1];return le(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function Ux(){return Og("useRouteId")}function jx(){let e=O.useContext(Ng),t=Lx("useRouteError"),i=Og("useRouteError");return e!==void 0?e:t.errors?.[i]}function zx(){let{router:e}=Px("useNavigate"),t=Og("useNavigate"),i=O.useRef(!1);return Tb(()=>{i.current=!0}),O.useCallback(async(o,u={})=>{pi(i.current,_b),i.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var MT={};function Sb(e,t,i){!t&&!MT[e]&&(MT[e]=!0,pi(!1,i))}O.memo(Bx);function Bx({routes:e,future:t,state:i,unstable_onError:r}){return Eb(e,void 0,i,r,t)}function Tu({to:e,replace:t,state:i,relative:r}){le(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(yi);pi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(vi),{pathname:c}=Sr(),m=ws(),p=Dg(e,Ig(u),c,r==="path"),g=JSON.stringify(p);return O.useEffect(()=>{m(JSON.parse(g),{replace:t,state:i,relative:r})},[m,g,r,t,i]),null}function Vg(e){return xx(e.context)}function Ke(e){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fx({basename:e="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){le(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof i=="string"&&(i=ko(i));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:S="default"}=i,I=O.useMemo(()=>{let N=Ts(p,c);return N==null?null:{location:{pathname:N,search:g,hash:v,state:E,key:S},navigationType:r}},[c,p,g,v,E,S,r]);return pi(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(yi.Provider,{value:m},O.createElement(Lu.Provider,{children:t,value:I}))}function Hx({children:e,location:t}){return Ix(Mp(e),t)}function Mp(e,t=[]){let i=[];return O.Children.forEach(e,(r,o)=>{if(!O.isValidElement(r))return;let u=[...t,o];if(r.type===O.Fragment){i.push.apply(i,Mp(r.props.children,u));return}le(r.type===Ke,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Mp(r.props.children,u)),i.push(c)}),i}var Gh="get",Kh="application/x-www-form-urlencoded";function Lf(e){return e!=null&&typeof e.tagName=="string"}function qx(e){return Lf(e)&&e.tagName.toLowerCase()==="button"}function Gx(e){return Lf(e)&&e.tagName.toLowerCase()==="form"}function Kx(e){return Lf(e)&&e.tagName.toLowerCase()==="input"}function Yx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xx(e,t){return e.button===0&&(!t||t==="_self")&&!Yx(e)}var Ih=null;function $x(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var Qx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(e){return e!=null&&!Qx.has(e)?(pi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):e}function Wx(e,t){let i,r,o,u,c;if(Gx(e)){let m=e.getAttribute("action");r=m?Ts(m,t):null,i=e.getAttribute("method")||Gh,o=ip(e.getAttribute("enctype"))||Kh,u=new FormData(e)}else if(qx(e)||Kx(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||m.getAttribute("action");if(r=p?Ts(p,t):null,i=e.getAttribute("formmethod")||m.getAttribute("method")||Gh,o=ip(e.getAttribute("formenctype"))||ip(m.getAttribute("enctype"))||Kh,u=new FormData(m,e),!$x()){let{name:g,type:v,value:E}=e;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,E)}}else{if(Lf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Gh,r=null,o=Kh,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zx(e,t,i){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${i}`:t&&Ts(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function Jx(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function e2(e,t,i){let r=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await Jx(u,i);return c.links?c.links():[]}return[]}));return r2(r.flat(1).filter(t2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function OT(e,t,i,r,o,u){let c=(p,g)=>i[g]?p.route.id!==i[g].route.id:!0,m=(p,g)=>i[g].pathname!==p.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function n2(e,t,{includeHydrateFallback:i}={}){return i2(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function i2(e){return[...new Set(e)]}function s2(e){let t={},i=Object.keys(e).sort();for(let r of i)t[r]=e[r];return t}function r2(e,t){let i=new Set;return new Set(t),e.reduce((r,o)=>{let u=JSON.stringify(s2(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function bb(){let e=O.useContext(Uo);return Pg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function a2(){let e=O.useContext(Pf);return Pg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lg=O.createContext(void 0);Lg.displayName="FrameworkContext";function Ab(){let e=O.useContext(Lg);return Pg(e,"You must render this element inside a <HydratedRouter> element"),e}function o2(e,t){let i=O.useContext(Lg),[r,o]=O.useState(!1),[u,c]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=t,S=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let F=B=>{B.forEach(Y=>{c(Y.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[e]),O.useEffect(()=>{if(r){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[r]);let I=()=>{o(!0)},N=()=>{o(!1),c(!1)};return i?e!=="intent"?[u,S,{}]:[u,S,{onFocus:tu(m,I),onBlur:tu(p,N),onMouseEnter:tu(g,I),onMouseLeave:tu(v,N),onTouchStart:tu(E,I)}]:[!1,S,{}]}function tu(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function l2({page:e,...t}){let{router:i}=bb(),r=O.useMemo(()=>mb(i.routes,e,i.basename),[i.routes,e,i.basename]);return r?O.createElement(c2,{page:e,matches:r,...t}):null}function u2(e){let{manifest:t,routeModules:i}=Ab(),[r,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return e2(e,t,i).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,i]),r}function c2({page:e,matches:t,...i}){let r=Sr(),{manifest:o,routeModules:u}=Ab(),{basename:c}=bb(),{loaderData:m,matches:p}=a2(),g=O.useMemo(()=>OT(e,t,p,o,r,"data"),[e,t,p,o,r]),v=O.useMemo(()=>OT(e,t,p,o,r,"assets"),[e,t,p,o,r]),E=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,F=!1;if(t.forEach(B=>{let Y=o.routes[B.route.id];!Y||!Y.hasLoader||(!g.some(q=>q.route.id===B.route.id)&&B.route.id in m&&u[B.route.id]?.shouldRevalidate||Y.hasClientLoader?F=!0:N.add(B.route.id))}),N.size===0)return[];let U=Zx(e,c,"data");return F&&N.size>0&&U.searchParams.set("_routes",t.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[U.pathname+U.search]},[c,m,r,o,g,t,e,u]),S=O.useMemo(()=>n2(v,o),[v,o]),I=u2(v);return O.createElement(O.Fragment,null,E.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),S.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),I.map(({key:N,link:F})=>O.createElement("link",{key:N,nonce:i.nonce,...F})))}function h2(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wb&&(window.__reactRouterVersion="7.9.4")}catch{}function f2({basename:e,children:t,window:i}){let r=O.useRef();r.current==null&&(r.current=ZC({window:i,v5Compat:!0}));let o=r.current,[u,c]=O.useState({action:o.action,location:o.location}),m=O.useCallback(p=>{O.startTransition(()=>c(p))},[c]);return O.useLayoutEffect(()=>o.listen(m),[o,m]),O.createElement(Fx,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var Rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mi=O.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:E,...S},I){let{basename:N}=O.useContext(yi),F=typeof g=="string"&&Rb.test(g),U,B=!1;if(typeof g=="string"&&F&&(U=g,wb))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=Ts(V.pathname,N);V.origin===R.origin&&M!=null?g=M+V.search+V.hash:B=!0}catch{pi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=wx(g,{relative:o}),[q,rt,at]=o2(r,S),ht=g2(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:E});function C(R){t&&t(R),R.defaultPrevented||ht(R)}let w=O.createElement("a",{...S,...at,href:U||Y,onClick:B||u?t:C,ref:h2(I,rt),target:p,"data-discover":!F&&i==="render"?"true":void 0});return q&&!F?O.createElement(O.Fragment,null,w,O.createElement(l2,{page:Y})):w});mi.displayName="Link";var d2=O.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},v){let E=ku(c,{relative:g.relative}),S=Sr(),I=O.useContext(Pf),{navigator:N,basename:F}=O.useContext(yi),U=I!=null&&E2(E)&&m===!0,B=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,Y=S.pathname,q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&F&&(q=Ts(q,F)||q);const rt=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let at=Y===B||!o&&Y.startsWith(B)&&Y.charAt(rt)==="/",ht=q!=null&&(q===B||!o&&q.startsWith(B)&&q.charAt(B.length)==="/"),C={isActive:at,isPending:ht,isTransitioning:U},w=at?t:void 0,R;typeof r=="function"?R=r(C):R=[r,at?"active":null,ht?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return O.createElement(mi,{...g,"aria-current":w,className:R,ref:v,style:V,to:c,viewTransition:m},typeof p=="function"?p(C):p)});d2.displayName="NavLink";var m2=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:c=Gh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...S},I)=>{let N=_2(),F=T2(m,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&Rb.test(m),Y=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let rt=q.nativeEvent.submitter,at=rt?.getAttribute("formmethod")||c;N(rt||q.currentTarget,{fetcherKey:t,method:at,navigate:i,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:E})};return O.createElement("form",{ref:I,method:U,action:F,onSubmit:r?p:Y,...S,"data-discover":!B&&e==="render"?"true":void 0})});m2.displayName="Form";function p2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(e){let t=O.useContext(Uo);return le(t,p2(e)),t}function g2(e,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=ws(),p=Sr(),g=ku(e,{relative:u});return O.useCallback(v=>{if(Xx(v,t)){v.preventDefault();let E=i!==void 0?i:_u(p)===_u(g);m(e,{replace:E,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,i,r,t,e,o,u,c])}var y2=0,v2=()=>`__${String(++y2)}__`;function _2(){let{router:e}=Cb("useSubmit"),{basename:t}=O.useContext(yi),i=Ux();return O.useCallback(async(r,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=Wx(r,t);if(o.navigate===!1){let v=o.fetcherKey||v2();await e.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,i])}function T2(e,{relative:t}={}){let{basename:i}=O.useContext(yi),r=O.useContext(vi);le(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...ku(e||".",{relative:t})},c=Sr();if(e==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ps([i,u.pathname])),_u(u)}function E2(e,{relative:t}={}){let i=O.useContext(vb);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cb("useViewTransitionState"),o=ku(e,{relative:t});if(!i.isTransitioning)return!1;let u=Ts(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Ts(i.nextLocation.pathname,r)||i.nextLocation.pathname;return of(o.pathname,c)!=null||of(o.pathname,u)!=null}function S2(){return P.jsxs("div",{className:"min-h-screen",children:[P.jsxs("nav",{className:"p-4 bg-gray-800 text-white flex gap-4",children:[P.jsx(mi,{to:"/",children:"Home"}),P.jsx(mi,{to:"/dashboard",className:"ml-auto",children:"Dashboard"}),P.jsx(mi,{to:"/admin",children:"Admin"})]}),P.jsx("main",{className:"p-6",children:P.jsx(Vg,{})})]})}function b2(){return P.jsxs("div",{className:"min-h-screen",children:[P.jsxs("nav",{className:"p-4 bg-gray-900 text-white flex gap-4",children:[P.jsx(mi,{to:"/dashboard",children:"Dashboard"}),P.jsx(mi,{to:"/admin",className:"ml-auto",children:"Admin"})]}),P.jsx("main",{className:"p-6",children:P.jsx(Vg,{})})]})}function A2(){return P.jsxs("div",{className:"min-h-screen",children:[P.jsxs("nav",{className:"p-4 bg-black text-white flex gap-4",children:[P.jsx(mi,{to:"/admin",children:"Admin"}),P.jsx(mi,{to:"/dashboard",className:"ml-auto",children:"Zur App"})]}),P.jsx("main",{className:"p-6",children:P.jsx(Vg,{})})]})}const Op="immobot_register_filters_v1",Vp=2,Dh={offerTypes:[],objectClasses:[],constructionStatus:[],searchString:"",coordinate:void 0,radiusInKm:10,priceRange:void 0,propertySpaceRange:void 0,includePriceOnRequest:!1,__version:Vp};function hn(){try{const e=localStorage.getItem(Op);if(!e)return{...Dh};const t=JSON.parse(e);if(t.__version!==Vp){const i={...Dh,...t,__version:Vp};return localStorage.setItem(Op,JSON.stringify(i)),i}return{...Dh,...t}}catch{return{...Dh}}}function un(e){const t={...hn(),...e};try{localStorage.setItem(Op,JSON.stringify(t))}catch{}return t}const w2=new Set(["BroPraxis","Einzelhandel","Ferienobjekt","Gastronomie","Gewerbeeinheit","Grundstueck","HalleLagerProduktion","Haus","Hotel","LandForst","Microapartements","PflegeAlter","Sonstige","StellplatzGarage","Studenten","Wohnung"]);function R2(e){if(!w2.has(e))return hn();const t=hn(),i=new Set(t.objectClasses);if(i.has(e))i.delete(e);else{if(i.size>=2)return t;i.add(e)}return un({objectClasses:Array.from(i)})}const C2=[{label:"Haus",value:"Haus"},{label:"Wohnung",value:"Wohnung"},{label:"Grundstck",value:"Grundstueck"},{label:"Stellplatz / Garage",value:"StellplatzGarage"},{label:"Bro / Praxis",value:"BroPraxis"},{label:"Ferienobjekt",value:"Ferienobjekt"},{label:"Gastronomie",value:"Gastronomie"},{label:"Gewerbeeinheit",value:"Gewerbeeinheit"},{label:"Halle / Lager / Produktion",value:"HalleLagerProduktion"},{label:"Hotel",value:"Hotel"},{label:"Land- / Forstwirtschaft",value:"LandForst"},{label:"Microapartements",value:"Microapartements"},{label:"Pflege / Alter",value:"PflegeAlter"},{label:"Sonstige",value:"Sonstige"},{label:"Studentenwohnungen",value:"Studenten"}];function xb(){const e=ws(),t=O.useMemo(()=>hn(),[]),i=t.searchString==="Zwangsversteigerung"?"ZV":Array.isArray(t.constructionStatus)&&(t.constructionStatus.includes("InPlanung")||t.constructionStatus.includes("ImBauInSanierung"))?"Bauprojekt":t.offerTypes?.includes("Miete")?"Miete":t.offerTypes?.includes("Kauf")?"Kauf":null,[r,o]=O.useState(i),[u,c]=O.useState(t.objectClasses||[]);function m(g){o(g),g==="Kauf"?un({offerTypes:["Kauf"],constructionStatus:void 0,searchString:void 0}):g==="Miete"?un({offerTypes:["Miete"],constructionStatus:void 0,searchString:void 0}):g==="Bauprojekt"?un({offerTypes:["Kauf"],constructionStatus:["InPlanung","ImBauInSanierung"],searchString:void 0}):g==="ZV"&&un({offerTypes:["Kauf"],constructionStatus:void 0,searchString:"Zwangsversteigerung"})}const p=g=>{const v=u.includes(g);if(!v&&u.length>=2)return;const E=v?u.filter(S=>S!==g):[...u,g];c(E),R2(g)};return P.jsxs("div",{className:"space-y-8 rounded-2xl border p-6",children:[P.jsx("p",{className:"text-center text-sm text-gray-500",children:"Schritt 1 von 3"}),P.jsx("h2",{className:"text-xl font-semibold text-center",children:"Was sollen wir fr dich finden?"}),P.jsx("div",{className:"mx-auto max-w-md",children:P.jsx("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[{key:"Kauf",label:"Kauf"},{key:"Miete",label:"Miete"},{key:"Bauprojekt",label:"Bauprojekt"},{key:"ZV",label:"Zwangsversteigerung"}].map(g=>P.jsx("button",{type:"button",onClick:()=>m(g.key),className:`px-4 py-2 rounded-full border ${r===g.key?"bg-blue-600 text-white":"bg-white"}`,title:g.key==="Bauprojekt"?"setzt constructionStatus: InPlanung + ImBauInSanierung":g.key==="ZV"?'setzt searchString: "Zwangsversteigerung"':"",children:g.label},g.key))})}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("p",{className:"text-center text-sm text-gray-600",children:"Whle bis zu zwei Stck aus:"}),P.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:C2.map(g=>{const v=u.includes(g.value),E=!v&&u.length>=2;return P.jsx("button",{type:"button",onClick:()=>p(g.value),disabled:E,className:`px-3 py-2 rounded-full border text-sm
                  ${v?"bg-blue-600 text-white":"bg-white"}
                  ${E?"opacity-50 cursor-not-allowed":""}`,title:`objectClasses: ${g.value}`,children:g.label},g.value)})})]}),P.jsx("div",{className:"flex justify-center",children:P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>e("/register/step2"),children:"Schritt 2 >"})})]})}function x2(){return P.jsx("div",{children:P.jsx(xb,{})})}const I2=()=>{};var VT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},D2=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],c=e[i++],m=e[i++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=e[i++],c=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,m=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),r.push(i[v],i[E],i[S],i[I])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ib(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):D2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],m=o<e.length?i[e.charAt(o)]:0;++o;const g=o<e.length?i[e.charAt(o)]:64;++o;const E=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new N2;const S=u<<2|m>>4;if(r.push(S),g!==64){const I=m<<4&240|g>>2;if(r.push(I),E!==64){const N=g<<6&192|E;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class N2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M2=function(e){const t=Ib(e);return Db.encodeByteArray(t,!0)},lf=function(e){return M2(e).replace(/\./g,"")},Nb=function(e){try{return Db.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=()=>O2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof VT>"u")return;const e=VT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},L2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Nb(e[1]);return t&&JSON.parse(t)},kf=()=>{try{return I2()||V2()||P2()||L2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Mb=e=>kf()?.emulatorHosts?.[e],k2=e=>{const t=Mb(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Ob=()=>kf()?.config,Vb=e=>kf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pb(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[lf(JSON.stringify(i)),lf(JSON.stringify(c)),""].join(".")}const ou={};function z2(){const e={prod:[],emulator:[]};for(const t of Object.keys(ou))ou[t]?e.emulator.push(t):e.prod.push(t);return e}function B2(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let PT=!1;function Lb(e,t){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||ou[e]===t||ou[e]||PT)return;ou[e]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=z2().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{PT=!0,c()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=B2(r),I=i("text"),N=document.getElementById(I)||document.createElement("span"),F=i("learnmore"),U=document.getElementById(F)||document.createElement("a"),B=i("preprendIcon"),Y=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;m(q),v(U,F);const rt=g();p(Y,B),q.append(Y,N,U,rt),document.body.appendChild(q)}u?(N.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function H2(){const e=kf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function K2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y2(){const e=rn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function X2(){return!H2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $2(){try{return typeof indexedDB=="object"}catch{return!1}}function Q2(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="FirebaseError";class Rs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=W2,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?Z2(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Rs(o,m,r)}}function Z2(e,t){return e.replace(J2,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const J2=/\{\$([^}]+)}/g;function tI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(LT(u)&&LT(c)){if(!da(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function LT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function iu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function su(e){const t=e.indexOf("?");if(!t)return"";const i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}function eI(e,t){const i=new nI(e,t);return i.subscribe.bind(i)}class nI{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");iI(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=sp),o.error===void 0&&(o.error=sp),o.complete===void 0&&(o.complete=sp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iI(e,t){if(typeof e!="object"||e===null)return!1;for(const i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(e){return e&&e._delegate?e._delegate:e}class ma{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new U2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aI(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rI(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rI(e){return e===sa?void 0:e}function aI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sI(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const lI={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},uI=Pt.INFO,cI={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},hI=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=cI[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kg{constructor(t){this.name=t,this._logLevel=uI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const fI=(e,t)=>t.some(i=>e instanceof i);let kT,UT;function dI(){return kT||(kT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mI(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,Pp=new WeakMap,Ub=new WeakMap,rp=new WeakMap,Ug=new WeakMap;function pI(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{i(dr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&kb.set(i,e)}).catch(()=>{}),Ug.set(t,e),t}function gI(e){if(Pp.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Pp.set(e,t)}let Lp={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Pp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ub.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yI(e){Lp=e(Lp)}function vI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(ap(this),t,...i);return Ub.set(r,t.sort?t.sort():[t]),dr(r)}:mI().includes(e)?function(...t){return e.apply(ap(this),t),dr(kb.get(this))}:function(...t){return dr(e.apply(ap(this),t))}}function _I(e){return typeof e=="function"?vI(e):(e instanceof IDBTransaction&&gI(e),fI(e,dI())?new Proxy(e,Lp):e)}function dr(e){if(e instanceof IDBRequest)return pI(e);if(rp.has(e))return rp.get(e);const t=_I(e);return t!==e&&(rp.set(e,t),Ug.set(t,e)),t}const ap=e=>Ug.get(e);function TI(e,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),m=dr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(dr(c.result),p.oldVersion,p.newVersion,dr(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const EI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],op=new Map;function jT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(op.get(t))return op.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=SI.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||EI.includes(i)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return op.set(t,u),u}yI(e=>({...e,get:(t,i,r)=>jT(t,i)||e.get(t,i,r),has:(t,i)=>!!jT(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AI(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function AI(e){return e.getComponent()?.type==="VERSION"}const kp="@firebase/app",zT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new kg("@firebase/app"),wI="@firebase/app-compat",RI="@firebase/analytics-compat",CI="@firebase/analytics",xI="@firebase/app-check-compat",II="@firebase/app-check",DI="@firebase/auth",NI="@firebase/auth-compat",MI="@firebase/database",OI="@firebase/data-connect",VI="@firebase/database-compat",PI="@firebase/functions",LI="@firebase/functions-compat",kI="@firebase/installations",UI="@firebase/installations-compat",jI="@firebase/messaging",zI="@firebase/messaging-compat",BI="@firebase/performance",FI="@firebase/performance-compat",HI="@firebase/remote-config",qI="@firebase/remote-config-compat",GI="@firebase/storage",KI="@firebase/storage-compat",YI="@firebase/firestore",XI="@firebase/ai",$I="@firebase/firestore-compat",QI="firebase",WI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",ZI={[kp]:"fire-core",[wI]:"fire-core-compat",[CI]:"fire-analytics",[RI]:"fire-analytics-compat",[II]:"fire-app-check",[xI]:"fire-app-check-compat",[DI]:"fire-auth",[NI]:"fire-auth-compat",[MI]:"fire-rtdb",[OI]:"fire-data-connect",[VI]:"fire-rtdb-compat",[PI]:"fire-fn",[LI]:"fire-fn-compat",[kI]:"fire-iid",[UI]:"fire-iid-compat",[jI]:"fire-fcm",[zI]:"fire-fcm-compat",[BI]:"fire-perf",[FI]:"fire-perf-compat",[HI]:"fire-rc",[qI]:"fire-rc-compat",[GI]:"fire-gcs",[KI]:"fire-gcs-compat",[YI]:"fire-fst",[$I]:"fire-fst-compat",[XI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,JI=new Map,jp=new Map;function BT(e,t){try{e.container.addComponent(t)}catch(i){Es.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Io(e){const t=e.name;if(jp.has(t))return Es.debug(`There were multiple attempts to register component ${t}.`),!1;jp.set(t,e);for(const i of uf.values())BT(i,e);for(const i of JI.values())BT(i,e);return!0}function jg(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function Yn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Uu("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=WI;function jb(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r={name:Up,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=Ob()),!i)throw mr.create("no-options");const u=uf.get(o);if(u){if(da(i,u.options)&&da(r,u.config))return u;throw mr.create("duplicate-app",{appName:o})}const c=new oI(o);for(const p of jp.values())c.addComponent(p);const m=new eD(i,r,c);return uf.set(o,m),m}function zb(e=Up){const t=uf.get(e);if(!t&&e===Up&&Ob())return jb();if(!t)throw mr.create("no-app",{appName:e});return t}function pr(e,t,i){let r=ZI[e]??e;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Es.warn(c.join(" "));return}Io(new ma(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="firebase-heartbeat-database",iD=1,Eu="firebase-heartbeat-store";let lp=null;function Bb(){return lp||(lp=TI(nD,iD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Eu)}catch(i){console.warn(i)}}}}).catch(e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})})),lp}async function sD(e){try{const i=(await Bb()).transaction(Eu),r=await i.objectStore(Eu).get(Fb(e));return await i.done,r}catch(t){if(t instanceof Rs)Es.warn(t.message);else{const i=mr.create("idb-get",{originalErrorMessage:t?.message});Es.warn(i.message)}}}async function FT(e,t){try{const r=(await Bb()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(t,Fb(e)),await r.done}catch(i){if(i instanceof Rs)Es.warn(i.message);else{const r=mr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(r.message)}}}function Fb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=1024,aD=30;class oD{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uD(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>aD){const o=cD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=HT(),{heartbeatsToSend:i,unsentEntries:r}=lD(this._heartbeatsCache.heartbeats),o=lf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Es.warn(t),""}}}function HT(){return new Date().toISOString().substring(0,10)}function lD(e,t=rD){const i=[];let r=e.slice();for(const o of e){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),qT(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),qT(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class uD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $2()?Q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sD(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return FT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return FT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function qT(e){return lf(JSON.stringify({version:2,heartbeats:e})).length}function cD(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(e){Io(new ma("platform-logger",t=>new bI(t),"PRIVATE")),Io(new ma("heartbeat",t=>new oD(t),"PRIVATE")),pr(kp,zT,e),pr(kp,zT,"esm2020"),pr("fire-js","")}hD("");function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fD=Hb,qb=new Uu("auth","Firebase",Hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new kg("@firebase/auth");function dD(e,...t){cf.logLevel<=Pt.WARN&&cf.warn(`Auth (${Bo}): ${e}`,...t)}function Yh(e,...t){cf.logLevel<=Pt.ERROR&&cf.error(`Auth (${Bo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(e,...t){throw zg(e,...t)}function Fi(e,...t){return zg(e,...t)}function Gb(e,t,i){const r={...fD(),[t]:i};return new Uu("auth","Firebase",r).create(t,{appName:e.name})}function gs(e){return Gb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zg(e,...t){if(typeof e!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(i,...r)}return qb.create(e,...t)}function vt(e,t,...i){if(!e)throw zg(t,...i)}function ds(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yh(t),new Error(t)}function Ss(e,t){e||ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){return typeof self<"u"&&self.location?.href||""}function mD(){return GT()==="http:"||GT()==="https:"}function GT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mD()||G2()||"connection"in navigator)?navigator.onLine:!0}function gD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ss(i>t,"Short delay should be less than long delay!"),this.isMobile=F2()||K2()}get(){return pD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e,t){Ss(e.emulator,"Emulator should always be set here");const{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_D=new zu(3e4,6e4);function br(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ar(e,t,i,r,o={}){return Yb(e,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=ju({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return q2()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&zo(e.emulatorConfig.host)&&(g.credentials="include"),Kb.fetch()(await Xb(e,e.config.apiHost,i,m),g)})}async function Yb(e,t,i){e._canInitEmulator=!1;const r={...yD,...t};try{const o=new ED(e),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Nh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Nh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Nh(e,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Gb(e,v,g);gi(e,v)}}catch(o){if(o instanceof Rs)throw o;gi(e,"network-request-failed",{message:String(o)})}}async function Bu(e,t,i,r,o={}){const u=await Ar(e,t,i,r,o);return"mfaPendingCredential"in u&&gi(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function Xb(e,t,i,r){const o=`${t}${i}?${r}`,u=e,c=u.config.emulator?Bg(e.config,o):`${e.config.apiScheme}://${o}`;return vD.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function TD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ED{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),_D.get())})}}function Nh(e,t,i){const r={appName:e.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Fi(e,t,r);return o.customData._tokenResponse=i,o}function KT(e){return e!==void 0&&e.enterprise!==void 0}class SD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return TD(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bD(e,t){return Ar(e,"GET","/v2/recaptchaConfig",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(e,t){return Ar(e,"POST","/v1/accounts:delete",t)}async function hf(e,t){return Ar(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wD(e,t=!1){const i=Nn(e),r=await i.getIdToken(t),o=Fg(r);vt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:lu(up(o.auth_time)),issuedAtTime:lu(up(o.iat)),expirationTime:lu(up(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function up(e){return Number(e)*1e3}function Fg(e){const[t,i,r]=e.split(".");if(t===void 0||i===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nb(i);return o?JSON.parse(o):(Yh("Failed to decode base64 JWT payload"),null)}catch(o){return Yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function YT(e){const t=Fg(e);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(e,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Rs&&RD(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function RD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(e){const t=e.auth,i=await e.getIdToken(),r=await Su(e,hf(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?$b(o.providerUserInfo):[],c=ID(e.providerData,u),m=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function xD(e){const t=Nn(e);await ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ID(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function $b(e){return e.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(e,t){const i=await Yb(e,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await Xb(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return e.emulatorConfig&&zo(e.emulatorConfig.host)&&(p.credentials="include"),Kb.fetch()(c,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ND(e,t){return Ar(e,"POST","/v2/accounts:revokeToken",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):YT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=YT(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await DD(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,c=new bo;return r&&(vt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(vt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,t){vt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new CD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Su(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wD(this,t)}reload(){return xD(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(gs(this.auth));const t=await this.getIdToken();return await Su(this,AD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,c=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:I,providerData:N,stsTokenManager:F}=i;vt(E&&F,t,"internal-error");const U=bo.fromJSON(this.name,F);vt(typeof E=="string",t,"internal-error"),ar(r,t.name),ar(o,t.name),vt(typeof S=="boolean",t,"internal-error"),vt(typeof I=="boolean",t,"internal-error"),ar(u,t.name),ar(c,t.name),ar(m,t.name),ar(p,t.name),ar(g,t.name),ar(v,t.name);const B=new fi({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return N&&Array.isArray(N)&&(B.providerData=N.map(Y=>({...Y}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(t,i,r=!1){const o=new bo;o.updateFromServerResponse(i);const u=new fi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ff(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$b(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new bo;m.updateFromIdToken(r);const p=new fi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;function ms(e){Ss(e instanceof Function,"Expected a class definition");let t=XT.get(e);return t?(Ss(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,XT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Qb.type="NONE";const $T=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e,t,i){return`firebase:${e}:${t}:${i}`}class Ao{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Xh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xh("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await hf(this.auth,{idToken:t}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ao(ms($T),t,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ms($T);const c=Xh(r,t.config.apiKey,t.name);let m=null;for(const g of i)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await hf(t,{idToken:v}).catch(()=>{});if(!S)break;E=await fi._fromGetAccountInfoResponse(t,S,v)}else E=fi._fromJSON(t,v);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ao(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nA(t))return"Blackberry";if(iA(t))return"Webos";if(Zb(t))return"Safari";if((t.includes("chrome/")||Jb(t))&&!t.includes("edge/"))return"Chrome";if(eA(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(i);if(r?.length===2)return r[1]}return"Other"}function Wb(e=rn()){return/firefox\//i.test(e)}function Zb(e=rn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Jb(e=rn()){return/crios\//i.test(e)}function tA(e=rn()){return/iemobile/i.test(e)}function eA(e=rn()){return/android/i.test(e)}function nA(e=rn()){return/blackberry/i.test(e)}function iA(e=rn()){return/webos/i.test(e)}function Hg(e=rn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function MD(e=rn()){return Hg(e)&&!!window.navigator?.standalone}function OD(){return Y2()&&document.documentMode===10}function sA(e=rn()){return Hg(e)||eA(e)||iA(e)||nA(e)||/windows phone/i.test(e)||tA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e,t=[]){let i;switch(e){case"Browser":i=QT(rn());break;case"Worker":i=`${QT(rn())}-${e}`;break;default:i=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(e,t={}){return Ar(e,"GET","/v2/passwordPolicy",br(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class kD{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LD,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new VD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await hf(this,{idToken:t}),r=await fi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ff(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(gs(this));const i=t?Nn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PD(this),i=new kD(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await ND(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ms(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(i);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ea(e){return Nn(e)}class WT{constructor(t){this.auth=t,this.observer=null,this.addObserver=eI(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jD(e){Uf=e}function aA(e){return Uf.loadJS(e)}function zD(){return Uf.recaptchaEnterpriseScript}function BD(){return Uf.gapiScript}function FD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class HD{constructor(){this.enterprise=new qD}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class qD{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const GD="recaptcha-enterprise",oA="NO_RECAPTCHA";class KD{constructor(t){this.type=GD,this.auth=Ea(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{bD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new SD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;KT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(oA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HD().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(m=>{if(!i&&KT(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zD();p.length!==0&&(p+=m),aA(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function ZT(e,t,i,r=!1,o=!1){const u=new KD(e);let c;if(o)c=oA;else try{c=await u.verify(i)}catch{c=await u.verify(i,!0)}const m={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Fp(e,t,i,r,o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ZT(e,t,i,i==="getOobCode");return r(e,u)}else return r(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ZT(e,t,i,i==="getOobCode");return r(e,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e,t){const i=jg(e,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(da(u,t??{}))return o;gi(o,"already-initialized")}return i.initialize({options:t})}function XD(e,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ms);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function $D(e,t,i){const r=Ea(e);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=lA(t),{host:c,port:m}=QD(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(da(g,r.config.emulator)&&da(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,zo(c)?(Pb(`${u}//${c}${p}`),Lb("Auth",!0)):WD()}function lA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QD(e){const t=lA(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:JT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:JT(c)}}}function JT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function WD(){function e(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,i){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function ZD(e,t){return Ar(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(e,t){return Bu(e,"POST","/v1/accounts:signInWithPassword",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(e,t){return Bu(e,"POST","/v1/accounts:signInWithEmailLink",br(e,t))}async function eN(e,t){return Bu(e,"POST","/v1/accounts:signInWithEmailLink",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends qg{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new bu(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new bu(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(t,i,"signInWithPassword",JD);case"emailLink":return tN(t,{email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(t,r,"signUpPassword",ZD);case"emailLink":return eN(t,{idToken:i,email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(e,t){return Bu(e,"POST","/v1/accounts:signInWithIdp",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="http://localhost";class pa extends qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const c=new pa(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const i=this.buildRequest();return wo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,wo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,wo(t,i)}buildRequest(){const t={requestUri:nN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ju(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sN(e){const t=iu(su(e)).link,i=t?iu(su(t)).deep_link_id:null,r=iu(su(e)).deep_link_id;return(r?iu(su(r)).link:null)||r||i||t||e}class Gg{constructor(t){const i=iu(su(t)),r=i.apiKey??null,o=i.oobCode??null,u=iN(i.mode??null);vt(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=sN(t);try{return new Gg(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(t,i){return bu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Gg.parseLink(i);return vt(r,"argument-error"),bu._fromEmailAndCode(t,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends uA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Fu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return pa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return cr.credential(i,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Fu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Fu{constructor(){super("twitter.com")}static credential(t,i){return pa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return fr.credential(i,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(e,t){return Bu(e,"POST","/v1/accounts:signUp",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await fi._fromIdTokenResponse(t,r,o),c=tE(r);return new ga({user:u,providerId:c,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=tE(r);return new ga({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function tE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Rs{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new df(t,i,r,o)}}function cA(e,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(e,u,t,r):u})}async function aN(e,t,i=!1){const r=await Su(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return ga._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(e,t,i=!1){const{auth:r}=e;if(Yn(r.app))return Promise.reject(gs(r));const o="reauthenticate";try{const u=await Su(e,cA(r,o,t,e),i);vt(u.idToken,r,"internal-error");const c=Fg(u.idToken);vt(c,r,"internal-error");const{sub:m}=c;return vt(e.uid===m,r,"user-mismatch"),ga._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(e,t,i=!1){if(Yn(e.app))return Promise.reject(gs(e));const r="signIn",o=await cA(e,r,t),u=await ga._fromIdTokenResponse(e,r,o);return i||await e._updateCurrentUser(u.user),u}async function lN(e,t){return hA(Ea(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(e){const t=Ea(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function uN(e,t,i){if(Yn(e.app))return Promise.reject(gs(e));const r=Ea(e),c=await Fp(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fA(e),p}),m=await ga._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function cN(e,t,i){return Yn(e.app)?Promise.reject(gs(e)):lN(Nn(e),Fo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fA(e),r})}function hN(e,t,i,r){return Nn(e).onIdTokenChanged(t,i,r)}function fN(e,t,i){return Nn(e).beforeAuthStateChanged(t,i)}function dN(e,t,i,r){return Nn(e).onAuthStateChanged(t,i,r)}function mN(e){return Nn(e).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1e3,gN=10;class mA extends dA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);OD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gN):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mA.type="LOCAL";const yN=mA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends dA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}pA.type="SESSION";const gA=pA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new jf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(i.origin,u)),p=await vN(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(e="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return e+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Kg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function TN(e){Hi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function EN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SN(){return navigator?.serviceWorker?.controller||null}function bN(){return yA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firebaseLocalStorageDb",AN=1,pf="firebaseLocalStorage",_A="fbase_key";class Hu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zf(e,t){return e.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function wN(){const e=indexedDB.deleteDatabase(vA);return new Hu(e).toPromise()}function Hp(){const e=indexedDB.open(vA,AN);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(pf,{keyPath:_A})}catch(o){i(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(pf)?t(r):(r.close(),await wN(),t(await Hp()))})})}async function eE(e,t,i){const r=zf(e,!0).put({[_A]:t,value:i});return new Hu(r).toPromise()}async function RN(e,t){const i=zf(e,!1).get(t),r=await new Hu(i).toPromise();return r===void 0?null:r.value}function nE(e,t){const i=zf(e,!0).delete(t);return new Hu(i).toPromise()}const CN=800,xN=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>xN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(bN()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hp();return await eE(t,mf,"1"),await nE(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>RN(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=zf(o,!1).getAll();return new Hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const IN=TA;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(e,t){return t?ms(t):(vt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends qg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return wo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function NN(e){return hA(e.auth,new Yg(e),e.bypassAuthState)}function MN(e){const{auth:t,user:i}=e;return vt(i,t,"internal-error"),oN(i,new Yg(e),e.bypassAuthState)}async function ON(e){const{auth:t,user:i}=e;return vt(i,t,"internal-error"),aN(i,new Yg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return MN;default:gi(this.auth,"internal-error")}}resolve(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new zu(2e3,1e4);class yo extends EA{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const t=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VN.get())};t()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="pendingRedirect",$h=new Map;class LN extends EA{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=$h.get(this.auth._key());if(!t){try{const r=await kN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}$h.set(this.auth._key(),t)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kN(e,t){const i=zN(t),r=jN(e);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function UN(e,t){$h.set(e._key(),t)}function jN(e){return ms(e._redirectPersistence)}function zN(e){return Xh(PN,e.config.apiKey,e.name)}async function BN(e,t,i=!1){if(Yn(e.app))return Promise.reject(gs(e));const r=Ea(e),o=DN(r,t),c=await new LN(r,o,i).execute();return c&&!i&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=600*1e3;class HN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!SA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(t))}saveEventToCache(t){this.cachedEventUids.add(iE(t)),this.lastProcessedEventTime=Date.now()}}function iE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function SA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function qN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(e,t={}){return Ar(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function XN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await GN(e);for(const i of t)try{if($N(i))return}catch{}gi(e,"unauthorized-domain")}function $N(e){const t=zp(),{protocol:i,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&c.hostname===r}if(!YN.test(i))return!1;if(KN.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new zu(3e4,6e4);function sE(){const e=Hi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function WN(e){return new Promise((t,i)=>{function r(){sE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sE(),i(Fi(e,"network-request-failed"))},timeout:QN.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const o=FD("iframefcb");return Hi()[o]=()=>{gapi.load?r():i(Fi(e,"network-request-failed"))},aA(`${BD()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Qh=null,t})}let Qh=null;function ZN(e){return Qh=Qh||WN(e),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new zu(5e3,15e3),tM="__/auth/iframe",eM="emulator/auth/iframe",nM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sM(e){const t=e.config;vt(t.authDomain,e,"auth-domain-config-required");const i=t.emulator?Bg(t,eM):`https://${e.config.authDomain}/${tM}`,r={apiKey:t.apiKey,appName:e.name,v:Bo},o=iM.get(e.config.apiHost);o&&(r.eid=o);const u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ju(r).slice(1)}`}async function rM(e){const t=await ZN(e),i=Hi().gapi;return vt(i,e,"internal-error"),t.open({where:document.body,url:sM(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Fi(e,"network-request-failed"),m=Hi().setTimeout(()=>{u(c)},JN.get());function p(){Hi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oM=500,lM=600,uM="_blank",cM="http://localhost";class rE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hM(e,t,i,r=oM,o=lM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...aM,width:r.toString(),height:o.toString(),top:u,left:c},g=rn().toLowerCase();i&&(m=Jb(g)?uM:i),Wb(g)&&(t=t||cM,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[I,N])=>`${S}${I}=${N},`,"");if(MD(g)&&m!=="_self")return fM(t||"",m),new rE(null);const E=window.open(t||"",m,v);vt(E,e,"popup-blocked");try{E.focus()}catch{}return new rE(E)}function fM(e,t){const i=document.createElement("a");i.href=e,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="__/auth/handler",mM="emulator/auth/handler",pM=encodeURIComponent("fac");async function aE(e,t,i,r,o,u){vt(e.config.authDomain,e,"auth-domain-config-required"),vt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:r,v:Bo,eventId:o};if(t instanceof uA){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",tI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Fu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await e._getAppCheckToken(),g=p?`#${pM}=${encodeURIComponent(p)}`:"";return`${gM(e)}?${ju(m).slice(1)}${g}`}function gM({config:e}){return e.emulator?Bg(e,mM):`https://${e.authDomain}/${dM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class yM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gA,this._completeRedirectFn=BN,this._overrideRedirectResult=UN}async _openPopup(t,i,r,o){Ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await aE(t,i,r,zp(),o);return hM(t,u,Kg())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await aE(t,i,r,zp(),o);return TN(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Ss(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await rM(t),r=new HN(t);return i.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(cp,{type:cp},o=>{const u=o?.[0]?.[cp];u!==void 0&&i(!!u),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return sA()||Zb()||Hg()}}const vM=yM;var oE="@firebase/auth",lE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EM(e){Io(new ma("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;vt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rA(e)},g=new UD(r,o,u,p);return XD(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Io(new ma("auth-internal",t=>{const i=Ea(t.getProvider("auth").getImmediate());return(r=>new _M(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(oE,lE,TM(e)),pr(oE,lE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=300,bM=Vb("authIdTokenMaxAge")||SM;let uE=null;const AM=e=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>bM)return;const o=i?.token;uE!==o&&(uE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wM(e=zb()){const t=jg(e,"auth");if(t.isInitialized())return t.getImmediate();const i=YD(e,{popupRedirectResolver:vM,persistence:[IN,yN,gA]}),r=Vb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=AM(u.toString());fN(i,c,()=>c(i.currentUser)),hN(i,m=>c(m))}}const o=Mb("auth");return o&&$D(i,`http://${o}`),i}function RM(){return document.getElementsByTagName("head")?.[0]??document}jD({loadJS(e){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const u=Fi("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",RM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EM("Browser");var CM="firebase",xM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(CM,xM,"app");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xg;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,M,j){for(var x=Array(arguments.length-2),It=2;It<arguments.length;It++)x[It-2]=arguments[It];return w.prototype[M].apply(V,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;M<16;++M)V[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],M=C.g[2];let j=C.g[3],x;x=w+(j^R&(M^j))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(M^w&(R^M))+V[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(R^j&(w^R))+V[2]+606105819&4294967295,M=j+(x<<17&4294967295|x>>>15),x=R+(w^M&(j^w))+V[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(j^R&(M^j))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(M^w&(R^M))+V[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(R^j&(w^R))+V[6]+2821735955&4294967295,M=j+(x<<17&4294967295|x>>>15),x=R+(w^M&(j^w))+V[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(j^R&(M^j))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(M^w&(R^M))+V[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(R^j&(w^R))+V[10]+4294925233&4294967295,M=j+(x<<17&4294967295|x>>>15),x=R+(w^M&(j^w))+V[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(j^R&(M^j))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=j+(M^w&(R^M))+V[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(R^j&(w^R))+V[14]+2792965006&4294967295,M=j+(x<<17&4294967295|x>>>15),x=R+(w^M&(j^w))+V[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(M^j&(R^M))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^M&(w^R))+V[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(j^w))+V[11]+643717713&4294967295,M=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(M^j))+V[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^j&(R^M))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^M&(w^R))+V[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(j^w))+V[15]+3634488961&4294967295,M=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(M^j))+V[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^j&(R^M))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^M&(w^R))+V[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(j^w))+V[3]+4107603335&4294967295,M=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(M^j))+V[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^j&(R^M))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=j+(R^M&(w^R))+V[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(j^w))+V[7]+1735328473&4294967295,M=j+(x<<14&4294967295|x>>>18),x=R+(j^w&(M^j))+V[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(R^M^j)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^M)+V[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^R)+V[11]+1839030562&4294967295,M=j+(x<<16&4294967295|x>>>16),x=R+(M^j^w)+V[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^j)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^M)+V[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^R)+V[7]+4139469664&4294967295,M=j+(x<<16&4294967295|x>>>16),x=R+(M^j^w)+V[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^j)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^M)+V[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^R)+V[3]+3572445317&4294967295,M=j+(x<<16&4294967295|x>>>16),x=R+(M^j^w)+V[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^j)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=j+(w^R^M)+V[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^R)+V[15]+530742520&4294967295,M=j+(x<<16&4294967295|x>>>16),x=R+(M^j^w)+V[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(M^(R|~j))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~M))+V[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~R))+V[14]+2878612391&4294967295,M=j+(x<<15&4294967295|x>>>17),x=R+(j^(M|~w))+V[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~j))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~M))+V[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~R))+V[10]+4293915773&4294967295,M=j+(x<<15&4294967295|x>>>17),x=R+(j^(M|~w))+V[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~j))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~M))+V[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~R))+V[6]+2734768916&4294967295,M=j+(x<<15&4294967295|x>>>17),x=R+(j^(M|~w))+V[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~j))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=j+(R^(w|~M))+V[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~R))+V[2]+718787259&4294967295,M=j+(x<<15&4294967295|x>>>17),x=R+(j^(M|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let M=this.h,j=0;for(;j<w;){if(M==0)for(;j<=R;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<w;)if(V[M++]=C.charCodeAt(j++),M==this.blockSize){o(this,V),M=0;break}}else for(;j<w;)if(V[M++]=C[j++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function c(C,w){this.h=w;const R=[];let V=!0;for(let M=C.length-1;M>=0;M--){const j=C[M]|0;V&&j==w||(R[M]=j,V=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return U(g(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new c(w,0)}function v(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return U(v(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let V=E;for(let j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j);const x=parseInt(C.substring(j,j+M),w);M<8?(M=g(Math.pow(w,M)),V=V.j(M).add(g(x))):(V=V.j(R),V=V.add(g(x)))}return V}var E=p(0),S=p(1),I=p(16777216);e=c.prototype,e.m=function(){if(F(this))return-U(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(F(this))return"-"+U(this).toString(C);const w=g(Math.pow(C,6));var R=this;let V="";for(;;){const M=rt(R,w).g;R=B(R,M.j(w));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,N(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function F(C){return C.h==-1}e.l=function(C){return C=B(this,C),F(C)?-1:N(C)?0:1};function U(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new c(R,~C.h).add(S)}e.abs=function(){return F(this)?U(this):this},e.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let M=0;M<=w;M++){let j=V+(this.i(M)&65535)+(C.i(M)&65535),x=(j>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=x>>>16,j&=65535,x&=65535,R[M]=x<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function B(C,w){return C.add(U(w))}e.j=function(C){if(N(this)||N(C))return E;if(F(this))return F(C)?U(this).j(U(C)):U(U(this).j(C));if(F(C))return U(this.j(U(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const j=this.i(V)>>>16,x=this.i(V)&65535,It=C.i(M)>>>16,Wt=C.i(M)&65535;R[2*V+2*M]+=x*Wt,Y(R,2*V+2*M),R[2*V+2*M+1]+=j*Wt,Y(R,2*V+2*M+1),R[2*V+2*M+1]+=x*It,Y(R,2*V+2*M+1),R[2*V+2*M+2]+=j*It,Y(R,2*V+2*M+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new c(R,0)};function Y(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function q(C,w){this.g=C,this.h=w}function rt(C,w){if(N(w))throw Error("division by zero");if(N(C))return new q(E,E);if(F(C))return w=rt(U(C),w),new q(U(w.g),U(w.h));if(F(w))return w=rt(C,U(w)),new q(U(w.g),w.h);if(C.g.length>30){if(F(C)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,V=w;V.l(C)<=0;)R=at(R),V=at(V);var M=ht(R,1),j=ht(V,1);for(V=ht(V,2),R=ht(R,2);!N(V);){var x=j.add(V);x.l(C)<=0&&(M=M.add(R),j=x),V=ht(V,1),R=ht(R,1)}return w=B(C,M.j(w)),new q(M,w)}for(M=E;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=g(R),x=j.j(w);F(x)||x.l(C)>0;)R-=V,j=g(R),x=j.j(w);N(j)&&(j=S),M=M.add(j),C=B(C,x)}return new q(M,C)}e.B=function(C){return rt(this,C).h},e.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new c(R,this.h&C.h)},e.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new c(R,this.h|C.h)},e.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new c(R,this.h^C.h)};function at(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(R,C.h)}function ht(C,w){const R=w>>5;w%=32;const V=C.g.length-R,M=[];for(let j=0;j<V;j++)M[j]=w>0?C.i(j+R)>>>w|C.i(j+R+1)<<32-w:C.i(j+R);return new c(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Xg=c}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bA,ru,AA,Wh,qp,wA,RA,CA;(function(){var e,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in T))break t;T=T[H]}h=h[h.length-1],A=T[h],y=y(A),y!=A&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&T.push([A,y[A]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,H,$){for(var ot=Array(arguments.length-2),St=2;St<arguments.length;St++)ot[St-2]=arguments[St];return y.prototype[H].apply(A,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const T=Array(y);for(let A=0;A<y;A++)T[A]=h[A];return T}return[]}function N(h,y){for(let A=1;A<arguments.length;A++){const H=arguments[A];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const $=H.length||0;h.length=T+$;for(let ot=0;ot<$;ot++)h[T+ot]=H[ot]}else h.push(H)}}class F{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,T){const A=q.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var q=new F(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,C=new Y,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(R)}};function R(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){U(T)}var y=q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ht=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function It(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(It,M),It.prototype.init=function(h,y){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&It.Z.h.call(this)},It.prototype.h=function(){It.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),W=0;function it(h,y,T,A,H){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=H,this.key=++W,this.da=this.fa=!1}function ut(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function At(h,y,T){for(const A in h)y.call(T,h[A],A,h)}function Mt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function k(h){const y={};for(const T in h)y[T]=h[T];return y}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,y){let T,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(T in A)h[T]=A[T];for(let $=0;$<et.length;$++)T=et[$],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,T,A,H){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ot=wt(h,y,A,H);return ot>-1?(y=h[ot],T||(y.fa=!1)):(y=new it(y,this.src,$,!!A,H),y.fa=T,h.push(y)),y};function Tt(h,y){const T=y.type;if(T in h.g){var A=h.g[T],H=Array.prototype.indexOf.call(A,y,void 0),$;($=H>=0)&&Array.prototype.splice.call(A,H,1),$&&(ut(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function wt(h,y,T,A){for(let H=0;H<h.length;++H){const $=h[H];if(!$.da&&$.listener==y&&$.capture==!!T&&$.ha==A)return H}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Me={};function ne(h,y,T,A,H){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ne(h,y[$],T,A,H);return null}return T=Qo(T),h&&h[Wt]?h.J(y,T,m(A)?!!A.capture:!1,H):Rr(h,y,T,!1,A,H)}function Rr(h,y,T,A,H,$){if(!y)throw Error("Invalid event type");const ot=m(H)?!!H.capture:!!H;let St=Cr(h);if(St||(h[kt]=St=new ct(h)),T=St.add(y,T,A,ot,$),T.proxy)return T;if(A=Aa(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)j||(H=ot),H===void 0&&(H=!1),h.addEventListener(y.toString(),A,H);else if(h.attachEvent)h.attachEvent(_i(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Aa(){function h(T){return y.call(h.src,h.listener,T)}const y=Xo;return h}function wa(h,y,T,A,H){if(Array.isArray(y))for(var $=0;$<y.length;$++)wa(h,y[$],T,A,H);else A=m(A)?!!A.capture:!!A,T=Qo(T),h&&h[Wt]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],T=wt(y,T,A,H),T>-1&&(ut(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Cr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=wt(y,T,A,H)),(T=h>-1?y[h]:null)&&Ra(T))}function Ra(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Wt])Tt(y.i,h);else{var T=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(T,A,h.capture):y.detachEvent?y.detachEvent(_i(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=Cr(y))?(Tt(T,h),T.h==0&&(T.src=null,y[kt]=null)):ut(h)}}}function _i(h){return h in Me?Me[h]:Me[h]="on"+h}function Xo(h,y){if(h.da)h=!0;else{y=new It(y,this);const T=h.listener,A=h.ha||h.src;h.fa&&Ra(h),h=T.call(A,y)}return h}function Cr(h){return h=h[kt],h instanceof ct?h:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qo(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(y){return h.handleEvent(y)}),h[$o])}function Te(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}E(Te,V),Te.prototype[Wt]=!0,Te.prototype.removeEventListener=function(h,y,T,A){wa(this,h,y,T,A)};function Oe(h,y){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var H=y;y=new M(A,h),lt(y,H)}H=!0;let $,ot;if(T)for(ot=T.length-1;ot>=0;ot--)$=y.g=T[ot],H=Cs($,A,!0,y)&&H;if($=y.g=h,H=Cs($,A,!0,y)&&H,H=Cs($,A,!1,y)&&H,T)for(ot=0;ot<T.length;ot++)$=y.g=T[ot],H=Cs($,A,!1,y)&&H}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let A=0;A<T.length;A++)ut(T[A]);delete h.g[y],h.h--}}this.G=null},Te.prototype.J=function(h,y,T,A){return this.i.add(String(h),y,!1,T,A)},Te.prototype.K=function(h,y,T,A){return this.i.add(String(h),y,!0,T,A)};function Cs(h,y,T,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let $=0;$<y.length;++$){const ot=y[$];if(ot&&!ot.da&&ot.capture==T){const St=ot.listener,pe=ot.ha||ot.src;ot.fa&&Tt(h.i,ot),H=St.call(pe,A)!==!1&&H}}return H&&!A.defaultPrevented}function Zf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function tc(h){h.g=Zf(()=>{h.g=null,h.i&&(h.i=!1,tc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class an extends V{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){V.call(this),this.h=h,this.g={}}E(xr,V);var Wo=[];function Zo(h){At(h.g,function(y,T){this.g.hasOwnProperty(T)&&Ra(y)},h),h.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Zo(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=c.JSON.stringify,Jf=c.JSON.parse,ec=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function nc(){}function ic(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){M.call(this,"d")}E(ze,M);function Mn(){M.call(this,"c")}E(Mn,M);var me={},sc=null;function Ca(){return sc=sc||new Te}me.Ia="serverreachability";function rc(h){M.call(this,me.Ia,h)}E(rc,M);function Ti(h){const y=Ca();Oe(y,new rc(y))}me.STAT_EVENT="statevent";function Ir(h,y){M.call(this,me.STAT_EVENT,h),this.stat=y}E(Ir,M);function Ee(h){const y=Ca();Oe(y,new Ir(y,h))}me.Ja="timingevent";function Ei(h,y){M.call(this,me.Ja,h),this.size=y}E(Ei,M);function Si(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function td(h,y,T,A,H,$){h.info(function(){if(h.g)if($){var ot="",St=$.split("&");for(let Bt=0;Bt<St.length;Bt++){var pe=St[Bt].split("=");if(pe.length>1){const ie=pe[0];pe=pe[1];const Ln=ie.split("_");ot=Ln.length>=2&&Ln[1]=="type"?ot+(ie+"="+pe+"&"):ot+(ie+"=redacted&")}}}else ot=null;else ot=$;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+T+`
`+ot})}function ac(h,y,T,A,H,$,ot){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+T+`
`+$+" "+ot})}function bi(h,y,T,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ed(h,T)+(A?" "+A:"")})}function Dr(h,y){h.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function ed(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var T=$[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return xs($)}catch{return y}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function Mr(){}E(Mr,nc),Mr.prototype.g=function(){return new XMLHttpRequest},tl=new Mr;function Xi(h){return encodeURIComponent(String(h))}function oc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Zn(h,y,T,A){this.j=h,this.i=y,this.l=T,this.S=A||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function Ai(h,y,T){h.M=1,h.A=Or(Ae(y)),h.u=T,h.R=!0,xa(h,null)}function xa(h,y){h.F=Date.now(),wi(h),h.B=Ae(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ma(T.i,"t",A),h.C=0,T=h.j.L,h.h=new Jn,h.g=Sc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new an(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Wo[0]=H.toString()),H=Wo);for(let $=0;$<H.length;$++){const ot=ne(T,H[$],A||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ti(),td(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ni(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)t:{const St=ni(this.g),pe=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||pe==7||(pe==8||Bt<=0?Ti(3):Ti(2)),Ri(this);var y=this.g.ca();this.X=y;var T=nd(this);if(this.o=y==200,ac(this.i,this.v,this.B,this.l,this.S,St,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var $=A;break e}}$=null}if(h=$)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,h);else{this.o=!1,this.m=3,Ee(12),Sn(this),On(this);break t}}if(this.R){h=!0;let ie;for(;!this.K&&this.C<T.length;)if(ie=uc(this,T),ie==Pe){St==4&&(this.m=4,Ee(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==Se){this.m=4,Ee(15),bi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ie,null),Ci(this,ie);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||T.length!=0||this.h.h||(this.m=1,Ee(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,T,"[Invalid Chunked Response]"),Sn(this),On(this);else if(T.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),pl(ot),ot.P=!0,Ee(11))}}else bi(this.i,this.l,T,null),Ci(this,T);St==4&&Sn(this),this.o&&!this.K&&(St==4?vc(this.j,this):(this.o=!1,wi(this)))}else Qi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),Sn(this),On(this)}}}catch{}finally{}};function nd(h){if(!lc(h))return h.g.la();const y=Be(h.g);if(y==="")return"";let T="";const A=y.length,H=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),On(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<A;$++)h.h.h=!0,T+=h.h.i.decode(y[$],{stream:!(H&&$==A-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function lc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function uc(h,y){var T=h.C,A=y.indexOf(`
`,T);return A==-1?Pe:(T=Number(y.substring(T,A)),isNaN(T)?Se:(A+=1,A+T>y.length?Pe:(y=y.slice(A,A+T),h.C=A+T,y)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function wi(h){h.T=Date.now()+h.H,Ia(h,h.H)}function Ia(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(g(h.aa,h),y)}function Ri(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Dr(this.i,this.B),this.M!=2&&(Ti(),Ee(17)),Sn(this),this.m=2,On(this)):Ia(this,this.T-h)};function On(h){h.j.I==0||h.K||vc(h.j,h)}function Sn(h){Ri(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Zo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ci(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Ii(T.h,h))){if(!h.L&&Ii(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)ka(T),Ls(T);else break t;zr(T),Ee(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Si(g(T.Va,T),6e3));xi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((h.L||T.g==h)&&ka(T),!x(y))for(H=T.Ba.g.parse(y),y=0;y<H.length;y++){let Bt=H[y];const ie=Bt[0];if(!(ie<=T.K))if(T.K=ie,Bt=Bt[1],T.I==2)if(Bt[0]=="c"){T.M=Bt[1],T.ba=Bt[2];const Ln=Bt[3];Ln!=null&&(T.ka=Ln,T.j.info("VER="+T.ka));const Li=Bt[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const ii=Bt[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const si=h.g;if(si){const Br=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var $=A.h;$.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(il($,$.h),$.h=null))}if(A.G){const Ua=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(A.wa=Ua,qt(A.J,A.G,Ua))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var ot=h;if(A.na=Ec(A,A.L?A.ba:null,A.W),ot.L){sl(A.h,ot);var St=ot,pe=A.O;pe&&(St.H=pe),St.D&&(Ri(St),wi(St)),A.g=ot}else gc(A);T.i.length>0&&Vi(T)}else Bt[0]!="stop"&&Bt[0]!="close"||Pi(T,7);else T.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Pi(T,7):dl(T):Bt[0]!="noop"&&T.l&&T.l.qa(Bt),T.A=0)}}Ti(4)}catch{}}var be=class{constructor(h,y){this.g=h,this.map=y}};function el(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xi(h){return h.h?1:h.g?h.g.size:0}function Ii(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function il(h,y){h.g?h.g.add(y):h.h=y}function sl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}el.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return I(h.i)}var cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let H,$=null;A>=0?(H=h[T].substring(0,A),$=h[T].substring(A+1)):H=h[T],y(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof bn?(this.l=h.l,Le(this,h.j),this.o=h.o,this.g=h.g,Is(this,h.u),this.h=h.h,al(this,mc(h.i)),this.m=h.m):h&&(y=String(h).match(cc))?(this.l=!1,Le(this,y[1]||"",!0),this.o=Di(y[2]||""),this.g=Di(y[3]||"",!0),Is(this,y[4]),this.h=Di(y[5]||"",!0),al(this,y[6]||"",!0),this.m=Di(y[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}bn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Vr(y,Na,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vr(y,Na,!0),"@"),h.push(Xi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Vr(T,T.charAt(0)=="/"?ol:hc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Vr(T,fc)),h.join("")},bn.prototype.resolve=function(h){const y=Ae(this);let T=!!h.j;T?Le(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var A=h.h;if(T)Is(y,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=y.h.lastIndexOf("/");H!=-1&&(A=y.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const $=[];for(let ot=0;ot<H.length;){const St=H[ot++];St=="."?A&&ot==H.length&&$.push(""):St==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&ot==H.length&&$.push("")):($.push(St),A=!0)}A=$.join("/")}else A=H}return T?y.h=A:T=h.i.toString()!=="",T?al(y,mc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ae(h){return new bn(h)}function Le(h,y,T){h.j=T?Di(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Is(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function al(h,y,T){y instanceof Ns?(h.i=y,Oa(h.i,h.l)):(T||(y=Vr(y,Ds)),h.i=new Ns(y,h.l))}function qt(h,y,T){h.i.set(y,T)}function Or(h){return qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Di(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,hc=/[#\?:]/g,ol=/[#\?]/g,Ds=/[#\?@]/g,fc=/#/g;function Ns(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Da(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=Ns.prototype,e.add=function(h,y){dn(this),this.i=null,h=Ms(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function dc(h,y){dn(h),y=Ms(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ll(h,y){return dn(h),y=Ms(h,y),h.g.has(y)}e.forEach=function(h,y){dn(this),this.g.forEach(function(T,A){T.forEach(function(H){h.call(y,H,A,this)},this)},this)};function ul(h,y){dn(h);let T=[];if(typeof y=="string")ll(h,y)&&(T=T.concat(h.g.get(Ms(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}e.set=function(h,y){return dn(this),this.i=null,h=Ms(this,h),ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=ul(this,h),h.length>0?String(h[0]):y):y};function Ma(h,y,T){dc(h,y),T.length>0&&(h.i=null,h.g.set(Ms(h,y),I(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var T=y[A];const H=Xi(T);T=ul(this,T);for(let $=0;$<T.length;$++){let ot=H;T[$]!==""&&(ot+="="+Xi(T[$])),h.push(ot)}}return this.i=h.join("&")};function mc(h){const y=new Ns;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ms(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Oa(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(T,A){const H=A.toLowerCase();A!=H&&(dc(this,A),Ma(this,H,T))},h)),h.j=y}function ti(h,y){const T=new Wn;if(c.Image){const A=new Image;A.onload=v(Vn,T,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Vn,T,"TestLoadImage: error",!1,y,A),A.onabort=v(Vn,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Vn,T,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function cl(h,y){const T=new Wn,A=new AbortController,H=setTimeout(()=>{A.abort(),Vn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(H),$.ok?Vn(T,"TestPingServer: ok",!0,y):Vn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Vn(T,"TestPingServer: error",!1,y)})}function Vn(h,y,T,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(T)}catch{}}function Os(){this.g=new ec}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ni,nc),Ni.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(h,y){Te.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Pr,Te),e=Pr.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ei(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Vs(this):ei(this),this.readyState==3&&Va(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Vs(this))},e.Na=function(h){this.g&&(this.response=h,Vs(this))},e.ga=function(){this.g&&Vs(this)};function Vs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return At(h,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function Lr(h,y,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=Pn(T),typeof h=="string"?T!=null&&Xi(T):qt(h,y,T))}function Yt(h){Te.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Yt,Te);var Mi=/^https?$/i,hl=["POST","PUT"];e=Yt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){kr(this,$);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)T.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())T.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(hl,y,void 0)>=0)||A||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ot]of T)this.g.setRequestHeader($,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){kr(this,$)}};function kr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,fl(h),$i(h)}function fl(h){h.A||(h.A=!0,Oe(h,"complete"),Oe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Oe(this,"complete"),Oe(this,"abort"),$i(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Yt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},e.Xa=function(){Ur(this)};function Ur(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Oe(h,"readystatechange"),ni(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var A;if(A=$===0){let ot=String(h.D).match(cc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Mi.test(ot?ot.toLowerCase():"")}T=A}if(T)Oe(h,"complete"),Oe(h,"success");else{h.o=6;try{var H=ni(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",fl(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Oe(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Jf(y)}};function Be(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(h){const y={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(x(h[A]))continue;var T=oc(h[A]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=y[H]||[];y[H]=$,$.push(T)}Mt(y,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ps(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new el(h&&h.concurrentRequestLimit),this.Ba=new Os,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ps.prototype,e.ka=8,e.I=1,e.connect=function(h,y,T,A){Ee(0),this.W=h,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Ec(this,null,this.W),Vi(this)};function dl(h){if(Pa(h),h.I==3){var y=h.V++,T=Ae(h.J);if(qt(T,"SID",h.M),qt(T,"RID",y),qt(T,"TYPE","terminate"),jr(h,T),y=new Zn(h,h.j,y),y.M=2,y.A=Or(Ae(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Sc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),wi(y)}Tc(h)}function Ls(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Pa(h){Ls(h),h.v&&(c.clearTimeout(h.v),h.v=null),ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vi(h){if(!nl(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||w(),ht||(at(),ht=!0),C.add(y,h),h.D=0}}function La(h,y){return xi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(g(h.Ea,h,y),_c(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Zn(this,this.j,h);let $=this.o;if(this.U&&($?($=k($),lt($,this.U)):$=this.U),this.u!==null||this.R||(H.J=$,$=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=pc(this,H,y),T=Ae(this.J),qt(T,"RID",h),qt(T,"CVER",22),this.G&&qt(T,"X-HTTP-Session-Id",this.G),jr(this,T),$&&(this.R?y="headers="+Xi(Pn($))+"&"+y:this.u&&Lr(T,this.u,$)),il(this.h,H),this.Ra&&qt(T,"TYPE","init"),this.S?(qt(T,"$req",y),qt(T,"SID","null"),H.U=!0,Ai(H,T,null)):Ai(H,T,y),this.I=2}}else this.I==3&&(h?ml(this,h):this.i.length==0||nl(this.h)||ml(this))};function ml(h,y){var T;y?T=y.l:T=h.V++;const A=Ae(h.J);qt(A,"SID",h.M),qt(A,"RID",T),qt(A,"AID",h.K),jr(h,A),h.u&&h.o&&Lr(A,h.u,h.o),T=new Zn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=pc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),il(h.h,T),Ai(T,A,y)}function jr(h,y){h.H&&At(h.H,function(T,A){qt(y,A,T)}),h.l&&At({},function(T,A){qt(y,A,T)})}function pc(h,y,T){T=Math.min(h.i.length,T);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var H=h.i;let St=-1;for(;;){const pe=["count="+T];St==-1?T>0?(St=H[0].g,pe.push("ofs="+St)):St=0:pe.push("ofs="+St);let Bt=!0;for(let ie=0;ie<T;ie++){var $=H[ie].g;const Ln=H[ie].map;if($-=St,$<0)St=Math.max(0,H[ie].g-100),Bt=!1;else try{$="req"+$+"_"||"";try{var ot=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Li,ii]of ot){let si=ii;m(ii)&&(si=xs(ii)),pe.push($+Li+"="+encodeURIComponent(si))}}catch(Li){throw pe.push($+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(Ln)}}if(Bt){ot=pe.join("&");break t}}ot=void 0}return h=h.i.splice(0,T),y.G=h,ot}function gc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||w(),ht||(at(),ht=!0),C.add(y,h),h.A=0}}function zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(g(h.Da,h),_c(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Ls(this),yc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function yc(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ae(h.na);qt(y,"RID","rpc"),qt(y,"SID",h.M),qt(y,"AID",h.K),qt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&qt(y,"TO",h.ia),qt(y,"TYPE","xmlhttp"),jr(h,y),h.u&&h.o&&Lr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Or(Ae(y)),T.u=null,T.R=!0,xa(T,h)}e.Va=function(){this.C!=null&&(this.C=null,Ls(this),zr(this),Ee(19))};function ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function vc(h,y){var T=null;if(h.g==y){ka(h),pl(h),h.g=null;var A=2}else if(Ii(h.h,y))T=y.G,sl(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;A=Ca(),Oe(A,new Ei(A,T)),Vi(h)}else gc(h);else if(H=y.m,H==3||H==0&&y.X>0||!(A==1&&La(h,y)||A==2&&zr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),H){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function _c(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Pi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),A=h.Ua;const H=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Le(A,"https"),Or(A),H?ti(A.toString(),T):cl(A.toString(),T)}else Ee(2);h.I=0,h.l&&h.l.pa(y),Tc(h),Pa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Tc(h){if(h.I=0,h.ja=[],h.l){const y=rl(h.h);(y.length!=0||h.i.length!=0)&&(N(h.ja,y),N(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Ec(h,y,T){var A=T instanceof bn?Ae(T):new bn(T);if(A.g!="")y&&(A.g=y+"."+A.g),Is(A,A.u);else{var H=c.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const $=new bn(null);A&&Le($,A),y&&($.g=y),H&&Is($,H),T&&($.h=T),A=$}return T=h.G,y=h.wa,T&&y&&qt(A,T,y),qt(A,"VER",h.ka),jr(h,A),A}function Sc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Yt(new Ni({ab:T})):new Yt(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}e=bc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ks(){}ks.prototype.g=function(h,y){return new on(h,y)};function on(h,y){Te.call(this),this.g=new Ps(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}E(on,Te),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){dl(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=xs(h),h=T);y.i.push(new be(y.Ya++,h)),y.I==3&&Vi(y)},on.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,on.Z.N.call(this)};function Ac(h){ze.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Ac,ze);function wc(){Mn.call(this),this.status=1}E(wc,Mn);function Wi(h){this.g=h}E(Wi,bc),Wi.prototype.ra=function(){Oe(this.g,"a")},Wi.prototype.qa=function(h){Oe(this.g,new Ac(h))},Wi.prototype.pa=function(h){Oe(this.g,new wc)},Wi.prototype.oa=function(){Oe(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,CA=function(){return new ks},RA=function(){return Ca()},wA=me,qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Wh=Nr,Jo.COMPLETE="complete",AA=Jo,ic.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,ru=ic,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,bA=Yt}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new kg("@firebase/firestore");function po(){return ya.logLevel}function mt(e,...t){if(ya.logLevel<=Pt.DEBUG){const i=t.map($g);ya.debug(`Firestore (${Ho}): ${e}`,...i)}}function va(e,...t){if(ya.logLevel<=Pt.ERROR){const i=t.map($g);ya.error(`Firestore (${Ho}): ${e}`,...i)}}function Bf(e,...t){if(ya.logLevel<=Pt.WARN){const i=t.map($g);ya.warn(`Firestore (${Ho}): ${e}`,...i)}}function $g(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,xA(e,r,i)}function xA(e,t,i){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw va(r),new Error(r)}function de(e,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,e||xA(t,o,r)}function Jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Rs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class DM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NM{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){de(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ua,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ua)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new IA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class MM{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OM{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new MM(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VM{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){de(this.o===void 0,3512);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(de(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dE(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=PM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ht(e,t){return e<t?-1:e>t?1:0}function Gp(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return hp(o)===hp(u)?Ht(o,u):hp(o)?1:-1}return Ht(e.length,t.length)}const LM=55296,kM=57343;function hp(e){const t=e.charCodeAt(0);return t>=LM&&t<=kM}function Do(e,t,i){return e.length===t.length&&e.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Bi{constructor(t,i,r){i===void 0?i=0:i>t.length&&xt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&xt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Bi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ht(t.length,i.length)}static compareSegments(t,i){const r=Bi.isNumericId(t),o=Bi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(i)):Gp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xg.fromString(t.substring(4,t.length-2))}}class _e extends Bi{construct(t,i,r){return new _e(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const UM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Bi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return UM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new Qe([mE])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new gt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(_e.fromString(t))}static fromName(t){return new Ct(_e.fromString(t).popFirst(5))}static empty(){return new Ct(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new _e(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(e,t,i){if(!i)throw new gt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zM(e,t,i,r){if(t===!0&&r===!0)throw new gt(st.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function pE(e){if(!Ct.isDocumentKey(e))throw new gt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function DA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Wg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xt(12329,{type:typeof e})}function Kp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wg(e);throw new gt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e,t){const i={typeString:e};return t&&(i.value=t),i}function qu(e,t){if(!DA(e))throw new gt(st.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){i=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new gt(st.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,yE=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*yE);return new ae(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<gE)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-gE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(t){return new re(t)}static min(){return new re(new ae(0,0))}static max(){return new re(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function BM(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=re.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new gr(o,Ct.empty(),t)}function FM(e){return new gr(e.readTime,e.key,Au)}class gr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new gr(re.min(),Ct.empty(),Au)}static max(){return new gr(re.max(),Ct.empty(),Au)}}function HM(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=Ct.comparator(e.documentKey,t.documentKey),i!==0?i:Ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==qM)throw e;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,r)=>{i(t)}))}static reject(t){return new nt(((i,r)=>{r(t)}))}static waitFor(t){return new nt(((i,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&i()}),(p=>r(p)))})),c=!0,u===o&&i()}))}static or(t){let i=nt.resolve(!1);for(const r of t)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new nt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function KM(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function ey(e){return e==null}function gf(e){return e===0&&1/e==-1/0}function YM(e){return typeof e=="number"&&Number.isInteger(e)&&!gf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="";function XM(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=vE(t)),t=$M(e.get(i),t);return vE(t)}function $M(e,t){let i=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case NA:i+="";break;default:i+=u}}return i}function vE(e){return e+NA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function qo(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function MA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new En(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new En(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oh(this.root,t,this.comparator,!0)}}class Oh{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Xe(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.comparator=t,this.data=new En(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(t){return new TE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new We(this.comparator);return i.data=t,i}}class TE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new di([])}unionWith(t){let i=new We(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new di(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Do(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QM("Invalid base64 string: "+u):u}})(t);return new Ki(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Ki(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const WM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(e){if(de(!!e,39018),typeof e=="string"){let t=0;const i=WM.exec(e);if(de(!!i,46558,{timestamp:e}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$e(e.seconds),nanos:$e(e.nanos)}}function $e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function No(e){return typeof e=="string"?Ki.fromBase64String(e):Ki.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",VA="__type__",PA="__previous_value__",LA="__local_write_time__";function ny(e){return(e?.mapValue?.fields||{})[VA]?.stringValue===OA}function iy(e){const t=e.mapValue.fields[PA];return ny(t)?iy(t):t}function yf(e){const t=_a(e.mapValue.fields[LA].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(t,i,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const vf="(default)";class _f{constructor(t,i){this.projectId=t,this.database=i||vf}static empty(){return new _f("","")}get isDefaultDatabase(){return this.database===vf}isEqual(t){return t instanceof _f&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="__type__",JM="__max__",Vh={mapValue:{}},UA="__vector__",Yp="value";function Ta(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ny(e)?4:eO(e)?9007199254740991:tO(e)?10:11:xt(28295,{value:e})}function Yi(e,t){if(e===t)return!0;const i=Ta(e);if(i!==Ta(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yf(e).isEqual(yf(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=_a(o.timestampValue),m=_a(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return No(o.bytesValue).isEqual(No(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return $e(o.geoPointValue.latitude)===$e(u.geoPointValue.latitude)&&$e(o.geoPointValue.longitude)===$e(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return $e(o.integerValue)===$e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=$e(o.doubleValue),m=$e(u.doubleValue);return c===m?gf(c)===gf(m):isNaN(c)&&isNaN(m)}return!1})(e,t);case 9:return Do(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_E(c)!==_E(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Yi(c[p],m[p])))return!1;return!0})(e,t);default:return xt(52216,{left:e})}}function wu(e,t){return(e.values||[]).find((i=>Yi(i,t)))!==void 0}function Mo(e,t){if(e===t)return 0;const i=Ta(e),r=Ta(t);if(i!==r)return Ht(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=$e(u.integerValue||u.doubleValue),p=$e(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(e,t);case 3:return EE(e.timestampValue,t.timestampValue);case 4:return EE(yf(e),yf(t));case 5:return Gp(e.stringValue,t.stringValue);case 6:return(function(u,c){const m=No(u),p=No(c);return m.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ht(m[g],p[g]);if(v!==0)return v}return Ht(m.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Ht($e(u.latitude),$e(c.latitude));return m!==0?m:Ht($e(u.longitude),$e(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return SE(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Yp]?.arrayValue,v=p[Yp]?.arrayValue,E=Ht(g?.values?.length||0,v?.values?.length||0);return E!==0?E:SE(g,v)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Vh.mapValue&&c===Vh.mapValue)return 0;if(u===Vh.mapValue)return 1;if(c===Vh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Gp(p[E],v[E]);if(S!==0)return S;const I=Mo(m[p[E]],g[v[E]]);if(I!==0)return I}return Ht(p.length,v.length)})(e.mapValue,t.mapValue);default:throw xt(23264,{he:i})}}function EE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ht(e,t);const i=_a(e),r=_a(t),o=Ht(i.seconds,r.seconds);return o!==0?o:Ht(i.nanos,r.nanos)}function SE(e,t){const i=e.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Mo(i[o],r[o]);if(u)return u}return Ht(i.length,r.length)}function Oo(e){return Xp(e)}function Xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(i){const r=_a(i);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(i){return No(i).toBase64()})(e.bytesValue):"referenceValue"in e?(function(i){return Ct.fromName(i).toString()})(e.referenceValue):"geoPointValue"in e?(function(i){return`geo(${i.latitude},${i.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Xp(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Xp(i.fields[c])}`;return o+"}"})(e.mapValue):xt(61005,{value:e})}function Zh(e){switch(Ta(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=iy(e);return t?16+Zh(t):16;case 5:return 2*e.stringValue.length;case 6:return No(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Zh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return qo(r.fields,((u,c)=>{o+=u.length+Zh(c)})),o})(e.mapValue);default:throw xt(13486,{value:e})}}function $p(e){return!!e&&"integerValue"in e}function sy(e){return!!e&&"arrayValue"in e}function Jh(e){return!!e&&"mapValue"in e}function tO(e){return(e?.mapValue?.fields||{})[kA]?.stringValue===UA}function uu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return qo(e.mapValue.fields,((i,r)=>t.mapValue.fields[i]=uu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uu(e.arrayValue.values[i]);return t}return{...e}}function eO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===JM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.value=t}static empty(){return new ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Jh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uu(i)}setAll(t){let i=Qe.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}c?r[m.lastSegment()]=uu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Jh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){qo(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new ci(uu(this.value))}}function jA(e){const t=[];return qo(e.fields,((i,r)=>{const o=new Qe([i]);if(Jh(r)){const u=jA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,i,r,o,u,c,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new ui(t,0,re.min(),re.min(),re.min(),ci.empty(),0)}static newFoundDocument(t,i,r,o){return new ui(t,1,i,re.min(),r,o,0)}static newNoDocument(t,i){return new ui(t,2,i,re.min(),re.min(),ci.empty(),0)}static newUnknownDocument(t,i){return new ui(t,3,i,re.min(),re.min(),ci.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,i){this.position=t,this.inclusive=i}}function bE(e,t,i){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=Ct.comparator(Ct.fromName(c.referenceValue),i.key):r=Mo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function AE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Yi(e.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,i="asc"){this.field=t,this.dir=i}}function nO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class je extends zA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new sO(t,i,r):i==="array-contains"?new oO(t,r):i==="in"?new lO(t,r):i==="not-in"?new uO(t,r):i==="array-contains-any"?new cO(t,r):new je(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new rO(t,r):new aO(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Mo(i,this.value)):i!==null&&Ta(this.value)===Ta(i)&&this.matchesComparison(Mo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends zA{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new yr(t,i)}matches(t){return BA(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BA(e){return e.op==="and"}function FA(e){return iO(e)&&BA(e)}function iO(e){for(const t of e.filters)if(t instanceof yr)return!1;return!0}function Qp(e){if(e instanceof je)return e.field.canonicalString()+e.op.toString()+Oo(e.value);if(FA(e))return e.filters.map((t=>Qp(t))).join(",");{const t=e.filters.map((i=>Qp(i))).join(",");return`${e.op}(${t})`}}function HA(e,t){return e instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&Yi(r.value,o.value)})(e,t):e instanceof yr?(function(r,o){return o instanceof yr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&HA(c,o.filters[m])),!0):!1})(e,t):void xt(19439)}function qA(e){return e instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${Oo(i.value)}`})(e):e instanceof yr?(function(i){return i.op.toString()+" {"+i.getFilters().map(qA).join(" ,")+"}"})(e):"Filter"}class sO extends je{constructor(t,i,r){super(t,i,r),this.key=Ct.fromName(r.referenceValue)}matches(t){const i=Ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class rO extends je{constructor(t,i){super(t,"in",i),this.keys=GA("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class aO extends je{constructor(t,i){super(t,"not-in",i),this.keys=GA("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function GA(e,t){return(t.arrayValue?.values||[]).map((i=>Ct.fromName(i.referenceValue)))}class oO extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return sy(i)&&wu(i.arrayValue,this.value)}}class lO extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wu(this.value.arrayValue,i)}}class uO extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wu(this.value.arrayValue,i)}}class cO extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!sy(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,i=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function wE(e,t=null,i=[],r=[],o=null,u=null,c=null){return new hO(e,t,i,r,o,u,c)}function ry(e){const t=Jt(e);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Qp(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),ey(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Oo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Oo(r))).join(",")),t.Te=i}return t.Te}function ay(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!nO(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!HA(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!AE(e.startAt,t.startAt)&&AE(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,i=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fO(e,t,i,r,o,u,c,m){return new Ff(e,t,i,r,o,u,c,m)}function dO(e){return new Ff(e)}function RE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function mO(e){return e.collectionGroup!==null}function cu(e){const t=Jt(e);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new We(Qe.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ef(u,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Ef(Qe.keyField(),r))}return t.Ie}function ca(e){const t=Jt(e);return t.Ee||(t.Ee=pO(t,cu(e))),t.Ee}function pO(e,t){if(e.limitType==="F")return wE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ef(o.field,u)}));const i=e.endAt?new Tf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tf(e.startAt.position,e.startAt.inclusive):null;return wE(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}}function Wp(e,t,i){return new Ff(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function KA(e,t){return ay(ca(e),ca(t))&&e.limitType===t.limitType}function YA(e){return`${ry(ca(e))}|lt:${e.limitType}`}function eu(e){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>qA(o))).join(", ")}]`),ey(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Oo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Oo(o))).join(",")),`Target(${r})`})(ca(e))}; limitType=${e.limitType})`}function oy(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ct.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of cu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=bE(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,cu(r),o)||r.endAt&&!(function(c,m,p){const g=bE(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,cu(r),o))})(e,t)}function gO(e){return(t,i)=>{let r=!1;for(const o of cu(e)){const u=yO(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yO(e,t,i){const r=e.field.isKeyField()?Ct.comparator(t.key,i.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Mo(p,g):xt(42886)})(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qo(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return MA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new En(Ct.comparator);function Sf(){return vO}const XA=new En(Ct.comparator);function Ph(...e){let t=XA;for(const i of e)t=t.insert(i.key,i);return t}function $A(e){let t=XA;return e.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function aa(){return hu()}function QA(){return hu()}function hu(){return new Sa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _O=new En(Ct.comparator),TO=new We(Ct.comparator);function en(...e){let t=TO;for(const i of e)t=t.add(i);return t}const EO=new We(Ht);function SO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(t)?"-0":t}}function WA(e){return{integerValue:""+e}}function bO(e,t){return YM(t)?WA(t):ly(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function AO(e,t,i){return e instanceof Ru?(function(o,u){const c={fields:{[VA]:{stringValue:OA},[LA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ny(u)&&(u=iy(u)),u&&(c.fields[PA]=u),{mapValue:c}})(i,t):e instanceof Cu?JA(e,t):e instanceof xu?t1(e,t):(function(o,u){const c=ZA(o,u),m=CE(c)+CE(o.Ae);return $p(c)&&$p(o.Ae)?WA(m):ly(o.serializer,m)})(e,t)}function wO(e,t,i){return e instanceof Cu?JA(e,t):e instanceof xu?t1(e,t):i}function ZA(e,t){return e instanceof bf?(function(r){return $p(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Ru extends Hf{}class Cu extends Hf{constructor(t){super(),this.elements=t}}function JA(e,t){const i=e1(t);for(const r of e.elements)i.some((o=>Yi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class xu extends Hf{constructor(t){super(),this.elements=t}}function t1(e,t){let i=e1(t);for(const r of e.elements)i=i.filter((o=>!Yi(o,r)));return{arrayValue:{values:i}}}class bf extends Hf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function CE(e){return $e(e.integerValue||e.doubleValue)}function e1(e){return sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,i){this.field=t,this.transform=i}}function CO(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof Cu&&o instanceof Cu||r instanceof xu&&o instanceof xu?Do(r.elements,o.elements,Yi):r instanceof bf&&o instanceof bf?Yi(r.Ae,o.Ae):r instanceof Ru&&o instanceof Ru})(e.transform,t.transform)}class xO{constructor(t,i){this.version=t,this.transformResults=i}}class ys{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qf{}function n1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new s1(e.key,ys.none()):new Ku(e.key,e.data,ys.none());{const i=e.data,r=ci.empty();let o=new We(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ba(e.key,r,new di(o.toArray()),ys.none())}}function IO(e,t,i){e instanceof Ku?(function(o,u,c){const m=o.value.clone(),p=IE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,i):e instanceof ba?(function(o,u,c){if(!tf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=IE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(i1(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function fu(e,t,i,r){return e instanceof Ku?(function(u,c,m,p){if(!tf(u.precondition,c))return m;const g=u.value.clone(),v=DE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,i,r):e instanceof ba?(function(u,c,m,p){if(!tf(u.precondition,c))return m;const g=DE(u.fieldTransforms,p,c),v=c.data;return v.setAll(i1(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(e,t,i,r):(function(u,c,m){return tf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(e,t,i)}function DO(e,t){let i=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=ZA(r.transform,o||null);u!=null&&(i===null&&(i=ci.empty()),i.set(r.field,u))}return i||null}function xE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Do(r,o,((u,c)=>CO(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ku extends qf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends qf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function i1(e){const t=new Map;return e.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}})),t}function IE(e,t,i){const r=new Map;de(e.length===i.length,32656,{Re:i.length,Ve:e.length});for(let o=0;o<i.length;o++){const u=e[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,wO(c,m,i[o]))}return r}function DE(e,t,i){const r=new Map;for(const o of e){const u=o.transform,c=i.data.field(o.field);r.set(o.field,AO(u,c,t))}return r}class s1 extends qf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends qf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&IO(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=fu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=fu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=QA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=i.has(o.key)?null:m;const p=n1(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(re.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),en())}isEqual(t){return this.batchId===t.batchId&&Do(this.mutations,t.mutations,((i,r)=>xE(i,r)))&&Do(this.baseMutations,t.baseMutations,((i,r)=>xE(i,r)))}}class uy{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){de(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return _O})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new uy(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Ut;function VO(e){switch(e){case st.OK:return xt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return xt(15467,{code:e})}}function PO(e){if(e===void 0)return va("GRPC error has no .code"),st.UNKNOWN;switch(e){case Ie.OK:return st.OK;case Ie.CANCELLED:return st.CANCELLED;case Ie.UNKNOWN:return st.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return st.INTERNAL;case Ie.UNAVAILABLE:return st.UNAVAILABLE;case Ie.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ie.NOT_FOUND:return st.NOT_FOUND;case Ie.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ie.ABORTED:return st.ABORTED;case Ie.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ie.DATA_LOSS:return st.DATA_LOSS;default:return xt(39323,{code:e})}}(Ut=Ie||(Ie={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Xg([4294967295,4294967295],0);class LO{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kO(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function UO(e,t){return Zp(e,t.toTimestamp())}function Ro(e){return de(!!e,49232),re.fromTimestamp((function(i){const r=_a(i);return new ae(r.seconds,r.nanos)})(e))}function r1(e,t){return Jp(e,t).canonicalString()}function Jp(e,t){const i=(function(o){return new _e(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?i:i.child(t)}function jO(e){const t=_e.fromString(e);return de(YO(t),10190,{key:t.toString()}),t}function tg(e,t){return r1(e.databaseId,t.path)}function zO(e){const t=jO(e);return t.length===4?_e.emptyPath():FO(t)}function BO(e){return new _e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function FO(e){return de(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function NE(e,t,i){return{name:tg(e,t),fields:i.value.mapValue.fields}}function HO(e,t){let i;if(t instanceof Ku)i={update:NE(e,t.key,t.value)};else if(t instanceof s1)i={delete:tg(e,t.key)};else if(t instanceof ba)i={update:NE(e,t.key,t.data),updateMask:KO(t.fieldMask)};else{if(!(t instanceof NO))return xt(16599,{Vt:t.type});i={verify:tg(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Ru)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw xt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:UO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xt(27497)})(e,t.precondition)),i}function qO(e,t){return e&&e.length>0?(de(t!==void 0,14353),e.map((i=>(function(o,u){let c=o.updateTime?Ro(o.updateTime):Ro(u);return c.isEqual(re.min())&&(c=Ro(u)),new xO(c,o.transformResults||[])})(i,t)))):[]}function GO(e){let t=zO(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){de(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(E){const S=a1(E);return S instanceof yr&&FA(S)?S.getFilters():[S]})(i.where));let c=[];i.orderBy&&(c=(function(E){return E.map((S=>(function(N){return new Ef(go(N.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,ey(S)?null:S})(i.limit));let p=null;i.startAt&&(p=(function(E){const S=!!E.before,I=E.values||[];return new Tf(I,S)})(i.startAt));let g=null;return i.endAt&&(g=(function(E){const S=!E.before,I=E.values||[];return new Tf(I,S)})(i.endAt)),fO(t,o,c,u,m,"F",p,g)}function a1(e){return e.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=go(i.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=go(i.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(i.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=go(i.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(e):e.fieldFilter!==void 0?(function(i){return je.create(go(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(i){return yr.create(i.compositeFilter.filters.map((r=>a1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(i.compositeFilter.op))})(e):xt(30097,{filter:e})}function go(e){return Qe.fromServerFormat(e.fieldPath)}function KO(e){const t=[];return e.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function YO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.yt=t}}function $O(e){const t=GO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Wp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Cn=new WO}addToCollectionParentIndex(t,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(gr.min())}updateCollectionGroup(t,i,r){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class WO{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new We(_e.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new We(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(o1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LruGarbageCollector",ZO=1048576;function VE([e,t],[i,r]){const o=Ht(e,i);return o===0?Ht(t,r):o}class JO{constructor(t){this.Ir=t,this.buffer=new We(VE),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();VE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tV{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(OE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gu(i)?mt(OE,"Ignoring IndexedDB error during garbage collection: ",i):await Zg(i)}await this.Vr(3e5)}))}}class eV{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(Jg.ce);const r=new JO(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(ME)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,i)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),po()<=Pt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function nV(e,t){return new eV(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.changes=new Sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&fu(r.mutation,o,di.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,en()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=en()){const o=aa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=Ph();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=aa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,en())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{i.set(c,m)}))}))}computeViews(t,i,r,o){let u=Sf();const c=hu(),m=(function(){return hu()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ba)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),fu(v.mutation,g,v.mutation.getFieldMask(),ae.now())):c.set(g.key,di.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>m.set(g,new sV(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=hu();let o=new En(((c,m)=>c-m)),u=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||di.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||en()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=QA();v.forEach((S=>{if(!u.has(S)){const I=n1(i.get(S),r.get(S));I!==null&&E.set(S,I),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return Ct.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mO(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):nt.resolve(aa());let m=Au,p=u;return c.next((g=>nt.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,en()))).next((v=>({batchId:m,changes:$A(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ct(i)).next((r=>{let o=Ph();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=Ph();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(E,S){return new Ff(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,ui.newInvalidDocument(v)))}));let m=Ph();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&fu(v.mutation,g,di.empty(),ae.now()),oy(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ro(o.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:$O(o.bundledQuery),readTime:Ro(o.readTime)}})(i)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.overlays=new En(Ct.comparator),this.qr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=aa();return nt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),nt.resolve()}getOverlaysForCollection(t,i,r){const o=aa(),u=i.length+1,c=new Ct(i.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new En(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new OO(i,r));let u=this.qr.get(i);u===void 0&&(u=en(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.sessionToken=Ki.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.Qr=new We(Ue.$r),this.Ur=new We(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new Ct(new _e([])),r=new Ue(i,t),o=new Ue(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Ct(new _e([])),r=new Ue(i,t),o=new Ue(i,t+1);let u=en();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Ct.comparator(t.key,i.key)||Ht(t.Yr,i.Yr)}static Kr(t,i){return Ht(t.Yr,i.Yr)||Ct.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new We(Ue.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new MO(u,i,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new We(Ht);return i.forEach((o=>{const u=new Ue(o,0),c=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),nt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Ct.isDocumentKey(u)||(u=u.child(""));const c=new Ue(new Ct(u),0);let m=new We(Ht);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),nt.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){de(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return nt.forEach(i.mutations,(o=>{const u=new Ue(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t){this.ri=t,this.docs=(function(){return new En(Ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():ui.newInvalidDocument(i))}getEntries(t,i){let r=Sf();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ui.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Sf();const c=i.path,m=new Ct(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||HM(FM(v),r)<=0||(o.has(v.key)||oy(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){xt(9500)}ii(t,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new hV(this)}getSize(t){return nt.resolve(this.size)}}class hV extends iV{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),nt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t){this.persistence=t,this.si=new Sa((i=>ry(i)),ay),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new cy,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),nt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Vo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.Pr(i),nt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return nt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),nt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return nt.resolve(r)}containsKey(t,i){return nt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,i){this.ui={},this.overlays={},this.ci=new Jg(0),this.li=!1,this.li=!0,this.hi=new lV,this.referenceDelegate=t(this),this.Pi=new fV(this),this.indexManager=new QO,this.remoteDocumentCache=(function(o){return new cV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new XO(i),this.Ii=new aV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oV,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new uV(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){mt("MemoryPersistence","Starting transaction:",t);const o=new dV(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return nt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class dV extends GM{constructor(t){super(),this.currentSequenceNumber=t}}class hy{constructor(t){this.persistence=t,this.Ri=new cy,this.Vi=null}static mi(t){return new hy(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),nt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(r=>{const o=Ct.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,re.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Af{constructor(t,i){this.persistence=t,this.pi=new Sa((r=>XM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=nV(this,i)}static mi(t,i){return new Af(t,i)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return nt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((m=>{m||(r++,u.removeEntry(c,re.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),nt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Zh(t.data.value)),i}br(t,i,r){return nt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=en(),o=en();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fy(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X2()?8:KM(rn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new mV;return this.Ss(t,i,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,i,c,m.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(po()<=Pt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",eu(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(po()<=Pt.DEBUG&&mt("QueryEngine","Query:",eu(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(po()<=Pt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",eu(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ca(i))):nt.resolve())}ys(t,i){if(RE(i))return nt.resolve(null);let r=ca(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Wp(i,null,"F"),r=ca(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=en(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(i,m);return this.Cs(i,g,c,p.readTime)?this.ys(t,Wp(i,null,"F")):this.vs(t,g,i,p)}))))})))))}ws(t,i,r,o){return RE(i)||o.isEqual(re.min())?nt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?nt.resolve(null):(po()<=Pt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eu(i)),this.vs(t,c,i,BM(o,Au)).next((m=>m)))}))}Ds(t,i){let r=new We(gO(t));return i.forEach(((o,u)=>{oy(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return po()<=Pt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",eu(i)),this.ps.getDocumentsMatchingQuery(t,i,gr.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="LocalStore";class yV{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new En(Ht),this.xs=new Sa((u=>ry(u)),ay),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function vV(e,t,i,r){return new yV(e,t,i,r)}async function u1(e,t){const i=Jt(e);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=en();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function _V(e,t){const i=Jt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,S=E.keys();let I=nt.resolve();return S.forEach((N=>{I=I.next((()=>v.getEntry(p,N))).next((F=>{const U=g.docVersions.get(N);de(U!==null,48541),F.version.compareTo(U)<0&&(E.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=en();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function TV(e){const t=Jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function EV(e,t){const i=Jt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ty),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}class PE{constructor(){this.activeTargetIds=SO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SV{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class kE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(LE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(LE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh=null;function eg(){return Lh===null?Lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lh++,"0x"+Lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",AV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===vf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=eg(),m=this.zo(t,i.toUriEncodedString());mt(fp,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=zo(g);return this.Jo(t,m,p,r,v).then((E=>(mt(fp,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Bf(fp,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=AV[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class CV extends wV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=eg();return new Promise(((m,p)=>{const g=new bA;g.setWithCredentials(!0),g.listenOnce(AA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wh.NO_ERROR:const E=g.getResponseJson();mt(Je,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Wh.TIMEOUT:mt(Je,`RPC '${t}' ${c} timed out`),p(new gt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const S=g.getStatus();if(mt(Je,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I?.error;if(N&&N.status&&N.message){const F=(function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Y)>=0?Y:st.UNKNOWN})(N.status);p(new gt(F,N.message))}else p(new gt(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new gt(st.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(Je,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);mt(Je,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=eg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=CA(),m=RA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(Je,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let S=!1,I=!1;const N=new RV({Yo:U=>{I?mt(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(S||(mt(Je,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),mt(Je,`RPC '${t}' stream ${o} sending:`,U),E.send(U))},Zo:()=>E.close()}),F=(U,B,Y)=>{U.listen(B,(q=>{try{Y(q)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return F(E,ru.EventType.OPEN,(()=>{I||(mt(Je,`RPC '${t}' stream ${o} transport opened.`),N.o_())})),F(E,ru.EventType.CLOSE,(()=>{I||(I=!0,mt(Je,`RPC '${t}' stream ${o} transport closed`),N.a_(),this.E_(E))})),F(E,ru.EventType.ERROR,(U=>{I||(I=!0,Bf(Je,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),N.a_(new gt(st.UNAVAILABLE,"The operation could not be completed")))})),F(E,ru.EventType.MESSAGE,(U=>{if(!I){const B=U.data[0];de(!!B,16349);const Y=B,q=Y?.error||Y[0]?.error;if(q){mt(Je,`RPC '${t}' stream ${o} received error:`,q);const rt=q.status;let at=(function(w){const R=Ie[w];if(R!==void 0)return PO(R)})(rt),ht=q.message;at===void 0&&(at=st.INTERNAL,ht="Unknown error status: "+rt+" with message "+q.message),I=!0,N.a_(new gt(at,ht)),E.close()}else mt(Je,`RPC '${t}' stream ${o} received:`,B),N.u_(B)}})),F(m,wA.STAT_EVENT,(U=>{U.stat===qp.PROXY?mt(Je,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===qp.NOPROXY&&mt(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(e){return new LO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="PersistentStream";class xV{constructor(t,i,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===st.RESOURCE_EXHAUSTED?(va(i.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(UE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(mt(UE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IV extends xV{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=qO(t.writeResults,t.commitTime),r=Ro(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=BO(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>HO(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{}class NV extends DV{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Jp(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(st.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Jp(i,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MV{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(va(i),this.aa=!1):mt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="RemoteStore";class OV{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{$u(this)&&(mt(Yu,"Restarting streams for network reachability change."),await(async function(p){const g=Jt(p);g.Ea.add(4),await Xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Kf(g)})(this))}))})),this.Ra=new MV(r,o)}}async function Kf(e){if($u(e))for(const t of e.da)await t(!0)}async function Xu(e){for(const t of e.da)await t(!1)}function $u(e){return Jt(e).Ea.size===0}async function h1(e,t,i){if(!Gu(t))throw t;e.Ea.add(1),await Xu(e),e.Ra.set("Offline"),i||(i=()=>TV(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{mt(Yu,"Retrying IndexedDB access"),await i(),e.Ea.delete(1),await Kf(e)}))}function f1(e,t){return t().catch((i=>h1(e,i,t)))}async function Yf(e){const t=Jt(e),i=vr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ty;for(;VV(t);)try{const o=await EV(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,PV(t,o)}catch(o){await h1(t,o)}d1(t)&&m1(t)}function VV(e){return $u(e)&&e.Ta.length<10}function PV(e,t){e.Ta.push(t);const i=vr(e);i.O_()&&i.X_&&i.ea(t.mutations)}function d1(e){return $u(e)&&!vr(e).x_()&&e.Ta.length>0}function m1(e){vr(e).start()}async function LV(e){vr(e).ra()}async function kV(e){const t=vr(e);for(const i of e.Ta)t.ea(i.mutations)}async function UV(e,t,i){const r=e.Ta.shift(),o=uy.from(r,t,i);await f1(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Yf(e)}async function jV(e,t){t&&vr(e).X_&&await(async function(r,o){if((function(c){return VO(c)&&c!==st.ABORTED})(o.code)){const u=r.Ta.shift();vr(r).B_(),await f1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yf(r)}})(e,t),d1(e)&&m1(e)}async function jE(e,t){const i=Jt(e);i.asyncQueue.verifyOperationInProgress(),mt(Yu,"RemoteStore received new credentials");const r=$u(i);i.Ea.add(3),await Xu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Kf(i)}async function zV(e,t){const i=Jt(e);t?(i.Ea.delete(2),await Kf(i)):t||(i.Ea.add(2),await Xu(i),i.Ra.set("Unknown"))}function vr(e){return e.fa||(e.fa=(function(i,r,o){const u=Jt(i);return u.sa(),new IV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:LV.bind(null,e),r_:jV.bind(null,e),ta:kV.bind(null,e),na:UV.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Yf(e)):(await e.fa.stop(),e.Ta.length>0&&(mt(Yu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,m=new dy(t,i,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p1(e,t){if(va("AsyncQueue",`${t}: ${e}`),Gu(e))return new gt(st.UNAVAILABLE,`${t}: ${e}`);throw e}class BV{constructor(){this.queries=zE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Jt(i),u=o.queries;o.queries=zE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new gt(st.ABORTED,"Firestore shutting down"))}}function zE(){return new Sa((e=>YA(e)),KA)}function FV(e){e.Ca.forEach((t=>{t.next()}))}var BE,FE;(FE=BE||(BE={})).Ma="default",FE.Cache="cache";const HV="SyncEngine";class qV{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sa((m=>YA(m)),KA),this.Iu=new Map,this.Eu=new Set,this.du=new En(Ct.comparator),this.Au=new Map,this.Ru=new cy,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GV(e,t,i){const r=$V(e);try{const o=await(function(c,m){const p=Jt(c),g=ae.now(),v=m.reduce(((I,N)=>I.add(N.key)),en());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let N=Sf(),F=en();return p.Ns.getEntries(I,v).next((U=>{N=U,N.forEach(((B,Y)=>{Y.isValidDocument()||(F=F.add(B))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,N))).next((U=>{E=U;const B=[];for(const Y of m){const q=DO(Y,E.get(Y.key).overlayedDocument);q!=null&&B.push(new ba(Y.key,q,jA(q.value.mapValue),ys.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,B,m)})).next((U=>{S=U;const B=U.applyToLocalDocumentSet(E,F);return p.documentOverlayCache.saveOverlays(I,U.batchId,B)}))})).then((()=>({batchId:S.batchId,changes:$A(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new En(Ht)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await Xf(r,o.changes),await Yf(r.remoteStore)}catch(o){const u=p1(o,"Failed to persist write");i.reject(u)}}function HE(e,t,i){const r=Jt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Jt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)})),g&&FV(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function KV(e,t){const i=Jt(e),r=t.batch.batchId;try{const o=await _V(i.localStore,t);y1(i,r,null),g1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(i,o)}catch(o){await Zg(o)}}async function YV(e,t,i){const r=Jt(e);try{const o=await(function(c,m){const p=Jt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(de(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);y1(r,t,i),g1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Xf(r,o)}catch(o){await Zg(o)}}function g1(e,t){(e.mu.get(t)||[]).forEach((i=>{i.resolve()})),e.mu.delete(t)}function y1(e,t,i){const r=Jt(e);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}async function Xf(e,t,i){const r=Jt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const v=g?!g.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=fy.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=Jt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>nt.forEach(g,(S=>nt.forEach(S.Es,(I=>v.persistence.referenceDelegate.addReference(E,S.targetId,I))).next((()=>nt.forEach(S.ds,(I=>v.persistence.referenceDelegate.removeReference(E,S.targetId,I)))))))))}catch(E){if(!Gu(E))throw E;mt(gV,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const I=v.Ms.get(S),N=I.snapshotVersion,F=I.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(S,F)}}})(r.localStore,u))}async function XV(e,t){const i=Jt(e);if(!i.currentUser.isEqual(t)){mt(HV,"User change. New user:",t.toKey());const r=await u1(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new gt(st.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xf(i,r.Ls)}}function $V(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YV.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return vV(this.persistence,new pV,t.initialUser,this.serializer)}Cu(t){return new l1(hy.mi,this.serializer)}Du(t){return new SV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class QV extends wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){de(this.persistence.referenceDelegate instanceof Af,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tV(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new l1((r=>Af.mi(r,i)),this.serializer)}}class ng{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XV.bind(null,this.syncEngine),await zV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BV})()}createDatastore(t){const i=Gf(t.databaseInfo.databaseId),r=(function(u){return new CV(u)})(t.databaseInfo);return(function(u,c,m,p){return new NV(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,m){return new OV(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>HE(this.syncEngine,i,0)),(function(){return kE.v()?new kE:new bV})())}createSyncEngine(t,i){return(function(o,u,c,m,p,g,v){const E=new qV(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Jt(i);mt(Yu,"RemoteStore shutting down."),r.Ea.add(5),await Xu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class WV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{mt(_r,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(mt(_r,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=p1(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function mp(e,t){e.asyncQueue.verifyOperationInProgress(),mt(_r,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await u1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qE(e,t){e.asyncQueue.verifyOperationInProgress();const i=await ZV(e);mt(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener((r=>jE(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>jE(t.remoteStore,o))),e._onlineComponents=t}async function ZV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mt(_r,"Using user provided OfflineComponentProvider");try{await mp(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Bf("Error using user provided cache. Falling back to memory cache: "+i),await mp(e,new wf)}}else mt(_r,"Using default OfflineComponentProvider"),await mp(e,new QV(void 0));return e._offlineComponents}async function JV(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mt(_r,"Using user provided OnlineComponentProvider"),await qE(e,e._uninitializedComponentsProvider._online)):(mt(_r,"Using default OnlineComponentProvider"),await qE(e,new ng))),e._onlineComponents}function tP(e){return JV(e).then((t=>t.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firestore.googleapis.com",KE=!0;class YE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=KE}else this.host=t.host,this.ssl=t.ssl??KE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=o1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZO)throw new gt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class my{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IM;switch(r.type){case"firstParty":return new OM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=GE.get(i);r&&(mt("ComponentProvider","Removing Datastore"),GE.delete(i),r.terminate())})(this),Promise.resolve()}}function eP(e,t,i,r={}){e=Kp(e,my);const o=zo(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},m=`${t}:${i}`;o&&(Pb(`https://${m}`),Lb("Firestore",!0)),u.host!==_1&&u.host!==m&&Bf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!da(p,c)&&(e._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=tn.MOCK_USER;else{g=j2(r.mockUserToken,e._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new gt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(E)}e._authCredentials=new DM(new IA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new py(this.firestore,t,this._query)}}class nn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new nn(this.firestore,t,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(qu(i,nn._jsonSchema))return new nn(t,r||null,new Ct(_e.fromString(i.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:Ne("string",nn._jsonSchemaVersion),referencePath:Ne("string")};class Iu extends py{constructor(t,i,r){super(t,i,dO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new nn(this.firestore,null,new Ct(t))}withConverter(t){return new Iu(this.firestore,t,this._path)}}function ig(e,t,...i){if(e=Nn(e),arguments.length===1&&(t=Qg.newId()),jM("doc","path",t),e instanceof my){const r=_e.fromString(t,...i);return pE(r),new nn(e,null,new Ct(r))}{if(!(e instanceof nn||e instanceof Iu))throw new gt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_e.fromString(t,...i));return pE(r),new nn(e.firestore,e instanceof Iu?e.converter:null,new Ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class $E{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c1(this,"async_queue_retry"),this._c=()=>{const r=dp();r&&mt(XE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=dp();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=dp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Gu(t))throw t;mt(XE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,va("INTERNAL UNHANDLED ERROR: ",QE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=dy.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function QE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class T1 extends my{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new $E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $E(t),this._firestoreClient=void 0,await t}}}function nP(e,t){const i=typeof e=="object"?e:zb(),r=typeof e=="string"?e:vf,o=jg(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=k2("firestore");u&&eP(o,...u)}return o}function iP(e){if(e._terminated)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sP(e),e._firestoreClient}function sP(e){const t=e._freezeSettings(),i=(function(o,u,c,m){return new ZM(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,v1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new WV(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hi(Ki.fromBase64String(t))}catch(i){throw new gt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new hi(Ki.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qu(t,hi._jsonSchema))return hi.fromBase64String(t.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Ne("string",hi._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new gt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new gt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new gt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(t){if(qu(t,vs._jsonSchema))return new vs(t.latitude,t.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:Ne("string",vs._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qu(t,_s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new _s(t.vectorValues);throw new gt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Ne("string",_s._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=/^__.*__$/;class aP{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ku(t,this.data,i,this.fieldTransforms)}}function E1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:e})}}class vy{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Rf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(E1(this.Ac)&&rP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oP{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Gf(t)}Cc(t,i,r,o=!1){return new vy({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lP(e){const t=e._freezeSettings(),i=Gf(e._databaseId);return new oP(e._databaseId,!!t.ignoreUndefinedProperties,i)}function uP(e,t,i,r,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,i,o);w1("Data must be an object, but it was:",c,r);const m=b1(r,c);let p,g;if(u.merge)p=new di(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=cP(t,E,i);if(!c.contains(S))throw new gt(st.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);fP(v,S)||v.push(S)}p=new di(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new aP(new ci(m),p,g)}class _y extends yy{_toFieldTransform(t){return new RO(t.path,new Ru)}isEqual(t){return t instanceof _y}}function S1(e,t){if(A1(e=Nn(e)))return w1("Unsupported field value:",t,e),b1(e,t);if(e instanceof yy)return(function(r,o){if(!E1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=S1(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ae.fromDate(r);return{timestampValue:Zp(o.serializer,u)}}if(r instanceof ae){const u=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zp(o.serializer,u)}}if(r instanceof vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:kO(o.serializer,r._byteString)};if(r instanceof nn){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:r1(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof _s)return(function(c,m){return{mapValue:{fields:{[kA]:{stringValue:UA},[Yp]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ly(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Wg(r)}`)})(e,t)}function b1(e,t){const i={};return MA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qo(e,((r,o)=>{const u=S1(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function A1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ae||e instanceof vs||e instanceof hi||e instanceof nn||e instanceof yy||e instanceof _s)}function w1(e,t,i){if(!A1(i)||!DA(i)){const r=Wg(i);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function cP(e,t,i){if((t=Nn(t))instanceof gy)return t._internalPath;if(typeof t=="string")return R1(e,t);throw Rf("Field path arguments must be of type string or ",e,!1,void 0,i)}const hP=new RegExp("[~\\*/\\[\\]]");function R1(e,t,i){if(t.search(hP)>=0)throw Rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new gy(...t.split("."))._internalPath}catch{throw Rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function Rf(e,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new gt(st.INVALID_ARGUMENT,m+e+p)}function fP(e,t){return e.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(x1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class dP extends C1{data(){return super.data()}}function x1(e,t){return typeof t=="string"?R1(e,t):t instanceof gy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t,i){let r;return r=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,r}class kh{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Co extends C1{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(x1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Co._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:Ne("string",Co._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ef extends Co{data(t={}){return super.data(t)}}class du{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new kh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new ef(this._firestore,this._userDataWriter,r.key,r,new kh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new ef(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ef(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:pP(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=du._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function pP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:e})}}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:Ne("string",du._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function sg(e,t,i){e=Kp(e,nn);const r=Kp(e.firestore,T1),o=mP(e.converter,t,i);return gP(r,[uP(lP(r),"setDoc",e._key,o,e.converter!==null,i).toMutation(e._key,ys.none())])}function gP(e,t){return(function(r,o){const u=new ua;return r.asyncQueue.enqueueAndForget((async()=>GV(await tP(r),o,u))),u.promise})(iP(e),t)}function Cf(){return new _y("serverTimestamp")}(function(t,i=!0){(function(o){Ho=o})(Bo),Io(new ma("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new T1(new NM(r.getProvider("auth-internal")),new VM(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),pr(hE,fE,t),pr(hE,fE,"esm2020")})();const yP={apiKey:"AIzaSyDERq4e6x6pkVvlQEdLdQU0464SVyb_hrE",authDomain:"immobot-dc818.firebaseapp.com",projectId:"immobot-dc818",storageBucket:"immobot-dc818.firebasestorage.app",messagingSenderId:"601427046911",appId:"1:601427046911:web:c8248a89433a711ef8b7ca"},I1=jb(yP),xf=wM(I1),rg=nP(I1);function vP(){const[e,t]=O.useState(""),[i,r]=O.useState(""),[o,u]=O.useState(""),[c,m]=O.useState(!1),p=ws(),g=async v=>{v.preventDefault(),u(""),m(!0);try{await cN(xf,e.trim(),i),p("/dashboard")}catch(E){u(E.message)}finally{m(!1)}};return P.jsxs("form",{onSubmit:g,className:"max-w-sm mx-auto space-y-4",children:[P.jsx("h1",{className:"text-2xl font-bold",children:"Login"}),o&&P.jsx("div",{className:"text-red-600 text-sm",children:o}),P.jsx("input",{className:"w-full border p-2 rounded",type:"email",placeholder:"E-Mail",value:e,onChange:v=>t(v.target.value),autoComplete:"email",required:!0}),P.jsx("input",{className:"w-full border p-2 rounded",type:"password",placeholder:"Passwort",value:i,onChange:v=>r(v.target.value),autoComplete:"current-password",required:!0}),P.jsx("button",{className:"w-full bg-gray-900 text-white py-2 rounded disabled:opacity-60",disabled:c,children:c?"Einloggen":"Einloggen"})]})}function pp(e){return un({coordinate:e})}function _P(e){const t=Number(e);return un({radiusInKm:Number.isFinite(t)?t:10})}const WE="VUVj9lGbHQAdYVsF04k8",TP=[5,7.5,10,12.5,15];function EP(){const e=ws(),t=O.useMemo(()=>hn(),[]),[i,r]=O.useState(""),[o,u]=O.useState([]),[c,m]=O.useState(t.radiusInKm??10),p=O.useRef(null),g=O.useRef({L:null,map:null,marker:null,circle:null});O.useEffect(()=>{let S=!1;return(async()=>{if(!document.querySelector("link[data-leaflet]")){const N=document.createElement("link");N.rel="stylesheet",N.href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css",N.setAttribute("data-leaflet","1"),document.head.appendChild(N)}return window.L||await new Promise((N,F)=>{const U=document.createElement("script");U.src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",U.onload=N,U.onerror=F,document.body.appendChild(U)}),window.L})().then(N=>{if(S||!p.current)return;g.current.L=N;const F=t.coordinate?.lat??52.52,U=t.coordinate?.lon??13.405,B=N.map(p.current).setView([F,U],t.coordinate?12:10);g.current.map=B,N.tileLayer(`https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key=${WE}`,{attribution:"&copy; MapTiler"}).addTo(B),t.coordinate?.lat!=null&&t.coordinate?.lon!=null&&E(t.coordinate.lat,t.coordinate.lon,c),B.on("click",Y=>{const{lat:q,lng:rt}=Y.latlng;pp({lat:q,lon:rt}),E(q,rt,c)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(Y=>{const q=Y.coords.latitude,rt=Y.coords.longitude;pp({lat:q,lon:rt}),E(q,rt,c)},()=>{},{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e5})}),()=>{S=!0}},[]),O.useEffect(()=>{_P(c);const{marker:S}=g.current;if(S){const I=S.getLatLng();E(I.lat,I.lng,c)}},[c]),O.useEffect(()=>{const I=setTimeout(async()=>{const N=i.trim();if(N.length<3)return u([]);const F=`https://api.maptiler.com/geocoding/${encodeURIComponent(N)}.json?key=${WE}&language=de&country=DE,AT,CH&limit=5`;try{const Y=((await(await fetch(F)).json()).features||[]).map(q=>({label:q.place_name,lat:q.center?.[1],lon:q.center?.[0]})).filter(q=>Number.isFinite(q.lat)&&Number.isFinite(q.lon))||[];u(Y)}catch{u([])}},200);return()=>clearTimeout(I)},[i]);function v(S){r(S.label),u([]),pp({lat:S.lat,lon:S.lon}),E(S.lat,S.lon,c)}function E(S,I,N){const{L:F,map:U,marker:B,circle:Y}=g.current;if(!F||!U)return;B&&B.remove(),Y&&Y.remove();const q=F.marker([S,I]).addTo(U),rt=F.circle([S,I],{radius:(N||0)*1e3,color:"#007bff",fillOpacity:.2}).addTo(U);g.current.marker=q,g.current.circle=rt,U.fitBounds(rt.getBounds(),{padding:[30,30]})}return P.jsxs("div",{className:"space-y-6 rounded-2xl border p-6",children:[P.jsx("p",{className:"text-center text-sm text-gray-500",children:"Schritt 2 von 3"}),P.jsx("h2",{className:"text-xl font-semibold text-center",children:"Wo sollen wir etwas fr dich finden?"}),P.jsxs("div",{className:"mx-auto max-w-md relative",children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ort/Stadt eingeben:"}),P.jsx("input",{value:i,onChange:S=>r(S.target.value),placeholder:"z. B. Freiburg im Breisgau",className:"w-full rounded-lg border px-3 py-2",onKeyDown:S=>{S.key==="Enter"&&S.preventDefault()}}),o.length>0&&P.jsx("div",{className:"absolute left-0 right-0 mt-1 rounded-lg border bg-white shadow",style:{zIndex:9999},children:o.map((S,I)=>P.jsx("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>v(S),children:S.label},I))})]}),P.jsxs("div",{className:"mx-auto max-w-md",children:[P.jsx("label",{className:"block text-sm font-medium mb-2",children:"Radius (in km):"}),P.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:TP.map(S=>P.jsxs("button",{type:"button",onClick:()=>m(S),className:`px-3 py-2 rounded-full border text-sm ${Number(c)===S?"bg-blue-600 text-white":"bg-white"}`,children:[S," km"]},S))})]}),P.jsx("div",{ref:p,style:{height:320,borderRadius:12,border:"1px solid #ccc",position:"relative",zIndex:0}}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-200",onClick:()=>e("/register/step1"),children:"< zurck"}),P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>e("/register/step3"),children:"Schritt 3 >"})]})]})}function SP(e){if(e==null)return un({priceRange:void 0});const t=Number(e);return!Number.isFinite(t)||t<=0?hn():un({priceRange:{from:0,to:t}})}function bP(e){if(e==null)return un({propertySpaceRange:void 0});const t=Number(e);return!Number.isFinite(t)||t<=0?hn():un({propertySpaceRange:{from:0,to:t}})}function AP(){const e=hn();return e.offerTypes.includes("Miete")&&!e.offerTypes.includes("Kauf")?[300,500,700,900,1200,1500,1800,null]:[1e5,2e5,3e5,4e5,5e5,75e4,1e6,15e5,2e6,null]}function wP(){return[25,50,75,100,125,150,200,null]}function ZE({active:e,onClick:t,children:i}){return P.jsx("button",{type:"button",onClick:t,className:`px-3 py-2 rounded-full border text-sm ${e?"bg-blue-600 text-white":"bg-white"}`,children:i})}function RP(){const e=ws(),t=O.useMemo(()=>hn(),[]),i=O.useMemo(()=>AP(),[]),r=O.useMemo(()=>wP(),[]),[o,u]=O.useState(t.priceRange?.to??null),[c,m]=O.useState(t.propertySpaceRange?.to??null),p=N=>{u(N),SP(N)},g=N=>{m(N),bP(N)},v=N=>typeof N=="number"?`bis ${N.toLocaleString("de-DE")} `:"beliebig",E=N=>typeof N=="number"?`bis ${N} qm`:"beliebig",I=t.offerTypes?.includes("Miete")&&!t.offerTypes?.includes("Kauf")?"Was ist dein persnlicher Hchstpreis (Miete)?":"Was ist dein persnlicher Hchstpreis (Kauf)?";return P.jsxs("div",{className:"space-y-8 rounded-2xl border p-6 max-w-xl mx-auto",children:[P.jsx("p",{className:"text-center text-sm text-gray-500",children:"Schritt 3 von 3"}),P.jsx("h2",{className:"text-xl font-semibold text-center",children:I}),P.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.map((N,F)=>P.jsx(ZE,{active:o===N,onClick:()=>p(N),children:v(N)},F))}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"block text-sm font-medium text-center",children:"Flche:"}),P.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:r.map((N,F)=>P.jsx(ZE,{active:c===N,onClick:()=>g(N),children:E(N)},F))})]}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-200",onClick:()=>e("/register/step2"),children:"< zurck"}),P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>e("/register/step4"),children:"Weiter >"})]})]})}const D1=["balconyTerrace","garden","parkingSpace","cellar","bathroomWithWindow","builtInKitchen","elevator","underfloorHeating","fireplace","furnished","firstTimeUse","refurbished","leased","freeOfCommission","preservationOrder","divisible","barrierFree","airConditioningVentilation"];function CP(){const e=hn()||{},t={};for(const i of D1)t[i]=!!e[i];return t}function xP(e){if(!D1.includes(e))return hn();const t=hn()||{},i=!t[e];return un({...t,[e]:i})}const JE=[{key:"balconyTerrace",label:"Balkon / Terrasse"},{key:"garden",label:"Garten"},{key:"parkingSpace",label:"Stellplatz"},{key:"cellar",label:"Keller"},{key:"bathroomWithWindow",label:"Tageslichtbad"},{key:"builtInKitchen",label:"Einbaukche"},{key:"elevator",label:"Aufzug"},{key:"underfloorHeating",label:"Fubodenheizung"},{key:"fireplace",label:"Kamin"},{key:"furnished",label:"Mbliert"},{key:"firstTimeUse",label:"Erstbezug"},{key:"refurbished",label:"Saniert"},{key:"leased",label:"Vermietet"},{key:"freeOfCommission",label:"Provisionsfrei"},{key:"preservationOrder",label:"Denkmalschutz"},{key:"divisible",label:"Teilbar"},{key:"barrierFree",label:"Barrierefrei"},{key:"airConditioningVentilation",label:"Klima / Belftung"}];function IP(){const e=ws(),t=O.useMemo(()=>CP(),[]),[i,r]=O.useState(JE.reduce((m,p)=>({...m,[p.key]:!!t[p.key]}),{})),[o,u]=O.useState(!1);function c(m){xP(m),r(p=>({...p,[m]:!p[m]}))}return P.jsxs("div",{className:"space-y-6 rounded-2xl border p-6",children:[P.jsx("p",{className:"text-center text-sm text-gray-500",children:"Schritt 4 von 5 (optional)"}),!o&&P.jsxs("div",{className:"",children:[P.jsx("p",{className:"text-sm text-gray-700 mb-3 text-center",children:"Bentigst du weitere Filter?"}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[P.jsx("button",{type:"button",className:"px-5 py-3 rounded-xl bg-white border hover:bg-gray-100",onClick:()=>u(!0),children:"Ja mehr Filter bitte"}),P.jsx("button",{type:"button",className:"px-5 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>e("/login"),children:"Nein... Jetzt registrieren"})]})]}),o&&P.jsxs(P.Fragment,{children:[P.jsx("h2",{className:"text-xl font-semibold text-center",children:"Ausstattung"}),P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:JE.map(m=>{const p=!!i[m.key];return P.jsx("button",{type:"button",onClick:()=>c(m.key),className:`px-3 py-2 rounded-full border text-sm text-left ${p?"bg-blue-600 text-white":"bg-white"}`,title:m.key,children:m.label},m.key)})}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{type:"button",className:"text-sm underline",onClick:()=>u(!1),children:"Auswahl ausblenden"}),P.jsx("button",{type:"button",className:"px-5 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>e("/register/step5"),children:"Weiter >"})]})]}),P.jsx("div",{className:"flex items-center justify-between",children:P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-200",onClick:()=>e("/register/step3"),children:"< zurck"})})]})}function DP(e,t){const i=hn(),r=Array.isArray(i[e])?[...i[e]]:[],o=r.indexOf(t);return o>=0?r.splice(o,1):r.push(t),un({[e]:r.length?r:void 0})}function Uh(e,t,i){const r=tS(t),o=tS(i);return r==null&&o==null?un({[e]:void 0}):un({[e]:{...r!=null?{from:r}:{},...o!=null?{to:o}:{}}})}function tS(e){if(e===""||e==null)return;const t=Number(e);return Number.isFinite(t)?t:void 0}function NP(){const e=hn();return{energySources:e.energySources||[],heatingTypes:e.heatingTypes||[],energyRatings:e.energyRatings||[],energyEfficiencyStandards:e.energyEfficiencyStandards||[],pricePerSqmRange:e.pricePerSqmRange,yieldRange:e.yieldRange,energyConsumptionRange:e.energyConsumptionRange,constructionYearRange:e.constructionYearRange}}const MP=["Erdgas","Erdwaerme","Fernwaerme","Fluessiggas","Gas","Holz","Kohle","Luftwaerme","Nahwaerme","Oel","Pellets","Solar","Strom","Wasserwaerme","Alternativ"],OP=["Blockheizkraftwerk","Etagenheizung","Fernheizung","Fussbodenheizung","Kachelofen","Kamin","Nachtspeicher","Ofenheizung","Solarheizung","Waermepumpe","Zentralheizung"],VP=["A3Plus","A2Plus","APlus","A","B","C","D","E","F","G","H"],PP=["KfwEffizienzhausDenkmal","KfwEffizienzhaus115","KfwEffizienzhaus100","KfwEffizienzhaus85","KfwEffizienzhaus70","KfwEffizienzhaus60","KfwEffizienzhaus55","KfwEffizienzhaus40","KfwEffizienzhaus40Plus","Passivhaus","Nullenergiehaus","Plusenergiehaus"];function LP(){const e=ws(),t=O.useMemo(()=>NP(),[]),[i,r]=O.useState(!1),[o,u]=O.useState(t.energySources||[]),[c,m]=O.useState(t.heatingTypes||[]),[p,g]=O.useState(t.energyRatings||[]),[v,E]=O.useState(t.energyEfficiencyStandards||[]),[S,I]=O.useState(t.pricePerSqmRange?.from??""),[N,F]=O.useState(t.pricePerSqmRange?.to??""),[U,B]=O.useState(t.yieldRange?.from??""),[Y,q]=O.useState(t.yieldRange?.to??""),[rt,at]=O.useState(t.energyConsumptionRange?.from??""),[ht,C]=O.useState(t.energyConsumptionRange?.to??""),[w,R]=O.useState(t.constructionYearRange?.from??""),[V,M]=O.useState(t.constructionYearRange?.to??"");function j(It,Wt,W){DP(It,Wt),W(it=>it?.includes(Wt)?it.filter(ut=>ut!==Wt):[...it||[],Wt])}function x(){Uh("pricePerSqmRange",S,N),Uh("yieldRange",U,Y),Uh("energyConsumptionRange",rt,ht),Uh("constructionYearRange",w,V)}return P.jsxs("div",{className:"space-y-6 rounded-2xl border p-6",children:[P.jsx("p",{className:"text-center text-sm text-gray-500",children:"Schritt 5 von 5 (optional)"}),!i&&P.jsxs("div",{children:[P.jsx("p",{className:"text-sm text-gray-700 mb-3 text-center",children:"Bentigst du noch mehr Filter?"}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[P.jsx("button",{type:"button",className:"px-5 py-3 rounded-xl bg-white border hover:bg-gray-100",onClick:()=>r(!0),children:"Ja, mehr Filter bitte"}),P.jsx("button",{type:"button",className:"px-5 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>e("/login"),children:"Nein Jetzt registrieren"})]})]}),i&&P.jsxs(P.Fragment,{children:[P.jsx("h2",{className:"text-xl font-semibold text-center",children:"Weitere Filter"}),P.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Achtung: Jeder weitere Filter kann die Trefferquote reduzieren."}),P.jsx(or,{title:"Energietrger (energySources)",children:P.jsx(jh,{options:MP,active:o,onToggle:It=>j("energySources",It,u)})}),P.jsx(or,{title:"Heizungsart (heatingTypes)",children:P.jsx(jh,{options:OP,active:c,onToggle:It=>j("heatingTypes",It,m)})}),P.jsx(or,{title:"Energieklasse (energyRatings)",children:P.jsx(jh,{options:VP,active:p,onToggle:It=>j("energyRatings",It,g)})}),P.jsx(or,{title:"Energiestandard (energyEfficiencyStandards)",children:P.jsx(jh,{options:PP,active:v,onToggle:It=>j("energyEfficiencyStandards",It,E)})}),P.jsx(or,{title:"Preis pro m (pricePerSqmRange)",children:P.jsx(zh,{unit:"/m",from:S,to:N,setFrom:I,setTo:F,onBlurSave:x})}),P.jsx(or,{title:"Rendite (yieldRange)",children:P.jsx(zh,{unit:"%",step:"0.1",from:U,to:Y,setFrom:B,setTo:q,onBlurSave:x})}),P.jsx(or,{title:"Energieverbrauch (energyConsumptionRange)",children:P.jsx(zh,{unit:"kWh/m*a",from:rt,to:ht,setFrom:at,setTo:C,onBlurSave:x})}),P.jsx(or,{title:"Baujahr (constructionYearRange)",children:P.jsx(zh,{unit:"",from:w,to:V,setFrom:R,setTo:M,onBlurSave:x})}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{type:"button",className:"text-sm underline",onClick:()=>r(!1),children:"Auswahl ausblenden"}),P.jsx("button",{type:"button",className:"px-5 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>{x(),e("/login")},children:"Login >"})]})]}),P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-gray-200",onClick:()=>e("/register/step4"),children:"< zurck"}),i?P.jsx("button",{type:"button",className:"px-6 py-3 rounded-xl bg-blue-900 text-white",onClick:()=>{x(),e("/login")},children:"Login >"}):P.jsx("div",{})]})]})}function or({title:e,children:t}){return P.jsxs("div",{className:"mt-4",children:[P.jsx("h3",{className:"mb-2 font-semibold text-sm",children:e}),t]})}function jh({options:e,active:t=[],onToggle:i}){return P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:e.map(r=>{const o=t?.includes(r);return P.jsx("button",{type:"button",onClick:()=>i(r),className:`px-3 py-2 rounded-full border text-sm text-left ${o?"bg-blue-600 text-white":"bg-white"}`,title:r,children:r},r)})})}function zh({unit:e,from:t,to:i,setFrom:r,setTo:o,step:u="1",onBlurSave:c}){return P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("input",{type:"number",step:u,value:t,onChange:m=>r(m.target.value),onBlur:c,className:"w-28 rounded-lg border px-3 py-2",placeholder:"von"}),P.jsx("span",{children:"bis"}),P.jsx("input",{type:"number",step:u,value:i,onChange:m=>o(m.target.value),onBlur:c,className:"w-28 rounded-lg border px-3 py-2",placeholder:"bis"}),e&&P.jsx("span",{className:"text-sm text-gray-500",children:e})]})}const N1=O.createContext(null),M1=()=>O.useContext(N1);function kP({children:e}){const[t,i]=O.useState(null),[r,o]=O.useState(null),[u,c]=O.useState(!0);O.useEffect(()=>{const p=dN(xf,g=>{i(g||null),g||o(null),c(!1)});return()=>p()},[]);const m={user:t,role:r,loading:u,logout:()=>mN(xf)};return P.jsx(N1.Provider,{value:m,children:e})}const O1=O.createContext({});function UP(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ty=typeof window<"u",jP=Ty?O.useLayoutEffect:O.useEffect,Ey=O.createContext(null);function Sy(e,t){e.indexOf(t)===-1&&e.push(t)}function by(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const bs=(e,t,i)=>i>t?t:i<e?e:i;let Ay=()=>{};const As={},V1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function P1(e){return typeof e=="object"&&e!==null}const L1=e=>/^0[^.\s]+$/u.test(e);function wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const $n=e=>e,zP=(e,t)=>i=>t(e(i)),Qu=(...e)=>e.reduce(zP),Du=(e,t,i)=>{const r=t-e;return r===0?1:(i-e)/r};class Ry{constructor(){this.subscriptions=[]}add(t){return Sy(this.subscriptions,t),()=>by(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=e=>e*1e3,Xn=e=>e/1e3;function k1(e,t){return t?e*(1e3/t):0}const U1=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,BP=1e-7,FP=12;function HP(e,t,i,r,o){let u,c,m=0;do c=t+(i-t)/2,u=U1(c,r,o)-e,u>0?i=c:t=c;while(Math.abs(u)>BP&&++m<FP);return c}function Wu(e,t,i,r){if(e===t&&i===r)return $n;const o=u=>HP(u,0,1,e,i);return u=>u===0||u===1?u:U1(o(u),t,r)}const j1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z1=e=>t=>1-e(1-t),B1=Wu(.33,1.53,.69,.99),Cy=z1(B1),F1=j1(Cy),H1=e=>(e*=2)<1?.5*Cy(e):.5*(2-Math.pow(2,-10*(e-1))),xy=e=>1-Math.sin(Math.acos(e)),q1=z1(xy),G1=j1(xy),qP=Wu(.42,0,1,1),GP=Wu(0,0,.58,1),K1=Wu(.42,0,.58,1),KP=e=>Array.isArray(e)&&typeof e[0]!="number",Y1=e=>Array.isArray(e)&&typeof e[0]=="number",YP={linear:$n,easeIn:qP,easeInOut:K1,easeOut:GP,circIn:xy,circInOut:G1,circOut:q1,backIn:Cy,backInOut:F1,backOut:B1,anticipate:H1},XP=e=>typeof e=="string",eS=e=>{if(Y1(e)){Ay(e.length===4);const[t,i,r,o]=e;return Wu(t,i,r,o)}else if(XP(e))return YP[e];return e},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $P(e,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),e()),v(m)}const g={schedule:(v,E=!1,S=!1)=>{const N=S&&o?i:r;return E&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const QP=40;function X1(e,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Bh.reduce((q,rt)=>(q[rt]=$P(u),q),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:I,postRender:N}=c,F=()=>{const q=As.useManualTiming?o.timestamp:performance.now();i=!1,As.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,QP),1)),o.timestamp=q,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),I.process(o),N.process(o),o.isProcessing=!1,i&&t&&(r=!1,e(F))},U=()=>{i=!0,r=!0,o.isProcessing||e(F)};return{schedule:Bh.reduce((q,rt)=>{const at=c[rt];return q[rt]=(ht,C=!1,w=!1)=>(i||U(),at.schedule(ht,C,w)),q},{}),cancel:q=>{for(let rt=0;rt<Bh.length;rt++)c[Bh[rt]].cancel(q)},state:o,steps:c}}const{schedule:oe,cancel:Tr,state:Ye,steps:gp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let nf;function WP(){nf=void 0}const Tn={now:()=>(nf===void 0&&Tn.set(Ye.isProcessing||As.useManualTiming?Ye.timestamp:performance.now()),nf),set:e=>{nf=e,queueMicrotask(WP)}},$1=e=>t=>typeof t=="string"&&t.startsWith(e),Iy=$1("--"),ZP=$1("var(--"),Dy=e=>ZP(e)?JP.test(e.split("/*")[0].trim()):!1,JP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Go={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nu={...Go,transform:e=>bs(0,1,e)},Fh={...Go,default:1},mu=e=>Math.round(e*1e5)/1e5,Ny=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t4(e){return e==null}const e4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(e,t)=>i=>!!(typeof i=="string"&&e4.test(i)&&i.startsWith(e)||t&&!t4(i)&&Object.prototype.hasOwnProperty.call(i,t)),Q1=(e,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ny);return{[e]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},n4=e=>bs(0,255,e),yp={...Go,transform:e=>Math.round(n4(e))},oa={test:My("rgb","red"),parse:Q1("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+yp.transform(e)+", "+yp.transform(t)+", "+yp.transform(i)+", "+mu(Nu.transform(r))+")"};function i4(e){let t="",i="",r="",o="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ag={test:My("#"),parse:i4,transform:oa.transform},Zu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),lr=Zu("deg"),Gi=Zu("%"),_t=Zu("px"),s4=Zu("vh"),r4=Zu("vw"),nS={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},vo={test:My("hsl","hue"),parse:Q1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gi.transform(mu(t))+", "+Gi.transform(mu(i))+", "+mu(Nu.transform(r))+")"},De={test:e=>oa.test(e)||ag.test(e)||vo.test(e),parse:e=>oa.test(e)?oa.parse(e):vo.test(e)?vo.parse(e):ag.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oa.transform(e):vo.transform(e),getAnimatableNone:e=>{const t=De.parse(e);return t.alpha=0,De.transform(t)}},a4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ny)?.length||0)+(e.match(a4)?.length||0)>0}const W1="number",Z1="color",l4="var",u4="var(",iS="${}",c4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(e){const t=e.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(c4,p=>(De.test(p)?(r.color.push(u),o.push(Z1),i.push(De.parse(p))):p.startsWith(u4)?(r.var.push(u),o.push(l4),i.push(p)):(r.number.push(u),o.push(W1),i.push(parseFloat(p))),++u,iS)).split(iS);return{values:i,split:m,indexes:r,types:o}}function J1(e){return Mu(e).values}function tw(e){const{split:t,types:i}=Mu(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=i[c];m===W1?u+=mu(o[c]):m===Z1?u+=De.transform(o[c]):u+=o[c]}return u}}const h4=e=>typeof e=="number"?0:De.test(e)?De.getAnimatableNone(e):e;function f4(e){const t=J1(e);return tw(e)(t.map(h4))}const Er={test:o4,parse:J1,createTransformer:tw,getAnimatableNone:f4};function vp(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function d4({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=vp(p,m,e+1/3),u=vp(p,m,e),c=vp(p,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function If(e,t){return i=>i>0?t:e}const ue=(e,t,i)=>e+(t-e)*i,_p=(e,t,i)=>{const r=e*e,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},m4=[ag,oa,vo],p4=e=>m4.find(t=>t.test(e));function sS(e){const t=p4(e);if(!t)return!1;let i=t.parse(e);return t===vo&&(i=d4(i)),i}const rS=(e,t)=>{const i=sS(e),r=sS(t);if(!i||!r)return If(e,t);const o={...i};return u=>(o.red=_p(i.red,r.red,u),o.green=_p(i.green,r.green,u),o.blue=_p(i.blue,r.blue,u),o.alpha=ue(i.alpha,r.alpha,u),oa.transform(o))},og=new Set(["none","hidden"]);function g4(e,t){return og.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function y4(e,t){return i=>ue(e,t,i)}function Oy(e){return typeof e=="number"?y4:typeof e=="string"?Dy(e)?If:De.test(e)?rS:T4:Array.isArray(e)?ew:typeof e=="object"?De.test(e)?rS:v4:If}function ew(e,t){const i=[...e],r=i.length,o=e.map((u,c)=>Oy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function v4(e,t){const i={...e,...t},r={};for(const o in i)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Oy(e[o])(e[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function _4(e,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],m=e.values[c]??0;i[o]=m,r[u]++}return i}const T4=(e,t)=>{const i=Er.createTransformer(t),r=Mu(e),o=Mu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?og.has(e)&&!o.values.length||og.has(t)&&!r.values.length?g4(e,t):Qu(ew(_4(r,o),o.values),i):If(e,t)};function nw(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?ue(e,t,i):Oy(e)(e,t)}const E4=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>oe.update(t,i),stop:()=>Tr(t),now:()=>Ye.isProcessing?Ye.timestamp:Tn.now()}},iw=(e,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Df=2e4;function Vy(e){let t=0;const i=50;let r=e.next(t);for(;!r.done&&t<Df;)t+=i,r=e.next(t);return t>=Df?1/0:t}function S4(e,t=100,i){const r=i({...e,keyframes:[0,t]}),o=Math.min(Vy(r),Df);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Xn(o)}}const b4=5;function sw(e,t,i){const r=Math.max(t-b4,0);return k1(i-e(r),t-r)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tp=.001;function A4({duration:e=fe.duration,bounce:t=fe.bounce,velocity:i=fe.velocity,mass:r=fe.mass}){let o,u,c=1-t;c=bs(fe.minDamping,fe.maxDamping,c),e=bs(fe.minDuration,fe.maxDuration,Xn(e)),c<1?(o=g=>{const v=g*c,E=v*e,S=v-i,I=lg(g,c),N=Math.exp(-E);return Tp-S/I*N},u=g=>{const E=g*c*e,S=E*i+i,I=Math.pow(c,2)*Math.pow(g,2)*e,N=Math.exp(-E),F=lg(Math.pow(g,2),c);return(-o(g)+Tp>0?-1:1)*((S-I)*N)/F}):(o=g=>{const v=Math.exp(-g*e),E=(g-i)*e+1;return-Tp+v*E},u=g=>{const v=Math.exp(-g*e),E=(i-g)*(e*e);return v*E});const m=5/e,p=R4(o,u,m);if(e=qi(e),isNaN(p))return{stiffness:fe.stiffness,damping:fe.damping,duration:e};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const w4=12;function R4(e,t,i){let r=i;for(let o=1;o<w4;o++)r=r-e(r)/t(r);return r}function lg(e,t){return e*Math.sqrt(1-t*t)}const C4=["duration","bounce"],x4=["stiffness","damping","mass"];function aS(e,t){return t.some(i=>e[i]!==void 0)}function I4(e){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...e};if(!aS(e,x4)&&aS(e,C4))if(e.visualDuration){const i=e.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*bs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:fe.mass,stiffness:o,damping:u}}else{const i=A4(e);t={...t,...i,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function Nf(e=fe.visualDuration,t=fe.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:I}=I4({...i,velocity:-Xn(i.velocity||0)}),N=S||0,F=g/(2*Math.sqrt(p*v)),U=c-u,B=Xn(Math.sqrt(p/v)),Y=Math.abs(U)<5;r||(r=Y?fe.restSpeed.granular:fe.restSpeed.default),o||(o=Y?fe.restDelta.granular:fe.restDelta.default);let q;if(F<1){const at=lg(B,F);q=ht=>{const C=Math.exp(-F*B*ht);return c-C*((N+F*B*U)/at*Math.sin(at*ht)+U*Math.cos(at*ht))}}else if(F===1)q=at=>c-Math.exp(-B*at)*(U+(N+B*U)*at);else{const at=B*Math.sqrt(F*F-1);q=ht=>{const C=Math.exp(-F*B*ht),w=Math.min(at*ht,300);return c-C*((N+F*B*U)*Math.sinh(w)+at*U*Math.cosh(w))/at}}const rt={calculatedDuration:I&&E||null,next:at=>{const ht=q(at);if(I)m.done=at>=E;else{let C=at===0?N:0;F<1&&(C=at===0?qi(N):sw(q,at,ht));const w=Math.abs(C)<=r,R=Math.abs(c-ht)<=o;m.done=w&&R}return m.value=m.done?c:ht,m},toString:()=>{const at=Math.min(Vy(rt),Df),ht=iw(C=>rt.next(at*C).value,at,30);return at+"ms "+ht},toTransition:()=>{}};return rt}Nf.applyToOptions=e=>{const t=S4(e,100,Nf);return e.ease=t.ease,e.duration=qi(t.duration),e.type="keyframes",e};function ug({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=e[0],S={done:!1,value:E},I=w=>m!==void 0&&w<m||p!==void 0&&w>p,N=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let F=i*t;const U=E+F,B=c===void 0?U:c(U);B!==U&&(F=B-E);const Y=w=>-F*Math.exp(-w/r),q=w=>B+Y(w),rt=w=>{const R=Y(w),V=q(w);S.done=Math.abs(R)<=g,S.value=S.done?B:V};let at,ht;const C=w=>{I(S.value)&&(at=w,ht=Nf({keyframes:[S.value,N(S.value)],velocity:sw(q,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!ht&&at===void 0&&(R=!0,rt(w),C(w)),at!==void 0&&w>=at?ht.next(w-at):(!R&&rt(w),S)}}}function D4(e,t,i){const r=[],o=i||As.mix||nw,u=e.length-1;for(let c=0;c<u;c++){let m=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||$n:t;m=Qu(p,m)}r.push(m)}return r}function N4(e,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=e.length;if(Ay(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=D4(t,r,o),p=m.length,g=v=>{if(c&&v<e[0])return t[0];let E=0;if(p>1)for(;E<e.length-2&&!(v<e[E+1]);E++);const S=Du(e[E],e[E+1],v);return m[E](S)};return i?v=>g(bs(e[0],e[u-1],v)):g}function M4(e,t){const i=e[e.length-1];for(let r=1;r<=t;r++){const o=Du(0,t,r);e.push(ue(i,1,o))}}function O4(e){const t=[0];return M4(t,e.length-1),t}function V4(e,t){return e.map(i=>i*t)}function P4(e,t){return e.map(()=>t||K1).splice(0,e.length-1)}function pu({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=KP(r)?r.map(eS):eS(r),u={done:!1,value:t[0]},c=V4(i&&i.length===t.length?i:O4(t),e),m=N4(c,t,{ease:Array.isArray(o)?o:P4(t,o)});return{calculatedDuration:e,next:p=>(u.value=m(p),u.done=p>=e,u)}}const L4=e=>e!==null;function Py(e,{repeat:t,repeatType:i="loop"},r,o=1){const u=e.filter(L4),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const k4={decay:ug,inertia:ug,tween:pu,keyframes:pu,spring:Nf};function rw(e){typeof e.type=="string"&&(e.type=k4[e.type])}class Ly{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const U4=e=>e/100;class ky extends Ly{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;rw(t);const{type:i=pu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=i||pu;p!==pu&&typeof m[0]!="number"&&(this.mixKeyframes=Qu(U4,nw(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Vy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:I,type:N,onUpdate:F,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?B<0:B>o;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,rt=r;if(E){const w=Math.min(this.currentTime,o)/m;let R=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(S==="reverse"?(V=1-V,I&&(V-=I/m)):S==="mirror"&&(rt=c)),q=bs(0,1,V)*m}const at=Y?{done:!1,value:v[0]}:rt.next(q);u&&(at.value=u(at.value));let{done:ht}=at;!Y&&p!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return C&&N!==ug&&(at.value=Py(v,this.options,U,this.speed)),F&&F(at.value),C&&this.finish(),at}then(t,i){return this.finished.then(t,i)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(this.currentTime)}set time(t){t=qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=E4,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function j4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const la=e=>e*180/Math.PI,cg=e=>{const t=la(Math.atan2(e[1],e[0]));return hg(t)},z4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cg,rotateZ:cg,skewX:e=>la(Math.atan(e[1])),skewY:e=>la(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hg=e=>(e=e%360,e<0&&(e+=360),e),oS=cg,lS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),uS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),B4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lS,scaleY:uS,scale:e=>(lS(e)+uS(e))/2,rotateX:e=>hg(la(Math.atan2(e[6],e[5]))),rotateY:e=>hg(la(Math.atan2(-e[2],e[0]))),rotateZ:oS,rotate:oS,skewX:e=>la(Math.atan(e[4])),skewY:e=>la(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fg(e){return e.includes("scale")?1:0}function dg(e,t){if(!e||e==="none")return fg(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=B4,o=i;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=z4,o=m}if(!o)return fg(t);const u=r[t],c=o[1].split(",").map(H4);return typeof u=="function"?u(c):c[u]}const F4=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return dg(i,t)};function H4(e){return parseFloat(e.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Ko),cS=e=>e===Go||e===_t,q4=new Set(["x","y","z"]),G4=Ko.filter(e=>!q4.has(e));function K4(e){const t=[];return G4.forEach(i=>{const r=e.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ha={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dg(t,"x"),y:(e,{transform:t})=>dg(t,"y")};ha.translateX=ha.x;ha.translateY=ha.y;const fa=new Set;let mg=!1,pg=!1,gg=!1;function aw(){if(pg){const e=Array.from(fa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=K4(r);o.length&&(i.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pg=!1,mg=!1,fa.forEach(e=>e.complete(gg)),fa.clear()}function ow(){fa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pg=!0)})}function Y4(){gg=!0,ow(),aw(),gg=!1}class Uy{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),mg||(mg=!0,oe.read(ow),oe.resolveKeyframes(aw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}j4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fa.delete(this)}cancel(){this.state==="scheduled"&&(fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X4=e=>e.startsWith("--");function $4(e,t,i){X4(t)?e.style.setProperty(t,i):e.style[t]=i}const Q4=wy(()=>window.ScrollTimeline!==void 0),W4={};function Z4(e,t){const i=wy(e);return()=>W4[t]??i()}const lw=Z4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,hS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function uw(e,t){if(e)return typeof e=="function"?lw()?iw(e,t):"ease-out":Y1(e)?au(e):Array.isArray(e)?e.map(i=>uw(i,t)||hS.easeOut):hS[e]}function J4(e,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=uw(m,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(v,S)}function cw(e){return typeof e=="function"&&"applyToOptions"in e}function tL({type:e,...t}){return cw(e)&&lw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eL extends Ly{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Ay(typeof t.type!="string");const g=tL(t);this.animation=J4(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Py(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):$4(i,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Xn(t)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Q4()?(this.animation.timeline=t,$n):i(this)}}const hw={anticipate:H1,backInOut:F1,circInOut:G1};function nL(e){return e in hw}function iL(e){typeof e.ease=="string"&&nL(e.ease)&&(e.ease=hw[e.ease])}const fS=10;class sL extends eL{constructor(t){iL(t),rw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new ky({...c,autoplay:!1}),p=qi(this.finishedTime??this.time);i.setWithVelocity(m.sample(p-fS).value,m.sample(p).value,fS),m.stop()}}const dS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Er.test(e)||e==="0")&&!e.startsWith("url("));function rL(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function aL(e,t,i,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=dS(o,t),m=dS(u,t);return!c||!m?!1:rL(e)||(i==="spring"||cw(i))&&r}function yg(e){e.duration=0,e.type="keyframes"}const oL=new Set(["opacity","clipPath","filter","transform"]),lL=wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uL(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return lL()&&i&&oL.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const cL=40;class hL extends Ly{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},I=v?.KeyframeResolver||Uy;this.keyframeResolver=new I(m,(N,F,U)=>this.onKeyframesResolved(N,F,S,!U),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Tn.now(),aL(t,u,c,m)||((As.instantAnimations||!p)&&v?.(Py(t,r,i)),t[0]=t[t.length-1],yg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>cL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},I=!g&&uL(S)?new sL({...S,element:S.motionValue.owner.current}):new ky(S);I.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Y4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const fL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dL(e){const t=fL.exec(e);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function fw(e,t,i=1){const[r,o]=dL(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return V1(c)?parseFloat(c):c}return Dy(o)?fw(o,t,i+1):o}function jy(e,t){return e?.[t]??e?.default??e}const dw=new Set(["width","height","top","left","right","bottom",...Ko]),mL={test:e=>e==="auto",parse:e=>e},mw=e=>t=>t.test(e),pw=[Go,_t,Gi,lr,r4,s4,mL],mS=e=>pw.find(mw(e));function pL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||L1(e):!0}const gL=new Set(["brightness","contrast","saturate","opacity"]);function yL(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=i.match(Ny)||[];if(!r)return e;const o=i.replace(r,"");let u=gL.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const vL=/\b([a-z-]*)\(.*?\)/gu,vg={...Er,getAnimatableNone:e=>{const t=e.match(vL);return t?t.map(yL).join(" "):e}},pS={...Go,transform:Math.round},_L={rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:lr,skewX:lr,skewY:lr,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:Nu,originX:nS,originY:nS,originZ:_t},zy={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,backgroundPositionX:_t,backgroundPositionY:_t,..._L,zIndex:pS,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:pS},TL={...zy,color:De,backgroundColor:De,outlineColor:De,fill:De,stroke:De,borderColor:De,borderTopColor:De,borderRightColor:De,borderBottomColor:De,borderLeftColor:De,filter:vg,WebkitFilter:vg},gw=e=>TL[e];function yw(e,t){let i=gw(e);return i!==vg&&(i=Er),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const EL=new Set(["auto","none","0"]);function SL(e,t,i){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!EL.has(u)&&Mu(u).values.length&&(o=e[r]),r++}if(o&&i)for(const u of t)e[u]=yw(i,o)}class bL extends Uy{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Dy(g))){const v=fw(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!dw.has(r)||t.length!==2)return;const[o,u]=t,c=mS(o),m=mS(u);if(c!==m)if(cS(c)&&cS(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ha[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||pL(t[o]))&&r.push(o);r.length&&SL(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ha[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ha[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function AL(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=i?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const vw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function wL(e){return P1(e)&&"offsetHeight"in e}const gS=30,RL=e=>!isNaN(parseFloat(e));class CL{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Ry);const r=this.events[t].add(i);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gS)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,gS);return k1(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(e,t){return new CL(e,t)}const{schedule:By}=X1(queueMicrotask,!1),li={x:!1,y:!1};function _w(){return li.x||li.y}function xL(e){return e==="x"||e==="y"?li[e]?null:(li[e]=!0,()=>{li[e]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}function Tw(e,t){const i=AL(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function yS(e){return!(e.pointerType==="touch"||_w())}function IL(e,t,i={}){const[r,o,u]=Tw(e,i),c=m=>{if(!yS(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{yS(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Ew=(e,t)=>t?e===t?!0:Ew(e,t.parentElement):!1,Fy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,DL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NL(e){return DL.has(e.tagName)||e.tabIndex!==-1}const sf=new WeakSet;function vS(e){return t=>{t.key==="Enter"&&e(t)}}function Ep(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ML=(e,t)=>{const i=e.currentTarget;if(!i)return;const r=vS(()=>{if(sf.has(i))return;Ep(i,"down");const o=vS(()=>{Ep(i,"up")}),u=()=>Ep(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function _S(e){return Fy(e)&&!_w()}function OL(e,t,i={}){const[r,o,u]=Tw(e,i),c=m=>{const p=m.currentTarget;if(!_S(m))return;sf.add(p);const g=t(p,m),v=(I,N)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),sf.has(p)&&sf.delete(p),_S(I)&&typeof g=="function"&&g(I,{success:N})},E=I=>{v(I,p===window||p===document||i.useGlobalTarget||Ew(p,I.target))},S=I=>{v(I,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),wL(m)&&(m.addEventListener("focus",g=>ML(g,o)),!NL(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Sw(e){return P1(e)&&"ownerSVGElement"in e}function VL(e){return Sw(e)&&e.tagName==="svg"}const sn=e=>!!(e&&e.getVelocity),PL=[...pw,De,Er],LL=e=>PL.find(mw(e)),bw=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kL(e=!0){const t=O.useContext(Ey);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=O.useId();O.useEffect(()=>{if(e)return o(u)},[e]);const c=O.useCallback(()=>e&&r&&r(u),[u,r,e]);return!i&&r?[!1,c]:[!0]}const Aw=O.createContext({strict:!1}),TS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const e in TS)Lo[e]={isEnabled:t=>TS[e].some(i=>!!t[i])};function UL(e){for(const t in e)Lo[t]={...Lo[t],...e[t]}}const jL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jL.has(e)}let ww=e=>!Mf(e);function zL(e){typeof e=="function"&&(ww=t=>t.startsWith("on")?!Mf(t):e(t))}try{zL(require("@emotion/is-prop-valid").default)}catch{}function BL(e,t,i){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(ww(o)||i===!0&&Mf(o)||!t&&!Mf(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const $f=O.createContext({});function Qf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ou(e){return typeof e=="string"||Array.isArray(e)}const Hy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qy=["initial",...Hy];function Wf(e){return Qf(e.animate)||qy.some(t=>Ou(e[t]))}function Rw(e){return!!(Wf(e)||e.variants)}function FL(e,t){if(Wf(e)){const{initial:i,animate:r}=e;return{initial:i===!1||Ou(i)?i:void 0,animate:Ou(r)?r:void 0}}return e.inherit!==!1?t:{}}function HL(e){const{initial:t,animate:i}=FL(e,O.useContext($f));return O.useMemo(()=>({initial:t,animate:i}),[ES(t),ES(i)])}function ES(e){return Array.isArray(e)?e.join(" "):e}const Vu={};function qL(e){for(const t in e)Vu[t]=e[t],Iy(t)&&(Vu[t].isCSSVariable=!0)}function Cw(e,{layout:t,layoutId:i}){return Yo.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Vu[e]||e==="opacity")}const GL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KL=Ko.length;function YL(e,t,i){let r="",o=!0;for(let u=0;u<KL;u++){const c=Ko[u],m=e[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||i){const g=vw(m,zy[c]);if(!p){o=!1;const v=GL[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Gy(e,t,i){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,m=!1;for(const p in t){const g=t[p];if(Yo.has(p)){c=!0;continue}else if(Iy(p)){o[p]=g;continue}else{const v=vw(g,zy[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||i?r.transform=YL(t,e.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xw(e,t,i){for(const r in t)!sn(t[r])&&!Cw(r,i)&&(e[r]=t[r])}function XL({transformTemplate:e},t){return O.useMemo(()=>{const i=Ky();return Gy(i,t,e),Object.assign({},i.vars,i.style)},[t])}function $L(e,t){const i=e.style||{},r={};return xw(r,i,e),Object.assign(r,XL(e,t)),r}function QL(e,t){const i={},r=$L(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i}const WL={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZL={offset:"strokeDashoffset",array:"strokeDasharray"};function JL(e,t,i=1,r=0,o=!0){e.pathLength=1;const u=o?WL:ZL;e[u.offset]=_t.transform(-r);const c=_t.transform(t),m=_t.transform(i);e[u.array]=`${c} ${m}`}function Iw(e,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Gy(e,m,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:S}=e;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&JL(E,o,u,c,!1)}const Dw=()=>({...Ky(),attrs:{}}),Nw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tk(e,t,i,r){const o=O.useMemo(()=>{const u=Dw();return Iw(u,t,Nw(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};xw(u,e.style,e),o.style={...u,...o.style}}return o}const ek=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yy(e){return typeof e!="string"||e.includes("-")?!1:!!(ek.indexOf(e)>-1||/[A-Z]/u.test(e))}function nk(e,t,i,{latestValues:r},o,u=!1){const m=(Yy(e)?tk:QL)(t,r,o,e),p=BL(t,typeof e=="string",u),g=e!==O.Fragment?{...p,...m,ref:i}:{},{children:v}=t,E=O.useMemo(()=>sn(v)?v.get():v,[v]);return O.createElement(e,{...g,children:E})}function SS(e){const t=[{},{}];return e?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Xy(e,t,i,r){if(typeof t=="function"){const[o,u]=SS(r);t=t(i!==void 0?i:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=SS(r);t=t(i!==void 0?i:e.custom,o,u)}return t}function rf(e){return sn(e)?e.get():e}function ik({scrapeMotionValuesFromProps:e,createRenderState:t},i,r,o){return{latestValues:sk(i,r,o,e),renderState:t()}}function sk(e,t,i,r){const o={},u=r(e,{});for(const S in u)o[S]=rf(u[S]);let{initial:c,animate:m}=e;const p=Wf(e),g=Rw(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!Qf(E)){const S=Array.isArray(E)?E:[E];for(let I=0;I<S.length;I++){const N=Xy(e,S[I]);if(N){const{transitionEnd:F,transition:U,...B}=N;for(const Y in B){let q=B[Y];if(Array.isArray(q)){const rt=v?q.length-1:0;q=q[rt]}q!==null&&(o[Y]=q)}for(const Y in F)o[Y]=F[Y]}}}return o}const Mw=e=>(t,i)=>{const r=O.useContext($f),o=O.useContext(Ey),u=()=>ik(e,t,r,o);return i?u():UP(u)};function $y(e,t,i){const{style:r}=e,o={};for(const u in r)(sn(r[u])||t.style&&sn(t.style[u])||Cw(u,e)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const rk=Mw({scrapeMotionValuesFromProps:$y,createRenderState:Ky});function Ow(e,t,i){const r=$y(e,t,i);for(const o in e)if(sn(e[o])||sn(t[o])){const u=Ko.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const ak=Mw({scrapeMotionValuesFromProps:Ow,createRenderState:Dw}),ok=Symbol.for("motionComponentSymbol");function _o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lk(e,t,i){return O.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):_o(i)&&(i.current=r))},[t])}const Qy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uk="framerAppearId",Vw="data-"+Qy(uk),Pw=O.createContext({});function ck(e,t,i,r,o){const{visualElement:u}=O.useContext($f),c=O.useContext(Aw),m=O.useContext(Ey),p=O.useContext(bw).reducedMotion,g=O.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=O.useContext(Pw);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&hk(g.current,i,o,E);const S=O.useRef(!1);O.useInsertionEffect(()=>{v&&S.current&&v.update(i,m)});const I=i[Vw],N=O.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return jP(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),O.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),N.current=!1),v.enteringChildren=void 0)}),v}function hk(e,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:Lw(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&_o(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function Lw(e){if(e)return e.options.allowProjection!==!1?e.projection:Lw(e.parent)}function Sp(e,{forwardMotionProps:t=!1}={},i,r){i&&UL(i);const o=Yy(e)?ak:rk;function u(m,p){let g;const v={...O.useContext(bw),...m,layoutId:fk(m)},{isStatic:E}=v,S=HL(m),I=o(m,E);if(!E&&Ty){dk();const N=mk(v);g=N.MeasureLayout,S.visualElement=ck(e,I,v,r,N.ProjectionNode)}return P.jsxs($f.Provider,{value:S,children:[g&&S.visualElement?P.jsx(g,{visualElement:S.visualElement,...v}):null,nk(e,m,lk(I,S.visualElement,p),I,E,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(u);return c[ok]=e,c}function fk({layoutId:e}){const t=O.useContext(O1).id;return t&&e!==void 0?t+"-"+e:e}function dk(e,t){O.useContext(Aw).strict}function mk(e){const{drag:t,layout:i}=Lo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pk(e,t){if(typeof Proxy>"u")return Sp;const i=new Map,r=(u,c)=>Sp(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Sp(c,void 0,e,t)),i.get(c))})}function kw({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function gk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yk(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function bp(e){return e===void 0||e===1}function _g({scale:e,scaleX:t,scaleY:i}){return!bp(e)||!bp(t)||!bp(i)}function ra(e){return _g(e)||Uw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Uw(e){return bS(e.x)||bS(e.y)}function bS(e){return e&&e!=="0%"}function Of(e,t,i){const r=e-i,o=t*r;return i+o}function AS(e,t,i,r,o){return o!==void 0&&(e=Of(e,o,r)),Of(e,i,r)+t}function Tg(e,t=0,i=1,r,o){e.min=AS(e.min,t,i,r,o),e.max=AS(e.max,t,i,r,o)}function jw(e,{x:t,y:i}){Tg(e.x,t.translate,t.scale,t.originPoint),Tg(e.y,i.translate,i.scale,i.originPoint)}const wS=.999999999999,RS=1.0000000000001;function vk(e,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=i[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Eo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,jw(e,c)),r&&ra(u.latestValues)&&Eo(e,u.latestValues))}t.x<RS&&t.x>wS&&(t.x=1),t.y<RS&&t.y>wS&&(t.y=1)}function To(e,t){e.min=e.min+t,e.max=e.max+t}function CS(e,t,i,r,o=.5){const u=ue(e.min,e.max,o);Tg(e,t,i,u,r)}function Eo(e,t){CS(e.x,t.x,t.scaleX,t.scale,t.originX),CS(e.y,t.y,t.scaleY,t.scale,t.originY)}function zw(e,t){return kw(yk(e.getBoundingClientRect(),t))}function _k(e,t,i){const r=zw(e,i),{scroll:o}=t;return o&&(To(r.x,o.offset.x),To(r.y,o.offset.y)),r}const xS=()=>({translate:0,scale:1,origin:0,originPoint:0}),So=()=>({x:xS(),y:xS()}),IS=()=>({min:0,max:0}),ve=()=>({x:IS(),y:IS()}),Vf={current:null},Wy={current:!1};function Bw(){if(Wy.current=!0,!!Ty)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vf.current=e.matches;e.addEventListener("change",t),t()}else Vf.current=!1}const Tk=new WeakMap;function Ek(e,t,i){for(const r in t){const o=t[r],u=i[r];if(sn(o))e.addValue(r,o);else if(sn(u))e.addValue(r,Po(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,Po(c!==void 0?c:o,{owner:e}))}}for(const r in i)t[r]===void 0&&e.removeValue(r);return t}const DS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sk{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,oe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Wf(i),this.isVariantNode=Rw(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in E){const I=E[S];p[S]!==void 0&&sn(I)&&I.set(p[S])}}mount(t){this.current=t,Tk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),Wy.current||Bw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Tr(this.notifyUpdate),Tr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Yo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lo){const i=Lo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<DS.length;r++){const o=DS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Ek(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Po(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(V1(r)||L1(r))?r=parseFloat(r):!LL(r)&&Er.test(i)&&(r=yw(t,i)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Xy(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!sn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Ry),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){By.render(this.render)}}class Fw extends Sk{constructor(){super(...arguments),this.KeyframeResolver=bL}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function Hw(e,{style:t,vars:i},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function bk(e){return window.getComputedStyle(e)}class Ak extends Fw{constructor(){super(...arguments),this.type="html",this.renderInstance=Hw}readValueFromInstance(t,i){if(Yo.has(i))return this.projection?.isProjecting?fg(i):F4(t,i);{const r=bk(t),o=(Iy(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return zw(t,i)}build(t,i,r){Gy(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return $y(t,i,r)}}const qw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wk(e,t,i,r){Hw(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(qw.has(o)?o:Qy(o),t.attrs[o])}class Rk extends Fw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Yo.has(i)){const r=gw(i);return r&&r.default||0}return i=qw.has(i)?i:Qy(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return Ow(t,i,r)}build(t,i,r){Iw(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){wk(t,i,r,o)}mount(t){this.isSVGTag=Nw(t.tagName),super.mount(t)}}const Ck=(e,t)=>Yy(e)?new Rk(t):new Ak(t,{allowProjection:e!==O.Fragment});function xo(e,t,i){const r=e.getProps();return Xy(r,t,i!==void 0?i:r.custom,e)}const Eg=e=>Array.isArray(e);function xk(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Po(i))}function Ik(e){return Eg(e)?e[e.length-1]||0:e}function Dk(e,t){const i=xo(e,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const m=Ik(u[c]);xk(e,c,m)}}function Nk(e){return!!(sn(e)&&e.add)}function Sg(e,t){const i=e.getValue("willChange");if(Nk(i))return i.add(t);if(!i&&As.WillChange){const r=new As.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Gw(e){return e.props[Vw]}const Mk=e=>e!==null;function Ok(e,{repeat:t,repeatType:i="loop"},r){const o=e.filter(Mk),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Vk={type:"spring",stiffness:500,damping:25,restSpeed:10},Pk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lk={type:"keyframes",duration:.8},kk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uk=(e,{keyframes:t})=>t.length>2?Lk:Yo.has(e)?e.startsWith("scale")?Pk(t[1]):Vk:kk;function jk({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Zy=(e,t,i,r={},o,u)=>c=>{const m=jy(r,e)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-qi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};jk(m)||Object.assign(v,Uk(e,v)),v.duration&&(v.duration=qi(v.duration)),v.repeatDelay&&(v.repeatDelay=qi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(yg(v),v.delay===0&&(E=!0)),(As.instantAnimations||As.skipAnimations)&&(E=!0,yg(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=Ok(v.keyframes,m);if(S!==void 0){oe.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new ky(v):new hL(v)};function zk({protectedKeys:e,needsAnimating:t},i){const r=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function Kw(e,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const v in m){const E=e.getValue(v,e.latestValues[v]??null),S=m[v];if(S===void 0||g&&zk(g,v))continue;const I={delay:i,...jy(u||{},v)},N=E.get();if(N!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===N&&!I.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const B=Gw(e);if(B){const Y=window.MotionHandoffAnimation(B,v,oe);Y!==null&&(I.startTime=Y,F=!0)}}Sg(e,v),E.start(Zy(v,E,S,e.shouldReduceMotion&&dw.has(v)?{type:!1}:I,e,F));const U=E.animation;U&&p.push(U)}return c&&Promise.all(p).then(()=>{oe.update(()=>{c&&Dk(e,c)})}),p}function Yw(e,t,i,r=0,o=1){const u=Array.from(e).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=e.size,m=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:m-u*r}function bg(e,t,i={}){const r=xo(e,t,i.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(Kw(e,r,i)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return Bk(e,t,p,g,v,E,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function Bk(e,t,i=0,r=0,o=0,u=1,c){const m=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),m.push(bg(p,t,{...c,delay:i+(typeof r=="function"?0:r)+Yw(e.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function Fk(e,t,i={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>bg(e,u,i));r=Promise.all(o)}else if(typeof t=="string")r=bg(e,t,i);else{const o=typeof t=="function"?xo(e,t,i.custom):t;r=Promise.all(Kw(e,o,i))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Xw(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}const Hk=qy.length;function $w(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?$w(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<Hk;i++){const r=qy[i],o=e.props[r];(Ou(o)||o===!1)&&(t[r]=o)}return t}const qk=[...Hy].reverse(),Gk=Hy.length;function Kk(e){return t=>Promise.all(t.map(({animation:i,options:r})=>Fk(e,i,r)))}function Yk(e){let t=Kk(e),i=NS(),r=!0;const o=p=>(g,v)=>{const E=xo(e,v,p==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:I,...N}=E;g={...g,...N,...I}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,v=$w(e.parent)||{},E=[],S=new Set;let I={},N=1/0;for(let U=0;U<Gk;U++){const B=qk[U],Y=i[B],q=g[B]!==void 0?g[B]:v[B],rt=Ou(q),at=B===p?Y.isActive:null;at===!1&&(N=U);let ht=q===v[B]&&q!==g[B]&&rt;if(ht&&r&&e.manuallyAnimateOnMount&&(ht=!1),Y.protectedKeys={...I},!Y.isActive&&at===null||!q&&!Y.prevProp||Qf(q)||typeof q=="boolean")continue;const C=Xk(Y.prevProp,q);let w=C||B===p&&Y.isActive&&!ht&&rt||U>N&&rt,R=!1;const V=Array.isArray(q)?q:[q];let M=V.reduce(o(B),{});at===!1&&(M={});const{prevResolvedValues:j={}}=Y,x={...j,...M},It=it=>{w=!0,S.has(it)&&(R=!0,S.delete(it)),Y.needsAnimating[it]=!0;const ut=e.getValue(it);ut&&(ut.liveStyle=!1)};for(const it in x){const ut=M[it],At=j[it];if(I.hasOwnProperty(it))continue;let Mt=!1;Eg(ut)&&Eg(At)?Mt=!Xw(ut,At):Mt=ut!==At,Mt?ut!=null?It(it):S.add(it):ut!==void 0&&S.has(it)?It(it):Y.protectedKeys[it]=!0}Y.prevProp=q,Y.prevResolvedValues=M,Y.isActive&&(I={...I,...M}),r&&e.blockInitialAnimation&&(w=!1);const Wt=ht&&C;w&&(!Wt||R)&&E.push(...V.map(it=>{const ut={type:B};if(typeof it=="string"&&r&&!Wt&&e.manuallyAnimateOnMount&&e.parent){const{parent:At}=e,Mt=xo(At,it);if(At.enteringChildren&&Mt){const{delayChildren:k}=Mt.transition||{};ut.delay=Yw(At.enteringChildren,e,k)}}return{animation:it,options:ut}}))}if(S.size){const U={};if(typeof g.initial!="boolean"){const B=xo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(U.transition=B.transition)}S.forEach(B=>{const Y=e.getBaseTarget(B),q=e.getValue(B);q&&(q.liveStyle=!0),U[B]=Y??null}),E.push({animation:U})}let F=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(F=!1),r=!1,F?t(E):Promise.resolve()}function m(p,g){if(i[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),i[p].isActive=g;const v=c(p);for(const E in i)i[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=NS()}}}function Xk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xw(t,e):!1}function ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NS(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $k extends wr{constructor(t){super(t),t.animationState||(t.animationState=Yk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Qk=0;class Wk extends wr{constructor(){super(...arguments),this.id=Qk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Zk={animation:{Feature:$k},exit:{Feature:Wk}};function Pu(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function Ju(e){return{point:{x:e.pageX,y:e.pageY}}}const Jk=e=>t=>Fy(t)&&e(t,Ju(t));function gu(e,t,i,r){return Pu(e,t,Jk(i),r)}const Qw=1e-4,t3=1-Qw,e3=1+Qw,Ww=.01,n3=0-Ww,i3=0+Ww;function cn(e){return e.max-e.min}function s3(e,t,i){return Math.abs(e-t)<=i}function MS(e,t,i,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=cn(i)/cn(t),e.translate=ue(i.min,i.max,e.origin)-e.originPoint,(e.scale>=t3&&e.scale<=e3||isNaN(e.scale))&&(e.scale=1),(e.translate>=n3&&e.translate<=i3||isNaN(e.translate))&&(e.translate=0)}function yu(e,t,i,r){MS(e.x,t.x,i.x,r?r.originX:void 0),MS(e.y,t.y,i.y,r?r.originY:void 0)}function OS(e,t,i){e.min=i.min+t.min,e.max=e.min+cn(t)}function r3(e,t,i){OS(e.x,t.x,i.x),OS(e.y,t.y,i.y)}function VS(e,t,i){e.min=t.min-i.min,e.max=e.min+cn(t)}function vu(e,t,i){VS(e.x,t.x,i.x),VS(e.y,t.y,i.y)}function Kn(e){return[e("x"),e("y")]}const Zw=({current:e})=>e?e.ownerDocument.defaultView:null,PS=(e,t)=>Math.abs(e-t);function a3(e,t){const i=PS(e.x,t.x),r=PS(e.y,t.y);return Math.sqrt(i**2+r**2)}class Jw{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=wp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,N=a3(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!N)return;const{point:F}=S,{timestamp:U}=Ye;this.history.push({...F,timestamp:U});const{onStart:B,onMove:Y}=this.handlers;I||(B&&B(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,S)},this.handlePointerMove=(S,I)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ap(I,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(S,I)=>{this.end();const{onEnd:N,onSessionEnd:F,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=wp(S.type==="pointercancel"?this.lastMoveEventInfo:Ap(I,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,B),F&&F(S,B)},!Fy(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=Ju(t),p=Ap(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Ye;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=i;E&&E(t,wp(p,this.history)),this.removeListeners=Qu(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Tr(this.updatePoint)}}function Ap(e,t){return t?{point:t(e.point)}:e}function LS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wp({point:e},t){return{point:e,delta:LS(e,tR(t)),offset:LS(e,o3(t)),velocity:l3(t,.1)}}function o3(e){return e[0]}function tR(e){return e[e.length-1]}function l3(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null;const o=tR(e);for(;i>=0&&(r=e[i],!(o.timestamp-r.timestamp>qi(t)));)i--;if(!r)return{x:0,y:0};const u=Xn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function u3(e,{min:t,max:i},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):i!==void 0&&e>i&&(e=r?ue(i,e,r.max):Math.min(e,i)),e}function kS(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function c3(e,{top:t,left:i,bottom:r,right:o}){return{x:kS(e.x,i,o),y:kS(e.y,t,r)}}function US(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function h3(e,t){return{x:US(e.x,t.x),y:US(e.y,t.y)}}function f3(e,t){let i=.5;const r=cn(e),o=cn(t);return o>r?i=Du(t.min,t.max-r,e.min):r>o&&(i=Du(e.min,e.max-o,t.min)),bs(0,1,i)}function d3(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Ag=.35;function m3(e=Ag){return e===!1?e=0:e===!0&&(e=Ag),{x:jS(e,"left","right"),y:jS(e,"top","bottom")}}function jS(e,t,i){return{min:zS(e,t),max:zS(e,i)}}function zS(e,t){return typeof e=="number"?e:e[t]||0}const p3=new WeakMap;class g3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ju(E).point)},c=(E,S)=>{const{drag:I,dragPropagation:N,onDragStart:F}=this.getProps();if(I&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xL(I),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(B=>{let Y=this.getAxisMotionValue(B).get()||0;if(Gi.test(Y)){const{projection:q}=this.visualElement;if(q&&q.layout){const rt=q.layout.layoutBox[B];rt&&(Y=cn(rt)*(parseFloat(Y)/100))}}this.originPoint[B]=Y}),F&&oe.postRender(()=>F(E,S)),Sg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:I,dragDirectionLock:N,onDirectionLock:F,onDrag:U}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:B}=S;if(N&&this.currentDirection===null){this.currentDirection=y3(B),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",S.point,B),this.updateAxis("y",S.point,B),this.visualElement.render(),U&&U(E,S)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Kn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Jw(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:Zw(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&oe.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Hh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=u3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&_o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=c3(r.layoutBox,t):this.constraints=!1,this.elastic=m3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=d3(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!_o(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=_k(r,o.root,this.visualElement.getTransformPagePoint());let c=h3(o.layout.layoutBox,u);if(i){const m=i(gk(c));this.hasMutatedConstraints=!!m,m&&(c=kw(m))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Kn(v=>{if(!Hh(v,i,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const S=o?200:1e6,I=o?40:1e7,N={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Sg(this.visualElement,t),r.start(Zy(t,r,0,i,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(i=>{const{drag:r}=this.getProps();if(!Hh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[i];u.set(t[i]-ue(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!_o(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=f3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Hh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ue(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;p3.set(this.visualElement,this);const t=this.visualElement.current,i=gu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();_o(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),oe.read(r);const c=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Kn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Ag,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Hh(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function y3(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class v3 extends wr{constructor(t){super(t),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new g3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const BS=e=>(t,i)=>{e&&oe.postRender(()=>e(t,i))};class _3 extends wr{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(t){this.session=new Jw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:BS(t),onStart:BS(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&oe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_t.test(e))e=parseFloat(e);else return e;const i=FS(e,t.target.x),r=FS(e,t.target.y);return`${i}% ${r}%`}},T3={correct:(e,{treeScale:t,projectionDelta:i})=>{const r=e,o=Er.parse(e);if(o.length>5)return r;const u=Er.createTransformer(e),c=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ue(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let Rp=!1;class E3 extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;qL(S3),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Rp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Rp=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||oe.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),By.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;Rp=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eR(e){const[t,i]=kL(),r=O.useContext(O1);return P.jsx(E3,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(Pw),isPresent:t,safeToRemove:i})}const S3={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:T3};function b3(e,t,i){const r=sn(e)?e:Po(e);return r.start(Zy("",r,t,i)),r.animation}const A3=(e,t)=>e.depth-t.depth;class w3{constructor(){this.children=[],this.isDirty=!1}add(t){Sy(this.children,t),this.isDirty=!0}remove(t){by(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(A3),this.isDirty=!1,this.children.forEach(t)}}function R3(e,t){const i=Tn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Tr(r),e(u-t))};return oe.setup(r,!0),()=>Tr(r)}const nR=["TopLeft","TopRight","BottomLeft","BottomRight"],C3=nR.length,HS=e=>typeof e=="string"?parseFloat(e):e,qS=e=>typeof e=="number"||_t.test(e);function x3(e,t,i,r,o,u){o?(e.opacity=ue(0,i.opacity??1,I3(r)),e.opacityExit=ue(t.opacity??1,0,D3(r))):u&&(e.opacity=ue(t.opacity??1,i.opacity??1,r));for(let c=0;c<C3;c++){const m=`border${nR[c]}Radius`;let p=GS(t,m),g=GS(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||qS(p)===qS(g)?(e[m]=Math.max(ue(HS(p),HS(g),r),0),(Gi.test(g)||Gi.test(p))&&(e[m]+="%")):e[m]=g}(t.rotate||i.rotate)&&(e.rotate=ue(t.rotate||0,i.rotate||0,r))}function GS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const I3=iR(0,.5,q1),D3=iR(.5,.95,$n);function iR(e,t,i){return r=>r<e?0:r>t?1:i(Du(e,t,r))}function KS(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){KS(e.x,t.x),KS(e.y,t.y)}function YS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function XS(e,t,i,r,o){return e-=t,e=Of(e,1/i,r),o!==void 0&&(e=Of(e,1/o,r)),e}function N3(e,t=0,i=1,r=.5,o,u=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ue(u.min,u.max,r);e===u&&(m-=t),e.min=XS(e.min,t,i,m,o),e.max=XS(e.max,t,i,m,o)}function $S(e,t,[i,r,o],u,c){N3(e,t[i],t[r],t[o],t.scale,u,c)}const M3=["x","scaleX","originX"],O3=["y","scaleY","originY"];function QS(e,t,i,r){$S(e.x,t,M3,i?i.x:void 0,r?r.x:void 0),$S(e.y,t,O3,i?i.y:void 0,r?r.y:void 0)}function WS(e){return e.translate===0&&e.scale===1}function sR(e){return WS(e.x)&&WS(e.y)}function ZS(e,t){return e.min===t.min&&e.max===t.max}function V3(e,t){return ZS(e.x,t.x)&&ZS(e.y,t.y)}function JS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rR(e,t){return JS(e.x,t.x)&&JS(e.y,t.y)}function tb(e){return cn(e.x)/cn(e.y)}function eb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class P3{constructor(){this.members=[]}add(t){Sy(this.members,t),t.scheduleRender()}remove(t){if(by(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L3(e,t,i){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:I,skewY:N}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),I&&(r+=`skewX(${I}deg) `),N&&(r+=`skewY(${N}deg) `)}const m=e.x.scale*t.x,p=e.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Cp=["","X","Y","Z"],k3=1e3;let U3=0;function xp(e,t,i,r){const{latestValues:o}=t;o[e]&&(i[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function aR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=Gw(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",oe,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&aR(r)}function oR({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=U3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B3),this.nodes.forEach(G3),this.nodes.forEach(K3),this.nodes.forEach(F3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new w3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ry),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Sw(c)&&!VL(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),e){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{E=window.innerWidth}),e(c,()=>{const I=window.innerWidth;I!==E&&(E=I,this.root.updateBlockedByResize=!0,v&&v(),v=R3(S,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(sb)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||W3,{onLayoutAnimationStart:F,onLayoutAnimationComplete:U}=g.getProps(),B=!this.targetLayout||!rR(this.targetLayout,I),Y=!E&&S;if(this.options.layoutRoot||this.resumeFrom||Y||E&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...jy(N,"layout"),onPlay:F,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,Y)}else E||sb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ib);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q3),this.nodes.forEach(j3),this.nodes.forEach(z3)):this.nodes.forEach(ib),this.clearAllSnapshots();const m=Tn.now();Ye.delta=bs(0,1e3/60,m-Ye.timestamp),Ye.timestamp=m,Ye.isProcessing=!0,gp.update.process(Ye),gp.preRender.process(Ye),gp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,By.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(H3),this.sharedNodes.forEach(X3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!sR(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ra(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),Z3(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(J3))){const{scroll:g}=this.root;g&&(To(m.x,g.offset.x),To(m.y,g.offset.y))}return m}removeElementScroll(c){const m=ve();if(Gn(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Gn(m,c),To(m.x,v.offset.x),To(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=ve();Gn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Eo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ra(v.latestValues)&&Eo(p,v.latestValues)}return ra(this.latestValues)&&Eo(p,this.latestValues),p}removeTransform(c){const m=ve();Gn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ra(g.latestValues))continue;_g(g.latestValues)&&g.updateSnapshot();const v=ve(),E=g.measurePageBox();Gn(v,E),QS(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ra(this.latestValues)&&QS(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),vu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),jw(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),vu(this.relativeTargetOrigin,this.target,S.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_g(this.parent.latestValues)||Uw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Gn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;vk(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YS(this.prevProjectionDelta.x,this.projectionDelta.x),YS(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!eb(this.projectionDelta.x,this.prevProjectionDelta.x)||!eb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=So(),this.projectionDelta=So(),this.projectionDeltaWithTransform=So()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=So();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=ve(),I=p?p.source:void 0,N=this.layout?this.layout.source:void 0,F=I!==N,U=this.getStack(),B=!U||U.members.length<=1,Y=!!(F&&!B&&this.options.crossfade===!0&&!this.path.some(Q3));this.animationProgress=0;let q;this.mixTargetDelta=rt=>{const at=rt/1e3;rb(E.x,c.x,at),rb(E.y,c.y,at),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$3(this.relativeTarget,this.relativeTargetOrigin,S,at),q&&V3(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ve()),Gn(q,this.relativeTarget)),F&&(this.animationValues=v,x3(v,g,this.latestValues,at,Y,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=b3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&lR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ve();const E=cn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=cn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}Gn(m,p),Eo(m,v),yu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new P3),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&xp("z",c,g,this.animationValues);for(let v=0;v<Cp.length;v++)xp(`rotate${Cp[v]}`,c,g,this.animationValues),xp(`skew${Cp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=rf(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=rf(m?.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=L3(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:S,y:I}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in Vu){if(v[N]===void 0)continue;const{correct:F,applyTo:U,isCSSVariable:B}=Vu[N],Y=E==="none"?v[N]:F(v[N],g);if(U){const q=U.length;for(let rt=0;rt<q;rt++)c[U[rt]]=Y}else B?this.options.visualElement.renderState.vars[N]=Y:c[N]=Y}this.options.layoutId&&(c.pointerEvents=g===this?rf(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(nb),this.root.sharedNodes.clear()}}}function j3(e){e.updateLayout()}function z3(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Kn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=cn(E);E.min=i[v].min,E.max=E.min+S}):lR(o,t.layoutBox,i)&&Kn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=cn(i[v]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const c=So();yu(c,i,t.layoutBox);const m=So();u?yu(m,e.applyTransform(r,!0),t.measuredBox):yu(m,i,t.layoutBox);const p=!sR(c);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:S}=v;if(E&&S){const I=ve();vu(I,t.layoutBox,E.layoutBox);const N=ve();vu(N,i,S.layoutBox),rR(I,N)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=I,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function B3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function F3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function H3(e){e.clearSnapshot()}function nb(e){e.clearMeasurements()}function ib(e){e.isLayoutDirty=!1}function q3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function G3(e){e.resolveTargetDelta()}function K3(e){e.calcProjection()}function Y3(e){e.resetSkewAndRotation()}function X3(e){e.removeLeadSnapshot()}function rb(e,t,i){e.translate=ue(t.translate,0,i),e.scale=ue(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function ab(e,t,i,r){e.min=ue(t.min,i.min,r),e.max=ue(t.max,i.max,r)}function $3(e,t,i,r){ab(e.x,t.x,i.x,r),ab(e.y,t.y,i.y,r)}function Q3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const W3={duration:.45,ease:[.4,0,.1,1]},ob=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lb=ob("applewebkit/")&&!ob("chrome/")?Math.round:$n;function ub(e){e.min=lb(e.min),e.max=lb(e.max)}function Z3(e){ub(e.x),ub(e.y)}function lR(e,t,i){return e==="position"||e==="preserve-aspect"&&!s3(tb(t),tb(i),.2)}function J3(e){return e!==e.root&&e.scroll?.wasRoot}const t6=oR({attachResizeListener:(e,t)=>Pu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},uR=oR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ip.current){const e=new t6({});e.mount(window),e.setOptions({layoutScroll:!0}),Ip.current=e}return Ip.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),e6={pan:{Feature:_3},drag:{Feature:v3,ProjectionNode:uR,MeasureLayout:eR}};function cb(e,t,i){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&oe.postRender(()=>u(t,Ju(t)))}class n6 extends wr{mount(){const{current:t}=this.node;t&&(this.unmount=IL(t,(i,r)=>(cb(this.node,r,"Start"),o=>cb(this.node,o,"End"))))}unmount(){}}class i6 extends wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hb(e,t,i){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&oe.postRender(()=>u(t,Ju(t)))}class s6 extends wr{mount(){const{current:t}=this.node;t&&(this.unmount=OL(t,(i,r)=>(hb(this.node,r,"Start"),(o,{success:u})=>hb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wg=new WeakMap,Dp=new WeakMap,r6=e=>{const t=wg.get(e.target);t&&t(e)},a6=e=>{e.forEach(r6)};function o6({root:e,...t}){const i=e||document;Dp.has(i)||Dp.set(i,{});const r=Dp.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(a6,{root:e,...t})),r[o]}function l6(e,t,i){const r=o6(t);return wg.set(e,i),r.observe(e),()=>{wg.delete(e),r.unobserve(e)}}const u6={some:0,all:1};class c6 extends wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:u6[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return l6(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(h6(t,i))&&this.startObserver()}unmount(){}}function h6({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const f6={inView:{Feature:c6},tap:{Feature:s6},focus:{Feature:i6},hover:{Feature:n6}},d6={layout:{ProjectionNode:uR,MeasureLayout:eR}},m6={...Zk,...f6,...e6,...d6},Rg=pk(m6,Ck);function p6(){!Wy.current&&Bw();const[e]=O.useState(Vf.current);return e}function qh({delay:e=0,dark:t=!1}){const r=p6()?{}:{y:[0,-18,0],scale:[1,1.06,1],rotate:[0,-2,0],boxShadow:["0 8px 20px rgba(0,0,0,0.08)","0 16px 28px rgba(0,0,0,0.12)","0 8px 20px rgba(0,0,0,0.08)"]};return P.jsx(Rg.div,{className:`h-10 w-10 rounded-xl ${t?"bg-white":"bg-gray-900"}`,style:{background:t?"linear-gradient(135deg, #fff 0%, #d4d4d4 100%)":"linear-gradient(135deg, #111827 0%, #1f2937 100%)"},initial:{y:0,scale:1,rotate:0},animate:r,transition:{duration:.9,repeat:1/0,ease:"easeInOut",delay:e}})}function g6({label:e="Wird geladen",theme:t="light"}){const i=t==="dark";return P.jsxs("div",{className:`fixed inset-0 z-[9999] grid place-items-center overflow-hidden ${i?"bg-black":"bg-white"}`,children:[P.jsxs("div",{className:"relative flex flex-col items-center gap-6 px-6",children:[P.jsxs("div",{className:"flex items-end gap-3",children:[P.jsx(qh,{delay:0,dark:i}),P.jsx(qh,{delay:.12,dark:i}),P.jsx(qh,{delay:.24,dark:i}),P.jsx(qh,{delay:.36,dark:i})]}),P.jsx(Rg.div,{className:`h-1 w-28 rounded-full ${i?"bg-white/30":"bg-gray-900/20"}`,initial:{scaleX:.7,opacity:.8},animate:{scaleX:[.7,1,.7],opacity:[.8,1,.8]},transition:{duration:.9,repeat:1/0,ease:"easeInOut"}}),P.jsx(Rg.p,{className:`text-center text-sm tracking-wide ${i?"text-white/80":"text-gray-700"}`,initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:e})]}),P.jsx("div",{className:`pointer-events-none absolute inset-0 ${i?"bg-[radial-gradient(transparent,rgba(0,0,0,0.5))]":"bg-[radial-gradient(transparent,rgba(0,0,0,0.05))]"}`})]})}function y6({children:e}){const{user:t,loading:i}=M1();return i?P.jsx(g6,{label:"Profil wird geladen"}):t?e:P.jsx(Tu,{to:"/login",replace:!0})}function v6({children:e}){const{user:t,role:i}=M1();return t?i!=="admin"?P.jsx(Tu,{to:"/",replace:!0}):e:P.jsx(Tu,{to:"/",replace:!0})}function _6(){return P.jsx("h1",{className:"text-3xl font-bold",children:" User: Dashboard"})}function T6(){return P.jsx("h1",{className:"text-3xl font-bold",children:" Admin: Dashboard"})}function fb(e){if(e===""||e===null||e===void 0)return!1;const t=typeof e=="string"?Number(e):e;return typeof t=="number"&&Number.isFinite(t)}function E6(e){if(!e||typeof e!="object")return;const t=fb(e.from),i=fb(e.to);if(!(!t&&!i))return!t&&i?{from:0,to:Number(e.to)}:t&&!i?{from:Number(e.from)}:{from:Number(e.from),to:Number(e.to)}}function Cg(e){if(e===null)return null;if(Array.isArray(e))return e.map(Cg).filter(t=>t!==void 0);if(typeof e=="object"){const t={};for(const[i,r]of Object.entries(e)){if(r===void 0)continue;if(i.endsWith("Range")){const u=E6(r);u!==void 0&&(t[i]=u);continue}const o=Cg(r);o!==void 0&&(t[i]=o)}return Object.keys(t).length===0?void 0:t}return typeof e=="number"?Number.isFinite(e)?e:void 0:e}async function S6(e){const t=hn(),i=Cg(t),r=ig(rg,"users",e,"searchFilters","default");await sg(r,{filters:i,version:1,updatedAt:Cf()},{merge:!0});const o=ig(rg,"users",e);await sg(o,{lastSearch:i,lastSearchUpdatedAt:Cf()},{merge:!0})}function b6(){const e=ws(),[t,i]=O.useState(""),[r,o]=O.useState(""),[u,c]=O.useState(""),[m,p]=O.useState(""),[g,v]=O.useState(!1),[E,S]=O.useState(!1),[I,N]=O.useState(!1),[F,U]=O.useState(""),B=!I&&g&&t.trim()&&r.trim()&&u.trim()&&m.trim();async function Y(q){if(q.preventDefault(),!!B){N(!0),U("");try{const{user:rt}=await uN(xf,u,m),at=ig(rg,"users",rt.uid);await sg(at,{firstName:t.trim(),lastName:r.trim(),email:u.trim().toLowerCase(),marketingOptIn:E,acceptedTermsAt:Cf(),createdAt:Cf()},{merge:!0}),await S6(rt.uid),e("/dashboard")}catch(rt){U(rt.message||"Fehler bei der Registrierung")}finally{N(!1)}}}return P.jsxs("div",{className:"max-w-md mx-auto rounded-2xl border p-6",children:[P.jsx("h1",{className:"text-xl font-semibold mb-4 text-center",children:"Registrieren"}),P.jsxs("form",{onSubmit:Y,className:"space-y-3",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{type:"text",className:"w-1/2 rounded-lg border px-3 py-2",placeholder:"Vorname",value:t,onChange:q=>i(q.target.value),required:!0}),P.jsx("input",{type:"text",className:"w-1/2 rounded-lg border px-3 py-2",placeholder:"Nachname",value:r,onChange:q=>o(q.target.value),required:!0})]}),P.jsx("input",{type:"email",className:"w-full rounded-lg border px-3 py-2",placeholder:"E-Mail",value:u,onChange:q=>c(q.target.value),required:!0}),P.jsx("input",{type:"password",className:"w-full rounded-lg border px-3 py-2",placeholder:"Passwort",value:m,onChange:q=>p(q.target.value),required:!0}),P.jsxs("label",{className:"flex items-start gap-3 text-sm",children:[P.jsx("input",{type:"checkbox",className:"mt-1",checked:g,onChange:q=>v(q.target.checked),required:!0}),P.jsxs("span",{children:["Ich akzeptiere die"," ",P.jsx(mi,{to:"/terms",className:"underline",target:"_blank",rel:"noreferrer",children:"AGB"})," ","und die"," ",P.jsx(mi,{to:"/privacy",className:"underline",target:"_blank",rel:"noreferrer",children:"Datenschutzerklrung"}),"."]})]}),P.jsxs("label",{className:"flex items-start gap-3 text-sm",children:[P.jsx("input",{type:"checkbox",className:"mt-1",checked:E,onChange:q=>S(q.target.checked)}),P.jsx("span",{children:"Ich mchte hilfreiche Updates & Angebote per E-Mail erhalten (optional)."})]}),F&&P.jsx("p",{className:"text-sm text-red-600",children:F}),P.jsx("button",{type:"submit",disabled:!B,className:"w-full px-4 py-3 rounded-xl bg-blue-900 text-white disabled:opacity-60",children:I?"Speichere":"Konto erstellen & Filter sichern"})]})]})}function A6(){return P.jsxs(Hx,{children:[P.jsxs(Ke,{element:P.jsx(S2,{}),children:[P.jsx(Ke,{index:!0,element:P.jsx(x2,{})}),P.jsx(Ke,{path:"/login",element:P.jsx(vP,{})}),P.jsxs(Ke,{path:"/register",children:[P.jsx(Ke,{index:!0,element:P.jsx(Tu,{to:"/register/step1",replace:!0})}),P.jsx(Ke,{path:"step1",element:P.jsx(xb,{})}),P.jsx(Ke,{path:"step2",element:P.jsx(EP,{})}),P.jsx(Ke,{path:"step3",element:P.jsx(RP,{})}),P.jsx(Ke,{path:"/register/step4",element:P.jsx(IP,{})}),P.jsx(Ke,{path:"/register/step5",element:P.jsx(LP,{})}),P.jsx(Ke,{path:"/register/finish",element:P.jsx(b6,{})})]})]}),P.jsx(Ke,{element:P.jsx(y6,{children:P.jsx(b2,{})}),children:P.jsx(Ke,{path:"/dashboard",element:P.jsx(_6,{})})}),P.jsx(Ke,{element:P.jsx(v6,{children:P.jsx(A2,{})}),children:P.jsx(Ke,{path:"/admin",element:P.jsx(T6,{})})}),P.jsx(Ke,{path:"*",element:P.jsx(Tu,{to:"/",replace:!0})})]})}WC.createRoot(document.getElementById("root")).render(P.jsx(HC.StrictMode,{children:P.jsx(kP,{children:P.jsx(f2,{children:P.jsx(A6,{})})})}));
